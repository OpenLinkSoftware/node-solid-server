(function t(n,a){'object'==typeof exports&&'object'==typeof module?module.exports=a(require('window'),require('fetch'),require('crypto'),require('TextEncoder')):'function'==typeof define&&define.amd?define(['window','fetch','crypto','TextEncoder'],a):'object'==typeof exports?exports.Mashlib=a(require('window'),require('fetch'),require('crypto'),require('TextEncoder')):n.Mashlib=a(n.window,n.fetch,n.crypto,n.TextEncoder)})(this,function(__WEBPACK_EXTERNAL_MODULE_41__,__WEBPACK_EXTERNAL_MODULE_44__,__WEBPACK_EXTERNAL_MODULE_85__,__WEBPACK_EXTERNAL_MODULE_404__){var _MathLN=Math.LN2,_Mathlog=Math.log,_Mathabs=Math.abs,_Mathround=Math.round,_Mathsin=Math.sin,_Mathcos=Math.cos,_MathPI=Math.PI,_Mathimul=Math.imul,_Mathclz=Math.clz32,_Mathmax=Math.max,_Mathceil=Math.ceil,_Mathfloor=Math.floor,_Mathpow=Math.pow,_StringfromCharCode=String.fromCharCode,_Mathmin=Math.min;return function(t){function n(r){if(a[r])return a[r].exports;var o=a[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var a={};return n.m=t,n.c=a,n.d=function(t,a,r){n.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var a=t&&t.__esModule?function n(){return t['default']}:function n(){return t};return n.d(a,'a',a),a},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p='/dist/',n(n.s=224)}([function(t,n,a){'use strict';(function(t){function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&'function'==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,n){if(o()<n)throw new RangeError('Invalid typed array length');return d.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n),t.__proto__=d.prototype):(null===t&&(t=new d(n)),t.length=n),t}function d(t,n,a){if(!d.TYPED_ARRAY_SUPPORT&&!(this instanceof d))return new d(t,n,a);if('number'==typeof t){if('string'==typeof n)throw new Error('If encoding is specified then the first argument must be a string');return f(this,t)}return l(this,t,n,a)}function l(t,n,a,r){if('number'==typeof n)throw new TypeError('"value" argument must not be a number');return'undefined'!=typeof ArrayBuffer&&n instanceof ArrayBuffer?g(t,n,a,r):'string'==typeof n?m(t,n,a):b(t,n)}function c(t){if('number'!=typeof t)throw new TypeError('"size" argument must be a number');else if(0>t)throw new RangeError('"size" argument must not be negative')}function u(t,n,a,r){return c(n),0>=n?s(t,n):void 0===a?s(t,n):'string'==typeof r?s(t,n).fill(a,r):s(t,n).fill(a)}function f(t,n){if(c(n),t=s(t,0>n?0:0|y(n)),!d.TYPED_ARRAY_SUPPORT)for(var a=0;a<n;++a)t[a]=0;return t}function m(t,n,a){if(('string'!=typeof a||''===a)&&(a='utf8'),!d.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(n,a);t=s(t,r);var o=t.write(n,a);return o!==r&&(t=t.slice(0,o)),t}function h(t,n){var a=0>n.length?0:0|y(n.length);t=s(t,a);for(var r=0;r<a;r+=1)t[r]=255&n[r];return t}function g(t,n,a,r){if(n.byteLength,0>a||n.byteLength<a)throw new RangeError('\'offset\' is out of bounds');if(n.byteLength<a+(r||0))throw new RangeError('\'length\' is out of bounds');return n=void 0===a&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,a):new Uint8Array(n,a,r),d.TYPED_ARRAY_SUPPORT?(t=n,t.__proto__=d.prototype):t=h(t,n),t}function b(t,n){if(d.isBuffer(n)){var a=0|y(n.length);return(t=s(t,a),0===t.length)?t:(n.copy(t,0,0,a),t)}if(n){if('undefined'!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||'length'in n)return'number'!=typeof n.length||ee(n.length)?s(t,0):h(t,n);if('Buffer'===n.type&&ae(n.data))return h(t,n.data)}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function y(t){if(t>=o())throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x'+o().toString(16)+' bytes');return 0|t}function v(t){return+t!=t&&(t=0),d.alloc(+t)}function w(t,n){if(d.isBuffer(t))return t.length;if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;'string'!=typeof t&&(t=''+t);var a=t.length;if(0===a)return 0;for(var r=!1;;)switch(n){case'ascii':case'latin1':case'binary':return a;case'utf8':case'utf-8':case void 0:return K(t).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*a;case'hex':return a>>>1;case'base64':return Y(t).length;default:if(r)return K(t).length;n=(''+n).toLowerCase(),r=!0;}}function x(t,n,a){var r=!1;if((void 0===n||0>n)&&(n=0),n>this.length)return'';if((void 0===a||a>this.length)&&(a=this.length),0>=a)return'';if(a>>>=0,n>>>=0,a<=n)return'';for(t||(t='utf8');!0;)switch(t){case'hex':return M(this,n,a);case'utf8':case'utf-8':return R(this,n,a);case'ascii':return O(this,n,a);case'latin1':case'binary':return P(this,n,a);case'base64':return j(this,n,a);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return D(this,n,a);default:if(r)throw new TypeError('Unknown encoding: '+t);t=(t+'').toLowerCase(),r=!0;}}function _(t,a,n){var r=t[a];t[a]=t[n],t[n]=r}function k(t,n,a,r,o){if(0===t.length)return-1;if('string'==typeof a?(r=a,a=0):2147483647<a?a=2147483647:-2147483648>a&&(a=-2147483648),a=+a,isNaN(a)&&(a=o?0:t.length-1),0>a&&(a=t.length+a),a>=t.length){if(o)return-1;a=t.length-1}else if(0>a)if(o)a=0;else return-1;if('string'==typeof n&&(n=d.from(n,r)),d.isBuffer(n))return 0===n.length?-1:C(t,n,a,r,o);if('number'==typeof n)return n&=255,d.TYPED_ARRAY_SUPPORT&&'function'==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,n,a):Uint8Array.prototype.lastIndexOf.call(t,n,a):C(t,[n],a,r,o);throw new TypeError('val must be string, number or Buffer')}function C(t,n,a,r,o){function s(t,n){return 1==d?t[n]:t.readUInt16BE(n*d)}var d=1,l=t.length,c=n.length;if(void 0!==r&&(r=(r+'').toLowerCase(),'ucs2'===r||'ucs-2'===r||'utf16le'===r||'utf-16le'===r)){if(2>t.length||2>n.length)return-1;d=2,l/=2,c/=2,a/=2}var u;if(o){var f=-1;for(u=a;u<l;u++)if(s(t,u)!==s(n,-1==f?0:u-f))-1!=f&&(u-=u-f),f=-1;else if(-1==f&&(f=u),u-f+1===c)return f*d}else for(a+c>l&&(a=l-c),u=a;0<=u;u--){for(var m=!0,h=0;h<c;h++)if(s(t,u+h)!==s(n,h)){m=!1;break}if(m)return u}return-1}function T(t,n,a,r){a=+a||0;var o=t.length-a;r?(r=+r,r>o&&(r=o)):r=o;var s=n.length;if(0!=s%2)throw new TypeError('Invalid hex string');r>s/2&&(r=s/2);for(var d=0,l;d<r;++d){if(l=parseInt(n.substr(2*d,2),16),isNaN(l))return d;t[a+d]=l}return d}function E(t,n,a,r){return Q(K(n,t.length-a),t,a,r)}function S(t,n,a,r){return Q(X(n),t,a,r)}function A(t,n,a,r){return S(t,n,a,r)}function I(t,n,a,r){return Q(Y(n),t,a,r)}function N(t,n,a,r){return Q(Z(n,t.length-a),t,a,r)}function j(t,n,a){return 0===n&&a===t.length?te.fromByteArray(t):te.fromByteArray(t.slice(n,a))}function R(t,n,a){a=_Mathmin(t.length,a);for(var r=[],o=n;o<a;){var s=t[o],d=null,l=239<s?4:223<s?3:191<s?2:1;if(o+l<=a){var c,u,f,m;1==l?128>s&&(d=s):2==l?(c=t[o+1],128==(192&c)&&(m=(31&s)<<6|63&c,127<m&&(d=m))):3==l?(c=t[o+1],u=t[o+2],128==(192&c)&&128==(192&u)&&(m=(15&s)<<12|(63&c)<<6|63&u,2047<m&&(55296>m||57343<m)&&(d=m))):4==l?(c=t[o+1],u=t[o+2],f=t[o+3],128==(192&c)&&128==(192&u)&&128==(192&f)&&(m=(15&s)<<18|(63&c)<<12|(63&u)<<6|63&f,65535<m&&1114112>m&&(d=m))):void 0}null===d?(d=65533,l=1):65535<d&&(d-=65536,r.push(55296|1023&d>>>10),d=56320|1023&d),r.push(d),o+=l}return L(r)}function L(t){var n=t.length;if(n<=re)return _StringfromCharCode.apply(String,t);for(var a='',r=0;r<n;)a+=_StringfromCharCode.apply(String,t.slice(r,r+=re));return a}function O(t,n,a){var r='';a=_Mathmin(t.length,a);for(var o=n;o<a;++o)r+=_StringfromCharCode(127&t[o]);return r}function P(t,n,a){var r='';a=_Mathmin(t.length,a);for(var o=n;o<a;++o)r+=_StringfromCharCode(t[o]);return r}function M(t,n,a){var r=t.length;(!n||0>n)&&(n=0),(!a||0>a||a>r)&&(a=r);for(var o='',s=n;s<a;++s)o+=J(t[s]);return o}function D(t,n,a){for(var r=t.slice(n,a),o='',s=0;s<r.length;s+=2)o+=_StringfromCharCode(r[s]+256*r[s+1]);return o}function B(t,n,a){if(0!=t%1||0>t)throw new RangeError('offset is not uint');if(t+n>a)throw new RangeError('Trying to access beyond buffer length')}function U(t,n,a,r,o,s){if(!d.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<s)throw new RangeError('"value" argument is out of bounds');if(a+r>t.length)throw new RangeError('Index out of range')}function q(t,n,a,r){0>n&&(n=65535+n+1);for(var o=0,s=_Mathmin(t.length-a,2);o<s;++o)t[a+o]=(n&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function F(t,n,a,r){0>n&&(n=4294967295+n+1);for(var o=0,s=_Mathmin(t.length-a,4);o<s;++o)t[a+o]=255&n>>>8*(r?o:3-o)}function z(t,n,a,r,o,s){if(a+r>t.length)throw new RangeError('Index out of range');if(0>a)throw new RangeError('Index out of range')}function H(t,n,a,r,o){return o||z(t,n,a,4,3.4028234663852886e38,-3.4028234663852886e38),ne.write(t,n,a,r,23,4),a+4}function W(t,n,a,r,o){return o||z(t,n,a,8,1.7976931348623157e308,-1.7976931348623157e308),ne.write(t,n,a,r,52,8),a+8}function V(t){if(t=G(t).replace(ie,''),2>t.length)return'';for(;0!=t.length%4;)t+='=';return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,'')}function J(t){return 16>t?'0'+t.toString(16):t.toString(16)}function K(t,n){n=n||Infinity;for(var a=t.length,r=null,o=[],s=0,d;s<a;++s){if(d=t.charCodeAt(s),55295<d&&57344>d){if(!r){if(56319<d){-1<(n-=3)&&o.push(239,191,189);continue}else if(s+1===a){-1<(n-=3)&&o.push(239,191,189);continue}r=d;continue}if(56320>d){-1<(n-=3)&&o.push(239,191,189),r=d;continue}d=(r-55296<<10|d-56320)+65536}else r&&-1<(n-=3)&&o.push(239,191,189);if(r=null,128>d){if(0>(n-=1))break;o.push(d)}else if(2048>d){if(0>(n-=2))break;o.push(192|d>>6,128|63&d)}else if(65536>d){if(0>(n-=3))break;o.push(224|d>>12,128|63&d>>6,128|63&d)}else if(1114112>d){if(0>(n-=4))break;o.push(240|d>>18,128|63&d>>12,128|63&d>>6,128|63&d)}else throw new Error('Invalid code point')}return o}function X(t){for(var n=[],a=0;a<t.length;++a)n.push(255&t.charCodeAt(a));return n}function Z(t,n){for(var a=[],r=0,o,s,d;r<t.length&&!(0>(n-=2));++r)o=t.charCodeAt(r),s=o>>8,d=o%256,a.push(d),a.push(s);return a}function Y(t){return te.toByteArray(V(t))}function Q(t,n,a,r){for(var o=0;o<r&&!(o+a>=n.length||o>=t.length);++o)n[o+a]=t[o];return o}function ee(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var te=a(231),ne=a(232),ae=a(140);n.Buffer=d,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=t.TYPED_ARRAY_SUPPORT===void 0?r():t.TYPED_ARRAY_SUPPORT,n.kMaxLength=o(),d.poolSize=8192,d._augment=function(t){return t.__proto__=d.prototype,t},d.from=function(t,n,a){return l(null,t,n,a)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(t,n,a){return u(null,t,n,a)},d.allocUnsafe=function(t){return f(null,t)},d.allocUnsafeSlow=function(t){return f(null,t)},d.isBuffer=function t(n){return!!(null!=n&&n._isBuffer)},d.compare=function t(n,a){if(!d.isBuffer(n)||!d.isBuffer(a))throw new TypeError('Arguments must be Buffers');if(n===a)return 0;for(var r=n.length,o=a.length,s=0,l=_Mathmin(r,o);s<l;++s)if(n[s]!==a[s]){r=n[s],o=a[s];break}return r<o?-1:o<r?1:0},d.isEncoding=function t(n){switch((n+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1;}},d.concat=function t(n,a){if(!ae(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return d.alloc(0);var r;if(a===void 0)for(a=0,r=0;r<n.length;++r)a+=n[r].length;var o=d.allocUnsafe(a),s=0;for(r=0;r<n.length;++r){var l=n[r];if(!d.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(o,s),s+=l.length}return o},d.byteLength=w,d.prototype._isBuffer=!0,d.prototype.swap16=function t(){var n=this.length;if(0!=n%2)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var a=0;a<n;a+=2)_(this,a,a+1);return this},d.prototype.swap32=function t(){var n=this.length;if(0!=n%4)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var a=0;a<n;a+=4)_(this,a,a+3),_(this,a+1,a+2);return this},d.prototype.swap64=function t(){var n=this.length;if(0!=n%8)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var a=0;a<n;a+=8)_(this,a,a+7),_(this,a+1,a+6),_(this,a+2,a+5),_(this,a+3,a+4);return this},d.prototype.toString=function t(){var n=0|this.length;return 0==n?'':0===arguments.length?R(this,0,n):x.apply(this,arguments)},d.prototype.equals=function t(n){if(!d.isBuffer(n))throw new TypeError('Argument must be a Buffer');return this===n||0===d.compare(this,n)},d.prototype.inspect=function t(){var a='',r=n.INSPECT_MAX_BYTES;return 0<this.length&&(a=this.toString('hex',0,r).match(/.{2}/g).join(' '),this.length>r&&(a+=' ... ')),'<Buffer '+a+'>'},d.prototype.compare=function t(n,a,r,o,s){if(!d.isBuffer(n))throw new TypeError('Argument must be a Buffer');if(void 0===a&&(a=0),void 0===r&&(r=n?n.length:0),void 0===o&&(o=0),void 0===s&&(s=this.length),0>a||r>n.length||0>o||s>this.length)throw new RangeError('out of range index');if(o>=s&&a>=r)return 0;if(o>=s)return-1;if(a>=r)return 1;if(a>>>=0,r>>>=0,o>>>=0,s>>>=0,this===n)return 0;for(var l=s-o,c=r-a,u=_Mathmin(l,c),f=this.slice(o,s),m=n.slice(a,r),h=0;h<u;++h)if(f[h]!==m[h]){l=f[h],c=m[h];break}return l<c?-1:c<l?1:0},d.prototype.includes=function t(n,a,r){return-1!==this.indexOf(n,a,r)},d.prototype.indexOf=function t(n,a,r){return k(this,n,a,r,!0)},d.prototype.lastIndexOf=function t(n,a,r){return k(this,n,a,r,!1)},d.prototype.write=function t(n,a,r,o){if(void 0===a)o='utf8',r=this.length,a=0;else if(void 0===r&&'string'==typeof a)o=a,r=this.length,a=0;else if(isFinite(a))a|=0,isFinite(r)?(r|=0,void 0===o&&(o='utf8')):(o=r,r=void 0);else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');var s=this.length-a;if((void 0===r||r>s)&&(r=s),0<n.length&&(0>r||0>a)||a>this.length)throw new RangeError('Attempt to write outside buffer bounds');o||(o='utf8');for(var d=!1;;)switch(o){case'hex':return T(this,n,a,r);case'utf8':case'utf-8':return E(this,n,a,r);case'ascii':return S(this,n,a,r);case'latin1':case'binary':return A(this,n,a,r);case'base64':return I(this,n,a,r);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return N(this,n,a,r);default:if(d)throw new TypeError('Unknown encoding: '+o);o=(''+o).toLowerCase(),d=!0;}},d.prototype.toJSON=function t(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var re=4096;d.prototype.slice=function t(n,a){var r=this.length;n=~~n,a=a===void 0?r:~~a,0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),0>a?(a+=r,0>a&&(a=0)):a>r&&(a=r),a<n&&(a=n);var o;if(d.TYPED_ARRAY_SUPPORT)o=this.subarray(n,a),o.__proto__=d.prototype;else{var s=a-n;o=new d(s,void 0);for(var l=0;l<s;++l)o[l]=this[l+n]}return o},d.prototype.readUIntLE=function t(n,a,r){n|=0,a|=0,r||B(n,a,this.length);for(var o=this[n],s=1,d=0;++d<a&&(s*=256);)o+=this[n+d]*s;return o},d.prototype.readUIntBE=function t(n,a,r){n|=0,a|=0,r||B(n,a,this.length);for(var o=this[n+--a],s=1;0<a&&(s*=256);)o+=this[n+--a]*s;return o},d.prototype.readUInt8=function t(n,a){return a||B(n,1,this.length),this[n]},d.prototype.readUInt16LE=function t(n,a){return a||B(n,2,this.length),this[n]|this[n+1]<<8},d.prototype.readUInt16BE=function t(n,a){return a||B(n,2,this.length),this[n]<<8|this[n+1]},d.prototype.readUInt32LE=function t(n,a){return a||B(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},d.prototype.readUInt32BE=function t(n,a){return a||B(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},d.prototype.readIntLE=function t(n,a,r){n|=0,a|=0,r||B(n,a,this.length);for(var o=this[n],s=1,d=0;++d<a&&(s*=256);)o+=this[n+d]*s;return s*=128,o>=s&&(o-=_Mathpow(2,8*a)),o},d.prototype.readIntBE=function t(n,a,r){n|=0,a|=0,r||B(n,a,this.length);for(var o=a,s=1,d=this[n+--o];0<o&&(s*=256);)d+=this[n+--o]*s;return s*=128,d>=s&&(d-=_Mathpow(2,8*a)),d},d.prototype.readInt8=function t(n,a){return a||B(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},d.prototype.readInt16LE=function t(n,a){a||B(n,2,this.length);var r=this[n]|this[n+1]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt16BE=function t(n,a){a||B(n,2,this.length);var r=this[n+1]|this[n]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt32LE=function t(n,a){return a||B(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},d.prototype.readInt32BE=function t(n,a){return a||B(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},d.prototype.readFloatLE=function t(n,a){return a||B(n,4,this.length),ne.read(this,n,!0,23,4)},d.prototype.readFloatBE=function t(n,a){return a||B(n,4,this.length),ne.read(this,n,!1,23,4)},d.prototype.readDoubleLE=function t(n,a){return a||B(n,8,this.length),ne.read(this,n,!0,52,8)},d.prototype.readDoubleBE=function t(n,a){return a||B(n,8,this.length),ne.read(this,n,!1,52,8)},d.prototype.writeUIntLE=function t(n,a,r,o){if(n=+n,a|=0,r|=0,!o){var s=_Mathpow(2,8*r)-1;U(this,n,a,r,s,0)}var d=1,l=0;for(this[a]=255&n;++l<r&&(d*=256);)this[a+l]=255&n/d;return a+r},d.prototype.writeUIntBE=function t(n,a,r,o){if(n=+n,a|=0,r|=0,!o){var s=_Mathpow(2,8*r)-1;U(this,n,a,r,s,0)}var d=r-1,l=1;for(this[a+d]=255&n;0<=--d&&(l*=256);)this[a+d]=255&n/l;return a+r},d.prototype.writeUInt8=function t(n,a,r){return n=+n,a|=0,r||U(this,n,a,1,255,0),d.TYPED_ARRAY_SUPPORT||(n=_Mathfloor(n)),this[a]=255&n,a+1},d.prototype.writeUInt16LE=function t(n,a,r){return n=+n,a|=0,r||U(this,n,a,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[a]=255&n,this[a+1]=n>>>8):q(this,n,a,!0),a+2},d.prototype.writeUInt16BE=function t(n,a,r){return n=+n,a|=0,r||U(this,n,a,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[a]=n>>>8,this[a+1]=255&n):q(this,n,a,!1),a+2},d.prototype.writeUInt32LE=function t(n,a,r){return n=+n,a|=0,r||U(this,n,a,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[a+3]=n>>>24,this[a+2]=n>>>16,this[a+1]=n>>>8,this[a]=255&n):F(this,n,a,!0),a+4},d.prototype.writeUInt32BE=function t(n,a,r){return n=+n,a|=0,r||U(this,n,a,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[a]=n>>>24,this[a+1]=n>>>16,this[a+2]=n>>>8,this[a+3]=255&n):F(this,n,a,!1),a+4},d.prototype.writeIntLE=function t(n,a,r,o){if(n=+n,a|=0,!o){var s=_Mathpow(2,8*r-1);U(this,n,a,r,s-1,-s)}var d=0,l=1,c=0;for(this[a]=255&n;++d<r&&(l*=256);)0>n&&0==c&&0!==this[a+d-1]&&(c=1),this[a+d]=255&(n/l>>0)-c;return a+r},d.prototype.writeIntBE=function t(n,a,r,o){if(n=+n,a|=0,!o){var s=_Mathpow(2,8*r-1);U(this,n,a,r,s-1,-s)}var d=r-1,l=1,c=0;for(this[a+d]=255&n;0<=--d&&(l*=256);)0>n&&0==c&&0!==this[a+d+1]&&(c=1),this[a+d]=255&(n/l>>0)-c;return a+r},d.prototype.writeInt8=function t(n,a,r){return n=+n,a|=0,r||U(this,n,a,1,127,-128),d.TYPED_ARRAY_SUPPORT||(n=_Mathfloor(n)),0>n&&(n=255+n+1),this[a]=255&n,a+1},d.prototype.writeInt16LE=function t(n,a,r){return n=+n,a|=0,r||U(this,n,a,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[a]=255&n,this[a+1]=n>>>8):q(this,n,a,!0),a+2},d.prototype.writeInt16BE=function t(n,a,r){return n=+n,a|=0,r||U(this,n,a,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[a]=n>>>8,this[a+1]=255&n):q(this,n,a,!1),a+2},d.prototype.writeInt32LE=function t(n,a,r){return n=+n,a|=0,r||U(this,n,a,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[a]=255&n,this[a+1]=n>>>8,this[a+2]=n>>>16,this[a+3]=n>>>24):F(this,n,a,!0),a+4},d.prototype.writeInt32BE=function t(n,a,r){return n=+n,a|=0,r||U(this,n,a,4,2147483647,-2147483648),0>n&&(n=4294967295+n+1),d.TYPED_ARRAY_SUPPORT?(this[a]=n>>>24,this[a+1]=n>>>16,this[a+2]=n>>>8,this[a+3]=255&n):F(this,n,a,!1),a+4},d.prototype.writeFloatLE=function t(n,a,r){return H(this,n,a,!0,r)},d.prototype.writeFloatBE=function t(n,a,r){return H(this,n,a,!1,r)},d.prototype.writeDoubleLE=function t(n,a,r){return W(this,n,a,!0,r)},d.prototype.writeDoubleBE=function t(n,a,r){return W(this,n,a,!1,r)},d.prototype.copy=function t(n,a,r,o){if(r||(r=0),o||0===o||(o=this.length),a>=n.length&&(a=n.length),a||(a=0),0<o&&o<r&&(o=r),o===r)return 0;if(0===n.length||0===this.length)return 0;if(0>a)throw new RangeError('targetStart out of bounds');if(0>r||r>=this.length)throw new RangeError('sourceStart out of bounds');if(0>o)throw new RangeError('sourceEnd out of bounds');o>this.length&&(o=this.length),n.length-a<o-r&&(o=n.length-a+r);var s=o-r,l;if(this===n&&r<a&&a<o)for(l=s-1;0<=l;--l)n[l+a]=this[l+r];else if(1e3>s||!d.TYPED_ARRAY_SUPPORT)for(l=0;l<s;++l)n[l+a]=this[l+r];else Uint8Array.prototype.set.call(n,this.subarray(r,r+s),a);return s},d.prototype.fill=function t(n,a,r,o){if('string'==typeof n){if('string'==typeof a?(o=a,a=0,r=this.length):'string'==typeof r&&(o=r,r=this.length),1===n.length){var s=n.charCodeAt(0);256>s&&(n=s)}if(void 0!==o&&'string'!=typeof o)throw new TypeError('encoding must be a string');if('string'==typeof o&&!d.isEncoding(o))throw new TypeError('Unknown encoding: '+o)}else'number'==typeof n&&(n&=255);if(0>a||this.length<a||this.length<r)throw new RangeError('Out of range index');if(r<=a)return this;a>>>=0,r=r===void 0?this.length:r>>>0,n||(n=0);var l;if('number'==typeof n)for(l=a;l<r;++l)this[l]=n;else{var c=d.isBuffer(n)?n:K(new d(n,o).toString()),u=c.length;for(l=0;l<r-a;++l)this[l+a]=c[l%u]}return this};var ie=/[^+\/0-9A-Za-z-_]/g}).call(n,a(4))},function(t,n,a){'use strict';var r=a(18),o=a(7),s={ns:o,rdf:r,acl:a(148),aclControl:a(339),authn:a(179),create:a(423),icons:a(20),log:a(19),matrix:a(424),messageArea:a(425),pad:a(426),store:a(14),table:a(427),tabs:a(428),utils:a(23),widgets:a(21)};t.exports=s},function(t,n){t.exports='function'==typeof Object.create?function t(n,a){n.super_=a,n.prototype=Object.create(a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function t(n,a){n.super_=a;var r=function(){};r.prototype=a.prototype,n.prototype=new r,n.prototype.constructor=n}},function(t,n,a){function r(t,n){for(var a in t)n[a]=t[a]}function o(t,n,a){return d(t,n,a)}var s=a(0),d=s.Buffer;d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?t.exports=s:(r(s,n),n.Buffer=o),r(d,o),o.from=function(t,n,a){if('number'==typeof t)throw new TypeError('Argument must not be a number');return d(t,n,a)},o.alloc=function(t,n,a){if('number'!=typeof t)throw new TypeError('Argument must be a number');var r=d(t);return void 0===n?r.fill(0):'string'==typeof a?r.fill(n,a):r.fill(n),r},o.allocUnsafe=function(t){if('number'!=typeof t)throw new TypeError('Argument must be a number');return d(t)},o.allocUnsafeSlow=function(t){if('number'!=typeof t)throw new TypeError('Argument must be a number');return s.SlowBuffer(t)}},function(t,n){var a;a=function(){return this}();try{a=a||Function('return this')()||(1,eval)('this')}catch(t){'object'==typeof window&&(a=window)}t.exports=a},function(t,n,a){'use strict';var r=n;r.version=a(292).version,r.utils=a(293),r.rand=a(164),r.curve=a(73),r.curves=a(299),r.ec=a(307),r.eddsa=a(311)},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(39),c=a(12),u=function(t){function n(t){r(this,n);var a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));if(a.termType=n.termType,t&&t.termType===n.termType&&(t=t.value),!t)throw new Error('Missing IRI for NamedNode');if(!t.includes(':'))throw new Error('NamedNode IRI "'+t+'" must be absolute.');if(t.includes(' ')){var s='Error: NamedNode IRI "'+t+'" must not contain unencoded spaces.';throw new Error(s)}return a.value=t,a}return s(n,t),d(n,[{key:'dir',value:function t(){var a=this.uri.split('#')[0],r=a.slice(0,-1).lastIndexOf('/'),o=a.indexOf('//');return 0<=o&&r<o+2||0>r?null:new n(a.slice(0,r+1))}},{key:'site',value:function t(){var a=this.uri.split('#')[0],r=a.indexOf('//');if(0>r)throw new Error('This URI does not have a web site part (origin)');var o=a.indexOf('/',r+2);if(0>o)throw new Error('This URI does not have a web site part. (origin)');return new n(a.slice(0,o+1))}},{key:'doc',value:function t(){return 0>this.uri.indexOf('#')?this:new n(this.uri.split('#')[0])}},{key:'toString',value:function t(){return'<'+this.uri+'>'}},{key:'uri',get:function t(){return this.value},set:function t(n){this.value=n}}],[{key:'fromValue',value:function t(a){if('undefined'==typeof a||null===a)return a;var r=a&&a.termType;return r?a:new n(a)}}]),n}(c);u.termType='NamedNode',u.prototype.classOrder=l.NamedNode,u.prototype.isVar=0,t.exports=u},function(t,n,a){'use strict';var r={};t.exports=r;var o=a(18);r.expand=function(t){var n=t.split(':');if(0===n.length)throw new Error('Prefixed name has no colon: '+t);if(!(n[0]in r))throw new Error('Unregistered namespace prefix in: '+t);return r[n[0]](n[1])},r.auth=o.Namespace('http://www.w3.org/ns/auth/acl#'),r.acl=o.Namespace('http://www.w3.org/ns/auth/acl#'),r.arg=o.Namespace('http://www.w3.org/ns/pim/arg#'),r.cal=o.Namespace('http://www.w3.org/2002/12/cal/ical#'),r.contact=o.Namespace('http://www.w3.org/2000/10/swap/pim/contact#'),r.dc=o.Namespace('http://purl.org/dc/elements/1.1/'),r.dct=o.Namespace('http://purl.org/dc/terms/'),r.doap=o.Namespace('http://usefulinc.com/ns/doap#'),r.foaf=o.Namespace('http://xmlns.com/foaf/0.1/'),r.http=o.Namespace('http://www.w3.org/2007/ont/http#'),r.httph=o.Namespace('http://www.w3.org/2007/ont/httph#'),r.ical=o.Namespace('http://www.w3.org/2002/12/cal/icaltzd#'),r.ldp=o.Namespace('http://www.w3.org/ns/ldp#'),r.link=r.tab=r.tabont=o.Namespace('http://www.w3.org/2007/ont/link#'),r.log=o.Namespace('http://www.w3.org/2000/10/swap/log#'),r.meeting=o.Namespace('http://www.w3.org/ns/pim/meeting#'),r.mo=o.Namespace('http://purl.org/ontology/mo/'),r.owl=o.Namespace('http://www.w3.org/2002/07/owl#'),r.pad=o.Namespace('http://www.w3.org/ns/pim/pad#'),r.patch=o.Namespace('http://www.w3.org/ns/pim/patch#'),r.qu=o.Namespace('http://www.w3.org/2000/10/swap/pim/qif#'),r.trip=o.Namespace('http://www.w3.org/ns/pim/trip#'),r.rdf=o.Namespace('http://www.w3.org/1999/02/22-rdf-syntax-ns#'),r.rdfs=o.Namespace('http://www.w3.org/2000/01/rdf-schema#'),r.rss=o.Namespace('http://purl.org/rss/1.0/'),r.sched=o.Namespace('http://www.w3.org/ns/pim/schedule#'),r.schema=o.Namespace('http:/schema.org/'),r.sioc=o.Namespace('http://rdfs.org/sioc/ns#'),r.solid=o.Namespace('http://www.w3.org/ns/solid/terms#'),r.space=o.Namespace('http://www.w3.org/ns/pim/space#'),r.stat=o.Namespace('http://www.w3.org/ns/posix/stat#'),r.ui=o.Namespace('http://www.w3.org/ns/ui#'),r.vcard=o.Namespace('http://www.w3.org/2006/vcard/ns#'),r.wf=o.Namespace('http://www.w3.org/2005/01/wf/flow#'),r.xsd=o.Namespace('http://www.w3.org/2001/XMLSchema#')},function(t,n){var a=t.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=a)},function(t,n,a){var r=a(116)('wks'),o=a(79),s=a(8).Symbol,d='function'==typeof s,l=t.exports=function(t){return r[t]||(r[t]=d&&s[t]||(d?s:o)('Symbol.'+t))};l.store=r},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],!t.children&&(t.children=[]),Object.defineProperty(t,'loaded',{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,'id',{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,a){'use strict';function r(t){var n;return n=t.indexOf('#'),0>n?t:t.slice(0,n)}function o(t){return new f(r(t.uri))}function s(t){var n=/[^\/]*\/\/([^\/]*)\//.exec(t);return n?n[1]:''}function d(t,n){var a=n.indexOf('#'),r,o,s,d,l,c;if(0<a&&(n=n.slice(0,a)),0===t.length)return n;if(0===t.indexOf('#'))return n+t;if(d=t.indexOf(':'),0<=d)return t;if(r=n.indexOf(':'),0===n.length)return t;if(0>r)return u('Invalid base: '+n+' in join with given: '+t),t;if(o=n.slice(0,+r+1||9e9),0===t.indexOf('//'))return o+t;if(n.indexOf('//',r)===r+1){if(s=n.indexOf('/',r+3),0>s)return 0<n.length-r-3?n+'/'+t:o+t;}else if(s=n.indexOf('/',r+1),0>s)return 0<n.length-r-1?n+'/'+t:o+t;if(0===t.indexOf('/'))return n.slice(0,s)+t;if(c=n.slice(s),l=c.lastIndexOf('/'),0>l)return o+t;for(0<=l&&l<c.length-1&&(c=c.slice(0,+l+1||9e9)),c+=t;c.match(/[^\/]*\/\.\.\//);)c=c.replace(/[^\/]*\/\.\.\//,'');return c=c.replace(/\.\//g,''),c=c.replace(/\/\.$/,'/'),n.slice(0,s)+c}function l(t){var n;return n=t.indexOf(':'),0>n?null:t.slice(0,n)}function c(t,a){var r=/^[-_a-zA-Z0-9.]+:(\/\/[^\/]*)?\/[^\/]*$/,d,c,u,f,l,m,h,n,o,g,b,y,v;if(!t)return a;if(t===a)return'';for(c=n=0,l=a.length;n<l&&(d=a[c],d===t[c]);c=++n);if(t.slice(0,c).match(r)&&(u=a.indexOf('//'),0>u&&(u=-2),f=a.indexOf('/',u+2),'/'!==a[f+1]&&'/'!==t[f+1]&&a.slice(0,f)===t.slice(0,f)))return a.slice(f);if('#'===a[c]&&t.length===c)return a.slice(c);for(;0<c&&'/'!==a[c-1];)c--;if(3>c)return a;if(0<t.indexOf('//',c-2)||0<a.indexOf('//',c-2))return a;if(0<t.indexOf(':',c))return a;for(h=0,b=t.slice(c),(o=0,m=b.length);o<m;o++)d=b[o],'/'===d&&h++;if(0===h&&c<a.length&&'#'===a[c])return'./'+a.slice(c);if(0===h&&c===a.length)return'./';if(v='',0<h)for(g=1,y=h;1<=y?g<=y:g>=y;1<=y?++g:--g)v+='../';return v+a.slice(c)}var u=u||console.log;t.exports.docpart=r,t.exports.document=o,t.exports.hostpart=s,t.exports.join=d,t.exports.protocol=l,t.exports.refTo=c;var f=a(6)},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=function(){function t(){r(this,t)}return o(t,[{key:'substitute',value:function t(n){return console.log('@@@ node substitute'+this),this}},{key:'compareTerm',value:function t(n){return this.classOrder<n.classOrder?-1:this.classOrder>n.classOrder?1:this.value<n.value?-1:this.value>n.value?1:0}},{key:'equals',value:function t(n){return!!n&&this.termType===n.termType&&this.value===n.value}},{key:'hashString',value:function t(){return this.toCanonical()}},{key:'sameTerm',value:function t(n){return this.equals(n)}},{key:'toCanonical',value:function t(){return this.toNT()}},{key:'toNT',value:function t(){return this.toString()}},{key:'toString',value:function t(){throw new Error('Node.toString() is abstract - see the subclasses instead')}}]),t}();t.exports=s,s.fromValue=function t(n){var r=a(64),o=a(40),s=a(6);if('undefined'==typeof n||null===n)return n;var d=n&&n.termType;return d?n:Array.isArray(n)?new r(n):o.fromValue(n)}},function(t,n){function a(){throw new Error('setTimeout has not been defined')}function r(){throw new Error('clearTimeout has not been defined')}function o(t){if(m===setTimeout)return setTimeout(t,0);if((m===a||!m)&&setTimeout)return m=setTimeout,setTimeout(t,0);try{return m(t,0)}catch(n){try{return m.call(null,t,0)}catch(n){return m.call(this,t,0)}}}function s(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(n){try{return h.call(null,t)}catch(n){return h.call(this,t)}}}function d(){b&&v&&(b=!1,v.length?g=v.concat(g):y=-1,g.length&&l())}function l(){if(!b){var t=o(d);b=!0;for(var n=g.length;n;){for(v=g,g=[];++y<n;)v&&v[y].run();y=-1,n=g.length}v=null,b=!1,s(t)}}function c(t,n){this.fun=t,this.array=n}function u(){}var f=t.exports={},m,h;(function(){try{m='function'==typeof setTimeout?setTimeout:a}catch(t){m=a}try{h='function'==typeof clearTimeout?clearTimeout:r}catch(t){h=r}})();var g=[],b=!1,y=-1,v;f.nextTick=function(t){var n=Array(arguments.length-1);if(1<arguments.length)for(var a=1;a<arguments.length;a++)n[a-1]=arguments[a];g.push(new c(t,n)),1!==g.length||b||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title='browser',f.browser=!0,f.env={},f.argv=[],f.version='',f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error('process.binding is not supported')},f.cwd=function(){return'/'},f.chdir=function(t){throw new Error('process.chdir is not supported')},f.umask=function(){return 0}},function(t,n,a){'use strict';var r=a(18),o=t.exports=r.graph(),s=r.fetcher(o),d=new r.UpdateManager(o);console.log('Unique quadstore initialized.')},function(t,n){function a(t,n){if(!t)throw new Error(n||'Assertion failed')}t.exports=a,a.equal=function t(n,a,r){if(n!=a)throw new Error(r||'Assertion failed: '+n+' != '+a)}},function(t,n){var a=t.exports={version:'2.5.1'};'number'==typeof __e&&(__e=a)},function(t,n,a){'use strict';t.exports={Formats:a(205),Initializer:a(206),JSONDocument:a(396),JSONMapping:a(397),JSONPatch:a(207),JSONPointer:a(127),JSONSchema:a(398),Validator:a(208)}},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}var o=a(63),s=r(o),d={BlankNode:a(31),Collection:a(64),convert:a(133),DataFactory:a(69),Empty:a(244),Fetcher:a(98),Formula:a(132),IndexedFormula:s.default,jsonParser:a(245),Literal:a(40),log:a(32),N3Parser:a(70),NamedNode:a(6),Namespace:a(50),Node:a(12),parse:a(145),Query:a(68).Query,queryToSPARQL:a(246),RDFaProcessor:a(99),RDFParser:a(100),serialize:a(87),Serializer:a(97),SPARQLToQuery:a(247),sparqlUpdateParser:a(146),Statement:a(66),term:a(12).fromValue,UpdateManager:a(248),UpdatesSocket:a(147).UpdatesSocket,UpdatesVia:a(147).UpdatesVia,uri:a(11),Util:a(24),Variable:a(67)};d.NextId=d.BlankNode.nextId,d.fromNT=d.Formula.prototype.fromNT,d.fetcher=d.DataFactory.fetcher,d.graph=d.DataFactory.graph,d.lit=d.DataFactory.lit,d.st=d.DataFactory.st,d.sym=d.DataFactory.namedNode,d.variable=d.DataFactory.variable,d.blankNode=d.DataFactory.blankNode,d.defaultGraph=d.DataFactory.defaultGraph,d.literal=d.DataFactory.literal,d.namedNode=d.DataFactory.namedNode,d.quad=d.DataFactory.quad,d.triple=d.DataFactory.triple,t.exports=d},function(t,n,a){'use strict';var r=function t(){var n={},a=0,r=1,o=2,s=4,d=8,l=16,c=32,u=63;return n.level=r+o+s,n.ascending=!1,n.msg=function(t,a,r){if(a||(a=s,r='mesg'),!!(n.level&a))if('undefined'!=typeof document){var o=document.getElementById('status');if(!o)return;var d=function t(n){return n.replace(/&/g,'&amp;').replace(/</g,'&lt;')},l=document.createElement('span');l.setAttribute('class',r);var c=new Date;l.innerHTML=c.getHours()+':'+c.getMinutes()+':'+c.getSeconds()+' ['+r+'] '+d(t)+'<br/>',n.ascending?o.insertBefore(l,o.firstChild):o.appendChild(l)}else if('undefined'!=typeof console)console.log(t);else{var u=dump;if(!u)throw new Error('log: No way to output message: '+t);u('Log: '+t+'\n')}},n.warn=function(t){n.msg(t,o,'warn')},n.debug=function(t){n.msg(t,c,'dbug')},n.info=function(t){n.msg(t,l,'info')},n.error=function(t){n.msg(t,r,'eror')},n.success=function(t){n.msg(t,d,'good')},n.alert='undefined'==typeof alert?n.warn:alert,n.clear=function(){var t=document.getElementById('status');t&&(t.innerHTML='')},n.setLevel=function(t){n.level=u,n.debug('Log level is now '+t),n.level=t},n.dumpHTML=function(){var t=n.level;n.level=u,n.debug(document.innerHTML),n.level=t},n};t.exports=r()},function(t,n,a){'use strict';(function(t){if(t.scriptURI)t.exports.iconBase=''+t.scriptURI.slice(0,t.scriptURI.lastIndexOf('/'))+'/icons/',t.exports.originalIconBase=''+t.scriptURI.slice(0,t.scriptURI.lastIndexOf('/'))+'/originalIcons/';else{var n='https://linkeddata.github.io/solid-ui/src';'undefined'!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.iconBase?(t.exports.iconBase=$SolidTestEnvironment.iconBase,t.exports.originalIconBase=$SolidTestEnvironment.originalIconBase):(t.exports.iconBase=n+'/icons/',t.exports.originalIconBase=n+'/originalIcons/')}console.log('   Icon base is: '+t.exports.iconBase)}).call(n,a(10)(t))},function(t,n,a){'use strict';function r(t,n){var a=t.statusArea||t.div;return console.log('Complaint: '+n),a.appendChild(l.errorMessageBlock(t.dom,n))}function o(t,n,a,r,o,s,l){var c=t.createElement('div'),u=t.createTextNode(a),f=d.store.updater.editable(l.uri);u.style='colour: black; font-size: 100%; padding-left: 0.5 em; padding-right: 0.5 em;',c.appendChild(u);var m=t.createElement('input');c.appendChild(m),m.setAttribute('type','checkbox'),m.setAttribute('style','margin: 0.7em'),o&&o.object&&!o.why&&(o.why=l),r&&r.object&&!r.why&&(r.why=l);var h=n.holds(o);if(r){var g=n.holds(r);if(h&&g)return c.appendChild(d.widgets.errorMessageBlock(t,'Inconsistent data in store!\n'+o+' and\n'+r)),c;h||g||(h=!!n.any(s,d.ns.ui('default')))}if(m.checked=h,!f)return c;var b=function n(a){u.style='color: #bbb;';var s,l;this.checked?(s=o,l=r&&g?r:[],d.store.updater.update(l,s,function(n,a,r){return a?void(u.style='color: #black;',h=!0,g=!1):(u.style='color: #black; background-color: #fee;',c.appendChild(d.widgets.errorMessageBlock(t,'Error updating store (setting boolean, checked) :\n\n'+r)),void(m.checked=!1))})):(s=r,l=o,d.store.updater.update(l,s,function(n,a,o){return u.className='question',a?void(u.style='color: #black;',h=!1,g=!!r):(u.style='color: #black; background-color: #fee;',c.appendChild(d.widgets.errorMessageBlock(t,'Error updating store (unchecked):\n\n'+o)),void(m.checked=!0))}))};return m.addEventListener('click',b,!1),c}var s=t.exports=Object.assign({},a(249),a(178),a(75),{buildCheckboxForm:o,complain:r}),d={icons:a(20),log:a(19),ns:a(7),store:a(14),widgets:s},l=a(75),u=a(23);d.widgets.field={},d.widgets.clearElement=function(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t},d.widgets.refreshTree=function(t){if(t.refresh)return void t.refresh();for(var n=0;n<t.children.length;n++)d.widgets.refreshTree(t.children[n])},d.widgets.extractLogURI=function(t){var n=t.search(/logFile=/),a=t.search(/&rulesFile=/);return t.substring(n+8,a)},d.widgets.shortDate=function(t){if(!t)return'???';var n=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];try{var a=new Date,r=$rdf.term(a).value;return t.slice(0,10)===r.slice(0,10)?t.slice(11,16):t.slice(0,4)===r.slice(0,4)?n[parseInt(t.slice(5,7),10)-1]+' '+parseInt(t.slice(8,10),10):t.slice(0,10)}catch(t){return'shortdate:'+t}},d.widgets.formatDateTime=function(t,n){return n.split('{').map(function(n){var a=n.split('}')[0],r={Milliseconds:3,FullYear:4},o={Month:1};return n?('000'+(t['get'+a]()+(o[a]||0))).slice(-(r[a]||2))+n.split('}')[1]:''}).join('')},d.widgets.timestamp=function(){return d.widgets.formatDateTime(new Date,'{FullYear}-{Month}-{Date}T{Hours}:{Minutes}:{Seconds}.{Milliseconds}')},d.widgets.shortTime=function(){return d.widgets.formatDateTime(new Date,'{Hours}:{Minutes}:{Seconds}.{Milliseconds}')},d.widgets.newThing=function(t){var n=new Date;return $rdf.sym(t.uri+'#id'+(''+n.getTime()))},d.widgets.setName=function(t,n){var a=d.store,r=d.ns,o=function t(n){var o=a.any(n,r.vcard('fn'))||a.any(n,r.foaf('name'))||a.any(n,r.vcard('organization-name'));return o?o.value:null},s=n.sameTerm(r.foaf('Agent'))?'Everyone':o(n);t.textContent=s||u.label(n),!s&&n.uri&&a.fetcher.nowOrWhenFetched(n.doc(),void 0,function(a){t.textContent=o(n)||u.label(n)})},d.widgets.imagesOf=function(t,n){var a=d.ns;return n.each(t,a.sioc('avatar')).concat(n.each(t,a.foaf('img'))).concat(n.each(t,a.vcard('logo'))).concat(n.each(t,a.vcard('photo'))).concat(n.each(t,a.foaf('depiction')))},d.widgets.setImage=function(t,n){var a=d.store,r=d.ns,o=d.icons.iconBase,s=function t(n){if(n.sameTerm(r.foaf('Agent'))||n.sameTerm(r.rdf('Resource')))return o+'noun_98053.svg';var s=a.any(n,r.sioc('avatar'))||a.any(n,r.foaf('img'))||a.any(n,r.vcard('logo'))||a.any(n,r.vcard('hasPhoto'))||a.any(n,r.vcard('photo'))||a.any(n,r.foaf('depiction'));return s?s.uri:null},l=function t(n){var s=a.findTypeURIs(n);if(r.solid('AppProvider').uri in s)return o+'noun_15177.svg';if(n.uri){if(4===n.uri.split('/').length&&!n.uri.split('/')[1]&&!n.uri.split('/')[3])return o+'noun_15177.svg';if(n.uri.startsWith('message:')||n.uri.startsWith('mid:'))return o+'noun_480183.svg';if(n.uri.startsWith('mailto:'))return o+'noun_567486.svg';if(n.uri.startsWith('https:')&&0>n.uri.indexOf('#'))return n.site().uri+'favicon.ico'}return r.solid('AppProviderClass').uri in s?o+'noun_144.svg':r.vcard('Group').uri in s||r.rdfs('Class').uri in s?o+'noun_339237.svg':r.vcard('Organization').uri in s||r.rdfs('Class').uri in s?o+'noun_143899.svg':r.vcard('Individual').uri in s||r.foaf('Person').uri in s?o+'noun_15059.svg':r.vcard('AddressBook').uri in s?o+'noun_15695.svg':'http://www.w3.org/ns/pim/trip#Trip'in s?o+'noun_581629.svg':r.meeting('Meeting').uri in s?o+'noun_66617.svg':o+'noun_10636_grey.svg'},c=s(n);t.setAttribute('src',c||l(n)),!c&&n.uri&&a.fetcher.nowOrWhenFetched(n.doc(),void 0,function(a){t.setAttribute('src',s(n)||l(n))})};var c=function t(n,a){var r=n.createElement('img'),o=function t(n){if(!n.uri)return!1;var a=n.uri.split('/');return 3===a.length||4===a.length&&''===a[3]};if(r.setAttribute('src',d.icons.iconBase+(o(a)?'noun_15177.svg':'noun_681601.svg')),a.uri&&a.uri.startsWith('https:')&&0>a.uri.indexOf('#')){var s=n.createElement('object');return s.setAttribute('data',a.site().uri+'favicon.ico'),s.setAttribute('type','image/x-icon'),s.appendChild(r),s}return d.widgets.setImage(r,a),r};d.widgets.deleteButtonWithCheck=function(t,n,a,r){var o=d.icons.iconBase+'noun_2188_red.svg',s=t.createElement('img');s.setAttribute('src',o),s.setAttribute('style','margin: 0.2em; width: 1em; height:1em'),s.title='Remove this '+a;var l=s;return n.appendChild(l),n.setAttribute('class','hoverControl'),l.setAttribute('class','hoverControlHide'),l.addEventListener('click',function(o){n.removeChild(l);var s=t.createElement('button');s.textContent='cancel',n.appendChild(s).addEventListener('click',function(t){n.removeChild(d),n.removeChild(s),n.appendChild(l)},!1);var d=t.createElement('button');d.textContent='Delete '+a,n.appendChild(d).addEventListener('click',function(t){n.removeChild(d),n.removeChild(s),r()},!1)},!1),l},d.widgets.askName=function(t,n,a,r,o){return new Promise(function(n,s){var l=t.createElement('div');r=r||d.ns.foaf('name');var c=o?u.label(o)+'  ':'';c+=u.label(r)+': ',l.appendChild(t.createElement('p')).textContent=c;var f=t.createElement('input');f.setAttribute('type','text'),f.setAttribute('size','100'),f.setAttribute('maxLength','2048'),f.select(),l.appendChild(f),a.appendChild(l);var m=function t(){l.parentNode.removeChild(l),n(f.value)};f.addEventListener('keyup',function(t){13==t.keyCode&&m()},!1);var h=l.appendChild(t.createElement('br')),g=l.appendChild(t.createElement('button'));g.setAttribute('type','button'),g.innerHTML='Cancel',g.addEventListener('click',function(t){l.parentNode.removeChild(l),n(null)},!1);var y=l.appendChild(t.createElement('button'));y.setAttribute('type','button'),y.innerHTML='Continue',y.addEventListener('click',function(t){m()},!1)})},d.widgets.linkIcon=function(t,n,a){var r=t.createElement('a');r.setAttribute('href',n.uri),n.uri.startsWith('http')&&r.setAttribute('target','_blank');var o=r.appendChild(t.createElement('img'));return o.setAttribute('src',a||d.icons.originalIconBase+'go-to-this.png'),o.setAttribute('style','margin: 0.3em;'),r},d.widgets.personTR=function(t,n,a,r){var o=t.createElement('tr');r=r||{};var s=o.appendChild(t.createElement('td')),l=o.appendChild(t.createElement('td')),u=o.appendChild(t.createElement('td')),f=c(t,a);if(s.setAttribute('style','vertical-align: middle; width:2.5em; padding:0.5em; height: 2.5em;'),l.setAttribute('style','vertical-align: middle; text-align:left;'),u.setAttribute('style','vertical-align: middle; width:2em; padding:0.5em; height: 4em;'),f.setAttribute('style','width: 3em; height: 3em; margin: 0.1em; border-radius: 1em;'),s.appendChild(f),d.widgets.setName(l,a),r.deleteFunction&&d.widgets.deleteButtonWithCheck(t,u,r.noun||'one',r.deleteFunction),a.uri){if(!1!==r.link){var m=u.appendChild(d.widgets.linkIcon(t,a));m.classList.add('HoverControlHide'),u.appendChild(t.createElement('br'))}!1!==r.draggable&&(f.setAttribute('draggable','false'),d.widgets.makeDraggable(o,a))}return o},d.widgets.refreshTree=function t(n){if(n.refresh)return void n.refresh();for(var a=0;a<n.children.length;a++)t(n.children[a])},d.widgets.attachmentList=function(t,n,a,o){o=o||{};var s=o.doc||n.doc();o.modify===void 0&&(o.modify=!0);var l=o.modify,c=o.promptIcon||d.icons.iconBase+'noun_748003.svg',f=o.predicate||d.ns.wf('attachment'),m=o.noun||'attachment',h=d.store,g=d.ns,b=a.appendChild(t.createElement('table'));b.setAttribute('style','margin-top: 1em; margin-bottom: 1em;');var y=b.appendChild(t.createElement('tr')),v=y.appendChild(t.createElement('td')),w=y.appendChild(t.createElement('td')),x=w.appendChild(t.createElement('table')),_=x.appendChild(t.createElement('tr')),k=function t(a){h.updater.update($rdf.st(n,f,a,s),[],function(t,n,a,o){n?T():r('Error deleting one: '+a)})},C=function n(a){var r=a,o={noun:m};return l&&(o.deleteFunction=function(){k(r)}),d.widgets.personTR(t,f,a,o)},T=x.refresh=function(){var t=h.each(n,f);t.sort(),u.syncTableToArray(x,t,C)};b.refresh=T,T();var E=function t(a){var o=[];a.map(function(t){var a=$rdf.sym(t);console.log('Dropped on attachemnt '+t),o.push($rdf.st(n,f,a,s))}),h.updater.update([],o,function(t,n,a,o){n?T():r('Error adding one: '+a)})};if(l){var S=v.appendChild(t.createElement('img'));S.setAttribute('src',c),S.setAttribute('style','width; 2em; height: 2em; margin: 0.5em;'),S.setAttribute('draggable','false'),d.widgets.makeDropTarget(v,E)}return b},d.widgets.field[d.ns.ui('Form').uri]=d.widgets.field[d.ns.ui('Group').uri]=function(n,a,r,o,s,l,c){var u=d.store,f=n.createElement('div');f.setAttribute('style','padding-left: 2em; border: 0.05em solid brown;');var m=d.ns.ui;a.appendChild(f);var h=o.toNT()+'|'+s.toNT();if(r[h]){f.appendChild(n.createTextNode('Group: see above '+h));var g=[$rdf.st(o,d.ns.owl('sameAs'),o)];return d.outline.appendPropertyTRs(f,g),f}var b={};for(var y in r)b[y]=1;b[h]=1;var v=u.any(s,m('parts')),w;if(v)w=v.elements;else{var v=u.each(s,m('part'));w=d.widgets.sortBySequence(v)}if(!v)return f.appendChild(d.widgets.errorMessageBlock(n,'No parts to form! ')),n;for(var x=[],_=[],k=0;k<w.length;k++){var C=w[k],T=d.widgets.bottomURI(C);if(T===m('Options').uri){var t=u.any(C,m('dependingOn'));t&&u.any(o,t)&&(_[k]=u.any(o,t).toNT())}var E=d.widgets.fieldFunction(n,C),S=function a(s,h){if(s)for(var g=0;g<w.length;g++){var b=w[g],y=d.widgets.bottomURI(b);if(y===m('Options').uri){var t=u.any(b,m('dependingOn'));if(1){var v=E(n,f,r,o,b,l,c);f.removeChild(v),f.insertBefore(v,x[g]),f.removeChild(x[g]),_[g]=u.any(o,t).toNT(),x[g]=v}}}c(s,h)};x.push(E(n,f,b,o,C,l,S))}return f},d.widgets.field[d.ns.ui('Options').uri]=function(t,n,a,r,o,s,l){var u=d.store,f=t.createElement('div'),m=d.ns.ui;n.appendChild(f);var h=u.any(o,m('dependingOn'));h||(h=d.ns.rdf('type'));var g=u.each(o,m('case'));g||f.appendChild(d.widgets.errorMessageBlock(t,'No cases to Options form. '));var b;if(h.sameTerm(d.ns.rdf('type')))b=u.findTypeURIs(r);else{var y=u.any(r,h);y===void 0?f.appendChild(d.widgets.errorMessageBlock(t,'Can\'t select subform as no value of: '+h)):(b={},b[y.uri]=!0)}for(var v=0;v<g.length;v++)for(var w=g[v],c=u.each(w,m('for')),x=0;x<c.length;x++)if(b[c[x].uri]){var _=u.the(w,m('use'));if(!_)return f.appendChild(d.widgets.errorMessageBlock(t,'No "use" part for case in form '+o)),f;d.widgets.appendForm(t,f,a,r,_,s,l);break}return f},d.widgets.field[d.ns.ui('Multiple').uri]=function(t,n,a,r,o,s,l){var c=d.icons.iconBase+'noun_19460_green.svg',f=d.store;f.updater=f.updater||new $rdf.UpdateManager(f);var m=t.createElement('table'),h=d.ns.ui,g;n.appendChild(m);var b=f.any(o,h('property'));if(!b)return m.appendChild(d.widgets.errorMessageBlock(t,'No property to multiple: '+o)),m;var y=f.any(o,h('min'));y=y?y.value:0;var v=f.any(o,h('max'));v=v?v.value:99999999;var w=f.any(o,h('part'));if(!w)return m.appendChild(d.widgets.errorMessageBlock(t,'No part to multiple: '+o)),m;var x=0,_=m.appendChild(t.createElement('tr')),k=m.appendChild(t.createElement('tr')),C=k.appendChild(t.createElement('img'));C.setAttribute('src',c),C.setAttribute('style','margin: 0.2em; width: 1em; height:1em'),C.title='Click to add one or more '+u.label(b);var T=k.appendChild(t.createElement('span')),E=function n(o,c){d.log.debug('Multiple add: '+c),++x,c||(c=d.widgets.newThing(s));var h=m.insertBefore(t.createElement('tr'),k),g=function n(a,o,u){if(!o)h.appendChild(d.widgets.errorMessageBlock(t,'Multiple: item failed: '+_)),l(o,u);else if(!f.holds(r,b,c)){var m=[$rdf.st(r,b,c,s)];f.updater.update([],m,y)}},y=function t(n,a,r){return l(a,r)},v=d.widgets.fieldFunction(t,w),C=v(t,_,a,c,w,s,g),T=function n(){if(f.holds(r,b,c)){var a=[$rdf.st(r,b,c,s)];f.updater.update(a,[],function(n,a,r){a?_.removeChild(C):_.appendChild(d.widgets.errorMessageBlock(t,'Multiple: delete failed: '+r))})}};d.widgets.deleteButtonWithCheck(t,C,u.label(b),T)},S=f.each(r,b);T.textContent=(0===S.length?'Add one or more ':'Add more ')+u.label(b),S.map(function(t){E(null,t)});for(var A=y-S.length,I=0;I<A;I++)console.log('Adding extra: min '+y),E();return k.addEventListener('click',E,!0),m},d.widgets.fieldParams={},d.widgets.fieldParams[d.ns.ui('ColorField').uri]={size:9,type:'color',dt:'color'},d.widgets.fieldParams[d.ns.ui('ColorField').uri].pattern=/^\s*#[0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f]([0-9a-f][0-9a-f])?\s*$/,d.widgets.fieldParams[d.ns.ui('DateField').uri]={size:20,type:'date',dt:'date'},d.widgets.fieldParams[d.ns.ui('DateField').uri].pattern=/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?Z?\s*$/,d.widgets.fieldParams[d.ns.ui('DateTimeField').uri]={size:20,type:'date',dt:'dateTime'},d.widgets.fieldParams[d.ns.ui('DateTimeField').uri].pattern=/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?(T[0-2][0-9]:[0-5][0-9](:[0-5][0-9])?)?Z?\s*$/,d.widgets.fieldParams[d.ns.ui('TimeField').uri]={size:10,type:'time',dt:'time'},d.widgets.fieldParams[d.ns.ui('TimeField').uri].pattern=/^\s*([0-2]?[0-9]:[0-5][0-9](:[0-5][0-9])?)\s*$/,d.widgets.fieldParams[d.ns.ui('IntegerField').uri]={size:12,style:'text-align: right',dt:'integer'},d.widgets.fieldParams[d.ns.ui('IntegerField').uri].pattern=/^\s*-?[0-9]+\s*$/,d.widgets.fieldParams[d.ns.ui('DecimalField').uri]={size:12,style:'text-align: right',dt:'decimal'},d.widgets.fieldParams[d.ns.ui('DecimalField').uri].pattern=/^\s*-?[0-9]*(\.[0-9]*)?\s*$/,d.widgets.fieldParams[d.ns.ui('FloatField').uri]={size:12,style:'text-align: right',dt:'float'},d.widgets.fieldParams[d.ns.ui('FloatField').uri].pattern=/^\s*-?[0-9]*(\.[0-9]*)?((e|E)-?[0-9]*)?\s*$/,d.widgets.fieldParams[d.ns.ui('SingleLineTextField').uri]={},d.widgets.fieldParams[d.ns.ui('NamedNodeURIField').uri]={namedNode:!0},d.widgets.fieldParams[d.ns.ui('TextField').uri]={},d.widgets.fieldParams[d.ns.ui('PhoneField').uri]={size:20,uriPrefix:'tel:'},d.widgets.fieldParams[d.ns.ui('PhoneField').uri].pattern=/^\s*\+?[ 0-9-]+[0-9]\s*$/,d.widgets.fieldParams[d.ns.ui('EmailField').uri]={size:30,uriPrefix:'mailto:'},d.widgets.fieldParams[d.ns.ui('EmailField').uri].pattern=/^\s*.*@.*\..*\s*$/,d.widgets.field[d.ns.ui('PhoneField').uri]=d.widgets.field[d.ns.ui('EmailField').uri]=d.widgets.field[d.ns.ui('ColorField').uri]=d.widgets.field[d.ns.ui('DateField').uri]=d.widgets.field[d.ns.ui('DateTimeField').uri]=d.widgets.field[d.ns.ui('TimeField').uri]=d.widgets.field[d.ns.ui('NumericField').uri]=d.widgets.field[d.ns.ui('IntegerField').uri]=d.widgets.field[d.ns.ui('DecimalField').uri]=d.widgets.field[d.ns.ui('FloatField').uri]=d.widgets.field[d.ns.ui('TextField').uri]=d.widgets.field[d.ns.ui('SingleLineTextField').uri]=d.widgets.field[d.ns.ui('NamedNodeURIField').uri]=function(t,n,a,r,o,s,l){var c=d.ns.ui,u=d.store,f=t.createElement('tr');n.appendChild(f);var m=t.createElement('td');m.setAttribute('class','formFieldName'),m.setAttribute('style','  vertical-align: middle;'),f.appendChild(m);var h=t.createElement('td');h.setAttribute('class','formFieldValue'),f.appendChild(h);var g=u.any(o,c('property'));if(!g)return f.appendChild(t.createTextNode('Error: No property given for text field: '+o)),f;m.appendChild(d.widgets.fieldLabel(t,g,o));var b=d.widgets.bottomURI(o),y=d.widgets.fieldParams[b];void 0===y&&(y={});var v=y.style||'font-size: 100%; margin: 0.1em; padding: 0.1em;',w=t.createElement('input');h.appendChild(w),w.setAttribute('type',y.type?y.type:'text');var x=u.any(o,c('size'));w.setAttribute('size',x?''+x:y.size?''+y.size:'20');var _=u.any(o,c('maxLength'));w.setAttribute('maxLength',_?''+_:'4096'),s=s||d.widgets.fieldStore(r,g,s);var k=u.any(r,g,void 0,s);return k||(k=u.any(o,c('default')),k&&u.add(r,g,k,s)),k&&k.uri&&y.uriPrefix?w.value=decodeURIComponent(k.uri.replace(y.uriPrefix,'')).replace(/ /g,''):k&&(w.value=k.value||k.uri),w.setAttribute('style',v),w.addEventListener('keyup',function(t){y.pattern&&w.setAttribute('style',v+(w.value.match(y.pattern)?'color: green;':'color: red;'))},!0),w.addEventListener('change',function(n){if(!y.pattern||w.value.match(y.pattern)){w.disabled=!0,w.setAttribute('style',v+'color: gray;');var a=u.statementsMatching(r,g),o;y.namedNode?o=u.sym(w.value):y.uriPrefix?(o=encodeURIComponent(w.value.replace(/ /g,'')),o=u.sym(y.uriPrefix+w.value)):y.dt?o=new $rdf.Literal(w.value.trim(),void 0,d.ns.xsd(y.dt)):o=new $rdf.Literal(w.value);var c=$rdf.st(r,g,o,s);u.updater.update(a,c,function(n,a,r){a?(w.disabled=!1,w.setAttribute('style',v)):f.appendChild(d.widgets.errorMessageBlock(t,r)),l(a,r)})}},!0),f},d.widgets.field[d.ns.ui('MultiLineTextField').uri]=function(t,n,a,r,o,s,l){var c=d.ns.ui,u=d.store,f=u.any(o,c('property'));if(!f)return d.widgets.errorMessageBlock(t,'No property to text field: '+o);n.appendChild(d.widgets.fieldLabel(t,f,o)),s=d.widgets.fieldStore(r,f,s);var m=d.widgets.makeDescription(t,u,r,f,s,l);return n.appendChild(m),m},d.widgets.field[d.ns.ui('BooleanField').uri]=function(t,n,a,r,s,l,c){var f=d.ns.ui,m=d.store,h=m.any(s,f('property'));if(!h)return n.appendChild(d.widgets.errorMessageBlock(t,'No property to boolean field: '+s));var g=m.any(s,f('label'));g||(g=u.label(h,!0)),l=d.widgets.fieldStore(r,h,l);var b=m.any(r,h);void 0===b&&(b=!1);var y=$rdf.st(r,h,!0,l),v=$rdf.st(r,h,!1,l),w=o(t,m,g,v,y,s,l);return n.appendChild(w),w},d.widgets.field[d.ns.ui('Classifier').uri]=function(t,n,a,r,o,s,l){var c=d.store,u=d.ns.ui,f=c.any(o,u('category'));if(!f)return d.widgets.errorMessageBlock(t,'No category for classifier: '+o);d.log.debug('Classifier: store='+s);var m=function t(n,a){return n?l(n,a):l(n,a)},h=d.widgets.makeSelectForNestedCategory(t,c,r,f,s,m);return n.appendChild(h),h},d.widgets.field[d.ns.ui('Choice').uri]=function(t,n,a,r,o,s,l){function c(n,o){x=h.any(r,w),d.widgets.fieldFunction(t,k)(t,v,a,x,k,s,l)}var f=d.ns.ui,m=d.ns,h=d.store,g=t.createElement('tr'),b;n.appendChild(g);var y=t.createElement('td');g.appendChild(y);var v=t.createElement('td');g.appendChild(v);var w=h.any(o,f('property'));if(!w)return d.widgets.errorMessageBlock(t,'No property for Choice: '+o);y.appendChild(d.widgets.fieldLabel(t,w,o));var _=h.any(o,f('from'));if(!_)return d.widgets.errorMessageBlock(t,'No \'from\' for Choice: '+o);var k=h.any(o,f('use')),C=[],T={multiple:A,nullLabel:N,disambiguate:!1},E;for(var S in C=h.each(void 0,m.rdf('type'),_),h.findMembersNT(_))C.push(h.fromNT(S));if(_.sameTerm(m.rdfs('Class')))for(b in d.widgets.allClassURIs())C.push(h.sym(b));else if(_.sameTerm(m.rdf('Property'))){for(b in E=d.widgets.propertyTriage(),E.op)C.push(h.fromNT(b));for(b in E.dp)C.push(h.fromNT(b));T.disambiguate=!0}else if(_.sameTerm(m.owl('ObjectProperty'))){for(b in E=d.widgets.propertyTriage(),E.op)C.push(h.fromNT(b));T.disambiguate=!0}else if(_.sameTerm(m.owl('DatatypeProperty'))){for(b in E=d.widgets.propertyTriage(),E.dp)C.push(h.fromNT(b));T.disambiguate=!0}var x=h.any(r,w),A=!1,I=d.widgets.sortByLabel(C),N='--'+u.label(w)+'-?';h.any(o,f('canMintNew'))&&(T.mint='* New *',T.subForm=k);var j=d.widgets.makeSelectForOptions(t,h,r,w,I,T,s,l);return v.appendChild(j),x&&k&&c(!0,''),g},d.widgets.fieldParams[d.ns.ui('Comment').uri]={element:'p',style:'padding: 0.1em 1.5em; color: brown; white-space: pre-wrap;'},d.widgets.fieldParams[d.ns.ui('Heading').uri]={element:'h3',style:'font-size: 110%; color: brown;'},d.widgets.field[d.ns.ui('Comment').uri]=d.widgets.field[d.ns.ui('Heading').uri]=function(t,n,a,r,o,s,l){var c=d.ns.ui,u=d.store,f=u.any(o,c('contents'));f||(f='Error: No contents in comment field.');var m=d.widgets.bottomURI(o),h=d.widgets.fieldParams[m];void 0===h&&(h={});;var g=t.createElement('div');n.appendChild(g);var b=g.appendChild(t.createElement(h.element));b.textContent=f;var y=u.any(o,c('style'));return void 0===y&&(y=h.style?h.style:''),y&&b.setAttribute('style',y),g},d.widgets.openHrefInOutlineMode=function(t){t.preventDefault(),t.stopPropagation();var n=u.getTarget(t),a=n.getAttribute('href');a||console.log('No href found \n'),d.outline?d.outline.GotoSubject(d.store.sym(a),!0,void 0,!0,void 0):window&&window.UI&&window.UI.outline?window.UI.outline.GotoSubject(d.store.sym(a),!0,void 0,!0,void 0):console.log('ERROR: Can\'t access outline manager in this config')},d.widgets.defaultAnnotationStore=function(t){if(void 0!==t.uri){var n=t.uri;if('http://'===n.slice(0,7)){n=n.slice(7);var a=n.indexOf('#');if(0<=a)n=n.slice(0,a);else{var r=n.lastIndexOf('/');if(0>r)return;n=n.slice(0,r)}return d.store.sym('http://tabulator.org/wiki/annnotation/'+n)}}},d.widgets.fieldStore=function(t,n,a){var r=d.store.statementsMatching(t,n);return 0===r.length?a:0<r.length&&r[0].why.uri&&d.store.updater.editable(r[0].why.uri,d.store)?d.store.sym(r[0].why.uri):null},d.widgets.allClassURIs=function(){var t={};return d.store.statementsMatching(void 0,d.ns.rdf('type'),void 0).map(function(n){n.object.uri&&(t[n.object.uri]=!0)}),d.store.statementsMatching(void 0,d.ns.rdfs('subClassOf'),void 0).map(function(n){n.object.uri&&(t[n.object.uri]=!0),n.subject.uri&&(t[n.subject.uri]=!0)}),d.store.each(void 0,d.ns.rdf('type'),d.ns.rdfs('Class')).map(function(n){n.uri&&(t[n.uri]=!0)}),t},d.widgets.propertyTriage=function(){var t={},n=d.store,a={},r={},o=0,s=0,l=0,c=n.predicateIndex;for(var u in c){var f=c[u][0].object;'Literal'===f.termType?(a[u]=!0,s++):(r[u]=!0,o++)}for(var m=n.each(void 0,d.ns.rdf('type'),d.ns.rdf('Property')),h=0;h<m.length;h++)u=m[h].toNT(),d.log.debug('propertyTriage: unknown: '+u),r[u]||a[u]||(a[u]=!0,r[u]=!0,l++);return t.op=r,t.dp=a,d.log.info('propertyTriage: '+o+' non-lit, '+s+' literal. '+l+' unknown.'),t},d.widgets.fieldLabel=function(t,n,a){var r=d.store.any(a,d.ns.ui('label'));if(r||(r=u.label(n,!0)),void 0===n)return t.createTextNode('@@Internal error: undefined property');var o=t.createElement('a');return n.uri&&o.setAttribute('href',n.uri),o.setAttribute('style','color: #3B5998; text-decoration: none;'),o.textContent=r,o},d.widgets.bottomURI=function(t){var n=d.store,a=n.findTypeURIs(t),r=n.bottomTypeURIs(a),o=[];for(var s in r)o.push(s);return o[0]},d.widgets.fieldFunction=function(t,n){var a=d.widgets.bottomURI(n),r=d.widgets.field[a];return d.log.debug('paneUtils: Going to implement field '+n+' of type '+a),r?r:function(){return d.widgets.errorMessageBlock(t,'No handler for field '+n+' of type '+a)}},d.widgets.editFormButton=function(t,n,a,r,o){var s=t.createElement('button');return s.setAttribute('type','button'),s.innerHTML='Edit '+u.label(d.ns.ui('Form')),s.addEventListener('click',function(l){var c=d.widgets.appendForm(t,n,{},a,d.ns.ui('FormForm'),r,o);c.setAttribute('style',d.ns.ui('FormForm').sameTerm(a)?'background-color: #fee;':'background-color: #ffffe7;'),n.removeChild(s)},!0),s},d.widgets.linkButton=function(t,n){var a=t.createElement('button');return a.setAttribute('type','button'),a.textContent='Goto '+u.label(n),a.addEventListener('click',function(t){d.outline.GotoSubject(n,!0,void 0,!0,void 0)},!0),a},d.widgets.removeButton=function(t,n){var a=t.createElement('button');return a.setAttribute('type','button'),a.textContent='\u2715',a.addEventListener('click',function(t){n.parentNode.removeChild(n)},!0),a},d.widgets.appendForm=function(t,n,a,r,o,s,l){return d.widgets.fieldFunction(t,o)(t,n,a,r,o,s,l)},d.widgets.propertiesForClass=function(t,n){var a=d.ns,r=t.each(void 0,a.rdf('range'),n);[a.rdfs('comment'),a.dc('title'),a.foaf('name'),a.foaf('homepage')].map(function(t){r.push(t)});var o=t.each(void 0,a.rdf('type'),n);60<o.length&&(o=o.slice(0,60));for(var s={},l=0;l<(60<o.length?60:o.length);l++)t.statementsMatching(o[l],void 0,void 0).map(function(t){s[t.predicate.uri]=!0});r.map(function(t){s[t.uri]=!0});var c=[];for(var u in s)c.push(t.sym(u));return c},d.widgets.findClosest=function t(n,a,r){for(var o=[n.sym(a)];0<o.length;){var s=o.shift(),l=n.each(s,r);if(d.log.debug('Lists for '+s+', '+r+': '+l.length),0!==l.length)return l;for(var c=n.each(s,d.ns.rdfs('subClassOf')),u=0;u<c.length;u++)o.push(c[u]),d.log.debug('findClosest: add super: '+c[u])}return[]},d.widgets.formsFor=function(n){var a=d.ns,r=d.store;d.log.debug('formsFor: subject='+n);var o=r.findTypeURIs(n),t;for(t in o)d.log.debug('   type: '+t);var s=r.bottomTypeURIs(o),l=[];for(var c in s)d.log.debug('formsFor: trying bottom type ='+c),l=l.concat(d.widgets.findClosest(r,c,a.ui('creationForm'))),l=l.concat(d.widgets.findClosest(r,c,a.ui('annotationForm')));return d.log.debug('formsFor: subject='+n+', forms='),l},d.widgets.sortBySequence=function(t){var n=t.map(function(t){var n=d.store.any(t,d.ns.ui('sequence'));return[n||9999,t]});return n.sort(function(t,n){return t[0]-n[0]}),n.map(function(t){return t[1]})},d.widgets.sortByLabel=function(t){var n=t.map(function(t){return[u.label(t).toLowerCase(),t]});return n.sort(),n.map(function(t){return t[1]})},d.widgets.newButton=function(t,n,a,r,o,s,l,c){var f=t.createElement('button');return f.setAttribute('type','button'),f.innerHTML='New '+u.label(o),f.addEventListener('click',function(u){f.parentNode.appendChild(d.widgets.promptForNew(t,n,a,r,o,s,l,c))},!1),f},d.widgets.promptForNew=function(t,n,a,r,o,s,l,c){var m=d.ns,h=t.createElement('form');if(!s){var g=d.widgets.findClosest(n,o.uri,m.ui('creationForm'));if(0===g.length){var y=h.appendChild(t.createElement('p'));y.textContent='I am sorry, you need to provide information about a '+u.label(o)+' but I don\'t know enough information about those to ask you.';var v=h.appendChild(t.createElement('button'));return v.setAttribute('type','button'),v.setAttribute('style','float: right;'),v.innerHTML='Goto '+u.label(o),v.addEventListener('click',function(t){d.outline.GotoSubject(o,!0,void 0,!0,void 0)},!1),h}d.log.debug('lists[0] is '+g[0]),s=g[0]}d.log.debug('form is '+s),h.setAttribute('style','border: 0.05em solid brown; color: brown'),h.innerHTML='<h3>New '+u.label(o)+'</h3>';var b=d.widgets.fieldFunction(t,s),w=d.widgets.newThing(l),x=!1,_=function s(u,f){if(!u)return c(u,f);var g=[];a&&!n.holds(a,r,w,l)&&g.push($rdf.st(a,r,w,l)),a&&!n.holds(w,m.rdf('type'),o,l)&&g.push($rdf.st(w,m.rdf('type'),o,l)),g.length?d.store.updater.update([],g,k):c(!0,f),x||(x=h.appendChild(d.widgets.linkButton(t,w)))},k=function t(n,a,r){return c(a,r)};d.log.info('paneUtils Object is '+w);var C=b(t,h,{},w,s,l,_),f=d.widgets.removeButton(t,C);return f.setAttribute('style','float: right;'),h.AJAR_subject=w,h},d.widgets.makeDescription=function(t,n,a,r,o,s){var l=t.createElement('div'),c=n.statementsMatching(a,r,void 0);if(1<c.length)return d.widgets.errorMessageBlock(t,'Should not be '+c.length+' i.e. >1 '+r+' of '+a);var f=c.length?c[0].object.value:void 0,m=t.createElement('textarea');l.appendChild(m),m.rows=f?f.split('\n').length+2:2,m.cols=80;var h='font-size:100%; white-space: pre-wrap; background-color: white; border: 0.07em solid gray; padding: 1em 0.5em; margin: 1em 1em;';m.setAttribute('style',h),c.length?m.value=f:m.select(),l.refresh=function(){var t=n.any(a,r);t&&t.value!==m.value&&(m.value=t.value)};var g=t.createElement('br');l.appendChild(g);var b=t.createElement('input');b.setAttribute('type','submit'),b.disabled=!0,b.setAttribute('style','visibility: hidden; float: right;'),b.value='Save '+u.label(r),l.appendChild(b);var y=function c(u){b.disabled=!0,b.setAttribute('style','visibility: hidden; float: right;'),m.disabled=!0,m.setAttribute('style',h+'color: gray;');var f=n.statementsMatching(a,r),g=$rdf.st(a,r,m.value,o);d.store.updater.update(f,g,function(n,a,r){a?(m.setAttribute('style',h+'color: black;'),m.disabled=!1):l.appendChild(d.widgets.errorMessageBlock(t,'Error (while saving change to '+o.uri+'): '+r)),s&&s(a,r)})};return m.addEventListener('keyup',function(t){m.setAttribute('style',h+'color: green;'),b&&(b.disabled=!1,b.setAttribute('style','float: right;'))},!0),m.addEventListener('change',y,!0),b.addEventListener('click',y,!1),l},d.widgets.makeSelectForOptions=function(t,a,r,o,s,l,f,m){d.log.debug('Select list length now '+s.length);for(var h=0,n={},g=0,b;g<s.length;g++)b=s[g],b.uri in n||(n[b.uri]=!0,h++);if(0==h&&!l.mint)return d.widgets.errorMessageBlock(t,'Can\'t do selector with no options, subject= '+r+' property = '+o+'.');d.log.debug('makeSelectForOptions: store='+f);var y=function t(){return v={},o.sameTerm(d.ns.rdf('type'))?v=a.findTypeURIs(r):a.each(r,o).map(function(t){v[t.uri]=!0}),v},v=y(),w=function n(s){function c(t,n){m(t,n)}x.disabled=!0;for(var u=[],h=[],g=function n(s){a.holds(r,o,s,f)&&u.push($rdf.st(r,o,s,f))},b=0,w;b<x.options.length;b++){if(w=x.options[b],w.selected&&w.AJAR_mint){var _;if(l.mintClass){var k=d.widgets.promptForNew(t,a,r,o,l.mintClass,null,f,function(t,n){t||m(t,n)});x.parentNode.appendChild(k),_=k.AJAR_subject}else _=d.widgets.newThing(f);h.push($rdf.st(r,o,_,f)),l.mintStatementsFun&&(h=h.concat(l.mintStatementsFun(_)))}w.AJAR_uri&&(w.selected&&!(w.AJAR_uri in v)&&h.push($rdf.st(r,o,a.sym(w.AJAR_uri),f)),!w.selected&&w.AJAR_uri in v&&g(a.sym(w.AJAR_uri)),w.selected&&(x.currentURI=w.AJAR_uri))}for(var C=x.subSelect;C&&C.currentURI;)g(a.sym(C.currentURI)),C=C.subSelect;for(C=x.superSelect;C&&C.currentURI;)g(a.sym(C.currentURI)),C=C.superSelect;d.log.info('selectForOptions: stote = '+f),d.store.updater.update(u,h,function(n,a,r){if(v=y(),a&&(x.disabled=!1,_)){var o=d.widgets.fieldFunction(t,l.subForm);o(t,x.parentNode,{},_,l.subForm,f,c)}m&&m(a,r)})},x=t.createElement('select');for(var _ in x.setAttribute('style','margin: 0.6em 1.5em;'),l.multiple&&x.setAttribute('multiple','true'),x.currentURI=null,x.refresh=function(){v=y();for(var t=0,n;t<x.children.length;t++)n=x.children[t],n.AJAR_uri&&(n.selected=n.AJAR_uri in v);x.disabled=!1},n){var k=a.sym(_),c=t.createElement('option');l.disambiguate?c.appendChild(t.createTextNode(u.labelWithOntology(k,!0))):c.appendChild(t.createTextNode(u.label(k,!0)));var C=a.any(k,a.sym('http://www.w3.org/ns/ui#backgroundColor'));C&&c.setAttribute('style','background-color: '+C.value+'; '),c.AJAR_uri=_,_ in v&&(c.setAttribute('selected','true'),x.currentURI=_),x.appendChild(c)}if(l.mint){var T=t.createElement('option');T.appendChild(t.createTextNode(l.mint)),T.AJAR_mint=!0,x.insertBefore(T,x.firstChild)}if(null==x.currentURI&&!l.multiple){var E=t.createElement('option');E.appendChild(t.createTextNode(l.nullLabel)),x.insertBefore(E,x.firstChild),E.selected=!0}return x.addEventListener('change',w,!1),x},d.widgets.makeSelectForCategory=function(t,n,a,r,o,s){var l=d.log,c=n.any(r,d.ns.owl('disjointUnionOf')),u=!1,f;return c?f=c.elements:(f=n.each(void 0,d.ns.rdfs('subClassOf'),r),u=!0),l.debug('Select list length '+f.length),0===f.length?d.widgets.errorMessageBlock(t,'Can\'t do '+(u?'multiple ':'')+'selector with no subclasses of category: '+r):1===f.length?d.widgets.errorMessageBlock(t,'Can\'t do '+(u?'multiple ':'')+'selector with only 1 subclass of category: '+r+':'+f[1]):d.widgets.makeSelectForOptions(t,n,a,d.ns.rdf('type'),f,{multiple:u,nullPrompt:'--classify--'},o,s)},d.widgets.makeSelectForNestedCategory=function(t,n,a,r,o,s){var l=t.createElement('span'),c=null,u=function t(n,a){n&&m(),s(n,a)},f;f=d.widgets.makeSelectForCategory(t,n,a,r,o,u),l.appendChild(f);var m=function r(){c&&(l.removeChild(c),c=null),f.currentURI&&n.any(n.sym(f.currentURI),d.ns.owl('disjointUnionOf'))&&(c=d.widgets.makeSelectForNestedCategory(t,n,a,n.sym(f.currentURI),o,s),f.subSelect=c.firstChild,f.subSelect.superSelect=f,l.appendChild(c))};return m(),l},d.widgets.selectorPanel=function(t,n,a,r,o,s,l,c,u){return d.widgets.selectorPanelRefresh(t.createElement('div'),t,n,a,r,o,s,l,c,u)},d.widgets.selectorPanelRefresh=function(t,n,a,r,o,s,l,c,u,f){var m='border: 0.1em solid #ddd; border-bottom: none; width: 95%; height: 2em; padding: 0.5em;',h=null;t.innerHTML='';for(var g=function t(l,g){var b=function t(){var n=s?a.each(void 0,o,g):a.each(g,o);k.setAttribute('class',0===n.length?'hideTillHover':''),w.setAttribute('src',c.connectIcon||d.icons.iconBase+'noun_25830.svg'),w.setAttribute('title',n.length?n.length:'attach')},y=d.widgets.index.twoLine.widgetForClass(r),v,w;v=y(n,g),v.setAttribute('style',m);var x=n.createElement('div');x.setAttribute('class','hideTillHover'),x.setAttribute('style','float:right; width:10%');var _=n.createElement('a');_.setAttribute('href',g.uri),_.setAttribute('style','float:right'),x.appendChild(_).textContent='>',l.appendChild(x);var k=n.createElement('div');return k.setAttribute('style',(s?'float:left;':'float:right;')+' width:30px;'),w=n.createElement('img'),b(),k.appendChild(w),l.appendChild(k),v.addEventListener('click',function(t){h===v?(v.setAttribute('style',m),h=null):(h&&h.setAttribute('style',m),v.setAttribute('style',m+'background-color: #ccc; color:black;'),h=v),u(g,t,h===v),b()},!1),w.addEventListener('click',function(t){f(g,t,s,b)},!1),l.appendChild(v),l},b=0,y;b<l.length;b++)y=n.createElement('div'),t.appendChild(y),g(y,l[b]);return t},d.widgets.index={},d.widgets.index.line={},d.widgets.index.twoLine={},d.widgets.index.twoLine['']=function(t,n){var a=t.createElement('div');return a.textContent=u.label(n),a},d.widgets.index.twoLine.widgetForClass=function(t){var n=d.widgets.index.twoLine[t.uri],a=d.store;if(n)return n;var r=a.findSuperClassesNT(t);for(var o in r)if(n=d.widgets.index.twoLine[a.fromNT(o).uri],n)return n;return d.widgets.index.twoLine['']},d.widgets.index.twoLine['http://www.w3.org/2000/10/swap/pim/qif#Transaction']=function(t,n){var a='',r=function t(r){var o=d.store.any(n,d.ns.qu(r));return o||(a+='@@ No value for '+r+'! '),o?u.escapeForXML(o.value):'?'},o=t.createElement('table');return o.innerHTML='<tr><td colspan="2">'+r('payee')+'</td></tr>\n<tr><td><td>'+r('date').slice(0,10)+'</td><td style="text-align: right;">'+r('amount')+'</td></tr>',a&&(o.innerHTML='<tr><td><a href="'+u.escapeForXML(n.uri)+'">'+u.escapeForXML(a)+'</a></td></tr>'),o},d.widgets.index.twoLine['http://www.w3.org/ns/pim/trip#Trip']=function(t,n){var a=function t(a){var r=d.store.any(n,a);return r?u.escapeForXML(r.value):'?'},r=t.createElement('table');return r.innerHTML='<tr><td colspan="2">'+a(d.ns.dc('title'))+'</td></tr>\n<tr style="color: #777"><td><td>'+a(d.ns.cal('dtstart'))+'</td><td>'+a(d.ns.cal('dtend'))+'</td></tr>',r},d.widgets.addStyleSheet=function(t,n){for(var a=t.querySelectorAll('link'),r=0;r<a.length;r++)if('stylesheet'===(a[r].getAttribute('rel')||'')&&(a[r].getAttribute('href')||'')===n)return;var o=t.createElement('link');o.setAttribute('rel','stylesheet'),o.setAttribute('type','text/css'),o.setAttribute('href',n),t.getElementsByTagName('head')[0].appendChild(o)},d.widgets.isAudio=function(t){return d.widgets.isImage(t,'audio')},d.widgets.isVideo=function(t){return d.widgets.isImage(t,'video')},d.widgets.isImage=function(n,a){var r={audio:'http://purl.org/dc/dcmitype/Sound',image:'http://purl.org/dc/dcmitype/Image',video:'http://purl.org/dc/dcmitype/MovingImage'},o=a||'image',s=d.store.findTypeURIs(n),l=$rdf.Util.mediaTypeClass(o+'/*').uri.split('*')[0];for(var c in s)if(c.startsWith(l))return!0;return!!(r[o]in s)}},function(t,n,a){'use strict';function r(t,n){if(Array.isArray(t))return t.slice();if(!t)return[];var a=[];if(!('string'==typeof t))for(r=0;r<t.length;r++)a[r]=0|t[r];else if(!n)for(var r=0;r<t.length;r++){var o=t.charCodeAt(r),s=o>>8,d=255&o;s?a.push(s,d):a.push(d)}else if('hex'===n)for(t=t.replace(/[^a-z0-9]+/ig,''),0!=t.length%2&&(t='0'+t),r=0;r<t.length;r+=2)a.push(parseInt(t[r]+t[r+1],16));return a}function o(t){for(var n='',a=0;a<t.length;a++)n+=l(t[a].toString(16));return n}function s(t){var n=t>>>24|65280&t>>>8|16711680&t<<8|(255&t)<<24;return n>>>0}function d(t,n){for(var a='',r=0,o;r<t.length;r++)o=t[r],'little'===n&&(o=s(o)),a+=c(o.toString(16));return a}function l(t){return 1===t.length?'0'+t:t}function c(t){return 7===t.length?'0'+t:6===t.length?'00'+t:5===t.length?'000'+t:4===t.length?'0000'+t:3===t.length?'00000'+t:2===t.length?'000000'+t:1===t.length?'0000000'+t:t}function u(t,n,a,r){var o=a-n;j(0==o%4);for(var s=Array(o/4),d=0,l=n;d<s.length;d++,l+=4){var c;c='big'===r?t[l]<<24|t[l+1]<<16|t[l+2]<<8|t[l+3]:t[l+3]<<24|t[l+2]<<16|t[l+1]<<8|t[l],s[d]=c>>>0}return s}function f(t,n){for(var a=Array(4*t.length),r=0,o=0,s;r<t.length;r++,o+=4)s=t[r],'big'===n?(a[o]=s>>>24,a[o+1]=255&s>>>16,a[o+2]=255&s>>>8,a[o+3]=255&s):(a[o+3]=s>>>24,a[o+2]=255&s>>>16,a[o+1]=255&s>>>8,a[o]=255&s);return a}function m(t,n){return t>>>n|t<<32-n}function h(t,n){return t<<n|t>>>32-n}function g(t,n){return t+n>>>0}function b(t,n,a){return t+n+a>>>0}function y(t,n,a,r){return t+n+a+r>>>0}function v(t,n,a,r,o){return t+n+a+r+o>>>0}function w(t,n,a,r){var o=t[n],s=t[n+1],d=r+s>>>0,l=(d<r?1:0)+a+o;t[n]=l>>>0,t[n+1]=d}function x(t,n,a,r){var o=n+r>>>0,s=(o<n?1:0)+t+a;return s>>>0}function _(t,n,a,r){var o=n+r;return o>>>0}function k(t,n,a,r,o,s,d,l){var c=0,u=n;u=u+r>>>0,c+=u<n?1:0,u=u+s>>>0,c+=u<s?1:0,u=u+l>>>0,c+=u<l?1:0;var f=t+a+o+d+c;return f>>>0}function C(t,n,a,r,o,s,d,l){var c=n+r+s+l;return c>>>0}function T(t,n,a,r,o,s,d,l,c,u){var f=0,m=n;m=m+r>>>0,f+=m<n?1:0,m=m+s>>>0,f+=m<s?1:0,m=m+l>>>0,f+=m<l?1:0,m=m+u>>>0,f+=m<u?1:0;var h=t+a+o+d+c+f;return h>>>0}function E(t,n,a,r,o,s,d,l,c,u){var f=n+r+s+l+u;return f>>>0}function S(t,n,a){var o=n<<32-a|t>>>a;return o>>>0}function A(t,n,a){var o=t<<32-a|n>>>a;return o>>>0}function I(t,n,a){return t>>>a}function N(t,n,a){var o=t<<32-a|n>>>a;return o>>>0}var j=a(15),R=a(2);n.inherits=R,n.toArray=r,n.toHex=o,n.htonl=s,n.toHex32=d,n.zero2=l,n.zero8=c,n.join32=u,n.split32=f,n.rotr32=m,n.rotl32=h,n.sum32=g,n.sum32_3=b,n.sum32_4=y,n.sum32_5=v,n.sum64=w,n.sum64_hi=x,n.sum64_lo=_,n.sum64_4_hi=k,n.sum64_4_lo=C,n.sum64_5_hi=T,n.sum64_5_lo=E,n.rotr64_hi=S,n.rotr64_lo=A,n.shr64_hi=I,n.shr64_lo=N},function(t,n,a){'use strict';function r(){return'v'+P++}function o(){P=0}function s(){if(M){var t=M,n=new t;return function(t,a,r,o){t=+(t||0.3),r=r||'sine','function'!=typeof o&&(o=function t(){});var s=n.createOscillator();s.type=r,s.frequency.value=a||256,s.connect(n.destination),s.start(0),s.stop(t)}}}function d(t){t=t.uri||t;var n=function t(n){return n.split('').reduce(function(t,n){return t=(t<<5)-t+n.charCodeAt(0),t&t},0)};return'#'+(12632256|16777215&n(t)).toString(16)}function l(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var n=0|16*Math.random(),a='x'===t?n:8|3&n;return a.toString(16)})}function c(t,n,a){var r,o,s;for(s=0;s<t.children.length;s++)o=t.children[s],o.trashMe=!0;for(var d=0,l;d<n.length;d++){for(l=n[d],r=!1,s=0;s<t.children.length;s++)if(o=t.children[s],o.subject&&o.subject.sameTerm(l)){o.trashMe=!1,r=!0;break}if(!r){var c=a(l);if(d>=n.length)t.appendChild(c);else{var u=t.children[d];t.insertBefore(c,u)}c.subject=l}}for(s=0;s<t.children.length;s++)o=t.children[s],o.trashMe&&t.removeChild(o)}function u(t){var n=''+t+'\n',a;if(!t.stack)return n+'No stack available.\n';var r=t.stack.toString().split('\n'),o=[];for(a=0;a<r.length;a++){var s=r[a];if(-1<s.indexOf('ecmaunit.js'))break;'('===s.charAt(0)&&(s='function'+s);var d=s.split('@');o.push(d)}for(a=0;a<o.length;a++)n+='  '+o[a][1]+'\n    '+o[a][0];return n}function f(t){var n=t.childNodes,a=n.length,r;for(r=a-1;0<=r;r--)t.removeChild(n[r]);return t}function m(t){var n;return t=t||window.event,t.target?n=t.target:t.srcElement&&(n=t.srcElement),3===n.nodeType&&(n=n.parentNode),n}function h(t,n){var a;for(a=t;a;a=a.parentNode)try{if(a.tagName===n)return a}catch(t){return}}function g(t,n){var a,r;for(a=n;a&&1===a.nodeType;a=a.parentNode)if(r=a.getAttribute('about'),r)return t.fromNT(r);O.log.debug('getAbout: No about found')}function b(t){var n=t.parentNode,a=n?n.AJAR_statement:void 0,r=a?t.className:'';return'pred'===r||'pred selected'===r?a.predicate:'obj'===r||'obj selected'===r?n.AJAR_inverse?a.subject:a.object:''===r||'selected'===r?g(O.store,t):'undetermined selected'===r?t.nextSibling?a.predicate:n.AJAR_inverse?a.subject:a.object:void 0}function y(t,n){var a=t.createElement('script');return a.setAttribute('type','text/javascript'),a.setAttribute('src',n),a}function v(t){var n=window.onload;window.onload='function'==typeof window.onload?function(){n(),t()}:t}function w(t){var n=t.ownerDocument,a=n.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return[r.left-a.left,r.top-a.top]}function x(t,n,a,r){function o(){r.scrollBy(0,d/10),c++,10==c&&r.clearInterval(l)}r||(r=window);var s=w(t)[1],d=s-52-r.scrollY;if(n)return a?void r.scrollBy(0,s+t.clientHeight-(r.scrollY+r.innerHeight)):void r.scrollBy(0,d);var l=r.setInterval(o,50),c=0}function _(t,n,a,r){r||(r=document);var o=r.createElement('img');return o.setAttribute('src',t),o.addEventListener('copy',function(t){t.clipboardData.setData('text/plain',''),t.clipboardData.setData('text/html',''),t.preventDefault()}),'undefined'!=typeof a&&o.setAttribute('title',a),o}function k(t){var n=t;0<='#/'.indexOf(n[n.length-1])&&(n=n.slice(0,-1));var a=[];for(var r in this.prefixes)a[this.prefixes[r]]=r;var o=function t(n){return'ns'!==n&&(d=n,!0)},s=n.lastIndexOf('#'),d,l;for(0<=s&&(n=n.slice(s-1));;){var c=n.lastIndexOf('/');for(0<=c&&(n=n.slice(c+1)),l=0;l<n.length&&this.prefixchars.indexOf(n[l]);)l++;if(n=n.slice(0,l),6>n.length&&o(n))return d;if(o(n.slice(0,3)))return d;if(o(n.slice(0,2)))return d;if(o(n.slice(0,4)))return d;if(o(n.slice(0,1)))return d;if(o(n.slice(0,5)))return d;for(l=0;;l++)if(o(n.slice(0,3)+l))return d}}function C(t){if(t.uri===void 0)return'??';var n=t.uri,a=[],r=n.lastIndexOf('#'),o;if(0<=r)n=n.slice(0,r+1);else if(r=n.lastIndexOf('/'),0<=r)n=n.slice(0,r+1);else return t.uri+'?!';for(var s in O.ns)a[O.ns[s]]=s;try{return a[n]}catch(t){}for(n=n.slice(0,-1);n;){if(r=n.lastIndexOf('/'),!(0<=r))return t.uri+'!?';if(o=n.slice(r+1),n=n.slice(0,r),'ns'!==o&&0>'0123456789'.indexOf(o[0]))return o}}function T(n,a){var r=O.store.findTypeURIs(n);return r[O.ns.rdf('Predicate').uri]||r[O.ns.rdfs('Class').uri]?E(n,a)+' ('+C(n)+')':E(n,a)}function E(t,n){function a(t){return n?t.slice(0,1).toUpperCase()+t.slice(1):t}function r(t){var n='';'/'===t.slice(-1)&&(t=t.slice(0,-1));for(var r=0;r<t.length;r++){if('_'===t[r]||'-'===t[r]){n+=' ';continue}n+=t[r],r+1<t.length&&t[r].toUpperCase()!==t[r]&&t[r+1].toLowerCase()!==t[r+1]&&(n+=' ')}return'has '===n.slice(0,4)&&(n=n.slice(4)),a(n)}var o;if('undefined'!=typeof tabulator&&tabulator.lb&&(o=tabulator.lb.label(t),o))return a(o.value);var d=O.store,l=d.any(t,O.ns.link('message'))||d.any(t,O.ns.vcard('fn'))||d.any(t,O.ns.foaf('name'))||d.any(t,O.ns.dct('title'))||d.any(t,O.ns.dc('title'))||d.any(t,O.ns.rss('title'))||d.any(t,O.ns.contact('fullName'))||d.any(t,d.sym('http://www.w3.org/2001/04/roadmap/org#name'))||d.any(t,O.ns.cal('summary'))||d.any(t,O.ns.foaf('nick'))||d.any(t,O.ns.rdfs('label'));if(l)return a(l.value);if('BlankNode'===t.termType)return'...';if('Collection'===t.termType)return'('+t.elements.length+')';var c=t.uri;if('undefined'==typeof c)return t.toString();try{c=c.split('/').map(decodeURIComponent).join('/')}catch(t){for(var u=c.length-3,f;0<u;u--)for(f='0123456789abcefABCDEF';'%'===c[u]&&0<=f.indexOf(c[u+1])&&0<=f.indexOf(c[u+2]);)c=c.slice(0,u)+_StringfromCharCode(parseInt(c.slice(u+1,u+3),16))+c.slice(u+3)}'#this'===c.slice(-5)?c=c.slice(0,-5):'#me'===c.slice(-3)&&(c=c.slice(0,-3));var m=c.indexOf('#');if(0<=m)return r(c.slice(m+1));'/foaf.rdf'===c.slice(-9)?c=c.slice(0,-9):'/foaf'===c.slice(-5)&&(c=c.slice(0,-5));var h=c.lastIndexOf('/',c.length-2);return 0<=h&&h<t.uri.length?r(c.slice(h+1)):a(decodeURIComponent(t.uri))}function S(t){return t.replace(/&/g,'&amp;').replace(/</g,'&lt;')}function A(t){return S(E(t))}function I(t,n){var a;if(n){var r=O.store.any(t,O.ns.owl('inverseOf'));if(r||(r=O.store.any(void 0,O.ns.owl('inverseOf'),t)),r)return A(r)}return a=A(t),n?'type'===a?'...':'is '+a+' of':a}function N(t,n){var a=t.predicate.compareTerm(n.predicate);return 0===a?t.object.compareTerm(n.object):a}function j(t,n){var a=t.predicate.compareTerm(n.predicate);return 0===a?t.subject.compareTerm(n.subject):a}function R(t){for(var a=t;!0;){if(a.getAttribute('predTR'))return a;if(a.previousSibling&&'TR'===a.previousSibling.nodeName)a=a.previousSibling;else return O.log.error('Could not find predParent'),t}}function L(t,n,a){function o(t,n){return l?new O.rdf.Statement(t,x.predicate,n):new O.rdf.Statement(n,x.predicate,t)}function s(t){return this.describe=function(n){return n+' = '+t.toNT()},this.test=function(n){return t.sameTerm(n)},this}var d=O.store,l=n.AJAR_inverse,c=null,u,f,m,h,g;for(h=n.parentNode;h;h=h.parentNode)if('undefined'!=typeof h.AJAR_statement){h.setAttribute('bla',h.AJAR_statement),h.AJAR_variable||L(t,h),m=h.AJAR_variable;var b=R(h);b.getAttribute('optionalSubqueriesIndex')&&(c=b.getAttribute('optionalSubqueriesIndex'),g=D[c]);break}g||(g=t.pat);var y=R(n),v=y.getAttribute('optional');if(v||(c?y.setAttribute('optionalSubqueriesIndex',c):y.removeAttribute('optionalSubqueriesIndex')),v){var w=d.formula();D.push(w),y.setAttribute('optionalSubqueriesIndex',D.length-1),g.optional.push(w),g=w}var x=n.AJAR_statement,_=n.AJAR_inverse?x.subject:x.object,k=!0;return _.isBlank&&a&&window.alert('You cannot constrain a query with a blank node. No constraint will be added.'),m||(k=!1,m=l?x.object:x.subject),f=n.AJAR_variable?n.AJAR_variable:d.variable(r()),t.vars.push(f),f.label=k?m.label:E(m),f.label+=' '+I(x.predicate,l),u=o(f,m),f.label=f.label.slice(0,1).toUpperCase()+f.label.slice(1),a&&(g.constraints[f]=new s(_)),O.log.info('Pattern: '+u),u.tr=n,n.AJAR_pattern=u,n.AJAR_variable=f,O.log.debug('Query pattern: '+u),g.statements.push(u),f}t.exports={addLoadEvent:v,AJARImage:_,ancestor:h,beep:s,clearVariableNames:o,emptyNode:f,escapeForXML:S,findPos:w,genUuid:l,getAbout:g,getEyeFocus:x,getTarget:m,getTerm:b,hashColor:d,include:y,label:E,labelForXML:A,labelWithOntology:T,makeQueryRow:L,newVariableName:r,ontologyLabel:C,predicateLabelForXML:I,predParentOf:R,RDFComparePredicateObject:N,RDFComparePredicateSubject:j,shortName:k,stackString:u,syncTableToArray:c};var O={log:a(19),ns:a(7),rdf:a(18),store:a(14)},P=0,M;'undefined'==typeof AudioContext?'undefined'!=typeof window&&(M=window.AudioContext||window.webkitAudioContext):M=AudioContext;var D=[]},function(t,n,a){'use strict';(function(t){function n(t,n,a){var r=null;if('undefined'!=typeof t.fetcher)r=t.fetcher;else return;if('NamedNode'===n.termType){var o=w(n.uri),s;if(0>n.uri.indexOf('#')){if(b(n.uri,'http://dbpedia.org/resource/Category:'))return;b(n.uri,'http://purl.org/dc/elements/1.1/')||b(n.uri,'http://purl.org/dc/terms/')?s='http://dublincore.org/2005/06/13/dcq':b(n.uri,'http://xmlns.com/wot/0.1/')?s='http://xmlns.com/wot/0.1/index.rdf':b(n.uri,'http://web.resource.org/cc/')&&(s='http://web.resource.org/cc/schema.rdf')}return(s&&(o=s),!(r&&'unrequested'!==r.getState(o)))?(s&&x.warn('Assuming server still broken, faking redirect of <'+n.uri+'> to <'+o+'>'),r.fetch(o,{referringTerm:a})):void 0}}function r(t,n,a){a||(a=0);var r=t.length;for(0>a&&(a=r+a);a<r;a++)if(t[a]===n)return a;return-1}function o(t,n){t.callbacks={};for(var a=n.length-1;0<=a;a--)t.callbacks[n[a]]=[];t.addHook=function(n){t.callbacks[n]||(t.callbacks[n]=[])},t.addCallback=function(n,a){t.callbacks[n].push(a)},t.removeCallback=function(n,a){for(var r=0;r<t.callbacks[n].length;r++)if(t.callbacks[n][r].name===a)return t.callbacks[n].splice(r,1),!0;return!1},t.insertCallback=function(n,a){t.callbacks[n].unshift(a)},t.fireCallbacks=function n(a,r){var o=[],s=[],d=t.callbacks[a].length,l,c;for(l=d-1;0<=l;l--)c=t.callbacks[a][l],c&&c.apply(t,r)&&o.push(c);for(l=o.length-1;0<=l;l--)s.push(o[l]);for(l=d;l<t.callbacks[a].length;l++)s.push(t.callbacks[a][l]);t.callbacks[a]=s}}function s(){return tabulator&&tabulator.isExtension?Components.classes['@mozilla.org/xmlextras/domparser;1'].getService(Components.interfaces.nsIDOMParser):window.DOMParser?new DOMParser:!!window.ActiveXObject&&new ActiveXObject('Microsoft.XMLDOM')}function d(t,n){n=n||{};var a=[];'selfClosing'in n&&n.selfClosing.split(' ').forEach(function(t){a[t]=!0});var r=[];return'skipAttributes'in n&&n.skipAttributes.split(' ').forEach(function(t){r[t]=!0}),l(t,n,a,r)}function l(t,n,a,r){var o='',s=[!1],d;if('undefined'==typeof t.nodeType)return o;if(1===t.nodeType){if(t.hasAttribute('class')&&'classWithChildText'in n&&t.matches(n.classWithChildText.class))o+=t.querySelector(n.classWithChildText.element).textContent;else if(!('skipNodeWithClass'in n&&t.matches('.'+n.skipNodeWithClass))){var c=t.nodeName.toLowerCase();o+='<'+c;var u=[];for(d=t.attributes.length-1;0<=d;d--){var f=t.attributes[d];if(!(0<r.length&&r[f.name])&&!/^\d+$/.test(f.name)){if('class'===f.name&&'replaceClassItemWith'in n&&-1<f.value.split(' ').indexOf(n.replaceClassItemWith.source)){var m=new RegExp(n.replaceClassItemWith.source,'g');f.value=f.value.replace(m,n.replaceClassItemWith.target).trim()}'class'===f.name&&'skipClassWithValue'in n&&n.skipClassWithValue===f.value||u.push(f.name+'=\''+f.value.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/'/g,'&quot;')+'\'')}}if(0<u.length&&('sortAttributes'in n&&n.sortAttributes&&u.sort(function(t,n){return t.toLowerCase().localeCompare(n.toLowerCase())}),o+=' '+u.join(' ')),a[c])o+=' />';else{for(o+='>',o+='html'===c?'\n  ':'',s.push('style'===c||'script'===c),d=0;d<t.childNodes.length;d++)o+=l(t.childNodes[d]);s.pop(),o+='body'===c?'</'+c+'>\n':'</'+c+'>'}}}else if(8===t.nodeType)o+='<!--'+t.nodeValue+'-->';else if(3===t.nodeType||4===t.nodeType){var h=t.nodeValue.replace(/\n+$/,'');o+=s[s.length-1]?h:h.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}else console.log('Warning; Cannot handle serialising nodes of type: '+t.nodeType),console.log(t);return o}function c(){var t=new Date,n=t.getYear()+1900,a=t.getMonth()+1,r=t.getDate(),o=t.getUTCHours(),s=t.getUTCMinutes(),d=t.getSeconds();return 10>a&&(a='0'+a),10>r&&(r='0'+r),10>o&&(o='0'+o),10>s&&(s='0'+s),10>d&&(d='0'+d),n+'-'+a+'-'+r+'T'+o+':'+s+':'+d+'Z'}function u(t,n,a,r){var o=function t(n){return'BlankNode'===n.termType?null:n},s=function t(n){var r=a.statementsMatching(n).map(function(t){return''+o(t.subject)+' '+o(t.predicate)+' '+o(t.object)}).concat(a.statementsMatching(void 0,void 0,n).map(function(t){return''+o(t.subject)+' '+o(t.predicate)+' '+o(t.object)}));return r.sort(),r.join('\n')};return'BlankNode'===t.termType&&'BlankNode'===n.termType?0===t.compareTerm(n)?0:s(t)>s(n)?1:s(t)<s(n)?-1:t.compareTerm(n):r&&t.uri&&n.uri?(r[t.uri]||t.uri).localeCompare(r[n.uri]||n.uri):t.compareTerm(n)}function f(t,n,a,r){return u(t.subject,n.subject,a,r)||u(t.predicate,n.predicate,a,r)||u(t.object,n.object,a,r)}function m(t){var n=document.createElement('div');n.textContent=t,document.body.appendChild(n)}function h(n,r){var o;if(r=r||{},'undefined'!=typeof tabulator&&tabulator.isExtension)o=Components.classes['@mozilla.org/xmlextras/domparser;1'].getService(Components.interfaces.nsIDOMParser);else{if('undefined'!=typeof t&&t&&t.exports){var s=a(41).DOMParser,d=new s().parseFromString(n,r.contentType||'application/xhtml+xml');return d}o='undefined'!=typeof window&&window.DOMParser?new window.DOMParser:new s}return o.parseFromString(n,'application/xml')}function g(t,n){for(var a=0;a<t.length;a++)if(t[a].subject.sameTerm(n.subject)&&t[a].predicate.sameTerm(n.predicate)&&t[a].object.sameTerm(n.object)&&t[a].why.sameTerm(n.why))return void t.splice(a,1);throw new Error('RDFArrayRemove: Array did not contain '+n+' '+n.why)}function b(t,n){return t.slice(0,n.length)===n}function y(t,n){for(var a=t.split('%s'),r='',o=0;o<n.length;o++)n[o]+='',r+=a[o]+n[o];return r+a.slice(n.length).join()}function v(t){var n=''+t+'\n';if(!t.stack)return n+'No stack available.\n';for(var a=t.stack.toString().split('\n'),r=[],o=0,s;o<a.length&&(s=a[o],!(-1<s.indexOf('ecmaunit.js')));o++){'('==s.charAt(0)&&(s='function'+s);var d=s.split('@');r.push(d)}for(var o=0;o<r.length;o++)n+='  '+r[o][1]+'\n    '+r[o][0];return n}var w=a(11).docpart,x=a(32),_=a(6);t.exports.AJAR_handleNewTerm=n,t.exports.ArrayIndexOf=r,t.exports.callbackify=o,t.exports.dtstamp=c,t.exports.DOMParserFactory=s,t.exports.domToString=d,t.exports.dumpNode=l,t.exports.heavyCompare=u,t.exports.heavyCompareSPO=f,t.exports.output=m,t.exports.parseXML=h,t.exports.RDFArrayRemove=g,t.exports.stackString=v,t.exports.string_startswith=b,t.exports.string={},t.exports.string.template=y,t.exports.uri=a(11),t.exports.log=x,t.exports.mediaTypeClass=function(t){return t=t.split(';')[0].trim(),new _('http://www.w3.org/ns/iana/media-types/'+t+'#Resource')}}).call(n,a(10)(t))},function(t,n,a){(function(t){(function(t,n){'use strict';function o(t,n){if(!t)throw new Error(n||'Assertion failed')}function r(t,n){t.super_=n;var a=function(){};a.prototype=n.prototype,t.prototype=new a,t.prototype.constructor=t}function d(t,n,a){return d.isBN(t)?t:void(this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(('le'===n||'be'===n)&&(a=n,n=10),this._init(t||0,n||10,a||'be')))}function s(t,n,a){for(var o=0,r=_Mathmin(t.length,a),s=n,d;s<r;s++)d=t.charCodeAt(s)-48,o<<=4,o|=49<=d&&54>=d?d-49+10:17<=d&&22>=d?d-17+10:15&d;return o}function l(t,n,a,o){for(var s=0,r=_Mathmin(t.length,a),d=n,l;d<r;d++)l=t.charCodeAt(d)-48,s*=o,s+=49<=l?l-49+10:17<=l?l-17+10:l;return s}function c(t){for(var n=Array(t.bitLength()),a=0;a<n.length;a++){var r=0|a/26,o=a%26;n[a]=(t.words[r]&1<<o)>>>o}return n}function u(t,n,o){o.negative=n.negative^t.negative;var s=0|t.length+n.length;o.length=s,s=0|s-1;var d=0|t.words[0],a=0|n.words[0],l=d*a,r=67108863&l,c=0|l/67108864;o.words[0]=r;for(var u=1;u<s;u++){for(var f=c>>>26,m=67108863&c,h=_Mathmin(u,n.length-1),g=_Mathmax(0,u-t.length+1),b;g<=h;g++)b=0|u-g,d=0|t.words[b],a=0|n.words[g],l=d*a+m,f+=0|l/67108864,m=67108863&l;o.words[u]=0|m,c=0|f}return 0==c?o.length--:o.words[u]=0|c,o.strip()}function f(t,n,o){o.negative=n.negative^t.negative,o.length=t.length+n.length;for(var s=0,d=0,l=0,c;l<o.length-1;l++){c=d,d=0;for(var u=67108863&s,f=_Mathmin(l,n.length-1),m=_Mathmax(0,l-t.length+1);m<=f;m++){var h=l-m,g=0|t.words[h],a=0|n.words[m],b=g*a,r=67108863&b;c=0|c+(0|b/67108864),r=0|r+u,u=67108863&r,c=0|c+(r>>>26),d+=c>>>26,c&=67108863}o.words[l]=u,s=c,c=d}return 0==s?o.length--:o.words[l]=s,o.strip()}function m(t,n,a){var r=new h;return r.mulp(t,n,a)}function h(t,n){this.x=t,this.y=n}function g(t,n){this.name=t,this.p=new d(n,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function y(){g.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function v(){g.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function w(){g.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var n=d._prime(t);this.m=n.p,this.prime=n}else o(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function _(t){x.call(this,t),this.shift=this.m.bitLength(),0!=this.shift%26&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}'object'==typeof t?t.exports=d:n.BN=d,d.BN=d,d.wordSize=26;var k;try{k=a(294).Buffer}catch(t){}d.isBN=function t(n){return!!(n instanceof d)||null!==n&&'object'==typeof n&&n.constructor.wordSize===d.wordSize&&Array.isArray(n.words)},d.max=function t(n,a){return 0<n.cmp(a)?n:a},d.min=function t(n,a){return 0>n.cmp(a)?n:a},d.prototype._init=function t(n,a,r){if('number'==typeof n)return this._initNumber(n,a,r);if('object'==typeof n)return this._initArray(n,a,r);'hex'===a&&(a=16),o(a===(0|a)&&2<=a&&36>=a),n=n.toString().replace(/\s+/g,'');var s=0;'-'===n[0]&&s++,16===a?this._parseHex(n,s):this._parseBase(n,a,s),'-'===n[0]&&(this.negative=1),this.strip();'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initNumber=function t(n,a,r){0>n&&(this.negative=1,n=-n),67108864>n?(this.words=[67108863&n],this.length=1):4503599627370496>n?(this.words=[67108863&n,67108863&n/67108864],this.length=2):(o(9007199254740992>n),this.words=[67108863&n,67108863&n/67108864,1],this.length=3);'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initArray=function t(n,a,r){if(o('number'==typeof n.length),0>=n.length)return this.words=[0],this.length=1,this;this.length=_Mathceil(n.length/3),this.words=Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var d=0,l,c;if('be'===r)for(s=n.length-1,l=0;0<=s;s-=3)c=n[s]|n[s-1]<<8|n[s-2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);else if('le'===r)for(s=0,l=0;s<n.length;s+=3)c=n[s]|n[s+1]<<8|n[s+2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);return this.strip()},d.prototype._parseHex=function t(n,a){this.length=_Mathceil((n.length-a)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o=0,d,l;for(r=n.length-6,d=0;r>=a;r-=6)l=s(n,r,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o,o+=24,26<=o&&(o-=26,d++);r+6!==a&&(l=s(n,a,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o),this.strip()},d.prototype._parseBase=function t(n,a,r){this.words=[0],this.length=1;for(var o=0,s=1;67108863>=s;s*=a)o++;o--,s=0|s/a;for(var d=n.length-r,c=d%o,u=_Mathmin(d,d-c)+r,f=0,m=r;m<u;m+=o)f=l(n,m,m+o,a),this.imuln(s),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f);if(0!=c){var h=1;for(f=l(n,m,n.length,a),m=0;m<c;m++)h*=a;this.imuln(h),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f)}},d.prototype.copy=function t(n){n.words=Array(this.length);for(var a=0;a<this.length;a++)n.words[a]=this.words[a];n.length=this.length,n.negative=this.negative,n.red=this.red},d.prototype.clone=function t(){var n=new d(null);return this.copy(n),n},d.prototype._expand=function t(n){for(;this.length<n;)this.words[this.length++]=0;return this},d.prototype.strip=function t(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},d.prototype._normSign=function t(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},d.prototype.inspect=function t(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var C=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,10000000,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function t(n,a){n=n||10,a=0|a||1;var s;if(16===n||'hex'===n){s='';for(var d=0,l=0,u=0;u<this.length;u++){var f=this.words[u],m=(16777215&(f<<d|l)).toString(16);l=16777215&f>>>24-d,s=0!=l||u!==this.length-1?C[6-m.length]+m+s:m+s,d+=2,26<=d&&(d-=26,u--)}for(0!=l&&(s=l.toString(16)+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}if(n===(0|n)&&2<=n&&36>=n){var h=T[n],g=E[n];s='';var b=this.clone();for(b.negative=0;!b.isZero();){var c=b.modn(g).toString(n);b=b.idivn(g),s=b.isZero()?c+s:C[h-c.length]+c+s}for(this.isZero()&&(s='0'+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}o(!1,'Base should be between 2 and 36')},d.prototype.toNumber=function t(){var n=this.words[0];return 2===this.length?n+=67108864*this.words[1]:3===this.length&&1===this.words[2]?n+=4503599627370496+67108864*this.words[1]:2<this.length&&o(!1,'Number can only safely store up to 53 bits'),0===this.negative?n:-n},d.prototype.toJSON=function t(){return this.toString(16)},d.prototype.toBuffer=function t(n,a){return o('undefined'!=typeof k),this.toArrayLike(k,n,a)},d.prototype.toArray=function t(n,a){return this.toArrayLike(Array,n,a)},d.prototype.toArrayLike=function t(n,a,r){var s=this.byteLength(),d=r||_Mathmax(1,s);o(s<=d,'byte array longer than desired length'),o(0<d,'Requested array length <= 0'),this.strip();var l='le'===a,c=new n(d),u=this.clone(),f,m;if(!l){for(m=0;m<d-s;m++)c[m]=0;for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[d-m-1]=f}else{for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[m]=f;for(;m<d;m++)c[m]=0}return c},d.prototype._countBits=_Mathclz?function t(n){return 32-_Mathclz(n)}:function n(a){var o=a,t=0;return 4096<=o&&(t+=13,o>>>=13),64<=o&&(t+=7,o>>>=7),8<=o&&(t+=4,o>>>=4),2<=o&&(t+=2,o>>>=2),t+o},d.prototype._zeroBits=function n(a){if(0===a)return 26;var o=a,t=0;return 0==(8191&o)&&(t+=13,o>>>=13),0==(127&o)&&(t+=7,o>>>=7),0==(15&o)&&(t+=4,o>>>=4),0==(3&o)&&(t+=2,o>>>=2),0==(1&o)&&t++,t},d.prototype.bitLength=function t(){var n=this.words[this.length-1],a=this._countBits(n);return 26*(this.length-1)+a},d.prototype.zeroBits=function t(){if(this.isZero())return 0;for(var n=0,a=0,r;a<this.length&&(r=this._zeroBits(this.words[a]),n+=r,26===r);a++);return n},d.prototype.byteLength=function t(){return _Mathceil(this.bitLength()/8)},d.prototype.toTwos=function t(n){return 0===this.negative?this.clone():this.abs().inotn(n).iaddn(1)},d.prototype.fromTwos=function t(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function t(){return 0!==this.negative},d.prototype.neg=function t(){return this.clone().ineg()},d.prototype.ineg=function t(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function t(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var a=0;a<n.length;a++)this.words[a]|=n.words[a];return this.strip()},d.prototype.ior=function t(n){return o(0==(this.negative|n.negative)),this.iuor(n)},d.prototype.or=function t(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},d.prototype.uor=function t(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},d.prototype.iuand=function t(n){var a;a=this.length>n.length?n:this;for(var r=0;r<a.length;r++)this.words[r]&=n.words[r];return this.length=a.length,this.strip()},d.prototype.iand=function t(n){return o(0==(this.negative|n.negative)),this.iuand(n)},d.prototype.and=function t(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},d.prototype.uand=function t(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},d.prototype.iuxor=function t(n){var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var o=0;o<a.length;o++)this.words[o]=r.words[o]^a.words[o];if(this!==r)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=r.length,this.strip()},d.prototype.ixor=function t(n){return o(0==(this.negative|n.negative)),this.iuxor(n)},d.prototype.xor=function t(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},d.prototype.uxor=function t(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},d.prototype.inotn=function t(n){o('number'==typeof n&&0<=n);var a=0|_Mathceil(n/26),r=n%26;this._expand(a),0<r&&a--;for(var s=0;s<a;s++)this.words[s]=67108863&~this.words[s];return 0<r&&(this.words[s]=~this.words[s]&67108863>>26-r),this.strip()},d.prototype.notn=function t(n){return this.clone().inotn(n)},d.prototype.setn=function t(n,a){o('number'==typeof n&&0<=n);var r=0|n/26,s=n%26;return this._expand(r+1),a?this.words[r]|=1<<s:this.words[r]&=~(1<<s),this.strip()},d.prototype.iadd=function t(n){var o;if(0!==this.negative&&0===n.negative)return this.negative=0,o=this.isub(n),this.negative^=1,this._normSign();if(0===this.negative&&0!==n.negative)return n.negative=0,o=this.isub(n),n.negative=1,o._normSign();var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var s=0,d=0;d<a.length;d++)o=(0|r.words[d])+(0|a.words[d])+s,this.words[d]=67108863&o,s=o>>>26;for(;0!=s&&d<r.length;d++)o=(0|r.words[d])+s,this.words[d]=67108863&o,s=o>>>26;if(this.length=r.length,0!=s)this.words[this.length]=s,this.length++;else if(r!==this)for(;d<r.length;d++)this.words[d]=r.words[d];return this},d.prototype.add=function t(n){var a;return 0!==n.negative&&0===this.negative?(n.negative=0,a=this.sub(n),n.negative^=1,a):0===n.negative&&0!==this.negative?(this.negative=0,a=n.sub(this),this.negative=1,a):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},d.prototype.isub=function t(n){if(0!==n.negative){n.negative=0;var o=this.iadd(n);return n.negative=1,o._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var r=this.cmp(n);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var s,a;0<r?(s=this,a=n):(s=n,a=this);for(var d=0,l=0;l<a.length;l++)o=(0|s.words[l])-(0|a.words[l])+d,d=o>>26,this.words[l]=67108863&o;for(;0!=d&&l<s.length;l++)o=(0|s.words[l])+d,d=o>>26,this.words[l]=67108863&o;if(0==d&&l<s.length&&s!==this)for(;l<s.length;l++)this.words[l]=s.words[l];return this.length=_Mathmax(this.length,l),s!==this&&(this.negative=1),this.strip()},d.prototype.sub=function t(n){return this.clone().isub(n)};var S=function t(n,r,s){var d=n.words,a=r.words,l=s.words,o=0,c=0|d[0],u=8191&c,f=c>>>13,m=0|d[1],h=8191&m,g=m>>>13,b=0|d[2],y=8191&b,v=b>>>13,w=0|d[3],x=8191&w,_=w>>>13,k=0|d[4],C=8191&k,T=k>>>13,E=0|d[5],S=8191&E,A=E>>>13,I=0|d[6],N=8191&I,j=I>>>13,R=0|d[7],L=8191&R,O=R>>>13,P=0|d[8],M=8191&P,D=P>>>13,B=0|d[9],U=8191&B,q=B>>>13,F=0|a[0],z=8191&F,H=F>>>13,W=0|a[1],V=8191&W,G=W>>>13,J=0|a[2],K=8191&J,X=J>>>13,Z=0|a[3],Y=8191&Z,Q=Z>>>13,ee=0|a[4],te=8191&ee,ne=ee>>>13,ae=0|a[5],re=8191&ae,ie=ae>>>13,oe=0|a[6],se=8191&oe,de=oe>>>13,le=0|a[7],pe=8191&le,ce=le>>>13,ue=0|a[8],fe=8191&ue,he=ue>>>13,ge=0|a[9],be=8191&ge,ye=ge>>>13,ve,we,xe;s.negative=n.negative^r.negative,s.length=19,ve=_Mathimul(u,z),we=_Mathimul(u,H),we=0|we+_Mathimul(f,z),xe=_Mathimul(f,H);var _e=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(_e>>>26),_e&=67108863,ve=_Mathimul(h,z),we=_Mathimul(h,H),we=0|we+_Mathimul(g,z),xe=_Mathimul(g,H),ve=0|ve+_Mathimul(u,V),we=0|we+_Mathimul(u,G),we=0|we+_Mathimul(f,V),xe=0|xe+_Mathimul(f,G);var ke=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(ke>>>26),ke&=67108863,ve=_Mathimul(y,z),we=_Mathimul(y,H),we=0|we+_Mathimul(v,z),xe=_Mathimul(v,H),ve=0|ve+_Mathimul(h,V),we=0|we+_Mathimul(h,G),we=0|we+_Mathimul(g,V),xe=0|xe+_Mathimul(g,G),ve=0|ve+_Mathimul(u,K),we=0|we+_Mathimul(u,X),we=0|we+_Mathimul(f,K),xe=0|xe+_Mathimul(f,X);var Ce=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ce>>>26),Ce&=67108863,ve=_Mathimul(x,z),we=_Mathimul(x,H),we=0|we+_Mathimul(_,z),xe=_Mathimul(_,H),ve=0|ve+_Mathimul(y,V),we=0|we+_Mathimul(y,G),we=0|we+_Mathimul(v,V),xe=0|xe+_Mathimul(v,G),ve=0|ve+_Mathimul(h,K),we=0|we+_Mathimul(h,X),we=0|we+_Mathimul(g,K),xe=0|xe+_Mathimul(g,X),ve=0|ve+_Mathimul(u,Y),we=0|we+_Mathimul(u,Q),we=0|we+_Mathimul(f,Y),xe=0|xe+_Mathimul(f,Q);var Te=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Te>>>26),Te&=67108863,ve=_Mathimul(C,z),we=_Mathimul(C,H),we=0|we+_Mathimul(T,z),xe=_Mathimul(T,H),ve=0|ve+_Mathimul(x,V),we=0|we+_Mathimul(x,G),we=0|we+_Mathimul(_,V),xe=0|xe+_Mathimul(_,G),ve=0|ve+_Mathimul(y,K),we=0|we+_Mathimul(y,X),we=0|we+_Mathimul(v,K),xe=0|xe+_Mathimul(v,X),ve=0|ve+_Mathimul(h,Y),we=0|we+_Mathimul(h,Q),we=0|we+_Mathimul(g,Y),xe=0|xe+_Mathimul(g,Q),ve=0|ve+_Mathimul(u,te),we=0|we+_Mathimul(u,ne),we=0|we+_Mathimul(f,te),xe=0|xe+_Mathimul(f,ne);var Ee=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ee>>>26),Ee&=67108863,ve=_Mathimul(S,z),we=_Mathimul(S,H),we=0|we+_Mathimul(A,z),xe=_Mathimul(A,H),ve=0|ve+_Mathimul(C,V),we=0|we+_Mathimul(C,G),we=0|we+_Mathimul(T,V),xe=0|xe+_Mathimul(T,G),ve=0|ve+_Mathimul(x,K),we=0|we+_Mathimul(x,X),we=0|we+_Mathimul(_,K),xe=0|xe+_Mathimul(_,X),ve=0|ve+_Mathimul(y,Y),we=0|we+_Mathimul(y,Q),we=0|we+_Mathimul(v,Y),xe=0|xe+_Mathimul(v,Q),ve=0|ve+_Mathimul(h,te),we=0|we+_Mathimul(h,ne),we=0|we+_Mathimul(g,te),xe=0|xe+_Mathimul(g,ne),ve=0|ve+_Mathimul(u,re),we=0|we+_Mathimul(u,ie),we=0|we+_Mathimul(f,re),xe=0|xe+_Mathimul(f,ie);var Se=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Se>>>26),Se&=67108863,ve=_Mathimul(N,z),we=_Mathimul(N,H),we=0|we+_Mathimul(j,z),xe=_Mathimul(j,H),ve=0|ve+_Mathimul(S,V),we=0|we+_Mathimul(S,G),we=0|we+_Mathimul(A,V),xe=0|xe+_Mathimul(A,G),ve=0|ve+_Mathimul(C,K),we=0|we+_Mathimul(C,X),we=0|we+_Mathimul(T,K),xe=0|xe+_Mathimul(T,X),ve=0|ve+_Mathimul(x,Y),we=0|we+_Mathimul(x,Q),we=0|we+_Mathimul(_,Y),xe=0|xe+_Mathimul(_,Q),ve=0|ve+_Mathimul(y,te),we=0|we+_Mathimul(y,ne),we=0|we+_Mathimul(v,te),xe=0|xe+_Mathimul(v,ne),ve=0|ve+_Mathimul(h,re),we=0|we+_Mathimul(h,ie),we=0|we+_Mathimul(g,re),xe=0|xe+_Mathimul(g,ie),ve=0|ve+_Mathimul(u,se),we=0|we+_Mathimul(u,de),we=0|we+_Mathimul(f,se),xe=0|xe+_Mathimul(f,de);var Ae=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ae>>>26),Ae&=67108863,ve=_Mathimul(L,z),we=_Mathimul(L,H),we=0|we+_Mathimul(O,z),xe=_Mathimul(O,H),ve=0|ve+_Mathimul(N,V),we=0|we+_Mathimul(N,G),we=0|we+_Mathimul(j,V),xe=0|xe+_Mathimul(j,G),ve=0|ve+_Mathimul(S,K),we=0|we+_Mathimul(S,X),we=0|we+_Mathimul(A,K),xe=0|xe+_Mathimul(A,X),ve=0|ve+_Mathimul(C,Y),we=0|we+_Mathimul(C,Q),we=0|we+_Mathimul(T,Y),xe=0|xe+_Mathimul(T,Q),ve=0|ve+_Mathimul(x,te),we=0|we+_Mathimul(x,ne),we=0|we+_Mathimul(_,te),xe=0|xe+_Mathimul(_,ne),ve=0|ve+_Mathimul(y,re),we=0|we+_Mathimul(y,ie),we=0|we+_Mathimul(v,re),xe=0|xe+_Mathimul(v,ie),ve=0|ve+_Mathimul(h,se),we=0|we+_Mathimul(h,de),we=0|we+_Mathimul(g,se),xe=0|xe+_Mathimul(g,de),ve=0|ve+_Mathimul(u,pe),we=0|we+_Mathimul(u,ce),we=0|we+_Mathimul(f,pe),xe=0|xe+_Mathimul(f,ce);var Ie=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ie>>>26),Ie&=67108863,ve=_Mathimul(M,z),we=_Mathimul(M,H),we=0|we+_Mathimul(D,z),xe=_Mathimul(D,H),ve=0|ve+_Mathimul(L,V),we=0|we+_Mathimul(L,G),we=0|we+_Mathimul(O,V),xe=0|xe+_Mathimul(O,G),ve=0|ve+_Mathimul(N,K),we=0|we+_Mathimul(N,X),we=0|we+_Mathimul(j,K),xe=0|xe+_Mathimul(j,X),ve=0|ve+_Mathimul(S,Y),we=0|we+_Mathimul(S,Q),we=0|we+_Mathimul(A,Y),xe=0|xe+_Mathimul(A,Q),ve=0|ve+_Mathimul(C,te),we=0|we+_Mathimul(C,ne),we=0|we+_Mathimul(T,te),xe=0|xe+_Mathimul(T,ne),ve=0|ve+_Mathimul(x,re),we=0|we+_Mathimul(x,ie),we=0|we+_Mathimul(_,re),xe=0|xe+_Mathimul(_,ie),ve=0|ve+_Mathimul(y,se),we=0|we+_Mathimul(y,de),we=0|we+_Mathimul(v,se),xe=0|xe+_Mathimul(v,de),ve=0|ve+_Mathimul(h,pe),we=0|we+_Mathimul(h,ce),we=0|we+_Mathimul(g,pe),xe=0|xe+_Mathimul(g,ce),ve=0|ve+_Mathimul(u,fe),we=0|we+_Mathimul(u,he),we=0|we+_Mathimul(f,fe),xe=0|xe+_Mathimul(f,he);var Ne=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ne>>>26),Ne&=67108863,ve=_Mathimul(U,z),we=_Mathimul(U,H),we=0|we+_Mathimul(q,z),xe=_Mathimul(q,H),ve=0|ve+_Mathimul(M,V),we=0|we+_Mathimul(M,G),we=0|we+_Mathimul(D,V),xe=0|xe+_Mathimul(D,G),ve=0|ve+_Mathimul(L,K),we=0|we+_Mathimul(L,X),we=0|we+_Mathimul(O,K),xe=0|xe+_Mathimul(O,X),ve=0|ve+_Mathimul(N,Y),we=0|we+_Mathimul(N,Q),we=0|we+_Mathimul(j,Y),xe=0|xe+_Mathimul(j,Q),ve=0|ve+_Mathimul(S,te),we=0|we+_Mathimul(S,ne),we=0|we+_Mathimul(A,te),xe=0|xe+_Mathimul(A,ne),ve=0|ve+_Mathimul(C,re),we=0|we+_Mathimul(C,ie),we=0|we+_Mathimul(T,re),xe=0|xe+_Mathimul(T,ie),ve=0|ve+_Mathimul(x,se),we=0|we+_Mathimul(x,de),we=0|we+_Mathimul(_,se),xe=0|xe+_Mathimul(_,de),ve=0|ve+_Mathimul(y,pe),we=0|we+_Mathimul(y,ce),we=0|we+_Mathimul(v,pe),xe=0|xe+_Mathimul(v,ce),ve=0|ve+_Mathimul(h,fe),we=0|we+_Mathimul(h,he),we=0|we+_Mathimul(g,fe),xe=0|xe+_Mathimul(g,he),ve=0|ve+_Mathimul(u,be),we=0|we+_Mathimul(u,ye),we=0|we+_Mathimul(f,be),xe=0|xe+_Mathimul(f,ye);var je=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(je>>>26),je&=67108863,ve=_Mathimul(U,V),we=_Mathimul(U,G),we=0|we+_Mathimul(q,V),xe=_Mathimul(q,G),ve=0|ve+_Mathimul(M,K),we=0|we+_Mathimul(M,X),we=0|we+_Mathimul(D,K),xe=0|xe+_Mathimul(D,X),ve=0|ve+_Mathimul(L,Y),we=0|we+_Mathimul(L,Q),we=0|we+_Mathimul(O,Y),xe=0|xe+_Mathimul(O,Q),ve=0|ve+_Mathimul(N,te),we=0|we+_Mathimul(N,ne),we=0|we+_Mathimul(j,te),xe=0|xe+_Mathimul(j,ne),ve=0|ve+_Mathimul(S,re),we=0|we+_Mathimul(S,ie),we=0|we+_Mathimul(A,re),xe=0|xe+_Mathimul(A,ie),ve=0|ve+_Mathimul(C,se),we=0|we+_Mathimul(C,de),we=0|we+_Mathimul(T,se),xe=0|xe+_Mathimul(T,de),ve=0|ve+_Mathimul(x,pe),we=0|we+_Mathimul(x,ce),we=0|we+_Mathimul(_,pe),xe=0|xe+_Mathimul(_,ce),ve=0|ve+_Mathimul(y,fe),we=0|we+_Mathimul(y,he),we=0|we+_Mathimul(v,fe),xe=0|xe+_Mathimul(v,he),ve=0|ve+_Mathimul(h,be),we=0|we+_Mathimul(h,ye),we=0|we+_Mathimul(g,be),xe=0|xe+_Mathimul(g,ye);var Re=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Re>>>26),Re&=67108863,ve=_Mathimul(U,K),we=_Mathimul(U,X),we=0|we+_Mathimul(q,K),xe=_Mathimul(q,X),ve=0|ve+_Mathimul(M,Y),we=0|we+_Mathimul(M,Q),we=0|we+_Mathimul(D,Y),xe=0|xe+_Mathimul(D,Q),ve=0|ve+_Mathimul(L,te),we=0|we+_Mathimul(L,ne),we=0|we+_Mathimul(O,te),xe=0|xe+_Mathimul(O,ne),ve=0|ve+_Mathimul(N,re),we=0|we+_Mathimul(N,ie),we=0|we+_Mathimul(j,re),xe=0|xe+_Mathimul(j,ie),ve=0|ve+_Mathimul(S,se),we=0|we+_Mathimul(S,de),we=0|we+_Mathimul(A,se),xe=0|xe+_Mathimul(A,de),ve=0|ve+_Mathimul(C,pe),we=0|we+_Mathimul(C,ce),we=0|we+_Mathimul(T,pe),xe=0|xe+_Mathimul(T,ce),ve=0|ve+_Mathimul(x,fe),we=0|we+_Mathimul(x,he),we=0|we+_Mathimul(_,fe),xe=0|xe+_Mathimul(_,he),ve=0|ve+_Mathimul(y,be),we=0|we+_Mathimul(y,ye),we=0|we+_Mathimul(v,be),xe=0|xe+_Mathimul(v,ye);var Le=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Le>>>26),Le&=67108863,ve=_Mathimul(U,Y),we=_Mathimul(U,Q),we=0|we+_Mathimul(q,Y),xe=_Mathimul(q,Q),ve=0|ve+_Mathimul(M,te),we=0|we+_Mathimul(M,ne),we=0|we+_Mathimul(D,te),xe=0|xe+_Mathimul(D,ne),ve=0|ve+_Mathimul(L,re),we=0|we+_Mathimul(L,ie),we=0|we+_Mathimul(O,re),xe=0|xe+_Mathimul(O,ie),ve=0|ve+_Mathimul(N,se),we=0|we+_Mathimul(N,de),we=0|we+_Mathimul(j,se),xe=0|xe+_Mathimul(j,de),ve=0|ve+_Mathimul(S,pe),we=0|we+_Mathimul(S,ce),we=0|we+_Mathimul(A,pe),xe=0|xe+_Mathimul(A,ce),ve=0|ve+_Mathimul(C,fe),we=0|we+_Mathimul(C,he),we=0|we+_Mathimul(T,fe),xe=0|xe+_Mathimul(T,he),ve=0|ve+_Mathimul(x,be),we=0|we+_Mathimul(x,ye),we=0|we+_Mathimul(_,be),xe=0|xe+_Mathimul(_,ye);var Oe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Oe>>>26),Oe&=67108863,ve=_Mathimul(U,te),we=_Mathimul(U,ne),we=0|we+_Mathimul(q,te),xe=_Mathimul(q,ne),ve=0|ve+_Mathimul(M,re),we=0|we+_Mathimul(M,ie),we=0|we+_Mathimul(D,re),xe=0|xe+_Mathimul(D,ie),ve=0|ve+_Mathimul(L,se),we=0|we+_Mathimul(L,de),we=0|we+_Mathimul(O,se),xe=0|xe+_Mathimul(O,de),ve=0|ve+_Mathimul(N,pe),we=0|we+_Mathimul(N,ce),we=0|we+_Mathimul(j,pe),xe=0|xe+_Mathimul(j,ce),ve=0|ve+_Mathimul(S,fe),we=0|we+_Mathimul(S,he),we=0|we+_Mathimul(A,fe),xe=0|xe+_Mathimul(A,he),ve=0|ve+_Mathimul(C,be),we=0|we+_Mathimul(C,ye),we=0|we+_Mathimul(T,be),xe=0|xe+_Mathimul(T,ye);var Pe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Pe>>>26),Pe&=67108863,ve=_Mathimul(U,re),we=_Mathimul(U,ie),we=0|we+_Mathimul(q,re),xe=_Mathimul(q,ie),ve=0|ve+_Mathimul(M,se),we=0|we+_Mathimul(M,de),we=0|we+_Mathimul(D,se),xe=0|xe+_Mathimul(D,de),ve=0|ve+_Mathimul(L,pe),we=0|we+_Mathimul(L,ce),we=0|we+_Mathimul(O,pe),xe=0|xe+_Mathimul(O,ce),ve=0|ve+_Mathimul(N,fe),we=0|we+_Mathimul(N,he),we=0|we+_Mathimul(j,fe),xe=0|xe+_Mathimul(j,he),ve=0|ve+_Mathimul(S,be),we=0|we+_Mathimul(S,ye),we=0|we+_Mathimul(A,be),xe=0|xe+_Mathimul(A,ye);var Me=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Me>>>26),Me&=67108863,ve=_Mathimul(U,se),we=_Mathimul(U,de),we=0|we+_Mathimul(q,se),xe=_Mathimul(q,de),ve=0|ve+_Mathimul(M,pe),we=0|we+_Mathimul(M,ce),we=0|we+_Mathimul(D,pe),xe=0|xe+_Mathimul(D,ce),ve=0|ve+_Mathimul(L,fe),we=0|we+_Mathimul(L,he),we=0|we+_Mathimul(O,fe),xe=0|xe+_Mathimul(O,he),ve=0|ve+_Mathimul(N,be),we=0|we+_Mathimul(N,ye),we=0|we+_Mathimul(j,be),xe=0|xe+_Mathimul(j,ye);var De=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(De>>>26),De&=67108863,ve=_Mathimul(U,pe),we=_Mathimul(U,ce),we=0|we+_Mathimul(q,pe),xe=_Mathimul(q,ce),ve=0|ve+_Mathimul(M,fe),we=0|we+_Mathimul(M,he),we=0|we+_Mathimul(D,fe),xe=0|xe+_Mathimul(D,he),ve=0|ve+_Mathimul(L,be),we=0|we+_Mathimul(L,ye),we=0|we+_Mathimul(O,be),xe=0|xe+_Mathimul(O,ye);var Be=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Be>>>26),Be&=67108863,ve=_Mathimul(U,fe),we=_Mathimul(U,he),we=0|we+_Mathimul(q,fe),xe=_Mathimul(q,he),ve=0|ve+_Mathimul(M,be),we=0|we+_Mathimul(M,ye),we=0|we+_Mathimul(D,be),xe=0|xe+_Mathimul(D,ye);var Ue=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ue>>>26),Ue&=67108863,ve=_Mathimul(U,be),we=_Mathimul(U,ye),we=0|we+_Mathimul(q,be),xe=_Mathimul(q,ye);var qe=0|(0|o+ve)+((8191&we)<<13);return o=0|(0|xe+(we>>>13))+(qe>>>26),qe&=67108863,l[0]=_e,l[1]=ke,l[2]=Ce,l[3]=Te,l[4]=Ee,l[5]=Se,l[6]=Ae,l[7]=Ie,l[8]=Ne,l[9]=je,l[10]=Re,l[11]=Le,l[12]=Oe,l[13]=Pe,l[14]=Me,l[15]=De,l[16]=Be,l[17]=Ue,l[18]=qe,0!=o&&(l[19]=o,s.length++),s};_Mathimul||(S=u),d.prototype.mulTo=function t(n,a){var r=this.length+n.length,o;return o=10===this.length&&10===n.length?S(this,n,a):63>r?u(this,n,a):1024>r?f(this,n,a):m(this,n,a),o},h.prototype.makeRBT=function n(a){for(var r=Array(a),t=d.prototype._countBits(a)-1,o=0;o<a;o++)r[o]=this.revBin(o,t,a);return r},h.prototype.revBin=function t(n,a,r){if(0===n||n===r-1)return n;for(var o=0,s=0;s<a;s++)o|=(1&n)<<a-s-1,n>>=1;return o},h.prototype.permute=function t(n,a,r,o,s,d){for(var l=0;l<d;l++)o[l]=a[n[l]],s[l]=r[n[l]]},h.prototype.transform=function t(n,a,r,o,d,c){this.permute(c,n,a,r,o,d);for(var u=1;u<d;u<<=1)for(var s=u<<1,l=_Mathcos(2*_MathPI/s),f=_Mathsin(2*_MathPI/s),m=0;m<d;m+=s)for(var h=l,g=f,b=0;b<u;b++){var y=r[m+b],v=o[m+b],w=r[m+b+u],x=o[m+b+u],_=h*w-g*x;x=h*x+g*w,w=_,r[m+b]=y+w,o[m+b]=v+x,r[m+b+u]=y-w,o[m+b+u]=v-x,b!==s&&(_=l*h-f*g,g=l*g+f*h,h=_)}},h.prototype.guessLen13b=function t(a,n){var r=1|_Mathmax(n,a),o=1&r,s=0;for(r=0|r/2;r;r>>>=1)s++;return 1<<s+1+o},h.prototype.conjugate=function n(a,r,o){if(!(1>=o))for(var s=0,d;s<o/2;s++)d=a[s],a[s]=a[o-s-1],a[o-s-1]=d,d=r[s],r[s]=-r[o-s-1],r[o-s-1]=-d},h.prototype.normalize13b=function t(n,a){for(var r=0,o=0,s;o<a/2;o++)s=8192*_Mathround(n[2*o+1]/a)+_Mathround(n[2*o]/a)+r,n[o]=67108863&s,r=67108864>s?0:0|s/67108864;return n},h.prototype.convert13b=function t(n,a,r,s){for(var d=0,l=0;l<a;l++)d+=0|n[l],r[2*l]=8191&d,d>>>=13,r[2*l+1]=8191&d,d>>>=13;for(l=2*a;l<s;++l)r[l]=0;o(0==d),o(0==(-8192&d))},h.prototype.stub=function t(n){for(var a=Array(n),r=0;r<n;r++)a[r]=0;return a},h.prototype.mulp=function t(n,a,r){var o=2*this.guessLen13b(n.length,a.length),s=this.makeRBT(o),d=this.stub(o),l=Array(o),c=Array(o),u=Array(o),f=Array(o),m=Array(o),h=Array(o),g=r.words;g.length=o,this.convert13b(n.words,n.length,l,o),this.convert13b(a.words,a.length,f,o),this.transform(l,d,c,u,o,s),this.transform(f,d,m,h,o,s);for(var b=0,y;b<o;b++)y=c[b]*m[b]-u[b]*h[b],u[b]=c[b]*h[b]+u[b]*m[b],c[b]=y;return this.conjugate(c,u,o),this.transform(c,u,g,d,o,s),this.conjugate(g,d,o),this.normalize13b(g,o),r.negative=n.negative^a.negative,r.length=n.length+a.length,r.strip()},d.prototype.mul=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),this.mulTo(n,a)},d.prototype.mulf=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),m(this,n,a)},d.prototype.imul=function t(n){return this.clone().mulTo(n,this)},d.prototype.imuln=function t(n){o('number'==typeof n),o(67108864>n);for(var a=0,r=0;r<this.length;r++){var s=(0|this.words[r])*n,d=(67108863&s)+(67108863&a);a>>=26,a+=0|s/67108864,a+=d>>>26,this.words[r]=67108863&d}return 0!=a&&(this.words[r]=a,this.length++),this},d.prototype.muln=function t(n){return this.clone().imuln(n)},d.prototype.sqr=function t(){return this.mul(this)},d.prototype.isqr=function t(){return this.imul(this.clone())},d.prototype.pow=function t(n){var a=c(n);if(0===a.length)return new d(1);for(var r=this,o=0;o<a.length&&!(0!==a[o]);o++,r=r.sqr());if(++o<a.length)for(var s=r.sqr();o<a.length;o++,s=s.sqr())0!==a[o]&&(r=r.mul(s));return r},d.prototype.iushln=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=67108863>>>26-a<<26-a,d;if(0!=a){var l=0;for(d=0;d<this.length;d++){var u=this.words[d]&s,f=(0|this.words[d])-u<<a;this.words[d]=f|l,l=u>>>26-a}l&&(this.words[d]=l,this.length++)}if(0!=r){for(d=this.length-1;0<=d;d--)this.words[d+r]=this.words[d];for(d=0;d<r;d++)this.words[d]=0;this.length+=r}return this.strip()},d.prototype.ishln=function t(n){return o(0===this.negative),this.iushln(n)},d.prototype.iushrn=function t(n,a,d){o('number'==typeof n&&0<=n);var l;l=a?(a-a%26)/26:0;var c=n%26,r=_Mathmin((n-c)/26,this.length),s=67108863^67108863>>>c<<c,u=d;if(l-=r,l=_Mathmax(0,l),u){for(var f=0;f<r;f++)u.words[f]=this.words[f];u.length=r}if(0===r);else if(this.length>r)for(this.length-=r,f=0;f<this.length;f++)this.words[f]=this.words[f+r];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;0<=f&&(0!=m||f>=l);f--){var h=0|this.words[f];this.words[f]=m<<26-c|h>>>c,m=h&s}return u&&0!=m&&(u.words[u.length++]=m),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function t(n,a,r){return o(0===this.negative),this.iushrn(n,a,r)},d.prototype.shln=function t(n){return this.clone().ishln(n)},d.prototype.ushln=function t(n){return this.clone().iushln(n)},d.prototype.shrn=function t(n){return this.clone().ishrn(n)},d.prototype.ushrn=function t(n){return this.clone().iushrn(n)},d.prototype.testn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return!1;var d=this.words[r];return!!(d&s)},d.prototype.imaskn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26;if(o(0===this.negative,'imaskn works only with positive numbers'),this.length<=r)return this;if(0!=a&&r++,this.length=_Mathmin(r,this.length),0!=a){var s=67108863^67108863>>>a<<a;this.words[this.length-1]&=s}return this.strip()},d.prototype.maskn=function t(n){return this.clone().imaskn(n)},d.prototype.iaddn=function t(n){return o('number'==typeof n),o(67108864>n),0>n?this.isubn(-n):0===this.negative?this._iaddn(n):1===this.length&&(0|this.words[0])<n?(this.words[0]=n-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this)},d.prototype._iaddn=function t(n){this.words[0]+=n;for(var a=0;a<this.length&&67108864<=this.words[a];a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=_Mathmax(this.length,a+1),this},d.prototype.isubn=function t(n){if(o('number'==typeof n),o(67108864>n),0>n)return this.iaddn(-n);if(0!==this.negative)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&0>this.words[a];a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},d.prototype.addn=function t(n){return this.clone().iaddn(n)},d.prototype.subn=function t(n){return this.clone().isubn(n)},d.prototype.iabs=function t(){return this.negative=0,this},d.prototype.abs=function t(){return this.clone().iabs()},d.prototype._ishlnsubmul=function t(n,a,r){var s=n.length+r,d;this._expand(s);var l=0,c;for(d=0;d<n.length;d++){c=(0|this.words[d+r])+l;var u=(0|n.words[d])*a;c-=67108863&u,l=(c>>26)-(0|u/67108864),this.words[d+r]=67108863&c}for(;d<this.length-r;d++)c=(0|this.words[d+r])+l,l=c>>26,this.words[d+r]=67108863&c;if(0==l)return this.strip();for(o(-1==l),l=0,d=0;d<this.length;d++)c=-(0|this.words[d])+l,l=c>>26,this.words[d]=67108863&c;return this.negative=1,this.strip()},d.prototype._wordDiv=function t(n,r){var o=this.length-n.length,s=this.clone(),l=n,c=0|l.words[l.length-1],u=this._countBits(c);o=26-u,0!=o&&(l=l.ushln(o),s.iushln(o),c=0|l.words[l.length-1]);var f=s.length-l.length,m;if('mod'!==r){m=new d(null),m.length=f+1,m.words=Array(m.length);for(var h=0;h<m.length;h++)m.words[h]=0}var g=s.clone()._ishlnsubmul(l,1,f);0===g.negative&&(s=g,m&&(m.words[f]=1));for(var b=f-1,y;0<=b;b--){for(y=67108864*(0|s.words[l.length+b])+(0|s.words[l.length+b-1]),y=_Mathmin(0|y/c,67108863),s._ishlnsubmul(l,y,b);0!==s.negative;)y--,s.negative=0,s._ishlnsubmul(l,1,b),s.isZero()||(s.negative^=1);m&&(m.words[b]=y)}return m&&m.strip(),s.strip(),'div'!==r&&0!=o&&s.iushrn(o),{div:m||null,mod:s}},d.prototype.divmod=function t(n,a,r){if(o(!n.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var s,l,c;return 0!==this.negative&&0===n.negative?(c=this.neg().divmod(n,a),'mod'!==a&&(s=c.div.neg()),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.iadd(n)),{div:s,mod:l}):0===this.negative&&0!==n.negative?(c=this.divmod(n.neg(),a),'mod'!==a&&(s=c.div.neg()),{div:s,mod:c.mod}):0==(this.negative&n.negative)?n.length>this.length||0>this.cmp(n)?{div:new d(0),mod:this}:1===n.length?'div'===a?{div:this.divn(n.words[0]),mod:null}:'mod'===a?{div:null,mod:new d(this.modn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new d(this.modn(n.words[0]))}:this._wordDiv(n,a):(c=this.neg().divmod(n.neg(),a),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.isub(n)),{div:c.div,mod:l})},d.prototype.div=function t(n){return this.divmod(n,'div',!1).div},d.prototype.mod=function t(n){return this.divmod(n,'mod',!1).mod},d.prototype.umod=function t(n){return this.divmod(n,'mod',!0).mod},d.prototype.divRound=function t(n){var a=this.divmod(n);if(a.mod.isZero())return a.div;var r=0===a.div.negative?a.mod:a.mod.isub(n),o=n.ushrn(1),s=n.andln(1),d=r.cmp(o);return 0>d||1===s&&0===d?a.div:0===a.div.negative?a.div.iaddn(1):a.div.isubn(1)},d.prototype.modn=function t(n){o(67108863>=n);for(var a=67108864%n,r=0,s=this.length-1;0<=s;s--)r=(a*r+(0|this.words[s]))%n;return r},d.prototype.idivn=function t(n){o(67108863>=n);for(var a=0,r=this.length-1,s;0<=r;r--)s=(0|this.words[r])+67108864*a,this.words[r]=0|s/n,a=s%n;return this.strip()},d.prototype.divn=function t(n){return this.clone().idivn(n)},d.prototype.egcd=function t(n){o(0===n.negative),o(!n.isZero());var a=this,r=n.clone();a=0===a.negative?a.clone():a.umod(n);for(var s=new d(1),l=new d(0),c=new d(0),u=new d(1),f=0;a.isEven()&&r.isEven();)a.iushrn(1),r.iushrn(1),++f;for(var m=r.clone(),h=a.clone();!a.isZero();){for(var g=0,b=1;0==(a.words[0]&b)&&26>g;++g,b<<=1);if(0<g)for(a.iushrn(g);0<g--;)(s.isOdd()||l.isOdd())&&(s.iadd(m),l.isub(h)),s.iushrn(1),l.iushrn(1);for(var y=0,v=1;0==(r.words[0]&v)&&26>y;++y,v<<=1);if(0<y)for(r.iushrn(y);0<y--;)(c.isOdd()||u.isOdd())&&(c.iadd(m),u.isub(h)),c.iushrn(1),u.iushrn(1);0<=a.cmp(r)?(a.isub(r),s.isub(c),l.isub(u)):(r.isub(a),c.isub(s),u.isub(l))}return{a:c,b:u,gcd:r.iushln(f)}},d.prototype._invmp=function t(n){o(0===n.negative),o(!n.isZero());var r=this,a=n.clone();r=0===r.negative?r.clone():r.umod(n);for(var s=new d(1),l=new d(0),c=a.clone();0<r.cmpn(1)&&0<a.cmpn(1);){for(var u=0,f=1;0==(r.words[0]&f)&&26>u;++u,f<<=1);if(0<u)for(r.iushrn(u);0<u--;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var m=0,h=1;0==(a.words[0]&h)&&26>m;++m,h<<=1);if(0<m)for(a.iushrn(m);0<m--;)l.isOdd()&&l.iadd(c),l.iushrn(1);0<=r.cmp(a)?(r.isub(a),s.isub(l)):(a.isub(r),l.isub(s))}var g;return g=0===r.cmpn(1)?s:l,0>g.cmpn(0)&&g.iadd(n),g},d.prototype.gcd=function n(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var s=this.clone(),a=o.clone();s.negative=0,a.negative=0;for(var d=0;s.isEven()&&a.isEven();d++)s.iushrn(1),a.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;a.isEven();)a.iushrn(1);var l=s.cmp(a);if(0>l){var r=s;s=a,a=r}else if(0===l||0===a.cmpn(1))break;s.isub(a)}while(!0);return a.iushln(d)},d.prototype.invm=function t(n){return this.egcd(n).a.umod(n)},d.prototype.isEven=function t(){return 0==(1&this.words[0])},d.prototype.isOdd=function t(){return 1==(1&this.words[0])},d.prototype.andln=function t(n){return this.words[0]&n},d.prototype.bincn=function t(n){o('number'==typeof n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return this._expand(r+1),this.words[r]|=s,this;for(var d=s,l=r,c;0!=d&&l<this.length;l++)c=0|this.words[l],c+=d,d=c>>>26,c&=67108863,this.words[l]=c;return 0!=d&&(this.words[l]=d,this.length++),this},d.prototype.isZero=function t(){return 1===this.length&&0===this.words[0]},d.prototype.cmpn=function t(n){var a=0>n;if(0!==this.negative&&!a)return-1;if(0===this.negative&&a)return 1;this.strip();var r;if(1<this.length)r=1;else{a&&(n=-n),o(67108863>=n,'Number is too big');var s=0|this.words[0];r=s===n?0:s<n?-1:1}return 0===this.negative?r:0|-r},d.prototype.cmp=function t(n){if(0!==this.negative&&0===n.negative)return-1;if(0===this.negative&&0!==n.negative)return 1;var a=this.ucmp(n);return 0===this.negative?a:0|-a},d.prototype.ucmp=function t(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var r=0,o=this.length-1;0<=o;o--){var s=0|this.words[o],a=0|n.words[o];if(s!=a){s<a?r=-1:s>a&&(r=1);break}}return r},d.prototype.gtn=function t(n){return 1===this.cmpn(n)},d.prototype.gt=function t(n){return 1===this.cmp(n)},d.prototype.gten=function t(n){return 0<=this.cmpn(n)},d.prototype.gte=function t(n){return 0<=this.cmp(n)},d.prototype.ltn=function t(n){return-1===this.cmpn(n)},d.prototype.lt=function t(n){return-1===this.cmp(n)},d.prototype.lten=function t(n){return 0>=this.cmpn(n)},d.prototype.lte=function t(n){return 0>=this.cmp(n)},d.prototype.eqn=function t(n){return 0===this.cmpn(n)},d.prototype.eq=function t(n){return 0===this.cmp(n)},d.red=function t(n){return new x(n)},d.prototype.toRed=function t(n){return o(!this.red,'Already a number in reduction context'),o(0===this.negative,'red works only with positives'),n.convertTo(this)._forceRed(n)},d.prototype.fromRed=function t(){return o(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},d.prototype._forceRed=function t(n){return this.red=n,this},d.prototype.forceRed=function t(n){return o(!this.red,'Already a number in reduction context'),this._forceRed(n)},d.prototype.redAdd=function t(n){return o(this.red,'redAdd works only with red numbers'),this.red.add(this,n)},d.prototype.redIAdd=function t(n){return o(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,n)},d.prototype.redSub=function t(n){return o(this.red,'redSub works only with red numbers'),this.red.sub(this,n)},d.prototype.redISub=function t(n){return o(this.red,'redISub works only with red numbers'),this.red.isub(this,n)},d.prototype.redShl=function t(n){return o(this.red,'redShl works only with red numbers'),this.red.shl(this,n)},d.prototype.redMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.mul(this,n)},d.prototype.redIMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.imul(this,n)},d.prototype.redSqr=function t(){return o(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function t(){return o(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function t(){return o(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function t(){return o(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function t(){return o(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function t(n){return o(this.red&&!n.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,n)};var A={k256:null,p224:null,p192:null,p25519:null};g.prototype._tmp=function t(){var n=new d(null);return n.words=Array(_Mathceil(this.n/13)),n},g.prototype.ireduce=function t(n){var a=n,r;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),r=a.bitLength();while(r>this.n);var o=r<this.n?-1:a.ucmp(this.p);return 0===o?(a.words[0]=0,a.length=1):0<o?a.isub(this.p):a.strip(),a},g.prototype.split=function t(n,a){n.iushrn(this.n,0,a)},g.prototype.imulK=function t(n){return n.imul(this.k)},r(b,g),b.prototype.split=function t(n,a){for(var r=4194303,o=_Mathmin(n.length,9),s=0;s<o;s++)a.words[s]=n.words[s];if(a.length=o,9>=n.length)return n.words[0]=0,void(n.length=1);var d=n.words[9];for(a.words[a.length++]=d&r,s=10;s<n.length;s++){var l=0|n.words[s];n.words[s-10]=(l&r)<<4|d>>>22,d=l}d>>>=22,n.words[s-10]=d,n.length-=0===d&&10<n.length?10:9},b.prototype.imulK=function t(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var a=0,r=0,o;r<n.length;r++)o=0|n.words[r],a+=977*o,n.words[r]=67108863&a,a=64*o+(0|a/67108864);return 0===n.words[n.length-1]&&(n.length--,0===n.words[n.length-1]&&n.length--),n},r(y,g),r(v,g),r(w,g),w.prototype.imulK=function t(n){for(var a=0,r=0;r<n.length;r++){var o=19*(0|n.words[r])+a,s=67108863&o;o>>>=26,n.words[r]=s,a=o}return 0!=a&&(n.words[n.length++]=a),n},d._prime=function t(n){if(A[n])return A[n];var t;if('k256'===n)t=new b;else if('p224'===n)t=new y;else if('p192'===n)t=new v;else if('p25519'===n)t=new w;else throw new Error('Unknown prime '+n);return A[n]=t,t},x.prototype._verify1=function t(n){o(0===n.negative,'red works only with positives'),o(n.red,'red works only with red numbers')},x.prototype._verify2=function t(n,a){o(0==(n.negative|a.negative),'red works only with positives'),o(n.red&&n.red===a.red,'red works only with red numbers')},x.prototype.imod=function t(n){return this.prime?this.prime.ireduce(n)._forceRed(this):n.umod(this.m)._forceRed(this)},x.prototype.neg=function t(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},x.prototype.add=function t(n,a){this._verify2(n,a);var r=n.add(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function t(n,a){this._verify2(n,a);var r=n.iadd(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r},x.prototype.sub=function t(n,a){this._verify2(n,a);var r=n.sub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function t(n,a){this._verify2(n,a);var r=n.isub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r},x.prototype.shl=function t(n,a){return this._verify1(n),this.imod(n.ushln(a))},x.prototype.imul=function t(n,a){return this._verify2(n,a),this.imod(n.imul(a))},x.prototype.mul=function t(n,a){return this._verify2(n,a),this.imod(n.mul(a))},x.prototype.isqr=function t(n){return this.imul(n,n.clone())},x.prototype.sqr=function t(n){return this.mul(n,n)},x.prototype.sqrt=function n(l){if(l.isZero())return l.clone();var a=this.m.andln(3);if(o(1==a%2),3===a){var u=this.m.add(new d(1)).iushrn(2);return this.pow(l,u)}for(var f=this.m.subn(1),h=0;!f.isZero()&&0===f.andln(1);)h++,f.iushrn(1);o(!f.isZero());var s=new d(1).toRed(this),g=s.redNeg(),y=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new d(2*v*v).toRed(this);0!==this.pow(v,y).cmp(g);)v.redIAdd(g);for(var w=this.pow(v,f),c=this.pow(l,f.addn(1).iushrn(1)),r=this.pow(l,f),t=h;0!==r.cmp(s);){for(var m=r,x=0;0!==m.cmp(s);x++)m=m.redSqr();o(x<t);var _=this.pow(w,new d(1).iushln(t-x-1));c=c.redMul(_),w=_.redSqr(),r=r.redMul(w),t=x}return c},x.prototype.invm=function t(n){var a=n._invmp(this.m);return 0===a.negative?this.imod(a):(a.negative=0,this.imod(a).redNeg())},x.prototype.pow=function t(n,a){if(a.isZero())return new d(1).toRed(this);if(0===a.cmpn(1))return n.clone();var r=4,o=Array(1<<r);o[0]=new d(1).toRed(this),o[1]=n;for(var s=2;s<o.length;s++)o[s]=this.mul(o[s-1],n);var l=o[0],c=0,u=0,f=a.bitLength()%26;for(0==f&&(f=26),s=a.length-1;0<=s;s--){for(var m=a.words[s],h=f-1,g;0<=h;h--){if(g=1&m>>h,l!==o[0]&&(l=this.sqr(l)),0==g&&0==c){u=0;continue}c<<=1,c|=g,u++,u!=r&&(0!==s||0!==h)||(l=this.mul(l,o[c]),u=0,c=0)}f=26}return l},x.prototype.convertTo=function t(n){var a=n.umod(this.m);return a===n?a.clone():a},x.prototype.convertFrom=function t(n){var a=n.clone();return a.red=null,a},d.mont=function t(n){return new _(n)},r(_,x),_.prototype.convertTo=function t(n){return this.imod(n.ushln(this.shift))},_.prototype.convertFrom=function t(n){var a=this.imod(n.mul(this.rinv));return a.red=null,a},_.prototype.imul=function n(r,a){if(r.isZero()||a.isZero())return r.words[0]=0,r.length=1,r;var o=r.imul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),d=s;return 0<=s.cmp(this.m)?d=s.isub(this.m):0>s.cmpn(0)&&(d=s.iadd(this.m)),d._forceRed(this)},_.prototype.mul=function n(r,a){if(r.isZero()||a.isZero())return new d(0)._forceRed(this);var o=r.mul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),l=s;return 0<=s.cmp(this.m)?l=s.isub(this.m):0>s.cmpn(0)&&(l=s.iadd(this.m)),l._forceRed(this)},_.prototype.invm=function t(n){var a=this.imod(n._invmp(this.m).mul(this.r2));return a._forceRed(this)}})('undefined'==typeof t||t,this)}).call(n,a(10)(t))},function(t,n,a){var r=a(29),o=a(181),s=a(111),d=Object.defineProperty;n.f=a(30)?Object.defineProperty:function t(n,a,l){if(r(n),a=s(a,!0),r(l),o)try{return d(n,a,l)}catch(t){}if('get'in l||'set'in l)throw TypeError('Accessors not supported!');return'value'in l&&(n[a]=l.value),n}},function(t,n,a){function r(t){s.call(this),this.hashMode='string'==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var o=a(3).Buffer,s=a(43).Transform,d=a(94).StringDecoder,l=a(2);l(r,s),r.prototype.update=function(t,n,a){'string'==typeof t&&(t=o.from(t,n));var r=this._update(t);return this.hashMode?this:(a&&(r=this._toString(r,a)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error('trying to get auth tag in unsupported state')},r.prototype.setAuthTag=function(){throw new Error('trying to set auth tag in unsupported state')},r.prototype.setAAD=function(){throw new Error('trying to set aad in unsupported state')},r.prototype._transform=function(t,n,a){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{a(r)}},r.prototype._flush=function(t){var n;try{this.push(this.__final())}catch(t){n=t}t(n)},r.prototype._finalOrDigest=function(t){var n=this.__final()||o.alloc(0);return t&&(n=this._toString(n,t,!0)),n},r.prototype._toString=function(t,n,a){if(this._decoder||(this._decoder=new d(n),this._encoding=n),this._encoding!==n)throw new Error('can\'t switch encodings');var r=this._decoder.write(t);return a&&(r+=this._decoder.end()),r},t.exports=r},function(t,n,a){var r=a(8),o=a(16),s=a(57),d=a(34),l='prototype',c=function(t,n,a){var u=t&c.F,f=t&c.G,m=t&c.S,h=t&c.P,g=t&c.B,b=t&c.W,y=f?o:o[n]||(o[n]={}),v=y[l],w=f?r:m?r[n]:(r[n]||{})[l],x,_,k;for(x in f&&(a=n),a)_=!u&&w&&void 0!==w[x],_&&x in y||(k=_?w[x]:a[x],y[x]=f&&'function'!=typeof w[x]?a[x]:g&&_?s(k,r):b&&w[x]==k?function(t){var n=function(n,a,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,a);}return new t(n,a,r)}return t.apply(this,arguments)};return n[l]=t[l],n}(k):h&&'function'==typeof k?s(Function.call,k):k,h&&((y.virtual||(y.virtual={}))[x]=k,t&c.R&&v&&!v[x]&&d(v,x,k)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n,a){var r=a(46);t.exports=function(t){if(!r(t))throw TypeError(t+' is not an object!');return t}},function(t,n,a){t.exports=!a(58)(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a})},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(39),c=a(12),u=function(t){function n(t){r(this,n);var a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));if(a.termType=n.termType,t){if('string'!=typeof t)throw console.log('Bad blank id:',t),new Error('Bad id argument to new blank node: '+t);if(t.includes('#')){var s=t.split('#');t=s[s.length-1]}a.id=t}else a.id='n'+n.nextId++;return a.value=a.id,a}return s(n,t),d(n,[{key:'compareTerm',value:function t(n){return this.classOrder<n.classOrder?-1:this.classOrder>n.classOrder?1:this.id<n.id?-1:this.id>n.id?1:0}},{key:'copy',value:function t(a){var r=new n;return a.copyTo(this,r),r}},{key:'toCanonical',value:function t(){return'_:'+this.value}},{key:'toString',value:function t(){return n.NTAnonymousNodePrefix+this.id}}]),n}(c);u.nextId=0,u.termType='BlankNode',u.NTAnonymousNodePrefix='_:',u.prototype.classOrder=l.BlankNode,u.prototype.isBlank=1,u.prototype.isVar=1,t.exports=u},function(t,n,a){'use strict';t.exports={debug:function t(n){},warn:function t(n){},info:function t(n){},error:function t(n){},success:function t(n){},msg:function t(n){}}},function(t,n,a){'use strict';function r(t){return this instanceof r?void(f.call(this,t),m.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once('end',o)):new r(t)}function o(){this.allowHalfOpen||this._writableState.ended||l(s,this)}function s(t){t.end()}function d(t,n){for(var a=0,r=t.length;a<r;a++)n(t[a],a)}var l=a(65),c=Object.keys||function(t){var n=[];for(var a in t)n.push(a);return n};t.exports=r;var u=a(49);u.inherits=a(2);var f=a(139),m=a(93);u.inherits(r,f);for(var h=c(m.prototype),g=0,b;g<h.length;g++)b=h[g],r.prototype[b]||(r.prototype[b]=m.prototype[b]);Object.defineProperty(r.prototype,'destroyed',{get:function(){return void 0===this._readableState||void 0===this._writableState?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,n){this.push(null),this.end(),l(n,t)}},function(t,n,a){var r=a(26),o=a(59);t.exports=a(30)?function(t,n,a){return r.f(t,n,o(1,a))}:function(t,n,a){return t[n]=a,t}},function(t,n){var a={}.hasOwnProperty;t.exports=function(t,n){return a.call(t,n)}},function(t,n,a){t.exports=a(351)},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=a(81),s=r(o);n.default=function(t){return function(){var n=t.apply(this,arguments);return new s.default(function(t,a){function r(o,d){try{var l=n[o](d),c=l.value}catch(t){return void a(t)}return l.done?void t(c):s.default.resolve(c).then(function(t){r('next',t)},function(t){r('throw',t)})}return r('next')})}}},function(t,n,a){t.exports=a(399).default,t.exports.default=t.exports},function(t,n,a){'use strict';var r={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7};t.exports=r},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t},l=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),c=a(39),u=a(6),f=a(12),m=a(131),h=function(t){function n(t,a,s){r(this,n);var d=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return d.termType=n.termType,d.value=t,a&&(d.lang=a,s=m.langString),s&&(d.datatype=u.fromValue(s)),d}return s(n,t),l(n,[{key:'copy',value:function t(){return new n(this.value,this.lang,this.datatype)}},{key:'equals',value:function t(n){return!!n&&this.termType===n.termType&&this.value===n.value&&this.language===n.language&&(!this.datatype&&!n.datatype||this.datatype&&this.datatype.equals(n.datatype))}},{key:'toNT',value:function t(){if('number'==typeof this.value)return this.toString();if('string'!=typeof this.value)throw new Error('Value of RDF literal is not string or number: '+this.value);var n=this.value;return n=n.replace(/\\/g,'\\\\'),n=n.replace(/\"/g,'\\"'),n=n.replace(/\n/g,'\\n'),n='"'+n+'"',this.language?n+='@'+this.language:!this.datatype.equals(m.string)&&(n+='^^'+this.datatype.toCanonical()),n}},{key:'toString',value:function t(){return''+this.value}},{key:'language',get:function t(){return this.lang},set:function t(n){this.lang=n||''}}],[{key:'fromBoolean',value:function t(a){var r=a?'1':'0';return new n(r,null,m.boolean)}},{key:'fromDate',value:function t(a){if(!(a instanceof Date))throw new TypeError('Invalid argument to Literal.fromDate()');var r=function t(n){return(''+(100+n)).slice(1,3)},o=''+a.getUTCFullYear()+'-'+r(a.getUTCMonth()+1)+'-'+r(a.getUTCDate())+'T'+r(a.getUTCHours())+':'+r(a.getUTCMinutes())+':'+r(a.getUTCSeconds())+'Z';return new n(o,null,m.dateTime)}},{key:'fromNumber',value:function t(a){if('number'!=typeof a)throw new TypeError('Invalid argument to Literal.fromNumber()');var r=a.toString(),o;return o=0>r.indexOf('e')&&_Mathabs(a)<=Number.MAX_SAFE_INTEGER?Number.isInteger(a)?m.integer:m.decimal:m.double,new n(r,null,o)}},{key:'fromValue',value:function t(a){if('undefined'==typeof a||null===a)return a;if('object'===('undefined'==typeof a?'undefined':d(a))&&a.termType)return a;switch('undefined'==typeof a?'undefined':d(a)){case'object':if(a instanceof Date)return n.fromDate(a);case'boolean':return n.fromBoolean(a);case'number':return n.fromNumber(a);case'string':return new n(a);}throw new Error('Can\'t make literal from '+a+' of type '+('undefined'==typeof a?'undefined':d(a)))}}]),n}(f);h.termType='Literal',h.prototype.classOrder=c.Literal,h.prototype.datatype=m.string,h.prototype.lang='',h.prototype.isVar=0,t.exports=h},function(t,n){t.exports=__WEBPACK_EXTERNAL_MODULE_41__},function(t,n){},function(t,n,a){function r(){o.call(this)}t.exports=r;var o=a(91).EventEmitter,s=a(2);s(r,o),r.Readable=a(92),r.Writable=a(237),r.Duplex=a(238),r.Transform=a(239),r.PassThrough=a(240),r.Stream=r,r.prototype.pipe=function(t,n){function a(n){t.writable&&!1===t.write(n)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function s(){f||(f=!0,t.end())}function d(){f||(f=!0,'function'==typeof t.destroy&&t.destroy())}function l(t){if(c(),0===o.listenerCount(this,'error'))throw t}function c(){u.removeListener('data',a),t.removeListener('drain',r),u.removeListener('end',s),u.removeListener('close',d),u.removeListener('error',l),t.removeListener('error',l),u.removeListener('end',c),u.removeListener('close',c),t.removeListener('close',c)}var u=this;u.on('data',a),t.on('drain',r),t._isStdio||n&&!1===n.end||(u.on('end',s),u.on('close',d));var f=!1;return u.on('error',l),t.on('error',l),u.on('end',c),u.on('close',c),t.on('close',c),t.emit('pipe',u),t}},function(t,n){t.exports=__WEBPACK_EXTERNAL_MODULE_44__},function(t,n,a){(function(n){function a(t,a){this._block=new n(t),this._finalSize=a,this._blockSize=t,this._len=0,this._s=0}a.prototype.update=function(a,r){'string'==typeof a&&(r=r||'utf8',a=new n(a,r));for(var o=this._len+=a.length,d=this._s||0,s=0,l=this._block;d<o;){for(var c=_Mathmin(a.length,s+this._blockSize-d%this._blockSize),t=c-s,u=0;u<t;u++)l[d%this._blockSize+u]=a[u+s];d+=t,s+=t,0==d%this._blockSize&&this._update(l)}return this._s=d,this},a.prototype.digest=function(t){var n=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),n%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(n,this._blockSize-4);var a=this._update(this._block)||this._hash();return t?a.toString(t):a},a.prototype._update=function(){throw new Error('_update must be implemented by subclass')},t.exports=a}).call(n,a(0).Buffer)},function(t,n){t.exports=function(t){return'object'==typeof t?null!==t:'function'==typeof t}},function(t,n,a){var r=a(183),o=a(112);t.exports=function(t){return r(o(t))}},function(t,n,a){function r(t,n){this._id=t,this._clearFn=n}var o=Function.prototype.apply;n.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;0<=n&&(t._idleTimeoutId=setTimeout(function n(){t._onTimeout&&t._onTimeout()},n))},a(227),n.setImmediate=setImmediate,n.clearImmediate=clearImmediate},function(t,n,a){(function(t){function a(t){return Array.isArray?Array.isArray(t):'[object Array]'===v(t)}function r(t){return'boolean'==typeof t}function o(t){return null===t}function s(t){return null==t}function d(t){return'number'==typeof t}function l(t){return'string'==typeof t}function c(t){return'symbol'==typeof t}function u(t){return void 0===t}function f(t){return'[object RegExp]'===v(t)}function m(t){return'object'==typeof t&&null!==t}function h(t){return'[object Date]'===v(t)}function g(t){return'[object Error]'===v(t)||t instanceof Error}function b(t){return'function'==typeof t}function y(t){return null===t||'boolean'==typeof t||'number'==typeof t||'string'==typeof t||'symbol'==typeof t||'undefined'==typeof t}function v(t){return Object.prototype.toString.call(t)}n.isArray=a,n.isBoolean=r,n.isNull=o,n.isNullOrUndefined=s,n.isNumber=d,n.isString=l,n.isSymbol=c,n.isUndefined=u,n.isRegExp=f,n.isObject=m,n.isDate=h,n.isError=g,n.isFunction=b,n.isPrimitive=y,n.isBuffer=t.isBuffer}).call(n,a(0).Buffer)},function(t,n,a){'use strict';function r(t){return function(n){return new o(t+(n||''))}}var o=a(6);t.exports=r},function(t,n,a){'use strict';(function(n,r){function o(){throw new Error('secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11')}function s(t,a){if(65536<t)throw new Error('requested too many random bytes');var o=new n.Uint8Array(t);0<t&&l.getRandomValues(o);var s=d.from(o.buffer);return'function'==typeof a?r.nextTick(function(){a(null,s)}):s}var d=a(3).Buffer,l=n.crypto||n.msCrypto;t.exports=l&&l.getRandomValues?s:o}).call(n,a(4),a(13))},function(t,n,a){'use strict';(function(n){function r(t){u.call(this,'digest'),this._hash=t,this.buffers=[]}function o(t){u.call(this,'digest'),this._hash=t}var s=a(2),d=a(101),l=a(102),c=a(103),u=a(27);s(r,u),r.prototype._update=function(t){this.buffers.push(t)},r.prototype._final=function(){var t=n.concat(this.buffers),a=this._hash(t);return this.buffers=null,a},s(o,u),o.prototype._update=function(t){this._hash.update(t)},o.prototype._final=function(){return this._hash.digest()},t.exports=function t(n){return n=n.toLowerCase(),'md5'===n?new r(d):'rmd160'===n||'ripemd160'===n?new o(new l()):new o(c(n))}}).call(n,a(0).Buffer)},function(t,n,a){(function(n){t.exports=function t(r,a){for(var o=_Mathmin(r.length,a.length),s=new n(o),d=0;d<o;++d)s[d]=r[d]^a[d];return s}}).call(n,a(0).Buffer)},function(t,n,a){'use strict';function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian='big',this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var o=a(22),s=a(15);n.BlockHash=r,r.prototype.update=function t(n,a){if(n=o.toArray(n,a),this.pending=this.pending?this.pending.concat(n):n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){n=this.pending;var s=n.length%this._delta8;this.pending=n.slice(n.length-s,n.length),0===this.pending.length&&(this.pending=null),n=o.join32(n,0,n.length-s,this.endian);for(var r=0;r<n.length;r+=this._delta32)this._update(n,r,r+this._delta32)}return this},r.prototype.digest=function t(n){return this.update(this._pad()),s(null===this.pending),this._digest(n)},r.prototype._pad=function n(){var a=this.pendingTotal,r=this._delta8,o=r-(a+this.padLength)%r,s=Array(o+this.padLength);s[0]=128;for(var d=1;d<o;d++)s[d]=0;if(a<<=3,'big'===this.endian){for(var l=8;l<this.padLength;l++)s[d++]=0;s[d++]=0,s[d++]=0,s[d++]=0,s[d++]=0,s[d++]=255&a>>>24,s[d++]=255&a>>>16,s[d++]=255&a>>>8,s[d++]=255&a}else for(s[d++]=255&a,s[d++]=255&a>>>8,s[d++]=255&a>>>16,s[d++]=255&a>>>24,s[d++]=0,s[d++]=0,s[d++]=0,s[d++]=0,l=8;l<this.padLength;l++)s[d++]=0;return s}},function(t,n,a){var r=n;r.bignum=a(316),r.define=a(318).define,r.base=a(56),r.constants=a(171),r.decoders=a(324),r.encoders=a(326)},function(t,n,a){var r=n;r.Reporter=a(321).Reporter,r.DecoderBuffer=a(170).DecoderBuffer,r.EncoderBuffer=a(170).EncoderBuffer,r.Node=a(322)},function(t,n,a){var r=a(77);t.exports=function(t,n,a){return(r(t),void 0===n)?t:1===a?function(r){return t.call(n,r)}:2===a?function(r,a){return t.call(n,r,a)}:3===a?function(r,a,o){return t.call(n,r,a,o)}:function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var a={}.toString;t.exports=function(t){return a.call(t).slice(8,-1)}},function(t,n){t.exports={}},function(t,n,a){'use strict';var r=a(128),o=a(213),s=a(408),d=a(409),l=a(219),c=a(216),u=a(218),f=a(86),m=a(214),h=a(217),g=a(215);t.exports={JWA:r,JWK:o,JWKSet:s,JWT:d,JWS:l,Base64URLSchema:c,JOSEHeaderSchema:u,JWKSchema:f,JWKSetSchema:m,JWTClaimsSetSchema:h,JWTSchema:g}},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function d(t,n,a,r){var o=t.any(n,a,void 0);return!!o&&(t.equate(o,r),!0)}function l(t,n,a,r){var o=t.any(void 0,a,r);return!!o&&(t.equate(o,n),!0)}function c(t,n,a,r,o){t.typeCallback&&t.typeCallback(t,r,o);var s=t.classActions[r.hashString()],d=!1;if(s)for(var l=0;l<s.length;l++)d=d||s[l](t,n,a,r,o);return d}Object.defineProperty(n,'__esModule',{value:!0});var u=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),f=a(24).ArrayIndexOf,m=a(132),g=a(24).RDFArrayRemove,b=a(66),y=a(12),h=a(67),v='http://www.w3.org/2002/07/owl#',w=function(t){function n(t){r(this,n);var a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return a.propertyActions=[],a.classActions=[],a.redirections=[],a.aliases=[],a.HTTPRedirects=[],a.subjectIndex=[],a.predicateIndex=[],a.objectIndex=[],a.whyIndex=[],a.index=[a.subjectIndex,a.predicateIndex,a.objectIndex,a.whyIndex],a.namespaces={},a.features=t||['sameAs','InverseFunctionalProperty','FunctionalProperty'],a.initPropertyActions(a.features),a}return s(n,t),u(n,[{key:'substitute',value:function t(a){var r=this.statements.map(function(t){return t.substitute(a)}),o=new n;return o.add(r),o}},{key:'applyPatch',value:function t(n,r,o){var s=a(68).Query,d=this,l=null,c=function t(a){if(n['delete']){u=n['delete'],l&&(u=u.substitute(l)),u=u.statements;var s=[],c=u.map(function(t){var n=d.statementsMatching(t.subject,t.predicate,t.object,r);return 0===n.length?(s.push(t),null):n[0]});if(s.length)return o('Could not find to delete: '+s.join('\n or '));c.map(function(t){d.remove(t)})}n.insert&&(u=n.insert,l&&(u=u.substitute(l)),u=u.statements,u.map(function(t){t.why=r,d.add(t.subject,t.predicate,t.object,t.why)})),a()},u;if(n.where){var f=new s('patch');f.pat=n.where,f.pat.statements.map(function(t){t.why=r});var m=[];d.query(f,function t(n){m.push(n)},d.fetcher,function t(){return 0===m.length?o('No match found to be patched:'+n.where):1<m.length?o('Patch ambiguous. No patch done.'):void(l=m[0],c(o))})}else c(o)}},{key:'declareExistential',value:function t(n){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(n),n}},{key:'initPropertyActions',value:function t(n){this.propertyActions['<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>']=[c],0<=f(n,'sameAs')&&(this.propertyActions['<http://www.w3.org/2002/07/owl#sameAs>']=[function(t,n,a,r,o){return t.equate(n,r),!0}]),0<=f(n,'InverseFunctionalProperty')&&(this.classActions['<'+v+'InverseFunctionalProperty>']=[function(t,n,a,r,o){return t.newPropertyAction(n,l)}]),0<=f(n,'FunctionalProperty')&&(this.classActions['<'+v+'FunctionalProperty>']=[function(t,n,a,r,o){return t.newPropertyAction(n,d)}])}},{key:'add',value:function t(a,r,o,s){var d;if(1===arguments.length){if(a instanceof Array)for(d=0;d<a.length;d++)this.add(a[d]);else a instanceof b?this.add(a.subject,a.predicate,a.object,a.why):a instanceof n&&this.add(a.statements);return this}var l,c;s||(s=this.fetcher?this.fetcher.appNode:this.sym('chrome:theSession')),a=y.fromValue(a),r=y.fromValue(r),o=y.fromValue(o),s=y.fromValue(s),this.predicateCallback&&this.predicateCallback(this,r,s);var u=this.canon(r).hashString();l=this.propertyActions[u];var f=!1;if(l)for(d=0;d<l.length;d++)f=f||l[d](this,a,r,o,s);if(this.holds(a,r,o,s))return null;var m=[this.canon(a).hashString(),u,this.canon(o).hashString(),this.canon(s).hashString()];for(c=new b(a,r,o,s),d=0;4>d;d++){var g=this.index[d],v=m[d];g[v]||(g[v]=[]),g[v].push(c)}return this.statements.push(c),c}},{key:'addAll',value:function t(n){var a=this;n.forEach(function(t){a.add(t.subject,t.predicate,t.object,t.graph)})}},{key:'any',value:function t(n,a,r,o){var s=this.anyStatementMatching(n,a,r,o);if(null!=s)return null==n?s.subject:null==a?s.predicate:null==r?s.object:void 0}},{key:'anyValue',value:function t(n,a,r,o){var s=this.any(n,a,r,o);return s?s.value:void 0}},{key:'anyStatementMatching',value:function t(n,a,r,o){var s=this.statementsMatching(n,a,r,o,!0);return s&&0!==s.length?s[0]:void 0}},{key:'canon',value:function t(n){if(!n)return n;var a=this.redirections[n.hashString()];return a?a:n}},{key:'check',value:function t(){this.checkStatementList(this.statements);for(var n=0,a;4>n;n++)for(var r in a=this.index[n],a)a.hasOwnProperty(r)&&this.checkStatementList(a[r],n)}},{key:'checkStatementList',value:function t(n,a){for(var r=['subject','predicate','object','why'],o=' found in '+r[a]+' index.',s=0,d;s<n.length;s++){d=n[s];for(var l=[d.subject,d.predicate,d.object,d.why],u=function t(n,a){for(var r=0;r<n.length;r++)if(n[r].subject.sameTerm(a.subject)&&n[r].predicate.sameTerm(a.predicate)&&n[r].object.sameTerm(a.object)&&n[r].why.sameTerm(a.why))return!0},f=0;4>f;f++){var m=this.canon(l[f]),c=m.hashString();this.index[f][c]&&u(this.index[f][c],d)}if(!u(this.statements,d))throw new Error('Statement list does not statement '+d+'@'+d.why+o)}}},{key:'close',value:function t(){return this}},{key:'copyTo',value:function t(n,a,r){r||(r=[]);var o=this.statementsMatching(n);-1!==f(r,'two-direction')&&o.concat(this.statementsMatching(void 0,void 0,n));for(var s=0,d;s<o.length;s++){switch(d=o[s],d.object.termType){case'NamedNode':this.add(a,d.predicate,d.object);break;case'Literal':case'BlankNode':case'Collection':this.add(a,d.predicate,d.object.copy(this));}-1!==f(r,'delete')&&this.remove(d)}}},{key:'equate',value:function t(n,a){n=this.canon(n),a=this.canon(a);var r=n.compareTerm(a);return!r||(0>r?this.replaceWith(a,n):this.replaceWith(n,a))}},{key:'formula',value:function t(a){return new n(a)}},{key:'match',value:function t(n,a,r,o){return this.statementsMatching(y.fromValue(n),y.fromValue(a),y.fromValue(r),y.fromValue(o))}},{key:'mentionsURI',value:function t(n){var a='<'+n+'>';return!!this.subjectIndex[a]||!!this.objectIndex[a]||!!this.predicateIndex[a]}},{key:'newExistential',value:function t(n){if(!n)return this.bnode();var a=this.sym(n);return this.declareExistential(a)}},{key:'newPropertyAction',value:function t(n,a){var r=n.hashString();this.propertyActions[r]||(this.propertyActions[r]=[]),this.propertyActions[r].push(a);for(var o=this.statementsMatching(void 0,n,void 0),s=!1,d=0;d<o.length;d++)s=s||a(this,o[d].subject,n,o[d].object);return s}},{key:'newUniversal',value:function t(n){var a=this.sym(n);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(a),a}},{key:'variable',value:function t(n){return new h(n)}},{key:'nextSymbol',value:function t(n){for(var a=0,r;;a++)if(r=n.uri+'#n'+a,!this.mentionsURI(r))return this.sym(r)}},{key:'query',value:function t(n,r,o,s){var d=a(68).indexedFormulaQuery;return d.call(this,n,r,o,s)}},{key:'remove',value:function t(a){if(a instanceof Array){for(var r=0;r<a.length;r++)this.remove(a[r]);return this}if(a instanceof n)return this.remove(a.statements);var o=this.statementsMatching(a.subject,a.predicate,a.object,a.why);if(!o.length)throw new Error('Statement to be removed is not on store: '+a);return this.removeStatement(o[0]),this}},{key:'removeDocument',value:function t(n){for(var a=this.statementsMatching(void 0,void 0,void 0,n).slice(),r=0;r<a.length;r++)this.removeStatement(a[r]);return this}},{key:'removeMany',value:function t(n,a,r,o,s){for(var d=this.statementsMatching(n,a,r,o,!1),l=[],c=0;c<d.length;c++)l.push(d[c]);for(s&&(l=l.slice(0,s)),c=0;c<l.length;c++)this.remove(l[c])}},{key:'removeMatches',value:function t(n,a,r,o){return this.removeStatements(this.statementsMatching(n,a,r,o)),this}},{key:'removeStatement',value:function t(n){for(var a=[n.subject,n.predicate,n.object,n.why],r=0;4>r;r++){var o=this.canon(a[r]),s=o.hashString();this.index[r][s]&&g(this.index[r][s],n)}return g(this.statements,n),this}},{key:'removeStatements',value:function t(n){for(var a=0;a<n.length;a++)this.remove(n[a]);return this}},{key:'replaceWith',value:function t(n,a){for(var r=n.hashString(),o=a.hashString(),s=function t(n){var a=n[r];if(a){var s=n[o];n[o]=s?a.concat(s):a,delete n[r]}},d=0;4>d;d++)s(this.index[d]);if(this.redirections[r]=a,n.uri){if(this.aliases[o]||(this.aliases[o]=[]),this.aliases[o].push(n),this.aliases[r])for(d=0;d<this.aliases[r].length;d++)this.redirections[this.aliases[r][d].hashString()]=a,this.aliases[o].push(this.aliases[r][d]);this.add(a,this.sym('http://www.w3.org/2007/ont/link#uri'),n.uri),this.fetcher&&this.fetcher.nowKnownAs(n,a)}return s(this.classActions),s(this.propertyActions),!0}},{key:'allAliases',value:function t(n){var r=this.aliases[this.canon(n).hashString()]||[];return r.push(this.canon(n)),r}},{key:'sameThings',value:function t(n,a){if(n.sameTerm(a))return!0;var r=this.canon(n);if(!r)return!1;var o=this.canon(a);return!!o&&r.uri===o.uri}},{key:'setPrefixForURI',value:function t(n,a){'tab'===n&&this.namespaces.tab||'ns'===n.slice(0,2)||'default'===n.slice(0,7)||(this.namespaces[n]=a)}},{key:'statementsMatching',value:function t(n,a,r,o,s){var d=[n,a,r,o],l=[],c=[],u=[],f=[],m,h;for(m=0;4>m;m++)l[m]=this.canon(y.fromValue(d[m])),l[m]?(f.push(m),c[m]=l[m].hashString()):u.push(m);if(0===f.length)return this.statements;if(1===f.length)return m=f[0],h=this.index[m][c[m]],h&&s&&1<h.length&&(h=h.slice(0,1)),h=h||[],h;var g=1e10,b,v;for(v=0;v<f.length;v++){if(m=f[v],h=this.index[m][c[m]],!h)return[];h.length<g&&(g=h.length,b=v)}for(var w=f[b],x=this.index[w][c[w]],_=f.slice(0,b).concat(f.slice(b+1)),k=[],C=['subject','predicate','object','why'],T=0,E;T<x.length;T++){for(E=x[T],v=0;v<_.length;v++)if(m=_[v],!this.canon(E[C[m]]).sameTerm(l[m])){E=null;break}if(null!=E&&(k.push(E),s))break}return k}},{key:'uris',value:function t(n){var a=this.canon(n),r=this.aliases[a.hashString()];if(!a.uri)return[];var o=[a.uri];if(r)for(var s=0;s<r.length;s++)o.push(r[s].uri);return o}},{key:'length',get:function t(){return this.statements.length}}]),n}(m);n.default=w,w.handleRDFType=c},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(31),c=a(39),u=a(12),f=function(t){function n(t){r(this,n);var a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return a.termType=n.termType,a.id=l.nextId++,a.elements=[],a.closed=!1,t&&0<t.length&&t.forEach(function(t){a.elements.push(u.fromValue(t))}),a}return s(n,t),d(n,[{key:'append',value:function t(n){return this.elements.push(n)}},{key:'close',value:function t(){return this.closed=!0,this.closed}},{key:'shift',value:function t(){return this.elements.shift()}},{key:'substitute',value:function t(a){var r=this.elements.map(function(t){t.substitute(a)});return new n(r)}},{key:'toNT',value:function t(){return l.NTAnonymousNodePrefix+this.id}},{key:'toString',value:function t(){return'('+this.elements.join(' ')+')'}},{key:'unshift',value:function t(n){return this.elements.unshift(n)}}]),n}(u);f.termType='Collection',f.prototype.classOrder=c.Collection,f.prototype.compareTerm=l.prototype.compareTerm,f.prototype.isVar=0,t.exports=f},function(t,n,a){'use strict';(function(n){function a(t,a,r,o){if('function'!=typeof t)throw new TypeError('"callback" argument must be a function');var s=arguments.length,d,l;switch(s){case 0:case 1:return n.nextTick(t);case 2:return n.nextTick(function n(){t.call(null,a)});case 3:return n.nextTick(function n(){t.call(null,a,r)});case 4:return n.nextTick(function n(){t.call(null,a,r,o)});default:for(d=Array(s-1),l=0;l<d.length;)d[l++]=arguments[l];return n.nextTick(function n(){t.apply(null,d)});}}t.exports=n.version&&0!==n.version.indexOf('v0.')&&(0!==n.version.indexOf('v1.')||0===n.version.indexOf('v1.8.'))?n.nextTick:a}).call(n,a(13))},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=a(12),d=function(){function t(n,a,o,d){r(this,t),this.subject=s.fromValue(n),this.predicate=s.fromValue(a),this.object=s.fromValue(o),this.why=d}return o(t,[{key:'equals',value:function t(n){return n.subject.equals(this.subject)&&n.predicate.equals(this.predicate)&&n.object.equals(this.object)&&n.graph.equals(this.graph)}},{key:'substitute',value:function n(a){var r=new t(this.subject.substitute(a),this.predicate.substitute(a),this.object.substitute(a),this.why.substitute(a));return console.log('@@@ statement substitute:'+r),r}},{key:'toCanonical',value:function t(){var n=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&'DefaultGraph'!==this.graph.termType&&n.push(this.graph.toCanonical()),n.join(' ')+' .'}},{key:'toNT',value:function t(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(' ')+' .'}},{key:'toString',value:function t(){return this.toNT()}},{key:'graph',get:function t(){return this.why},set:function t(n){this.why=n}}]),t}();t.exports=d},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(39),c=a(12),u=a(11),f=function(t){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';r(this,n);var a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return a.termType=n.termType,a.value=t,a.base='varid:',a.uri=u.join(t,a.base),a}return s(n,t),d(n,[{key:'equals',value:function t(n){return!!n&&this.termType===n.termType&&this.value===n.value}},{key:'hashString',value:function t(){return this.toString()}},{key:'substitute',value:function t(n){var a;return null==(a=n[this.toNT()])?this:a}},{key:'toString',value:function t(){return this.uri.slice(0,this.base.length)===this.base?'?'+this.uri.slice(this.base.length):'?'+this.uri}}]),n}(c);f.termType='Variable',f.prototype.classOrder=l.Variable,f.prototype.isVar=1,t.exports=f},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function s(t,n,a,r){function o(t,n){return t.nvars===n.nvars?t.index.length-n.index.length:t.nvars-n.nvars}var s=function t(n){var a='',r;for(r in n)n.hasOwnProperty(r)&&(a+='    '+r+' -> '+n[r]);return a},d=function t(a){var r='Bindings: ',o=a.length,n;for(n=0;n<o;n++)r+=s(a[n][0])+';\n\t';return r},l=function t(n,a,r,o){var s=r[n];if(void 0===s){if(n.isVar){var d=[];return d[n]=a,[[d,null]]}s=n}if(!s.complexType)return o.redirections[s]&&(s=o.redirections[s]),o.redirections[a]&&(a=o.redirections[a]),s.sameTerm(a)?[[[],null]]:[];if(n instanceof Array)return a instanceof Array?m(n,a,r):[];throw new Error('query.js: oops - code not written yet')},m=function t(a,r,o,s){var d;if(a.length!==r.length)return[];if(!a.length)return[[[],null]];var c=l(a[0],r[0],o,s);if(0===c.length)return c;var u=[],f=c.length,n,h,g,b,m,y,v;for(n=0;n<f;n++){for(m in h=c[n][0],v=[],h)h.hasOwnProperty(m)&&(v[m]=h[m]);for(m in o)o.hasOwnProperty(m)&&(v[m]=o[m]);for(d=t(a.slice(1),r.slice(1),v,s),b=d.length,g=0;g<b;g++){for(m in y=d[g][0],h)h.hasOwnProperty(m)&&(y[m]=h[m]);u.push([y,null])}}return u},h=function t(n,a){var r=a[n];return void 0===r?n:r},g=function t(n,a){var r={},o;for(o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);for(o in a)a.hasOwnProperty(o)&&(r[o]=a[o]);return r},y=function t(n,a){return this.trunkBindings=a,this.originalCallback=n,this.branches=[],this};y.prototype.checkAllDone=function(){var t;for(t=0;t<this.branches.length;t++)if(!this.branches[t].done)return;u.debug('OPTIONAL BIDNINGS ALL DONE:'),this.doCallBacks(this.branches.length-1,this.trunkBindings)},y.prototype.doCallBacks=function(t,n){var a;if(0>t)return this.originalCallback(n);for(a=0;a<this.branches[t].results.length;a++)this.doCallBacks(t-1,g(n,this.branches[t].results[a]))};var b=function t(n,a){return this.count=0,this.success=!1,this.done=!1,this.callback=n,this.onDone=a,this};b.prototype.reportMatch=function(t){this.callback(t),this.success=!0},b.prototype.reportDone=function(){this.done=!0,u.info('Mandatory query branch finished.***'),void 0!==this.onDone&&this.onDone()};var v=function t(n){return this.count=0,this.done=!1,this.results=[],this.junction=n,n.branches.push(this),this};v.prototype.reportMatch=function(t){this.results.push(t)},v.prototype.reportDone=function(){u.debug('Optional branch finished - results.length = '+this.results.length),0===this.results.length&&(this.results.push({}),u.debug('Optional branch FAILED - that\'s OK.')),this.done=!0,this.junction.checkAllDone()};var w=function n(a,r,o){var s,t,d,l,c;for(r.nvars=0,r.index=null,t=[r.subject,r.predicate,r.object],c=[a.subjectIndex,a.predicateIndex,a.objectIndex],l=0;3>l;l++)if(t[l].isVar&&void 0===o[t[l]])r.nvars++;else{if(s=h(t[l],o),a.redirections[s.hashString()]&&(s=a.redirections[s.hashString()]),d=c[l][s.hashString()],!d)return r.index=[],!1;(null===r.index||r.index.length>d.length)&&(r.index=d)}return null===r.index&&(r.index=a.statements),!0},x=0,_=function t(a,r,o,d,l,f,m){u.debug('Match begins, Branch count now: '+m.count+' for '+m.pattern_debug);var h=a.fetcher?a.fetcher:null,g=r.statements;if(0===g.length){if(u.debug('FOUND MATCH WITH BINDINGS:'+s(o)),0===r.optional.length)m.reportMatch(o);else{u.debug('OPTIONAL: '+r.optional);var w=new y(n,o),_=[],C;for(C=0;C<r.optional.length;C++)_[C]=new v(w),_[C].pattern_debug=r.optional[C];for(C=0;C<r.optional.length;C++)++_[C].count,t(a,r.optional[C],o,'',l,n,_[C])}return m.count--,void u.debug('Match ends -- success , Branch count now: '+m.count+' for '+m.pattern_debug)}var b=g.length,T,E;if(h){var S='match'+x++,A=function n(s,c){var u=s.uri.split('#')[0];h.nowOrWhenFetched(u,void 0,function(n,c,u){n&&console.log('Error following link to <'+s.uri+'> in query: '+c),t(a,r,o,d,l,f,m)})};for(E=0;E<b;E++){if(T=g[E],void 0!==o[T.subject]&&o[T.subject].uri&&h&&'unrequested'===h.getState(c(o[T.subject].uri)))return void A(o[T.subject],S);if(void 0!==o[T.object]&&o[T.object].uri&&h&&'unrequested'===h.getState(c(o[T.object].uri)))return void A(o[T.object],S)}}k(a,r,o,d,l,f,m)},C=function t(n,a){var r=!0,o,s;for(o in n)n.hasOwnProperty(o)&&a[o]&&(s=a[o].test,s&&!s(n[o])&&(r=!1));return r},k=function t(a,r,l,f,h,g,b){var y=r.statements,x=y.length,n,T,k,E,v,S,A;for(n=0;n<x;n++)A=y[n],u.info('match2: item='+A+', bindingsSoFar='+s(l)),w(a,A,l);y.sort(o),A=y[0];var I=a.formula();I.optional=r.optional,I.constraints=r.constraints,I.statements=y.slice(1),u.debug(f+'match2 searching '+A.index.length+' for '+A+'; bindings so far='+s(l));var N=A.index.length,j=0,R,c,L;for(R=0;R<N;R++)for(L=A.index[R],c=m([A.subject,A.predicate,A.object],[L.subject,L.predicate,L.object],l,a),u.info(f+' From first: '+c.length+': '+d(c)),k=c.length,T=0;T<k;T++)if(v=[],S=c[T][0],!C(S,r.constraints))u.debug('Branch count CS: '+b.count);else{for(E in S)S.hasOwnProperty(E)&&(v[E]=S[E]);for(E in l)l.hasOwnProperty(E)&&(v[E]=l[E]);b.count++,j++,_(a,I,v,f+'  ',h,g,b)}b.count--,0==j&&u.debug('Match2 fails completely on '+A),u.debug('Match2 ends, Branch count: '+b.count+' for '+b.pattern_debug),0===b.count&&(u.debug('Branch finished.'),b.reportDone())},T=this;u.debug('Query on '+this.statements.length);var f=new b(n,r);return f.count++,void setTimeout(function(){_(T,t.pat,t.pat.initBindings,'',a,n,f)},0)}var d=a(63),l=r(d),u=a(32),c=a(11).docpart,f=function t(n,a){o(this,t),this.pat=new l.default,this.vars=[],this.name=n,this.id=a};t.exports.Query=f,t.exports.indexedFormulaQuery=s},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return new x(t)}function s(t){return new _(t)}function d(){return new k}function l(t,n){return new C(t,n)}function c(){return new w.default}function u(t,n,a){return new T(''+t,n,a)}function f(t,n){return'string'==typeof n?-1===n.indexOf(':')?new T(t,n):new T(t,null,m(n)):new T(t,null,n)}function m(t){return new E(t)}function h(t,n,a,r){return r=r||new k,new S(t,n,a,r)}function g(t,n,a,r){return new S(t,n,a,r)}function b(t,n,a){return h(t,n,a)}function y(t){return new A(t)}var v=a(63),w=r(v),x=a(31),_=a(64),k=a(243),C=a(98),T=a(40),E=a(6),S=a(66),A=a(67);t.exports.blankNode=o,t.exports.defaultGraph=d,t.exports.graph=c,t.exports.literal=f,t.exports.namedNode=m,t.exports.quad=h,t.exports.triple=b,t.exports.variable=y,t.exports.collection=s,t.exports.fetcher=l,t.exports.lit=u,t.exports.st=g},function(t,n,a){'use strict';var r='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t},o=a(11),s=a(24).ArrayIndexOf,d=function(){function n(t){return encodeURI(t)}function t(t){this.details=t}function a(t,n,a,r,o,s,l,c){return new d(t,n,a,r,o,s,l,c)}function d(t,n,a,r,o,s,d,l){'undefined'==typeof n&&(n=null),'undefined'==typeof a&&(a=''),'undefined'==typeof r&&(r=null),'undefined'==typeof o&&(o=''),'undefined'==typeof s&&(s=null),'undefined'==typeof d&&(d=''),'undefined'==typeof l&&(l=null),this._bindings=new x([]),this._flags=d,''!=a&&(I(0<=a.indexOf(':'),'Document URI not absolute: '+a),this._bindings['']=a+'#'),this._store=t,o&&t.setGenPrefix(o),this._thisDoc=a,this.source=t.sym(a),this.lines=0,this.statementCount=0,this.startOfLine=0,this.previousLine=0,this._genPrefix=o,this.keywords=new _(['a','this','bind','has','is','of','true','false']),this.keywordsSet=0,this._anonymousNodes=new x([]),this._variables=new x([]),this._parentVariables=new x([]),this._reason=l,this._reason2=null,j,this._baseURI=r?r:a?a:null,I(!this._baseURI||0<=this._baseURI.indexOf(':')),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+'#_g':this._genPrefix=RDFSink_uniqueURI()),this._formula=null==n?this._thisDoc?t.formula(a+'#_formula'):t.formula():n,this._context=this._formula,this._parentContext=null}function l(t,n,a,r,o){return new c(t,n,a,r,o)}function c(t,n,a,r,o){this._str=a.encode('utf-8'),this._str=a,this._i=r,this._why=o,this.lines=n,this._uri=t}function u(t,n,a,r,o){return'Line '+(n+1)+' of <'+t+'>: Bad syntax: '+o+'\nat: "'+T(a,r,r+30)+'"'}function f(t){var n='',a=new E(t);try{for(;!0;){var r=a.next();if('\r'!=r)var n=n+r}}catch(t){if(t!=k)throw t}return n}function m(t){}var h=String.prototype,g={encode:function t(a){a=a.replace(/\r\n/g,'\n');for(var r='',o=0,n;o<a.length;o++)n=a.charCodeAt(o),128>n?r+=_StringfromCharCode(n):127<n&&2048>n?(r+=_StringfromCharCode(192|n>>6),r+=_StringfromCharCode(128|63&n)):(r+=_StringfromCharCode(224|n>>12),r+=_StringfromCharCode(128|63&n>>6),r+=_StringfromCharCode(128|63&n));return r},decode:function t(n){for(var a='',r=0,o;r<n.length;)o=n.charCodeAt(r),128>o?(a+=_StringfromCharCode(o),r++):191<o&&224>o?(a+=_StringfromCharCode((31&o)<<6|63&n.charCodeAt(r+1)),r+=2):(a+=_StringfromCharCode((15&o)<<12|(63&n.charCodeAt(r+1))<<6|63&n.charCodeAt(r+2)),r+=3);return a}},b='http://www.w3.org/2000/10/swap/log#forSome',y='http://www.w3.org/2000/10/swap/log#forAll',v='http://www.w3.org/2000/10/swap/log#',w=function t(n){return n},_=function t(n){return n},x=function t(n){if(0<n.length)throw'missing.js: oops nnonempty dict not imp';return[]},C=function t(n){return n.length},T=function t(n,a,o){if('undefined'==typeof n.slice)throw'@@ mising.js: No .slice function for '+n+' of type '+('undefined'==typeof n?'undefined':r(n));return'undefined'==typeof o||null==o?n.slice(a):n.slice(a,o)},k=Error('dummy error stop iteration'),E=function t(n){return this.last=0,this.li=n,this.next=function(){if(this.last==this.li.length)throw k;return this.li[this.last++]},this},S=function t(n){return n.charCodeAt(0)},A=function t(n,a){return n.indexOf(a)},I=function t(n,a){if(!n){if(a)throw'python Assertion failed: '+a;throw'(python) Assertion failed.'}},N=function t(n){return _StringfromCharCode(n)};h.encode=function(t){if('utf-8'!=t)throw'UTF8_converter: can only do utf-8';return g.encode(this)},h.decode=function(t){if('utf-8'!=t)throw'UTF8_converter: can only do utf-8';return this};var R=function t(n,a){return o.join(a,n)},L=null,j=0,O=0,P=function t(n){},M='http://www.w3.org/1999/02/22-rdf-syntax-ns#type',D='http://www.w3.org/2002/07/owl#sameAs',B='#',U='http://www.w3.org/2000/10/swap/log#implies',q='http://www.w3.org/2001/XMLSchema#integer',F='http://www.w3.org/2001/XMLSchema#double',z='http://www.w3.org/2001/XMLSchema#decimal',H='http://www.w3.org/2001/XMLSchema#date',W='http://www.w3.org/2001/XMLSchema#dateTime',V='http://www.w3.org/2001/XMLSchema#boolean',G=0,J='\t\r\n !"#$%&\'()*.,+/;<=>?@[\\]^`{|}~',K=J+':',X='http://www.w3.org/1999/02/22-rdf-syntax-ns#',Z='#',Y=/^[ \t]*(#[^\n]*)?\r?\n/g,Q=/^[ \t]*(#[^\n]*)?$/g,ee=/^[ \t]*/g,te=/^[-+]?[0-9]+/g,ne=/^([-+]?[0-9]+)(\.[0-9]+)?(e[-+]?[0-9]+)?/g,ae=/^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\.[0-9]*)?)?)?Z?/,re=/^[0-9]+/g,ie=/[\\\r\n\"]/g,oe=/^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*/g;return d.prototype.here=function(t){return this._genPrefix+'_L'+this.lines+'C'+(t-this.startOfLine+1)},d.prototype.formula=function(){return this._formula},d.prototype.loadStream=function(t){return this.loadBuf(t.read())},d.prototype.loadBuf=function(t){return this.startDoc(),this.feed(t),this.endDoc()},d.prototype.feed=function(t){for(var n=t.decode('utf-8'),a=0,r;0<=a;){if(r=this.skipSpace(n,a),0>r)return;var a=this.directiveOrStatement(n,r);if(0>a)throw u(this._thisDoc,this.lines,n,r,'expected directive or statement')}},d.prototype.directiveOrStatement=function(t,n){var a=this.skipSpace(t,n);if(0>a)return a;var r=this.directive(t,a);if(0<=r)return this.checkDot(t,r);var r=this.statement(t,a);return 0<=r?this.checkDot(t,r):r},d.prototype.tok=function(t,n,a){var r='\t\n\x0B\f\r ';if('@'==T(n,a,a+1))var a=a+1;else if(0>s(this.keywords,t))return-1;var o=a+C(t);return T(n,a,o)==t&&0<=J.indexOf(n.charAt(o))?o:-1},d.prototype.directive=function(a,r){var o=this.skipSpace(a,r);if(0>o)return o;var d=new _([]),o=this.tok('bind',a,r);if(0<o)throw u(this._thisDoc,this.lines,a,r,'keyword bind is obsolete: use @prefix');var o=this.tok('keywords',a,r);if(0<o){var r=this.commaSeparatedList(a,o,d,!1);if(0>r)throw u(this._thisDoc,this.lines,a,r,'\'@keywords\' needs comma separated list of words');return this.setKeywords(T(d,null,null)),80<O,r}var o=this.tok('forAll',a,r);if(0<o){var r=this.commaSeparatedList(a,o,d,!0);if(0>r)throw u(this._thisDoc,this.lines,a,r,'Bad variable list after @forAll');var l=new E(d);try{for(;!0;){var c=l.next();(0>s(this._variables,c)||0<=s(this._parentVariables,c))&&(this._variables[c]=this._context.newUniversal(c))}}catch(t){if(t!=k)throw t}return r}var o=this.tok('forSome',a,r);if(0<o){var r=this.commaSeparatedList(a,o,d,this.uri_ref2);if(0>r)throw u(this._thisDoc,this.lines,a,r,'Bad variable list after @forSome');var l=new E(d);try{for(;!0;){var c=l.next();this._context.declareExistential(c)}}catch(t){if(t!=k)throw t}return r}var o=this.tok('prefix',a,r);if(0<=o){var f=new _([]),r=this.qname(a,o,f);if(0>r)throw u(this._thisDoc,this.lines,a,o,'expected qname after @prefix');var o=this.uri_ref2(a,r,f);if(0>o)throw u(this._thisDoc,this.lines,a,r,'expected <uriref> after @prefix _qname_');var t=f[1].uri;if(this._baseURI)var t=R(this._baseURI,t);else I(0<=t.indexOf(':'),'With no base URI, cannot handle relative URI for NS');return I(0<=t.indexOf(':')),this._bindings[f[0][0]]=t,this.bind(f[0][0],n(t)),o}var o=this.tok('base',a,r);if(0<=o){var f=new _([]),r=this.uri_ref2(a,o,f);if(0>r)throw u(this._thisDoc,this.lines,a,o,'expected <uri> after @base ');var t=f[0].uri;if(this._baseURI)var t=R(this._baseURI,t);else throw u(this._thisDoc,this.lines,a,o,'With no previous base URI, cannot use relative URI in @base  <'+t+'>');return I(0<=t.indexOf(':')),this._baseURI=t,r}return-1},d.prototype.bind=function(t,n){''==t||this._store.setPrefixForURI(t,n)},d.prototype.setKeywords=function(t){null==t?this.keywordsSet=0:(this.keywords=t,this.keywordsSet=1)},d.prototype.startDoc=function(){},d.prototype.endDoc=function(){return this._formula},d.prototype.makeStatement=function(t){t[0].add(t[2],t[1],t[3],this.source),this.statementCount+=1},d.prototype.statement=function(t,n){var a=new _([]),n=this.object(t,n,a);if(0>n)return n;var r=this.property_list(t,n,a[0]);if(0>r)throw u(this._thisDoc,this.lines,t,n,'expected propertylist');return r},d.prototype.subject=function(t,n,a){return this.item(t,n,a)},d.prototype.verb=function(t,n,a){var o=this.skipSpace(t,n);if(0>o)return o;var s=new _([]),o=this.tok('has',t,n);if(0<=o){var n=this.prop(t,o,s);if(0>n)throw u(this._thisDoc,this.lines,t,o,'expected property after \'has\'');return a.push(new w(['->',s[0]])),n}var o=this.tok('is',t,n);if(0<=o){var n=this.prop(t,o,s);if(0>n)throw u(this._thisDoc,this.lines,t,o,'expected <property> after \'is\'');var o=this.skipSpace(t,n);if(0>o){throw u(this._thisDoc,this.lines,t,n,'End of file found, expected property after \'is\'');return o}var n=o,o=this.tok('of',t,n);if(0>o)throw u(this._thisDoc,this.lines,t,n,'expected \'of\' after \'is\' <prop>');return a.push(new w(['<-',s[0]])),o}var o=this.tok('a',t,n);if(0<=o)return a.push(new w(['->',this._store.sym(M)])),o;if('<='==T(t,n,n+2))return a.push(new w(['<-',this._store.sym(v+'implies')])),n+2;if('='==T(t,n,n+1))return'>'==T(t,n+1,n+2)?(a.push(new w(['->',this._store.sym(v+'implies')])),n+2):(a.push(new w(['->',this._store.sym(D)])),n+1);if(':='==T(t,n,n+2))return a.push(new w(['->',v+'becomes'])),n+2;var o=this.prop(t,n,s);if(0<=o)return a.push(new w(['->',s[0]])),o;if('>-'==T(t,n,n+2)||'<-'==T(t,n,n+2))throw u(this._thisDoc,this.lines,t,o,'>- ... -> syntax is obsolete.');return-1},d.prototype.prop=function(t,n,a){return this.item(t,n,a)},d.prototype.item=function(t,n,a){return this.path(t,n,a)},d.prototype.blankNode=function(t){return this._context.bnode(t,this._reason2)},d.prototype.path=function(t,n,a){var r=this.nodeOrLiteral(t,n,a);if(0>r)return r;for(;0<='!^.'.indexOf(T(t,r,r+1));){var o=T(t,r,r+1);if('.'==o){var s=T(t,r+1,r+2);if(!s||0<=K.indexOf(s)&&0>':?<[{('.indexOf(s))break}var d=a.pop(),l=this.blankNode(this.here(r)),r=this.node(t,r+1,a);if(0>r)throw u(this._thisDoc,this.lines,t,r,'EOF found in middle of path syntax');var c=a.pop();'^'==o?this.makeStatement(new w([this._context,c,l,d])):this.makeStatement(new w([this._context,c,d,l])),a.push(l)}return r},d.prototype.anonymousNode=function(t){var n=this._anonymousNodes[t];if(n)return n;var n=this._store.bnode(t);return this._anonymousNodes[t]=n,n},d.prototype.node=function(t,n,a,r){'undefined'==typeof r&&(r=null);var o=r,s=this.skipSpace(t,n);if(0>s)return s;var n=s,d=T(t,n,n+1);if('['==d){var l=this.here(n),s=this.skipSpace(t,n+1);if(0>s)throw u(this._thisDoc,this.lines,t,n,'EOF after \'[\'');if('='==T(t,s,s+1)){var n=s+1,c=new _([]),s=this.objectList(t,n,c);if(0<=s){var o=c[0];if(1<C(c)){var f=new E(c);try{for(;!0;){var m=f.next();this.makeStatement(new w([this._context,this._store.sym(D),o,m]))}}catch(t){if(t!=k)throw t}}var s=this.skipSpace(t,s);if(0>s)throw u(this._thisDoc,this.lines,t,n,'EOF when objectList expected after [ = ');if(';'==T(t,s,s+1))var s=s+1}else throw u(this._thisDoc,this.lines,t,n,'objectList expected after [= ')}if(null==o)var o=this.blankNode(l);var n=this.property_list(t,s,o);if(0>n)throw u(this._thisDoc,this.lines,t,s,'property_list expected');var s=this.skipSpace(t,n);if(0>s)throw u(this._thisDoc,this.lines,t,n,'EOF when \']\' expected after [ <propertyList>');if(']'!=T(t,s,s+1))throw u(this._thisDoc,this.lines,t,s,'\']\' expected');return a.push(o),s+1}if('{'==d){var h=T(t,n+1,n+2);if('$'==h){n+=1;for(var s=n+1,g=new _([]),b=!0,n;1;){if(n=this.skipSpace(t,s),0>n)throw u(this._thisDoc,this.lines,t,n,'needed \'$}\', found end.');if('$}'==T(t,n,n+2)){var s=n+2;break}if(!!b)var b=!1;else if(','==T(t,n,n+1))n+=1;else throw u(this._thisDoc,this.lines,t,n,'expected: \',\'');var y=new _([]),s=this.item(t,n,y);if(0>s)throw u(this._thisDoc,this.lines,t,n,'expected item in set or \'$}\'');g.push(y[0])}return a.push(this._store.newSet(g,this._context)),s}var s=n+1,v=this._parentContext;this._parentContext=this._context;var S=this._anonymousNodes,A=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new x([]),this._variables=this._variables.slice();var I=this._reason2;if(this._reason2=L,null==o)var o=this._store.formula();for(this._context=o;1;){var n=this.skipSpace(t,s);if(0>n)throw u(this._thisDoc,this.lines,t,n,'needed \'}\', found end.');if('}'==T(t,n,n+1)){var s=n+1;break}var s=this.directiveOrStatement(t,n);if(0>s)throw u(this._thisDoc,this.lines,t,n,'expected statement or \'}\'')}return this._anonymousNodes=S,this._variables=this._parentVariables,this._parentVariables=A,this._context=this._parentContext,this._reason2=I,this._parentContext=v,a.push(o.close()),s}if('('==d){var N=this._store.list,h=T(t,n+1,n+2);if('$'==h){var N=this._store.newSet;n+=1}for(var s=n+1,g=new _([]),n;1;){if(n=this.skipSpace(t,s),0>n)throw u(this._thisDoc,this.lines,t,n,'needed \')\', found end.');if(')'==T(t,n,n+1)){var s=n+1;break}var y=new _([]),s=this.item(t,n,y);if(0>s)throw u(this._thisDoc,this.lines,t,n,'expected item in list or \')\'');g.push(y[0])}return a.push(N(g,this._context)),s}var s=this.tok('this',t,n);if(0<=s){throw u(this._thisDoc,this.lines,t,n,'Keyword \'this\' was ancient N3. Now use @forSome and @forAll keywords.');return a.push(this._context),s}var s=this.tok('true',t,n);if(0<=s)return a.push(!0),s;var s=this.tok('false',t,n);if(0<=s)return a.push(!1),s;if(null==o){var s=this.uri_ref2(t,n,a);if(0<=s)return s}return-1},d.prototype.property_list=function(t,n,a){for(;1;){var r=this.skipSpace(t,n);if(0>r){throw u(this._thisDoc,this.lines,t,n,'EOF found when expected verb in property list');return r}if(':-'==T(t,r,r+2)){var n=r+2,o=new _([]),r=this.node(t,n,o,a);if(0>r)throw u(this._thisDoc,this.lines,t,n,'bad {} or () or [] node after :- ');var n=r;continue}var n=r,s=new _([]),r=this.verb(t,n,s);if(0>=r)return n;var d=new _([]),n=this.objectList(t,r,d);if(0>n)throw u(this._thisDoc,this.lines,t,r,'objectList expected');var l=new E(d);try{for(;!0;){var c=l.next(),f=s[0],m=f[0],h=f[1];'->'==m?this.makeStatement(new w([this._context,h,a,c])):this.makeStatement(new w([this._context,h,c,a]))}}catch(t){if(t!=k)throw t}var r=this.skipSpace(t,n);if(0>r){throw u(this._thisDoc,this.lines,t,r,'EOF found in list of objects');return r}if(';'!=T(t,n,n+1))return n;var n=n+1}},d.prototype.commaSeparatedList=function(t,n,a,r){var o=this.skipSpace(t,n);if(0>o){throw u(this._thisDoc,this.lines,t,o,'EOF found expecting comma sep list');return o}if('.'==t.charAt(o))return n;if(r)var o=this.uri_ref2(t,o,a);else var o=this.bareWord(t,o,a);if(0>o)return-1;for(;1;){var n=this.skipSpace(t,o);if(0>n)return n;var s=T(t,n,n+1);if(','!=s)return'.'==s?n:-1;if(r)var o=this.uri_ref2(t,n+1,a);else var o=this.bareWord(t,n+1,a);if(0>o){throw u(this._thisDoc,this.lines,t,o,'bad list content');return o}}},d.prototype.objectList=function(t,n,a){var n=this.object(t,n,a);if(0>n)return-1;for(;1;){var r=this.skipSpace(t,n);if(0>r){throw u(this._thisDoc,this.lines,t,r,'EOF found after object');return r}if(','!=T(t,r,r+1))return r;var n=this.object(t,r+1,a);if(0>n)return n}},d.prototype.checkDot=function(t,n){var a=this.skipSpace(t,n);if(0>a)return a;if('.'==T(t,a,a+1))return a+1;if('}'==T(t,a,a+1))return a;if(']'==T(t,a,a+1))return a;throw u(this._thisDoc,this.lines,t,a,'expected \'.\' or \'}\' or \']\' at end of statement');return n},d.prototype.uri_ref2=function(t,n,a){var r=new _([]),o=this.qname(t,n,r);if(0<=o){var d=r[0],l=d[0],c=d[1];if(null==l){I(0,'not used?');var f=this._baseURI+B}else{var f=this._bindings[l];if(!f){if('_'==l)return a.push(this.anonymousNode(c)),o;throw u(this._thisDoc,this.lines,t,n,'Prefix '+l+' not bound.')}}var m=this._store.sym(f+c);return 0<=s(this._variables,m)?a.push(this._variables[m]):a.push(m),o}var n=this.skipSpace(t,n);if(0>n)return-1;if('?'==t.charAt(n)){var h=new _([]),o=this.variable(t,n,h);return 0<o?(a.push(h[0]),o):-1}if('<'==t.charAt(n)){for(var n=n+1,g=n;n<C(t);){if('>'==t.charAt(n)){var b=T(t,g,n);if(this._baseURI)var b=R(this._baseURI,b);else I(0<=b.indexOf(':'),'With no base URI, cannot deal with relative URIs');if('#'==T(t,n-1,n)&&'#'!=T(b,-1,null))var b=b+'#';var m=this._store.sym(b);return 0<=s(this._variables,m)?a.push(this._variables[m]):a.push(m),n+1}var n=n+1}throw u(this._thisDoc,this.lines,t,o,'unterminated URI reference')}else{if(this.keywordsSet){var h=new _([]),o=this.bareWord(t,n,h);if(0>o)return-1;if(0<=s(this.keywords,h[0]))throw u(this._thisDoc,this.lines,t,n,'Keyword "'+h[0]+'" not allowed here.');return a.push(this._store.sym(this._bindings['']+h[0])),o}return-1}},d.prototype.skipSpace=function(t,n){for(var a=' \n\r\t\f\x0B\xA0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u200B\u2028\u2029\u3000',r=n?n:0,o;r<t.length;r++)if(o=t.charAt(r),!(0>a.indexOf(o)))'\n'===t.charAt(r)&&++this.lines;else if('#'===t.charAt(r)){for(;;r++){if(r===t.length)return-1;if('\n'===t.charAt(r)){++this.lines;break}};}else return r;return-1},d.prototype.variable=function(t,n,a){var r=this.skipSpace(t,n);if(0>r)return-1;if('?'!=T(t,r,r+1))return-1;var r=r+1,n=r;if(0<='0123456789-'.indexOf(t.charAt(r))){throw u(this._thisDoc,this.lines,t,r,'Varible name can\'t start with \''+t.charAt(r)+'s\'');return-1}for(;n<C(t)&&0>K.indexOf(t.charAt(n));)var n=n+1;if(null==this._parentContext)throw u(this._thisDoc,this.lines,t,r,'Can\'t use ?xxx syntax for variable in outermost level: '+T(t,r-1,n));return a.push(this._store.variable(T(t,r,n))),n},d.prototype.bareWord=function(t,n,a){var r=this.skipSpace(t,n);if(0>r)return-1;var o=t.charAt(r);if(0<='0123456789-'.indexOf(o))return-1;if(0<=K.indexOf(o))return-1;for(var n=r,n;n<C(t)&&0>K.indexOf(t.charAt(n));)++n;return a.push(T(t,r,n)),n},d.prototype.qname=function(t,n,a){var n=this.skipSpace(t,n);if(0>n)return-1;var r=t.charAt(n);if(0<='0123456789-+'.indexOf(r))return-1;if(0>K.indexOf(r))for(var o=r,n=n+1,r;n<C(t)&&(r=t.charAt(n),0>K.indexOf(r));)var o=o+r,n=n+1;else var o='';if(n<C(t)&&':'==t.charAt(n)){for(var d=o,n=n+1,o='',r;n<C(t)&&(r=t.charAt(n),0>K.indexOf(r));)var o=o+r,n=n+1;return a.push(new w([d,o])),n}return o&&this.keywordsSet&&0>s(this.keywords,o)?(a.push(new w(['',o])),n):-1},d.prototype.object=function(t,n,a){var r=this.subject(t,n,a);if(0<=r)return r;var r=this.skipSpace(t,n);if(0>r)return-1;var n=r;if('"'==t.charAt(n)){if('"""'==T(t,n,n+3))var o='"""';else var o='"';var n=n+C(o),d=this.strconst(t,n,o),r=d[0],l=d[1];return a.push(this._store.literal(l)),P('New string const ',l,r),r}return-1},d.prototype.nodeOrLiteral=function(t,n,a){var r=this.node(t,n,a);if(0<=r)return r;var r=this.skipSpace(t,n);if(0>r)return-1;var n=r,o=t.charAt(n);if(0<='-+0987654321'.indexOf(o)){ae.lastIndex=0;var d=ae.exec(t.slice(n));if(null!=d){var l=d[0];r=n+l.length,0<=l.indexOf('T')?a.push(this._store.literal(l,void 0,this._store.sym(W))):a.push(this._store.literal(l,void 0,this._store.sym(H)))}else{ne.lastIndex=0;var d=ne.exec(t.slice(n));if(null==d)throw u(this._thisDoc,this.lines,t,n,'Bad number or date syntax');r=n+ne.lastIndex;var l=T(t,n,r);0<=l.indexOf('e')?a.push(this._store.literal(parseFloat(l),void 0,this._store.sym(F))):0<=T(t,n,r).indexOf('.')?a.push(this._store.literal(parseFloat(l),void 0,this._store.sym(z))):a.push(this._store.literal(parseInt(l),void 0,this._store.sym(q)))};return r}if('"'==t.charAt(n)){if('"""'==T(t,n,n+3))var c='"""';else var c='"';var n=n+C(c),f=null,m=this.strconst(t,n,c),r=m[0],h=m[1],s=null;if('@'==T(t,r,r+1)){oe.lastIndex=0;var d=oe.exec(t.slice(r+1));if(null==d)throw u(this._thisDoc,startline,t,n,'Bad language code syntax on string literal, after @');var n=oe.lastIndex+r+1,s=T(t,r+1,n),r=n}if('^^'==T(t,r,r+2))var g=new _([]),r=this.uri_ref2(t,r+2,g),f=g[0];return a.push(this._store.literal(h,s,f)),r}return-1},d.prototype.strconst=function(t,n,a){for(var r=n,o='',s=this.lines,n;r<C(t);){if(n=r+C(a),T(t,r,n)==a)return new w([n,o]);if('"'==t.charAt(r)){var o=o+'"',r=r+1;continue}ie.lastIndex=0;var d=ie.exec(t.slice(r));if(!d)throw u(this._thisDoc,s,t,r,'Closing quote missing in string at ^ in '+T(t,r-20,r)+'^'+T(t,r,r+20));var n=r+ie.lastIndex-1,o=o+T(t,r,n),l=t.charAt(n);if('"'==l){var r=n;continue}else if('\r'==l){var r=n+1;continue}else if('\n'==l){if('"'==a)throw u(this._thisDoc,s,t,n,'newline found in string literal');++this.lines;var o=o+l,r=n+1;this.previousLine=this.startOfLine,this.startOfLine=r}else if('\\'==l){var r=n+1,l=T(t,r,r+1);if(!l)throw u(this._thisDoc,s,t,n,'unterminated string literal (2)');var c=A('abfrtvn\\"',l);if(0<=c)var f='a\b\f\r\t\x0B\n\\"'.charAt(c),o=o+f,r=r+1;else if('u'==l)var h=this.uEscape(t,r+1,s),r=h[0],l=h[1],o=o+l;else if('U'==l)var h=this.UEscape(t,r+1,s),r=h[0],l=h[1],o=o+l;else throw u(this._thisDoc,this.lines,t,n,'bad escape')}}throw u(this._thisDoc,this.lines,t,n,'unterminated string literal')},d.prototype.uEscape=function(t,n,a){for(var r=n,o=0,s=0;4>o;){var d=T(t,r,r+1),l=d.toLowerCase(),r=r+1;if(''==l)throw u(this._thisDoc,a,t,n,'unterminated string literal(3)');var c=A('0123456789abcdef',l);if(0>c)throw u(this._thisDoc,a,t,n,'bad string literal hex escape');var s=16*s+c,o=o+1}var f=_StringfromCharCode(s);return new w([r,f])},d.prototype.UEscape=function(t,n,a){for(var r=n,o=0,s='\\U';8>o;){var d=T(t,r,r+1),l=d.toLowerCase(),r=r+1;if(''==l)throw u(this._thisDoc,a,t,n,'unterminated string literal(3)');var c=A('0123456789abcdef',l);if(0>c)throw u(this._thisDoc,a,t,n,'bad string literal hex escape');var s=s+l,o=o+1}var f=N('0x'+T(s,2,10)-0);return new w([r,f])},c.prototype.toString=function(){var t=this._str,n=this._i,a=0;if(60<n)var r='...',a=n-60;else var r='';if(60<C(t)-n)var o='...';else var o='';return'Line %i of <%s>: Bad syntax (%s) at ^ in:\n"%s%s^%s%s"'%new w([this.lines+1,this._uri,this._why,r,T(t,a,n),T(t,n,n+60),o])},a}();t.exports=d},function(t,n,a){function r(t,n,a,r){if(o.isBuffer(t)||(t=o.from(t,'binary')),n&&(o.isBuffer(n)||(n=o.from(n,'binary')),8!==n.length))throw new RangeError('salt should be Buffer with 8 byte length');for(var d=a/8,l=o.alloc(d),c=o.alloc(r||0),u=o.alloc(0),f;0<d||0<r;){f=new s,f.update(u),f.update(t),n&&f.update(n),u=f.digest();var m=0;if(0<d){var h=l.length-d;m=_Mathmin(d,u.length),u.copy(l,h,0,m),d-=m}if(m<u.length&&0<r){var g=c.length-r,b=_Mathmin(r,u.length-m);u.copy(c,g,m,m+b),r-=b}}return u.fill(0),{key:l,iv:c}}var o=a(3).Buffer,s=a(263);t.exports=r},function(t,n,a){function r(t){l.isBuffer(t)||(t=l.from(t));for(var n=0|t.length/4,a=Array(n),r=0;r<n;r++)a[r]=t.readUInt32BE(4*r);return a}function o(t){for(var n=0;n<t.length;t++)t[n]=0}function s(t,n,a,r,o){for(var s=a[0],d=a[1],l=a[2],c=a[3],u=t[0]^n[0],f=t[1]^n[1],m=t[2]^n[2],h=t[3]^n[3],g=4,b=1,y,v,w,x;b<o;b++)y=s[u>>>24]^d[255&f>>>16]^l[255&m>>>8]^c[255&h]^n[g++],v=s[f>>>24]^d[255&m>>>16]^l[255&h>>>8]^c[255&u]^n[g++],w=s[m>>>24]^d[255&h>>>16]^l[255&u>>>8]^c[255&f]^n[g++],x=s[h>>>24]^d[255&u>>>16]^l[255&f>>>8]^c[255&m]^n[g++],u=y,f=v,m=w,h=x;return y=(r[u>>>24]<<24|r[255&f>>>16]<<16|r[255&m>>>8]<<8|r[255&h])^n[g++],v=(r[f>>>24]<<24|r[255&m>>>16]<<16|r[255&h>>>8]<<8|r[255&u])^n[g++],w=(r[m>>>24]<<24|r[255&h>>>16]<<16|r[255&u>>>8]<<8|r[255&f])^n[g++],x=(r[h>>>24]<<24|r[255&u>>>16]<<16|r[255&f>>>8]<<8|r[255&m])^n[g++],y>>>=0,v>>>=0,w>>>=0,x>>>=0,[y,v,w,x]}function d(t){this._key=r(t),this._reset()}var l=a(3).Buffer,c=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var n=Array(256),a=0;256>a;a++)n[a]=128>a?a<<1:283^a<<1;for(var r=[],o=[],s=[[],[],[],[]],d=[[],[],[],[]],l=0,c=0,u=0,f;256>u;++u){f=c^c<<1^c<<2^c<<3^c<<4,f=99^(f>>>8^255&f),r[l]=f,o[f]=l;var m=n[l],h=n[m],g=n[h],b=257*n[f]^16843008*f;s[0][l]=b<<24|b>>>8,s[1][l]=b<<16|b>>>16,s[2][l]=b<<8|b>>>24,s[3][l]=b,b=16843009*g^65537*h^257*m^16843008*l,d[0][f]=b<<24|b>>>8,d[1][f]=b<<16|b>>>16,d[2][f]=b<<8|b>>>24,d[3][f]=b,0==l?l=c=1:(l=m^n[n[n[g^m]]],c^=n[n[c]])}return{SBOX:r,INV_SBOX:o,SUB_MIX:s,INV_SUB_MIX:d}}();d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var n=this._key,a=n.length,r=a+6,o=4*(r+1),s=[],d=0;d<a;d++)s[d]=n[d];for(d=a;d<o;d++){var l=s[d-1];0==d%a?(l=l<<8|l>>>24,l=u.SBOX[l>>>24]<<24|u.SBOX[255&l>>>16]<<16|u.SBOX[255&l>>>8]<<8|u.SBOX[255&l],l^=c[0|d/a]<<24):6<a&&4==d%a&&(l=u.SBOX[l>>>24]<<24|u.SBOX[255&l>>>16]<<16|u.SBOX[255&l>>>8]<<8|u.SBOX[255&l]),s[d]=s[d-a]^l}for(var t=[],f=0;f<o;f++){var m=o-f,h=s[m-(f%4?0:4)];t[f]=4>f||4>=m?h:u.INV_SUB_MIX[0][u.SBOX[h>>>24]]^u.INV_SUB_MIX[1][u.SBOX[255&h>>>16]]^u.INV_SUB_MIX[2][u.SBOX[255&h>>>8]]^u.INV_SUB_MIX[3][u.SBOX[255&h]]}this._nRounds=r,this._keySchedule=s,this._invKeySchedule=t},d.prototype.encryptBlockRaw=function(t){return t=r(t),s(t,this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},d.prototype.encryptBlock=function(t){var n=this.encryptBlockRaw(t),a=l.allocUnsafe(16);return a.writeUInt32BE(n[0],0),a.writeUInt32BE(n[1],4),a.writeUInt32BE(n[2],8),a.writeUInt32BE(n[3],12),a},d.prototype.decryptBlock=function(t){t=r(t);var n=t[1];t[1]=t[3],t[3]=n;var a=s(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=l.allocUnsafe(16);return o.writeUInt32BE(a[0],0),o.writeUInt32BE(a[3],4),o.writeUInt32BE(a[2],8),o.writeUInt32BE(a[1],12),o},d.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=d},function(t,n,a){'use strict';var r=n;r.base=a(295),r.short=a(296),r.mont=a(297),r.edwards=a(298)},function(t,n,a){(function(n){function r(t){var a;'object'!=typeof t||n.isBuffer(t)||(a=t.passphrase,t=t.key),'string'==typeof t&&(t=new n(t));var r=l(t,a),d=r.tag,c=r.data,u,f;switch(d){case'CERTIFICATE':f=s.certificate.decode(c,'der').tbsCertificate.subjectPublicKeyInfo;case'PUBLIC KEY':switch(f||(f=s.PublicKey.decode(c,'der')),u=f.algorithm.algorithm.join('.'),u){case'1.2.840.113549.1.1.1':return s.RSAPublicKey.decode(f.subjectPublicKey.data,'der');case'1.2.840.10045.2.1':return f.subjectPrivateKey=f.subjectPublicKey,{type:'ec',data:f};case'1.2.840.10040.4.1':return f.algorithm.params.pub_key=s.DSAparam.decode(f.subjectPublicKey.data,'der'),{type:'dsa',data:f.algorithm.params};default:throw new Error('unknown key id '+u);}throw new Error('unknown key type '+d);case'ENCRYPTED PRIVATE KEY':c=s.EncryptedPrivateKey.decode(c,'der'),c=o(c,a);case'PRIVATE KEY':switch(f=s.PrivateKey.decode(c,'der'),u=f.algorithm.algorithm.join('.'),u){case'1.2.840.113549.1.1.1':return s.RSAPrivateKey.decode(f.subjectPrivateKey,'der');case'1.2.840.10045.2.1':return{curve:f.algorithm.curve,privateKey:s.ECPrivateKey.decode(f.subjectPrivateKey,'der').privateKey};case'1.2.840.10040.4.1':return f.algorithm.params.priv_key=s.DSAparam.decode(f.subjectPrivateKey,'der'),{type:'dsa',params:f.algorithm.params};default:throw new Error('unknown key id '+u);}throw new Error('unknown key type '+d);case'RSA PUBLIC KEY':return s.RSAPublicKey.decode(c,'der');case'RSA PRIVATE KEY':return s.RSAPrivateKey.decode(c,'der');case'DSA PRIVATE KEY':return{type:'dsa',params:s.DSAPrivateKey.decode(c,'der')};case'EC PRIVATE KEY':return c=s.ECPrivateKey.decode(c,'der'),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error('unknown key type '+d);}}function o(t,a){var r=t.algorithm.decrypt.kde.kdeparams.salt,o=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=d[t.algorithm.decrypt.cipher.algo.join('.')],l=t.algorithm.decrypt.cipher.iv,f=t.subjectPrivateKey,m=parseInt(s.split('-')[1],10)/8,h=u.pbkdf2Sync(a,r,o,m),g=c.createDecipheriv(s,h,l),b=[];return b.push(g.update(f)),b.push(g.final()),n.concat(b)}var s=a(315),d=a(329),l=a(330),c=a(104),u=a(153);t.exports=r,r.signature=s.signature}).call(n,a(0).Buffer)},function(t,n,a){'use strict';function r(t,n,a){var r=t.createElement('div');return r.setAttribute('style','margin: 0.1em; padding: 0.5em; border: 0.05em solid gray; background-color: '+(a||'#fee')+'; color:black;'),r.textContent=n,r}t.exports.errorMessageBlock=r},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=a(345),s=r(o);n.default=s.default||function(t){for(var n=1,a;n<arguments.length;n++)for(var r in a=arguments[n],a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);return t}},function(t,n){t.exports=function(t){if('function'!=typeof t)throw TypeError(t+' is not a function!');return t}},function(t,n,a){var r=a(182),o=a(117);t.exports=Object.keys||function t(n){return r(n,o)}},function(t,n){var a=0,r=Math.random();t.exports=function(t){return'Symbol('.concat(t===void 0?'':t,')_',(++a+r).toString(36))}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,a){t.exports={default:a(353),__esModule:!0}},function(t,n){t.exports=!0},function(t,n,a){var r=a(26).f,o=a(35),s=a(9)('toStringTag');t.exports=function(t,n,a){t&&!o(t=a?t:t.prototype,s)&&r(t,s,{configurable:!0,value:n})}},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return{getItem:function n(a){return d.default.resolve(t.getItem(a))},setItem:function n(a,r){return d.default.resolve(t.setItem(a,r))},removeItem:function n(a){return d.default.resolve(t.removeItem(a))}}}Object.defineProperty(n,'__esModule',{value:!0}),n.postMessageStorage=n.memStorage=n.updateStorage=n.getData=n.defaultStorage=n.NAMESPACE=void 0;var s=a(81),d=r(s),l=a(375),c=r(l),u=a(36),f=r(u),m=a(37),h=r(m),g=n.getData=function(){var t=(0,h.default)(f.default.mark(function t(n){var a,r;return f.default.wrap(function t(o){for(;1;)switch(o.prev=o.next){case 0:return a=void 0,r=void 0,o.prev=2,o.next=5,n.getItem(v);case 5:a=o.sent,r=JSON.parse(a||'{}'),o.next=14;break;case 9:o.prev=9,o.t0=o['catch'](2),console.warn('Could not deserialize data:',a),console.error(o.t0),r={};case 14:return o.abrupt('return',r);case 15:case'end':return o.stop();}},t,this,[[2,9]])}));return function n(a){return t.apply(this,arguments)}}(),b=n.updateStorage=function(){var t=(0,h.default)(f.default.mark(function t(n,a){var r,o;return f.default.wrap(function t(s){for(;1;)switch(s.prev=s.next){case 0:return s.next=2,g(n);case 2:return r=s.sent,o=a(r),s.next=6,n.setItem(v,(0,c.default)(o));case 6:return s.abrupt('return',o);case 7:case'end':return s.stop();}},t,this)}));return function n(a,r){return t.apply(this,arguments)}}();n.asyncStorage=o;var y=a(200),v=n.NAMESPACE='solid-auth-client',w=n.defaultStorage=function t(){try{if(window&&window.localStorage)return o(window.localStorage)}catch(t){if(!(t instanceof ReferenceError))throw t}return console.warn('\'window.localStorage\' unavailable.  Creating a (not very useful) in-memory storage object as the default storage interface.'),o(x())},x=n.memStorage=function t(){var n={};return{getItem:function t(a){return'undefined'==typeof n[a]?null:n[a]},setItem:function t(a,r){n[a]=r},removeItem:function t(a){delete n[a]}}},_=n.postMessageStorage=function t(n,a){var r=(0,y.client)(n,a);return{getItem:function(){var t=(0,h.default)(f.default.mark(function t(n){var a;return f.default.wrap(function t(o){for(;1;)switch(o.prev=o.next){case 0:return o.next=2,r({method:'storage/getItem',args:[n]});case 2:if(a=o.sent,'string'==typeof a){o.next=5;break}throw new Error('expected postMessage call for \'storage/getItem\' to return a string, but got value '+a);case 5:return o.abrupt('return',a);case 6:case'end':return o.stop();}},t,void 0)}));return function n(a){return t.apply(this,arguments)}}(),setItem:function t(n,a){return r({method:'storage/setItem',args:[n,a]})},removeItem:function t(n){return r({method:'storage/removeItem',args:[n]})}}}},function(t,n){t.exports=__WEBPACK_EXTERNAL_MODULE_85__},function(t,n,a){'use strict';var r=a(17),o=r.JSONSchema,s=a(407),d=s.BASE64_REGEXP,l=new o({type:'object',properties:{kty:{type:'string',enum:['RSA','EC','oct']},use:{type:'string',enum:['sig','enc']},key_ops:{type:'array',items:{enum:['sign','verify','encrypt','decrypt','wrapKey','unwrapKey','deriveKey','deriveBits']}},alg:{type:'string',enum:['HS256','HS384','HS512','RS256','RS384','RS512','ES256','ES384','ES512','PS256','PS384','PS512','none']},kid:{type:'string'},x5u:{type:'string'},x5c:{type:'array'},x5t:{type:'string'}}});t.exports=l},function(t,n,a){'use strict';function r(t,n,a,r,d,l){function c(t,n){return d?void d(t,n):n}a=a||t.uri,l=l||{},r=r||'text/turtle';var u=null;try{var f=s(n);l.flags&&f.setFlags(l.flags);var m=n.statementsMatching(void 0,void 0,void 0,t),h;switch(f.suggestNamespaces(n.namespaces),f.setBase(a),r){case'application/rdf+xml':return u=f.statementsToXML(m),c(null,u);case'text/n3':case'application/n3':return u=f.statementsToN3(m),c(null,u);case'text/turtle':case'application/x-turtle':return f.setFlags('si'),u=f.statementsToN3(m),c(null,u);case'application/n-triples':return f.setFlags('deinprstux'),u=f.statementsToNTriples(m),c(null,u);case'application/ld+json':f.setFlags('deinprstux'),h=f.statementsToNTriples(m),o.convertToJson(h,d);break;case'application/n-quads':case'application/nquads':return f.setFlags('deinprstux q'),u=f.statementsToNTriples(m),c(null,u);break;default:throw new Error('Serialize: Content-type '+r+' not supported for data write.');}}catch(t){if(d)return d(t);throw t}}t.exports=r;var o=a(133),s=a(97)},function(t,n,a){(function(n){function a(t){if(!(this instanceof a))return new a(t);if(t&&t.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var n=this;this._tokenize=this.tokenize,this.tokenize=function(t,a){this._tokenize(t,function(t,r){!t&&/^(?:IRI|prefixed|literal|langcode|type|\.|eof)$/.test(r.type)?a&&a(t,r):a&&a(t||n._syntaxError(r.type,a=null))})}}}var r=_StringfromCharCode,o='function'==typeof n?n:function t(n){setTimeout(n,0)},s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,d={"\\":'\\',"'":'\'','"':'"',n:'\n',r:'\r',t:'\t',f:'\f',b:'\b',_:'_',"~":'~',".":'.',"-":'-',"!":'!',$:'$',"&":'&',"(":'(',")":')',"*":'*',"+":'+',",":',',";":';',"=":'=',"/":'/',"?":'?',"#":'#',"@":'@',"%":'%'},l=/[\x00-\x20<>\\"\{\}\|\^\`]/;a.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(t,n){function a(n){t(n._syntaxError(/^\S*/.exec(r)[0]))}for(var r=this._input;!0;){for(var o;o=this._newline.exec(r);)r=r.substr(o[0].length,r.length),this._line++;if((o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return n&&t(r=null,{line:this._line,type:'eof',value:'',prefix:''}),this._input=r;var s=this._line,d='',c='',u='',f=r[0],m=null,h=0,g=!1,b;switch(f){case'^':if(1===r.length)break;else if('^'!==r[1])return a(this);if(this._prevTokenType='^',r=r.substr(2),'<'!==r[0]){g=!0;break}case'<':if(m=this._unescapedIri.exec(r))d='IRI',c=m[1];else if(m=this._iri.exec(r)){if(b=this._unescape(m[1]),null===b||l.test(b))return a(this);d='IRI',c=b}break;case'_':((m=this._blank.exec(r))||n&&(m=this._blank.exec(r+' ')))&&(d='prefixed',u='_',c=m[1]);break;case'"':case'\'':if(m=this._unescapedString.exec(r))d='literal',c=m[0];else if(m=this._singleQuotedString.exec(r)){if(b=this._unescape(m[0]),null===b)return a(this);d='literal',c=b.replace(/^'|'$/g,'"')}else if(m=this._tripleQuotedString.exec(r)){if(b=m[1]||m[2],this._line+=b.split(/\r\n|\r|\n/).length-1,b=this._unescape(b),null===b)return a(this);d='literal',c=b.replace(/^'|'$/g,'"')}break;case'@':'literal'===this._prevTokenType&&(m=this._langcode.exec(r))?(d='langcode',c=m[1]):(m=this._keyword.exec(r))&&(d=m[0]);break;case'.':if(1===r.length?n:'0'>r[1]||'9'<r[1]){d='.',h=1;break}case'0':case'1':case'2':case'3':case'4':case'5':case'6':case'7':case'8':case'9':case'+':case'-':(m=this._number.exec(r))&&(d='literal',c='"'+m[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(m[1]?'double':/^[+\-]?\d+$/.test(m[0])?'integer':'decimal'));break;case'B':case'b':case'p':case'P':case'G':case'g':(m=this._sparqlKeyword.exec(r))?d=m[0].toUpperCase():g=!0;break;case'f':case't':(m=this._boolean.exec(r))?(d='literal',c='"'+m[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):g=!0;break;case'a':(m=this._shortPredicates.exec(r))?(d='abbreviation',c='http://www.w3.org/1999/02/22-rdf-syntax-ns#type'):g=!0;break;case',':case';':case'[':case']':case'(':case')':case'{':case'}':h=1,d=f;break;default:g=!0;}if(g&&(('@prefix'===this._prevTokenType||'PREFIX'===this._prevTokenType)&&(m=this._prefix.exec(r))?(d='prefix',c=m[1]||''):((m=this._prefixed.exec(r))||n&&(m=this._prefixed.exec(r+' ')))&&(d='prefixed',u=m[1]||'',c=this._unescape(m[2]))),'^'===this._prevTokenType&&(d='IRI'===d||'prefixed'===d?'type':''),!d)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?a(this):this._input=r;t(null,{line:s,type:d,value:c,prefix:u}),this._prevTokenType=d,r=r.substr(h||m[0].length,r.length)}},_unescape:function(t){try{return t.replace(s,function(t,n,a,o){var s;if(n){if(s=parseInt(n,16),isNaN(s))throw new Error;return r(s)}if(a){if(s=parseInt(a,16),isNaN(s))throw new Error;return 65535>=s?r(s):r(55296+(s-=65536)/1024,56320+(1023&s))}var l=d[o];if(!l)throw new Error;return l})}catch(t){return null}},_syntaxError:function(t){return this._input=null,new Error('Syntax error: unexpected "'+t+'" on line '+this._line+'.')},tokenize:function(t,n){function a(t){null!==s._input&&(s._input+=t,s._tokenizeToEnd(n,!1))}function r(){null!==s._input&&s._tokenizeToEnd(n,!0)}var s=this;this._line=1,'string'==typeof t?(this._input=t,o(function(){s._tokenizeToEnd(n,!0)})):(this._input='',t&&'function'!=typeof t?('function'==typeof t.setEncoding&&t.setEncoding('utf8'),t.on('data',a),t.on('end',r)):(this.addChunk=a,this.end=r,!n&&(n=t)))}},t.exports=a}).call(n,a(48).setImmediate)},function(t,n,a){function r(t){if(!(this instanceof r))return new r(t);this._tripleStack=[],this._graph=null,t=t||{},this._setBase(t.documentIRI);var n='string'==typeof t.format&&t.format.match(/\w*$/)[0].toLowerCase(),a='turtle'===n,d='trig'===n,l=/triple/.test(n),c=/quad/.test(n),u=l||c;(this._supportsNamedGraphs=!a)||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(a||d||l),u&&(this._base='',this._resolveIRI=function(t){return this._error('Disallowed relative IRI',t),this._callback=o,this._subject=null}),this._blankNodePrefix='string'==typeof t.blankNodePrefix?'_:'+t.blankNodePrefix.replace(/^_:/,''):'',this._lexer=t.lexer||new s({lineMode:u})}function o(){}var s=a(88),d='http://www.w3.org/1999/02/22-rdf-syntax-ns#',l=d+'nil',c=d+'first',u=d+'rest',f=/^[a-z][a-z0-9+.-]*:/i,m=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,h=/(?:^|\/)\.\.?(?:$|[\/#?])/,g=0,b=0;r._resetBlankNodeIds=function(){g=b=0},r.prototype={_setBase:function(t){if(!t)t=null;else if(0<=t.indexOf('#'))throw new Error('Invalid base IRI '+t);(this._base=t)&&(this._basePath=t.replace(/[^\/?]*(?:\?.*)?$/,''),t=t.match(m),this._baseRoot=t[0],this._baseScheme=t[1])},_readInTopContext:function(t){switch(t.type){case'eof':return null===this._graph?(delete this._prefixes._,this._callback(null,null,this._prefixes)):this._error('Unclosed graph',t);case'@prefix':return this._sparqlStyle=!1,this._readPrefix;case'PREFIX':return this._sparqlStyle=!0,this._readPrefix;case'@base':return this._sparqlStyle=!1,this._readBaseIRI;case'BASE':return this._sparqlStyle=!0,this._readBaseIRI;case'{':if(this._supportsNamedGraphs)return this._graph='',this._subject=null,this._readSubject;case'GRAPH':if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t);}},_readSubject:function(t){switch(this._predicate=null,t.type){case'IRI':this._subject=null===this._base||f.test(t.value)?t.value:this._resolveIRI(t);break;case'prefixed':var n=this._prefixes[t.prefix];if(void 0===n)return this._error('Undefined prefix "'+t.prefix+':"',t);this._subject=n+t.value;break;case'[':return this._subject='_:b'+b++,this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:'blank'}),this._readBlankNodeHead;case'(':return this._tripleStack.push({subject:l,predicate:null,object:null,type:'list'}),this._subject=null,this._readListItem;case'}':return this._readPunctuation(t);default:return this._error('Expected subject but got '+t.type,t);}return this._readPredicateOrNamedGraph},_readPredicate:function(t){var n=t.type;switch(n){case'IRI':case'abbreviation':this._predicate=null===this._base||f.test(t.value)?t.value:this._resolveIRI(t);break;case'prefixed':if('_'===t.prefix)return this._error('Disallowed blank node as predicate',t);var a=this._prefixes[t.prefix];if(void 0===a)return this._error('Undefined prefix "'+t.prefix+':"',t);this._predicate=a+t.value;break;case'.':case']':case'}':return null===this._predicate?this._error('Unexpected '+n,t):(this._subject=null,']'===n?this._readBlankNodeTail(t):this._readPunctuation(t));case';':return this._readPredicate;default:return this._error('Expected predicate to follow "'+this._subject+'"',t);}return this._readObject},_readObject:function(t){switch(t.type){case'IRI':this._object=null===this._base||f.test(t.value)?t.value:this._resolveIRI(t);break;case'prefixed':var n=this._prefixes[t.prefix];if(void 0===n)return this._error('Undefined prefix "'+t.prefix+':"',t);this._object=n+t.value;break;case'literal':return this._object=t.value,this._readDataTypeOrLang;case'[':var a='_:b'+b++;return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:a,type:'blank'}),this._subject=a,this._readBlankNodeHead;case'(':return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:l,type:'list'}),this._subject=null,this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',t);}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(t){return'{'===t.type?this._readGraph(t):this._readPredicate(t)},_readGraph:function(t){return'{'===t.type?(this._graph=this._subject,this._subject=null,this._readSubject):this._error('Expected graph but got '+t.type,t)},_readBlankNodeHead:function(t){return']'===t.type?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))},_readBlankNodeTail:function(t){if(']'!==t.type)return this._readBlankNodePunctuation(t);null!==this._subject&&this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||''});var n=this._tripleStack.pop();return this._subject=n.subject,null===n.object?null===this._predicate?this._readPredicateOrNamedGraph:this._readPredicate:(this._predicate=n.predicate,this._object=n.object,this._getTripleEndReader())},_readDataTypeOrLang:function(t){switch(t.type){case'type':var n;if(''===t.prefix)n=null===this._base||f.test(t.value)?t.value:this._resolveIRI(t);else{var a=this._prefixes[t.prefix];if(void 0===a)return this._error('Undefined prefix "'+t.prefix+':"',t);n=a+t.value}return this._object+='^^'+n,this._getTripleEndReader();case'langcode':return this._object+='@'+t.value.toLowerCase(),this._getTripleEndReader();default:return this._getTripleEndReader().call(this,t);}},_readListItem:function(t){var n=null,a=null,r=this._subject,o=this._tripleStack,s=o[o.length-1],d=this._readListItem;switch(t.type){case'IRI':n=null===this._base||f.test(t.value)?t.value:this._resolveIRI(t);break;case'prefixed':var m=this._prefixes[t.prefix];if(void 0===m)return this._error('Undefined prefix "'+t.prefix+':"',t);n=m+t.value;break;case'literal':n=t.value,d=this._readDataTypeOrLang;break;case'[':a='_:b'+b++,n='_:b'+b++,o.push({subject:a,predicate:c,object:n,type:'blank'}),this._subject=n,d=this._readBlankNodeHead;break;case'(':a='_:b'+b++,o.push({subject:a,predicate:c,object:l,type:'list'}),this._subject=null,d=this._readListItem;break;case')':if(o.pop(),0!==o.length&&'list'===o[o.length-1].type&&this._callback(null,{subject:s.subject,predicate:s.predicate,object:s.object,graph:this._graph||''}),this._subject=s.subject,null===s.predicate){if(d=this._readPredicate,s.subject===l)return d;}else if(this._predicate=s.predicate,this._object=s.object,d=this._getTripleEndReader(),s.object===l)return d;a=l;break;default:return this._error('Expected list item instead of "'+t.type+'"',t);}return null===a&&(this._subject=a='_:b'+b++),null===r?s.object===l?s.object=a:s.subject=a:this._callback(null,{subject:r,predicate:u,object:a,graph:this._graph||''}),null!==n&&this._callback(null,{subject:a,predicate:c,object:n,graph:this._graph||''}),d},_readPunctuation:function(t){var n=this._subject,a=this._graph,r;switch(t.type){case'}':if(null===this._graph)return this._error('Unexpected graph closing',t);this._graph=null;case'.':this._subject=null,r=this._readInTopContext;break;case';':r=this._readPredicate;break;case',':r=this._readObject;break;case'IRI':if(this._supportsQuads&&null===this._graph){a=null===this._base||f.test(t.value)?t.value:this._resolveIRI(t),n=this._subject,r=this._readQuadPunctuation;break}case'prefixed':if(this._supportsQuads&&null===this._graph){var o=this._prefixes[t.prefix];if(void 0===o)return this._error('Undefined prefix "'+t.prefix+':"',t);a=o+t.value,r=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',t);}return null!==n&&this._callback(null,{subject:n,predicate:this._predicate,object:this._object,graph:a||''}),r},_readBlankNodePunctuation:function(t){var n;switch(t.type){case';':n=this._readPredicate;break;case',':n=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',t);}return this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||''}),n},_readQuadPunctuation:function(t){return'.'===t.type?this._readInTopContext:this._error('Expected dot to follow quad',t)},_readPrefix:function(t){return'prefix'===t.type?(this._prefix=t.value,this._readPrefixIRI):this._error('Expected prefix to follow @prefix',t)},_readPrefixIRI:function(t){if('IRI'!==t.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',t);var n;return n=null===this._base||f.test(t.value)?t.value:this._resolveIRI(t),this._prefixes[this._prefix]=n,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation},_readBaseIRI:function(t){if('IRI'!==t.type)return this._error('Expected IRI to follow base declaration',t);try{this._setBase(null===this._base||f.test(t.value)?t.value:this._resolveIRI(t))}catch(n){this._error(n.message,t)}return this._readDeclarationPunctuation},_readNamedGraphLabel:function(t){switch(t.type){case'IRI':case'prefixed':return this._readSubject(t),this._readGraph;case'[':return this._readNamedGraphBlankLabel;default:return this._error('Invalid graph label',t);}},_readNamedGraphBlankLabel:function(t){return']'===t.type?(this._subject='_:b'+b++,this._readGraph):this._error('Invalid graph label',t)},_readDeclarationPunctuation:function(t){return this._sparqlStyle?this._readInTopContext(t):'.'===t.type?this._readInTopContext:this._error('Expected declaration to end with a dot',t)},_getTripleEndReader:function(){var t=this._tripleStack;if(0===t.length)return this._readPunctuation;switch(t[t.length-1].type){case'blank':return this._readBlankNodeTail;case'list':return this._readListItem;}},_error:function(t,n){this._callback(new Error(t+' at line '+n.line+'.'))},_resolveIRI:function(t){var n=t.value;switch(n[0]){case void 0:return this._base;case'#':return this._base+n;case'?':return this._base.replace(/(?:\?.*)?$/,n);case'/':return('/'===n[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(n);default:return this._removeDotSegments(this._basePath+n);}},_removeDotSegments:function(t){if(!h.test(t))return t;for(var n='',a=t.length,r=-1,o=-1,s=0,d='/';r<a;){switch(d){case':':if(0>o&&'/'===t[++r]&&'/'===t[++r])for(;(o=r+1)<a&&'/'!==t[o];)r=o;break;case'?':case'#':r=a;break;case'/':if('.'===t[r+1])switch(d=t[++r+1],d){case'/':n+=t.substring(s,r-1),s=r+1;break;case void 0:case'?':case'#':return n+t.substring(s,r)+t.substr(r+1);case'.':if(d=t[++r+1],void 0===d||'/'===d||'?'===d||'#'===d){if(n+=t.substring(s,r-2),(s=n.lastIndexOf('/'))>=o&&(n=n.substr(0,s)),'/'!==d)return n+'/'+t.substr(r+1);s=r+1}}}d=t[++r]}return n+t.substring(s)},parse:function(t,n,a){this._readCallback=this._readInTopContext,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix||'_:b'+g++ +'_','function'==typeof t&&(a=n,n=t,t=null),this._callback=n||o,this._prefixCallback=a||o;var r=this;this._lexer.tokenize(t,function(t,n){null===t?r._readCallback!==void 0&&(r._readCallback=r._readCallback(n)):(r._callback(t),r._callback=o)}),t||(this.addChunk=this._lexer.addChunk,this.end=this._lexer.end)}},t.exports=r},function(t,n){function a(t,n){for(var a in f)n?t.prototype[a]=r(f[a]):t[a]=f[a];return t}function r(t){return function(n){return t(this,n)}}var o='http://www.w3.org/2001/XMLSchema#',s=o+'string',d=o+'integer',l=o+'decimal',c=o+'boolean',u='http://www.w3.org/1999/02/22-rdf-syntax-ns#langString',f={isIRI:function(t){if(!t)return t;var n=t[0];return'"'!==n&&'_'!==n},isLiteral:function(t){return t&&'"'===t[0]},isBlank:function(t){return t&&'_:'===t.substr(0,2)},getLiteralValue:function(t){var n=/^"([^]*)"/.exec(t);if(!n)throw new Error(t+' is not a literal');return n[1]},getLiteralType:function(t){var n=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!n)throw new Error(t+' is not a literal');return n[1]||(n[2]?u:s)},getLiteralLanguage:function(t){var n=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!n)throw new Error(t+' is not a literal');return n[1]?n[1].toLowerCase():''},isPrefixedName:function(t){return t&&/^[^:\/"']*:[^:\/"']+$/.test(t)},expandPrefixedName:function(t,n){var a=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(t),r,o,s;return a&&(r=a[1],o=n[r],s=a.index),void 0===o?t:0===s?o+t.substr(r.length+1):t.substr(0,s+3)+o+t.substr(s+r.length+4)},createIRI:function(t){return t&&'"'===t[0]?f.getLiteralValue(t):t},createLiteral:function(t,n){if(!n)switch(typeof t){case'boolean':n=c;break;case'number':if(isFinite(t)){n=0==t%1?d:l;break}default:return'"'+t+'"';}return'"'+t+(/^[a-z]+(-[a-z0-9]+)*$/i.test(n)?'"@'+n.toLowerCase():'"^^'+n)}};t.exports=a(a)},function(t,n){function a(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return'function'==typeof t}function o(t){return'number'==typeof t}function s(t){return'object'==typeof t&&null!==t}function d(t){return void 0===t}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0,a.defaultMaxListeners=10,a.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError('n must be a positive number');return this._maxListeners=t,this},a.prototype.emit=function(t){var n,a,o,l,c,u;if(this._events||(this._events={}),'error'===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length))if(n=arguments[1],n instanceof Error)throw n;else{var f=new Error('Uncaught, unspecified "error" event. ('+n+')');throw f.context=n,f}if(a=this._events[t],d(a))return!1;if(r(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),a.apply(this,l);}else if(s(a))for(l=Array.prototype.slice.call(arguments,1),u=a.slice(),o=u.length,c=0;c<o;c++)u[c].apply(this,l);return!0},a.prototype.addListener=function(t,n){var o;if(!r(n))throw TypeError('listener must be a function');return this._events||(this._events={}),this._events.newListener&&this.emit('newListener',t,r(n.listener)?n.listener:n),this._events[t]?s(this._events[t])?this._events[t].push(n):this._events[t]=[this._events[t],n]:this._events[t]=n,s(this._events[t])&&!this._events[t].warned&&(o=d(this._maxListeners)?a.defaultMaxListeners:this._maxListeners,o&&0<o&&this._events[t].length>o&&(this._events[t].warned=!0,console.error('(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',this._events[t].length),'function'==typeof console.trace&&console.trace())),this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(t,n){function a(){this.removeListener(t,a),o||(o=!0,n.apply(this,arguments))}if(!r(n))throw TypeError('listener must be a function');var o=!1;return a.listener=n,this.on(t,a),this},a.prototype.removeListener=function(t,n){var a,o,d,l;if(!r(n))throw TypeError('listener must be a function');if(!this._events||!this._events[t])return this;if(a=this._events[t],d=a.length,o=-1,a===n||r(a.listener)&&a.listener===n)delete this._events[t],this._events.removeListener&&this.emit('removeListener',t,n);else if(s(a)){for(l=d;0<l--;)if(a[l]===n||a[l].listener&&a[l].listener===n){o=l;break}if(0>o)return this;1===a.length?(a.length=0,delete this._events[t]):a.splice(o,1),this._events.removeListener&&this.emit('removeListener',t,n)}return this},a.prototype.removeAllListeners=function(t){var n,a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(n in this._events)'removeListener'!==n&&this.removeAllListeners(n);return this.removeAllListeners('removeListener'),this._events={},this}if(a=this._events[t],r(a))this.removeListener(t,a);else if(a)for(;a.length;)this.removeListener(t,a[a.length-1]);return delete this._events[t],this},a.prototype.listeners=function(t){var n;return n=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[],n},a.prototype.listenerCount=function(t){if(this._events){var n=this._events[t];if(r(n))return 1;if(n)return n.length}return 0},a.listenerCount=function(t,n){return t.listenerCount(n)}},function(t,n,a){n=t.exports=a(139),n.Stream=n,n.Readable=n,n.Writable=a(93),n.Duplex=a(33),n.Transform=a(143),n.PassThrough=a(236)},function(t,n,a){'use strict';(function(n,r,o){function s(t,n,a){this.chunk=t,this.encoding=n,this.callback=a,this.next=null}function d(t){var n=this;this.next=null,this.entry=null,this.finish=function(){j(n,t)}}function l(t){return B.from(t)}function c(t){return B.isBuffer(t)||t instanceof U}function u(){}function f(t,n){O=O||a(33),t=t||{},this.objectMode=!!t.objectMode,n instanceof O&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=_Mathfloor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||'utf8',this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){_(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function m(t){return O=O||a(33),F.call(m,this)||this instanceof O?void(this._writableState=new f(t,this),this.writable=!0,t&&('function'==typeof t.write&&(this._write=t.write),'function'==typeof t.writev&&(this._writev=t.writev),'function'==typeof t.destroy&&(this._destroy=t.destroy),'function'==typeof t.final&&(this._final=t.final)),D.call(this)):new m(t)}function h(t,n){var a=new Error('write after end');t.emit('error',a),R(n,a)}function g(t,n,a,r){var o=!0,s=!1;return null===a?s=new TypeError('May not write null values to stream'):'string'!=typeof a&&void 0!==a&&!n.objectMode&&(s=new TypeError('Invalid non-string/buffer chunk')),s&&(t.emit('error',s),R(r,s),o=!1),o}function b(t,n,a){return t.objectMode||!1===t.decodeStrings||'string'!=typeof n||(n=B.from(n,a)),n}function y(t,n,a,r,o,s){if(!a){var d=b(n,r,o);r!==d&&(a=!0,o='buffer',r=d)}var l=n.objectMode?1:r.length;n.length+=l;var c=n.length<n.highWaterMark;if(c||(n.needDrain=!0),n.writing||n.corked){var u=n.lastBufferedRequest;n.lastBufferedRequest={chunk:r,encoding:o,isBuf:a,callback:s,next:null},u?u.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1}else v(t,n,!1,l,r,o,s);return c}function v(t,n,a,r,o,s,d){n.writelen=r,n.writecb=d,n.writing=!0,n.sync=!0,a?t._writev(o,n.onwrite):t._write(o,s,n.onwrite),n.sync=!1}function w(t,n,a,r,o){--n.pendingcb,a?(R(o,r),R(I,t,n),t._writableState.errorEmitted=!0,t.emit('error',r)):(o(r),t._writableState.errorEmitted=!0,t.emit('error',r),I(t,n))}function x(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function _(t,n){var a=t._writableState,r=a.sync,o=a.writecb;if(x(a),n)w(t,a,r,n,o);else{var s=E(a);s||a.corked||a.bufferProcessing||!a.bufferedRequest||T(t,a),r?L(k,t,a,s,o):k(t,a,s,o)}}function k(t,n,a,r){a||C(t,n),n.pendingcb--,r(),I(t,n)}function C(t,n){0===n.length&&n.needDrain&&(n.needDrain=!1,t.emit('drain'))}function T(t,n){n.bufferProcessing=!0;var a=n.bufferedRequest;if(t._writev&&a&&a.next){var r=n.bufferedRequestCount,o=Array(r),s=n.corkedRequestsFree;s.entry=a;for(var l=0,c=!0;a;)o[l]=a,a.isBuf||(c=!1),a=a.next,l+=1;o.allBuffers=c,v(t,n,!0,n.length,o,'',s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new d(n)}else{for(;a;){var u=a.chunk,f=a.encoding,m=a.callback,h=n.objectMode?1:u.length;if(v(t,n,!1,h,u,f,m),a=a.next,n.writing)break}null===a&&(n.lastBufferedRequest=null)}n.bufferedRequestCount=0,n.bufferedRequest=a,n.bufferProcessing=!1}function E(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,n){t._final(function(a){n.pendingcb--,a&&t.emit('error',a),n.prefinished=!0,t.emit('prefinish'),I(t,n)})}function A(t,n){n.prefinished||n.finalCalled||('function'==typeof t._final?(n.pendingcb++,n.finalCalled=!0,R(S,t,n)):(n.prefinished=!0,t.emit('prefinish')))}function I(t,n){var a=E(n);return a&&(A(t,n),0===n.pendingcb&&(n.finished=!0,t.emit('finish'))),a}function N(t,n,a){n.ending=!0,I(t,n),a&&(n.finished?R(a):t.once('finish',a)),n.ended=!0,t.writable=!1}function j(t,n,a){var r=t.entry;for(t.entry=null;r;){var o=r.callback;n.pendingcb--,o(a),r=r.next}n.corkedRequestsFree?n.corkedRequestsFree.next=t:n.corkedRequestsFree=t}var R=a(65);t.exports=m;var L=!n.browser&&-1<['v0.10','v0.9.'].indexOf(n.version.slice(0,5))?r:R,O;m.WritableState=f;var P=a(49);P.inherits=a(2);var M={deprecate:a(235)},D=a(141),B=a(3).Buffer,U=o.Uint8Array||function(){},q=a(142);P.inherits(m,D),f.prototype.getBuffer=function t(){for(var n=this.bufferedRequest,a=[];n;)a.push(n),n=n.next;return a},function(){try{Object.defineProperty(f.prototype,'buffer',{get:M.deprecate(function(){return this.getBuffer()},'_writableState.buffer is deprecated. Use _writableState.getBuffer instead.','DEP0003')})}catch(t){}}();var F;'function'==typeof Symbol&&Symbol.hasInstance&&'function'==typeof Function.prototype[Symbol.hasInstance]?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(t){return!!F.call(this,t)||t&&t._writableState instanceof f}})):F=function(t){return t instanceof this},m.prototype.pipe=function(){this.emit('error',new Error('Cannot pipe, not readable'))},m.prototype.write=function(t,n,a){var r=this._writableState,o=!1,s=c(t)&&!r.objectMode;return s&&!B.isBuffer(t)&&(t=l(t)),'function'==typeof n&&(a=n,n=null),s?n='buffer':!n&&(n=r.defaultEncoding),'function'!=typeof a&&(a=u),r.ended?h(this,a):(s||g(this,r,t,a))&&(r.pendingcb++,o=y(this,r,s,t,n,a)),o},m.prototype.cork=function(){var t=this._writableState;t.corked++},m.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&T(this,t))},m.prototype.setDefaultEncoding=function t(n){if('string'==typeof n&&(n=n.toLowerCase()),!(-1<['hex','utf8','utf-8','ascii','binary','base64','ucs2','ucs-2','utf16le','utf-16le','raw'].indexOf((n+'').toLowerCase())))throw new TypeError('Unknown encoding: '+n);return this._writableState.defaultEncoding=n,this},m.prototype._write=function(t,n,a){a(new Error('_write() is not implemented'))},m.prototype._writev=null,m.prototype.end=function(t,n,a){var r=this._writableState;'function'==typeof t?(a=t,t=null,n=null):'function'==typeof n&&(a=n,n=null),null!==t&&t!==void 0&&this.write(t,n),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||N(this,r,a)},Object.defineProperty(m.prototype,'destroyed',{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),m.prototype.destroy=q.destroy,m.prototype._undestroy=q.undestroy,m.prototype._destroy=function(t,n){this.end(),n(t)}}).call(n,a(13),a(48).setImmediate,a(4))},function(t,n,a){function r(t){if(t&&!c(t))throw new Error('Unknown encoding: '+t)}function o(t){return t.toString(this.encoding)}function s(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function d(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var l=a(0).Buffer,c=l.isEncoding||function(t){switch(t&&t.toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':case'raw':return!0;default:return!1;}},u=n.StringDecoder=function(t){switch(this.encoding=(t||'utf8').toLowerCase().replace(/[-_]/,''),r(t),this.encoding){case'utf8':this.surrogateSize=3;break;case'ucs2':case'utf16le':this.surrogateSize=2,this.detectIncompleteChar=s;break;case'base64':this.surrogateSize=3,this.detectIncompleteChar=d;break;default:return void(this.write=o);}this.charBuffer=new l(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(t){for(var n='',a;this.charLength;){if(a=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length,t.copy(this.charBuffer,this.charReceived,0,a),this.charReceived+=a,this.charReceived<this.charLength)return'';t=t.slice(a,t.length),n=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=n.charCodeAt(n.length-1);if(55296<=r&&56319>=r){this.charLength+=this.surrogateSize,n='';continue}if(this.charReceived=this.charLength=0,0===t.length)return n;break}this.detectIncompleteChar(t);var o=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,o),o-=this.charReceived),n+=t.toString(this.encoding,0,o);var o=n.length-1,r=n.charCodeAt(o);if(55296<=r&&56319>=r){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),n.substring(0,o)}return n},u.prototype.detectIncompleteChar=function(t){for(var n=3<=t.length?3:t.length;0<n;n--){var a=t[t.length-n];if(1==n&&6==a>>5){this.charLength=2;break}if(2>=n&&14==a>>4){this.charLength=3;break}if(3>=n&&30==a>>3){this.charLength=4;break}}this.charReceived=n},u.prototype.end=function(t){var n='';if(t&&t.length&&(n=this.write(t)),this.charReceived){var a=this.charReceived,r=this.charBuffer,o=this.encoding;n+=r.slice(0,a).toString(o)}return n}},function(t,a,n){(function(t,r){function o(t,n){var r={seen:[],stylize:d};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&a._extend(r,n),C(r.showHidden)&&(r.showHidden=!1),C(r.depth)&&(r.depth=2),C(r.colors)&&(r.colors=!1),C(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),c(r,t,r.depth)}function s(t,n){var a=o.styles[n];return a?'\x1B['+o.colors[a][0]+'m'+t+'\x1B['+o.colors[a][1]+'m':t}function d(t,n){return t}function l(t){var n={};return t.forEach(function(t,a){n[t]=!0}),n}function c(t,r,o){if(t.customInspect&&r&&I(r.inspect)&&r.inspect!==a.inspect&&!(r.constructor&&r.constructor.prototype===r)){var s=r.inspect(o,t);return _(s)||(s=c(t,s,o)),s}var d=u(t,r);if(d)return d;var y=Object.keys(r),v=l(y);if(t.showHidden&&(y=Object.getOwnPropertyNames(r)),A(r)&&(0<=y.indexOf('message')||0<=y.indexOf('description')))return f(r);if(0===y.length){if(I(r)){var w=r.name?': '+r.name:'';return t.stylize('[Function'+w+']','special')}if(T(r))return t.stylize(RegExp.prototype.toString.call(r),'regexp');if(S(r))return t.stylize(Date.prototype.toString.call(r),'date');if(A(r))return f(r)}var x='',k=!1,C=['{','}'];if(b(r)&&(k=!0,C=['[',']']),I(r)){var E=r.name?': '+r.name:'';x=' [Function'+E+']'}if(T(r)&&(x=' '+RegExp.prototype.toString.call(r)),S(r)&&(x=' '+Date.prototype.toUTCString.call(r)),A(r)&&(x=' '+f(r)),0===y.length&&(!k||0==r.length))return C[0]+x+C[1];if(0>o)return T(r)?t.stylize(RegExp.prototype.toString.call(r),'regexp'):t.stylize('[Object]','special');t.seen.push(r);var n;return n=k?m(t,r,o,v,y):y.map(function(n){return h(t,r,o,v,n,k)}),t.seen.pop(),g(n,x,C)}function u(t,n){if(C(n))return t.stylize('undefined','undefined');if(_(n)){var a='\''+JSON.stringify(n).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return t.stylize(a,'string')}return x(n)?t.stylize(''+n,'number'):y(n)?t.stylize(''+n,'boolean'):v(n)?t.stylize('null','null'):void 0}function f(t){return'['+Error.prototype.toString.call(t)+']'}function m(t,n,a,r,o){for(var s=[],d=0,c=n.length;d<c;++d)O(n,d+'')?s.push(h(t,n,a,r,d+'',!0)):s.push('');return o.forEach(function(o){o.match(/^\d+$/)||s.push(h(t,n,a,r,o,!0))}),s}function h(t,n,a,r,o,s){var d,l,u;if(u=Object.getOwnPropertyDescriptor(n,o)||{value:n[o]},u.get?u.set?l=t.stylize('[Getter/Setter]','special'):l=t.stylize('[Getter]','special'):u.set&&(l=t.stylize('[Setter]','special')),O(r,o)||(d='['+o+']'),l||(0>t.seen.indexOf(u.value)?(l=v(a)?c(t,u.value,null):c(t,u.value,a-1),-1<l.indexOf('\n')&&(s?l=l.split('\n').map(function(t){return'  '+t}).join('\n').substr(2):l='\n'+l.split('\n').map(function(t){return'   '+t}).join('\n'))):l=t.stylize('[Circular]','special')),C(d)){if(s&&o.match(/^\d+$/))return l;d=JSON.stringify(''+o),d.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(d=d.substr(1,d.length-2),d=t.stylize(d,'name')):(d=d.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),d=t.stylize(d,'string'))}return d+': '+l}function g(t,n,a){var r=0,o=t.reduce(function(t,n){return r++,0<=n.indexOf('\n')&&r++,t+n.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<o?a[0]+(''===n?'':n+'\n ')+' '+t.join(',\n  ')+' '+a[1]:a[0]+n+' '+t.join(', ')+' '+a[1]}function b(t){return Array.isArray(t)}function y(t){return'boolean'==typeof t}function v(t){return null===t}function w(t){return null==t}function x(t){return'number'==typeof t}function _(t){return'string'==typeof t}function k(t){return'symbol'==typeof t}function C(t){return void 0===t}function T(t){return E(t)&&'[object RegExp]'===j(t)}function E(t){return'object'==typeof t&&null!==t}function S(t){return E(t)&&'[object Date]'===j(t)}function A(t){return E(t)&&('[object Error]'===j(t)||t instanceof Error)}function I(t){return'function'==typeof t}function N(t){return null===t||'boolean'==typeof t||'number'==typeof t||'string'==typeof t||'symbol'==typeof t||'undefined'==typeof t}function j(t){return Object.prototype.toString.call(t)}function R(t){return 10>t?'0'+t.toString(10):t.toString(10)}function L(){var t=new Date,n=[R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join(':');return[t.getDate(),B[t.getMonth()],n].join(' ')}function O(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var P=/%[sdj%]/g;a.format=function(t){if(!_(t)){for(var n=[],a=0;a<arguments.length;a++)n.push(o(arguments[a]));return n.join(' ')}for(var a=1,r=arguments,s=r.length,d=(t+'').replace(P,function(t){if('%%'===t)return'%';if(a>=s)return t;switch(t){case'%s':return r[a++]+'';case'%d':return+r[a++];case'%j':try{return JSON.stringify(r[a++])}catch(t){return'[Circular]'}default:return t;}}),l=r[a];a<s;l=r[++a])d+=v(l)||!E(l)?' '+l:' '+o(l);return d},a.deprecate=function(n,o){function s(){if(!d){if(r.throwDeprecation)throw new Error(o);else r.traceDeprecation?console.trace(o):console.error(o);d=!0}return n.apply(this,arguments)}if(C(t.process))return function(){return a.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var d=!1;return s};var M={},D;a.debuglog=function(t){if(C(D)&&(D=r.env.NODE_DEBUG||''),t=t.toUpperCase(),!M[t])if(new RegExp('\\b'+t+'\\b','i').test(D)){var n=r.pid;M[t]=function(){var r=a.format.apply(a,arguments);console.error('%s %d: %s',t,n,r)}}else M[t]=function(){};return M[t]},a.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey',null:'bold',string:'green',date:'magenta',regexp:'red'},a.isArray=b,a.isBoolean=y,a.isNull=v,a.isNullOrUndefined=w,a.isNumber=x,a.isString=_,a.isSymbol=k,a.isUndefined=C,a.isRegExp=T,a.isObject=E,a.isDate=S,a.isError=A,a.isFunction=I,a.isPrimitive=N,a.isBuffer=n(241);var B=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];a.log=function(){console.log('%s - %s',L(),a.format.apply(a,arguments))},a.inherits=n(242),a._extend=function(t,n){if(!n||!E(n))return t;for(var a=Object.keys(n),r=a.length;r--;)t[a[r]]=n[a[r]];return t}}).call(a,n(4),n(13))},function(t,n){function a(t,n){if(!(this instanceof a))return new a(t,n);if(t&&'function'!=typeof t.write&&(n=t,t=null),n=n||{},!t){var r='';this._outputStream={write:function(t,n,a){r+=t,a&&a()},end:function(t){t&&t(null,r)}},this._endStream=!0}else this._outputStream=t,this._endStream=void 0===n.end||!!n.end;this._subject=null,/triple|quad/i.test(n.format)?this._writeTriple=this._writeTripleLine:(this._graph='',this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes))}function r(t){var n=u[t];return void 0===n&&(1===t.length?(n=t.charCodeAt(0).toString(16),n='\\u0000'.substr(0,6-n.length)+n):(n=(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)+9216).toString(16),n='\\U00000000'.substr(0,10-n.length)+n)),n}var o=/^"([^]*)"(?:\^\^(.+)|@([\-a-z]+))?$/i,s='http://www.w3.org/1999/02/22-rdf-syntax-ns#',d=s+'type',l=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,c=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,u={"\\":'\\\\','"':'\\"',"	":'\\t',"\n":'\\n',"\r":'\\r',"":'\\b',"":'\\f'};a.prototype={_write:function(t,n){this._outputStream.write(t,'utf8',n)},_writeTriple:function(t,n,a,r,o){try{this._graph!==r&&(this._write((null===this._subject?'':this._graph?'\n}\n':'.\n')+(r?this._encodeIriOrBlankNode(r)+' {\n':'')),this._subject=null,this._graph='['===r[0]?']':r),this._subject===t?this._predicate===n?this._write(', '+this._encodeObject(a),o):this._write(';\n    '+this._encodePredicate(this._predicate=n)+' '+this._encodeObject(a),o):this._write((null===this._subject?'':'.\n')+this._encodeSubject(this._subject=t)+' '+this._encodePredicate(this._predicate=n)+' '+this._encodeObject(a),o)}catch(t){o&&o(t)}},_writeTripleLine:function(t,n,a,r,o){delete this._prefixMatch;try{this._write(this._encodeIriOrBlankNode(t)+' '+this._encodeIriOrBlankNode(n)+' '+this._encodeObject(a)+(r?' '+this._encodeIriOrBlankNode(r)+'.\n':'.\n'),o)}catch(t){o&&o(t)}},_encodeIriOrBlankNode:function(t){var n=t[0];if('['===n||'('===n||'_'===n&&':'===t[1])return t;l.test(t)&&(t=t.replace(c,r));var a=this._prefixRegex.exec(t);return a?a[1]?this._prefixIRIs[a[1]]+a[2]:t:'<'+t+'>'},_encodeLiteral:function(t,n,a){return l.test(t)&&(t=t.replace(c,r)),a?'"'+t+'"@'+a:n?'"'+t+'"^^'+this._encodeIriOrBlankNode(n):'"'+t+'"'},_encodeSubject:function(t){if('"'===t[0])throw new Error('A literal as subject is not allowed: '+t);return'['===t[0]&&(this._subject=']'),this._encodeIriOrBlankNode(t)},_encodePredicate:function(t){if('"'===t[0])throw new Error('A literal as predicate is not allowed: '+t);return t===d?'a':this._encodeIriOrBlankNode(t)},_encodeObject:function(t){if('"'!==t[0])return this._encodeIriOrBlankNode(t);var n=o.exec(t);if(!n)throw new Error('Invalid literal: '+t);return this._encodeLiteral(n[1],n[2],n[3])},_blockedWrite:function(){throw new Error('Cannot write because the writer has been closed.')},addTriple:function(t,n,a,r,o){a===void 0?this._writeTriple(t.subject,t.predicate,t.object,t.graph||'',n):'string'==typeof r?this._writeTriple(t,n,a,r,o):this._writeTriple(t,n,a,'',r)},addTriples:function(t){for(var n=0;n<t.length;n++)this.addTriple(t[n])},addPrefix:function(t,n,a){var r={};r[t]=n,this.addPrefixes(r,a)},addPrefixes:function(t,n){var a=this._prefixIRIs,r=!1;for(var o in t){var s=t[o];/[#\/]$/.test(s)&&a[s]!==(o+=':')&&(r=!0,a[s]=o,null!==this._subject&&(this._write(this._graph?'\n}\n':'.\n'),this._subject=null,this._graph=''),this._write('@prefix '+o+' <'+s+'>.\n'))}if(r){var d='',l='';for(var c in a)d+=d?'|'+c:c,l+=(l?'|':'')+a[c];d=d.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,'\\$&'),this._prefixRegex=new RegExp('^(?:'+l+')[^/]*$|^('+d+')([a-zA-Z][\\-_a-zA-Z0-9]*)$')}this._write(r?'\n':'',n)},blank:function(t,n){var a=t,r,o;switch(void 0===t?a=[]:'string'==typeof t?a=[{predicate:t,object:n}]:!('length'in t)&&(a=[t]),o=a.length){case 0:return'[]';case 1:if(r=a[0],'['!==r.object[0])return'[ '+this._encodePredicate(r.predicate)+' '+this._encodeObject(r.object)+' ]';default:for(var s='[',d=0;d<o;d++)r=a[d],r.predicate===t?s+=', '+this._encodeObject(r.object):(s+=(d?';\n  ':'\n  ')+this._encodePredicate(r.predicate)+' '+this._encodeObject(r.object),t=r.predicate);return s+'\n]';}},list:function(t){for(var n=t&&t.length||0,a=Array(n),r=0;r<n;r++)a[r]=this._encodeObject(t[r]);return'('+a.join(' ')+')'},_prefixRegex:/$0^/,end:function(t){null!==this._subject&&(this._write(this._graph?'\n}\n':'.\n'),this._subject=null),this._write=this._blockedWrite;var n=t&&function(a,r){n=null,t(a,r)};if(this._endStream)try{return this._outputStream.end(n)}catch(t){}n&&n()}},t.exports=a},function(t,n,a){'use strict';var r=a(6),o=a(31),s=a(11),d=a(24),l=a(131),c=function(){function t(t){return encodeURI(t)}function n(t){for(var n='',a=0,r;a<t.length;a++)r=t.charCodeAt(a),n+=65535<r?'\\U'+('00000000'+r.toString(16)).slice(-8):126<r?'\\u'+('0000'+r.toString(16)).slice(-4):t[a];return n}var a=function t(n){this.flags='',this.base=null,this.prefixes=[],this.namespaces=[],this.suggestPrefix('rdf','http://www.w3.org/1999/02/22-rdf-syntax-ns#'),this.suggestPrefix('xml','reserved:reservedForFutureUse'),this.namespacesUsed=[],this.keywords=['a'],this.prefixchars='abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ',this.incoming=null,this.formulas=[],this.store=n};a.prototype.setBase=function(t){return this.base=t,this},a.prototype.setFlags=function(t){return this.flags=t||'',this},a.prototype.toStr=function(t){var n=t.toNT();return'Graph'===t.termType&&(this.formulas[n]=t),n},a.prototype.fromStr=function(t){if('{'===t[0]){var n=this.formulas[t];return n||console.log('No formula object for '+t),n}return this.store.fromNT(t)},a.prototype.suggestPrefix=function(t,n){'default'===t.slice(0,7)||'ns'===t.slice(0,2)||!t||!n||t in this.namespaces||n in this.prefixes||(this.prefixes[n]=t,this.namespaces[t]=n)},a.prototype.suggestNamespaces=function(t){for(var n in t)return this.suggestPrefix(n,t[n]),this},a.prototype.checkIntegrity=function(){var t,n;for(t in this.namespaces)if(this.prefixes[this.namespaces[t]]!==t)throw new Error('Serializer integity error 1: '+t+', '+this.namespaces[t]+', '+this.prefixes[this.namespaces[t]]+'!');for(n in this.prefixes)if(this.namespaces[this.prefixes[n]]!==n)throw new Error('Serializer integity error 2: '+n+', '+this.prefixs[n]+', '+this.namespaces[this.prefixes[n]]+'!')},a.prototype.makeUpPrefix=function(t){function n(n){return!!a.prototype.validPrefix.test(n)&&'ns'!==n&&!(n in this.namespaces)&&(this.prefixes[t]=n,this.namespaces[n]=t,n)}var r=t,o=n.bind(this);0<='#/'.indexOf(r[r.length-1])&&(r=r.slice(0,-1));var s=r.lastIndexOf('/');0<=s&&(r=r.slice(s+1));for(var d=0;d<r.length&&this.prefixchars.indexOf(r[d]);)d++;if(r=r.slice(0,d),6>r.length&&o(r))return r;if(o(r.slice(0,3)))return r.slice(0,3);if(o(r.slice(0,2)))return r.slice(0,2);if(o(r.slice(0,4)))return r.slice(0,4);if(o(r.slice(0,1)))return r.slice(0,1);if(o(r.slice(0,5)))return r.slice(0,5);a.prototype.validPrefix.test(r)||(r='n');for(var l=0;;l++)if(o(r.slice(0,3)+l))return r.slice(0,3)+l},a.prototype.rootSubjects=function(t){for(var n={},a={},r={},o=0;o<t.length;o++){var s=t[o],d=function t(a){n.hasOwnProperty(a)||(n[a]=[]),n[a].push(s.subject)},l=[s.subject,s.predicate,s.object];l.map(function(t){'BlankNode'===t.termType?r[t.toNT()]=!0:'Collection'===t.termType&&t.elements.forEach(function(t){d(t)})}),d(t[o].object);var c=a[this.toStr(s.subject)];c||(c=[]),c.push(s),a[this.toStr(s.subject)]=c}var u=[];for(var f in a)if(a.hasOwnProperty(f)){var m=this.fromStr(f);if('BlankNode'!==m.termType||!n[m]||1!==n[m].length){u.push(m);continue}}this.incoming=n;for(var h={},g=0;g<u.length;g++)h[u[g].toNT()]=!0;return{roots:u,subjects:a,rootsHash:h,incoming:n}},a.prototype.toN3=function(t){return this.statementsToN3(t.statements)},a.prototype._notQNameChars='\t\r\n !"#$%&\'()*.,+/;<=>?@[\\]^`{|}~',a.prototype._notNameChars=a.prototype._notQNameChars+':',a.prototype.explicitURI=function(a){return a=0>this.flags.indexOf('r')&&this.base?s.refTo(this.base,a):0<=this.flags.indexOf('u')?n(a):t(a),'<'+a+'>'},a.prototype.statementsToNTriples=function(t){var n=t.slice();n.sort();for(var a='',r='http://www.w3.org/1999/02/22-rdf-syntax-ns#',d=this,l=this.store,c=function t(n){if('Collection'!==n.termType)return d.atomicTermToN3(n);for(var s=n.elements,c=l.sym(r+'nill'),u=s.length-1,f;0<=u;u--)f=new o,a+=t(f)+' '+t(l.sym(r+'first'))+' '+t(s[u])+'.\n',a+=t(f)+' '+t(l.sym(r+'rest'))+' '+t(c)+'.\n',c=f;return d.atomicTermToN3(c)},u=0;u<n.length;u++){var f=n[u],m='';m+=c(f.subject)+' ',m+=c(f.predicate)+' ',m+=c(f.object)+' ',0<=this.flags.indexOf('q')&&(m+=c(f.why)+' '),m+='.\n',a+=m}return a},a.prototype.statementsToN3=function(t){function n(t){for(var n=this.rootSubjects(t),a=n.roots,o=[],s=0,d;s<a.length;s++)d=a[s],o.push(r(d,n));return o}function r(t,n){return'BlankNode'!==t.termType||n.incoming[t]?[C(t,n)].concat([_(t,n)]).concat(['.']):k(t,n,!0).concat(['.'])}function o(t,n){var a=[],r=null,o=n.subjects[this.toStr(t)]||[];if('undefined'==typeof o)throw new Error('Cant find statements for '+t);for(var s=[],d=0,l;d<o.length;d++)l=o[d],l.predicate.uri===r?s.push(','):(r&&(a=a.concat([s]).concat([';']),s=[]),a.push(b[l.predicate.uri]?b[l.predicate.uri]:C(l.predicate,n))),r=l.predicate.uri,s.push(k(l.object,n));return a=a.concat([s]),a}function s(t,n,a){return'BlankNode'===t.termType&&(a||void 0===n.rootsHash[t.toNT()])?n.subjects[this.toStr(t)]?['[',_(t,n),']']:'[]':C(t,n)}function l(t,n){var a,r;switch(t.termType){case'Graph':return r=['{'],r=r.concat(x(t.statements)),r.concat(['}']);case'Collection':for(r=['('],a=0;a<t.elements.length;a++)r.push([k(t.elements[a],n)]);return r.push(')'),r;default:return this.atomicTermToN3(t);}}function c(){var t='';for(var n in this.defaultNamespace&&(t+='@prefix : '+this.explicitURI(this.defaultNamespace)+'.\n'),this.prefixes)this.prefixes.hasOwnProperty(n)&&this.namespacesUsed[n]&&(t+='@prefix '+this.prefixes[n]+': '+this.explicitURI(n)+'.\n');return t+'\n'}var u=4,f=80,m=this.store,h={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":'aaa:00'},g=function t(n,a){return d.heavyCompareSPO(n,a,m,h)};t.sort(g),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+'#');var b={};0>this.flags.indexOf('s')&&(b['http://www.w3.org/2002/07/owl#sameAs']='='),0>this.flags.indexOf('t')&&(b['http://www.w3.org/1999/02/22-rdf-syntax-ns#type']='a'),0>this.flags.indexOf('i')&&(b['http://www.w3.org/2000/10/swap/log#implies']='=>');var y=function t(a){for(var n='',r=0;r<a;r++)n+=' ';return n},v=function t(n){for(var a='',r=0;r<n.length;r++){var o=n[r],s='string'==typeof o?o:t(o);if(0!==r){var d=a.slice(-1)||' ';','!==s&&';'!==s&&('.'!==s||'0123456789.'.includes(d))&&(a+=' ')}a+=s}return a},w=function t(n,a){var r='',o=1e5;a===void 0&&(a=-1);for(var s=0,d;s<n.length;s++){if(d=n[s],'string'!=typeof d){var l=t(d,a+1);if(l.length<10*(f-u*a)&&0>l.indexOf('"""')){var c=v(d);c.length<f-u*a&&(d=c,l='')}l&&(o=1e4),r+=l}if('string'==typeof d){if(1===d.length&&'\n'===r.slice(-1)&&0<=',.;'.indexOf(d)){r=r.slice(0,-1)+d+'\n',o+=1;continue}if(o<u*a+4||o+d.length+1<f&&0>';.'.indexOf(r[r.length-2]))r=r.slice(0,-1)+' '+d+'\n',o+=d.length+1;else{var m=y(u*a)+d;r+=m+'\n',o=m.length,0>a&&(r+='\n',o=1e5)}}}return r},x=n.bind(this),_=o.bind(this),k=s.bind(this);a.prototype.termToN3=C;var C=l.bind(this),T=c.bind(this),E=x(t);return T()+w(E)},a.prototype.atomicTermToN3=function t(n,a){switch(n.termType){case'BlankNode':case'Variable':return n.toNT();case'Literal':var r=n.value.toString();if(n.datatype&&0>this.flags.indexOf('x'))switch(n.datatype.uri){case'http://www.w3.org/2001/XMLSchema#integer':return r;case'http://www.w3.org/2001/XMLSchema#decimal':return 0>r.indexOf('.')&&(r+='.0'),r;case'http://www.w3.org/2001/XMLSchema#double':return 0>r.indexOf('.')&&(r+='.0'),0>r.indexOf('e')&&(r+='e0'),r;case'http://www.w3.org/2001/XMLSchema#boolean':return n.value?'true':'false';}var o=this.stringToN3(n.value);return n.language?o+='@'+n.language:!n.datatype.equals(l.string)&&(o+='^^'+this.atomicTermToN3(n.datatype,a)),o;case'NamedNode':return this.symbolToN3(n);default:throw new Error('Internal: atomicTermToN3 cannot handle '+n+' of termType: '+n.termType);}},a.prototype.validPrefix=new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/),a.prototype.forbidden1=new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm),a.prototype.forbidden3=new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm),a.prototype.stringToN3=function t(n,r){r||(r='e');var o='',s,d,l,c,u;for(20<n.length&&'"'!==n.slice(-1)&&0>r.indexOf('n')&&(0<n.indexOf('\n')||0<n.indexOf('"'))?(c='"""',u=a.prototype.forbidden3):(c='"',u=a.prototype.forbidden1),s=0;s<n.length;){u.lastIndex=0;var f=u.exec(n.slice(s));if(null==f)break;d=s+u.lastIndex-1,o+=n.slice(s,d);var m=n[d];'"'===m&&'"""'===c&&'"""'!==n.slice(d,d+3)?o+=m:(l='\b\f\r\t\x0B\n\\"'.indexOf(m),o+=0<=l?'\\'+'bfrtvn\\"'[l]:0<=r.indexOf('e')?'\\u'+('000'+m.charCodeAt(0).toString(16).toLowerCase()).slice(-4):m),s=d+1}return c+o+n.slice(s)+c},a.prototype.symbolToN3=function t(n){var r=n.uri,o=r.indexOf('#');if(0>o&&0>this.flags.indexOf('/')&&(o=r.lastIndexOf('/')),0<=o&&0>this.flags.indexOf('p')&&(0===r.indexOf('http')||0===r.indexOf('ws')||0===r.indexOf('file'))){for(var s=!0,d=o+1;d<r.length;d++)if(0<=a.prototype._notNameChars.indexOf(r[d])){s=!1;break}if(s){var l=r.slice(o+1),c=r.slice(0,o+1);if(this.defaultNamespace&&this.defaultNamespace===c&&0>this.flags.indexOf('d'))return 0<=this.flags.indexOf('k')&&0>this.keyords.indexOf(l)?l:':'+l;var u=this.prefixes[c];if(u||(u=this.makeUpPrefix(c)),u)return this.namespacesUsed[c]=!0,u+':'+l}}return this.explicitURI(r)},a.prototype.writeStore=function(t){var n=this.store,a=n.fetcher,r=a&&a.appNode,o=this.store.index[3];for(var d in o){var s=n.fromNT(d);r&&s.sameTerm(r)||t('\n'+this.atomicTermToN3(s)+' '+this.atomicTermToN3(n.sym('http://www.w3.org/2000/10/swap/log#semantics'))+' { '+this.statementsToN3(n.statementsMatching(void 0,void 0,void 0,s))+' }.\n')}n.statementsMatching(void 0,n.sym('http://www.w3.org/2007/ont/link#requestedURI')).map(function(a){t('\n<'+a.object.value+'> log:metadata {\n');var r=n.statementsMatching(void 0,void 0,void 0,a.subject);t(this.statementsToN3(this.statementsToN3(r))),t('}.\n')});var l=[];r&&l.push(r);var c=[];l.map(function(t){c=c.concat(n.statementsMatching(void 0,void 0,void 0,t))}),t(this.statementsToN3(c))},a.prototype.statementsToXML=function(t){function n(t){this.suggestPrefix('rdf','http://www.w3.org/1999/02/22-rdf-syntax-ns#');for(var n=this.rootSubjects(t),a=n.roots,r=[],o=0,s;o<a.length;o++)s=a[o],r.push(C(s,n));return r}function o(t){return'undefined'==typeof t?'@@@undefined@@@@':t.replace(/[&<"]/g,function(t){switch(t[0]){case'&':return'&amp;';case'<':return'&lt;';case'"':return'&quot;';}})}function s(t){return o(this.base?d.uri.refTo(this.base,t.uri):t.uri)}function c(n,a){var s=[],d=a.subjects[this.toStr(n)],c,f,t,m;if('undefined'==typeof d)return T(n,a);d.sort(function(t,n){var a=t.predicate.uri,r=n.predicate.uri;if(a.substring(0,y.length)===y||r.substring(0,y.length)===y)return a.localeCompare(r);var o=a.substring(y.length),s=r.substring(y.length),d=parseInt(o,10),l=parseInt(s,10);return isNaN(d)||isNaN(l)||d!==o||l!==s?a.localeCompare(r):d-l});for(var h=0;h<d.length;h++){if(t=d[h],'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'===t.predicate.uri&&!c&&'symbol'===t.object.termType){c=t.object;continue}if(m=t.predicate,m.uri.substr(0,y.length)===y){var g=m.uri.substr(y.length),b=parseInt(g,10);g===b.toString()&&(m=new r('http://www.w3.org/1999/02/22-rdf-syntax-ns#li'))}switch(f=E(m),t.object.termType){case'BlankNode':s=1===a.incoming[t.object].length?s.concat(['<'+f+' rdf:parseType="Resource">',C(t.object,a),'</'+f+'>']):s.concat(['<'+f+' rdf:nodeID="'+t.object.toNT().slice(2)+'"/>']);break;case'NamedNode':s=s.concat(['<'+f+' rdf:resource="'+k(t.object)+'"/>']);break;case'Literal':s=s.concat(['<'+f+(t.object.datatype.equals(l.string)?'':' rdf:datatype="'+o(t.object.datatype.uri)+'"')+(t.object.language?' xml:lang="'+t.object.language+'"':'')+'>'+o(t.object.value)+'</'+f+'>']);break;case'Collection':s=s.concat(['<'+f+' rdf:parseType="Collection">',u(t.object,a),'</'+f+'>']);break;default:throw new Error('Can\'t serialize object of type '+t.object.termType+' into XML');}}var v=c?E(c):'rdf:Description',w='';return'BlankNode'===n.termType?(!a.incoming[n]||1!==a.incoming[n].length)&&(w=' rdf:nodeID="'+n.toNT().slice(2)+'"'):w=' rdf:about="'+k(n)+'"',['<'+v+w+'>'].concat([s]).concat(['</'+v+'>'])}function u(t,n){for(var a=[],r=0;r<t.elements.length;r++)a.push(C(t.elements[r],n));return a}function f(t,n){var a=[],r=n.subjects[this.toStr(t)];if(!r)return a;r.sort();for(var s=0,d;s<r.length;s++)switch(d=r[s],d.object.termType){case'BlankNode':a=n.rootsHash[d.object.toNT()]?a.concat(['<'+E(d.predicate)+' rdf:nodeID="'+d.object.toNT().slice(2)+'">','</'+E(d.predicate)+'>']):a.concat(['<'+E(d.predicate)+' rdf:parseType="Resource">',T(d.object,n),'</'+E(d.predicate)+'>']);break;case'NamedNode':a=a.concat(['<'+E(d.predicate)+' rdf:resource="'+k(d.object)+'"/>']);break;case'Literal':a=a.concat(['<'+E(d.predicate)+(d.object.datatype.equals(l.string)?'':' rdf:datatype="'+o(d.object.datatype.value)+'"')+(d.object.language?' xml:lang="'+d.object.language+'"':'')+'>'+o(d.object.value)+'</'+E(d.predicate)+'>']);break;case'Collection':a=a.concat(['<'+E(d.predicate)+' rdf:parseType="Collection">',u(d.object,n),'</'+E(d.predicate)+'>']);break;default:throw new Error('Can\'t serialize object of type '+d.object.termType+' into XML');}return a}function m(t){var n=t.uri,r=n.indexOf('#');if(0>r&&0>this.flags.indexOf('/')&&(r=n.lastIndexOf('/')),0>r)throw new Error('Cannot make qname out of <'+n+'>');for(var o=r+1;o<n.length;o++)if(0<=a.prototype._notNameChars.indexOf(n[o]))throw new Error('Invalid character "'+n[o]+'" cannot be in XML qname for URI: '+n);var s=n.slice(r+1),d=n.slice(0,r+1);if(this.defaultNamespace&&this.defaultNamespace===d&&0>this.flags.indexOf('d'))return s;var l=this.prefixes[d];return l||(l=this.makeUpPrefix(d)),b[d]=!0,l+':'+s}var h=4,g=80,b=[];b['http://www.w3.org/1999/02/22-rdf-syntax-ns#']=!0;var y='http://www.w3.org/1999/02/22-rdf-syntax-ns#_',v=function t(a){for(var n='',r=0;r<a;r++)n+=' ';return n},w=function t(n){for(var a='',r=0;r<n.length;r++){var o=n[r],s='string'==typeof o?o:t(o);a+=s}return a},x=function t(n,a){var r='',o=1e5,s;a||(a=0);for(var d=0,l;d<n.length;d++){if(l=n[d],'string'!=typeof l){var c=t(l,a+1);c.length<10*(g-h*a)&&0>c.indexOf('"""')&&(s=w(l),s.length<g-h*a&&(l='   '+s,c='')),c&&(o=1e4),r+=c}'string'==typeof l&&(o<h*a+4?(r=r.slice(0,-1)+' '+l+'\n',o+=l.length+1):(s=v(h*a)+l,r+=s+'\n',o=s.length))}return r},_=n.bind(this),k=s.bind(this),C=c.bind(this),T=f.bind(this),E=m.bind(this),S=_(t),A='<rdf:RDF';for(var I in this.defaultNamespace&&(A+=' xmlns="'+o(this.defaultNamespace)+'"'),b)if(b.hasOwnProperty(I)){var N=this.base&&this.flags.includes('z')?d.uri.refTo(this.base,I):I;A+='\n xmlns:'+this.prefixes[I]+'="'+o(N)+'"'}A+='>';var j=[A,S,'</rdf:RDF>'];return x(j,-1)};var c=function t(n){return new a(n)};return c}();t.exports=c},function(t,n,a){'use strict';function r(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function o(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function s(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(32),c=a(70),u=a(6),f=a(50),m=a(145),h=a(99).parseRDFaDOM,g=a(100),b=a(11),y=a(24),v=a(87),w={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},x={rdf:'application/rdf+xml',owl:'application/rdf+xml',n3:'text/n3',ttl:'text/turtle',nt:'text/n3',acl:'text/n3',html:'text/html',xml:'text/xml'},_={link:f('http://www.w3.org/2007/ont/link#'),http:f('http://www.w3.org/2007/ont/http#'),httph:f('http://www.w3.org/2007/ont/httph#'),rdf:f('http://www.w3.org/1999/02/22-rdf-syntax-ns#'),rdfs:f('http://www.w3.org/2000/01/rdf-schema#'),dc:f('http://purl.org/dc/elements/1.1/'),ldp:f('http://www.w3.org/ns/ldp#')},k=function t(n,a){s(this,t),this.response=n,this.dom=a},C=function(t){function n(){return s(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),d(n,[{key:'parse',value:function t(n,a,r){var o=n.store;this.dom||(this.dom=y.parseXML(a));var s=this.dom.documentElement;if('parsererror'===s.nodeName)return n.failFetch(r,'Badly formed XML in '+r.resource.uri,'parse_error');var d=new g(o);try{d.parse(this.dom,r.original.uri,r.original)}catch(t){return n.failFetch(r,'Syntax error parsing RDF/XML! '+t,'parse_error')}return r.noMeta||o.add(r.original,_.rdf('type'),_.link('RDFDocument'),n.appNode),n.doneFetch(r,this.response)}}],[{key:'toString',value:function t(){return'RDFXMLHandler'}},{key:'register',value:function t(n){n.mediatypes['application/rdf+xml']={q:0.9}}}]),n}(k);C.pattern=/application\/rdf\+xml/;var T=function(t){function n(){return s(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),d(n,[{key:'parse',value:function t(n,a,r){var o,s;this.dom||(this.dom=y.parseXML(a));var d=n.store,l=this.dom.getElementsByTagName('title');0<l.length&&d.add(r.resource,_.dc('title'),d.literal(l[0].textContent),r.resource);for(var c=this.dom.getElementsByTagName('link'),u=c.length-1;0<=u;u--)o=c[u].getAttribute('rel'),s=!1,o||(o=c[u].getAttribute('rev'),s=!0),o&&n.linkData(r.original,o,c[u].getAttribute('href'),r.resource,s);for(var f=this.dom.getElementsByTagName('script'),g=0,b;g<f.length;g++)b=f[g].getAttribute('type'),w[b]&&m(f[g].textContent,d,r.original.uri,b);if(r.noMeta||d.add(r.resource,_.rdf('type'),_.link('WebPage'),n.appNode),!r.noRDFa&&h)try{h(this.dom,d,r.original.uri)}catch(t){var v='Error trying to parse '+r.resource+' as RDFa:\n'+t+':\n'+t.stack;return n.failFetch(r,v,'parse_error')}return n.doneFetch(r,this.response)}}],[{key:'toString',value:function t(){return'XHTMLHandler'}},{key:'register',value:function t(n){n.mediatypes['application/xhtml+xml']={}}}]),n}(k);T.pattern=/application\/xhtml/;var E=function(t){function n(){return s(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),d(n,[{key:'parse',value:function t(n,a,r){for(var o=y.parseXML(a),s=0;s<o.childNodes.length;s++)if(1===o.childNodes[s].nodeType){var d=o.childNodes[s].namespaceURI;if(d&&d===d.rdf){n.addStatus(r.req,'Has XML root element in the RDF namespace, so assume RDF/XML.');var l=new C(this.response,o);return l.parse(n,a,r)}break}if(o.doctype&&'html'===o.doctype.name&&o.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&o.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/)){n.addStatus(r.req,'Has XHTML DOCTYPE. Switching to XHTML Handler.\n');var c=new T(this.response,o);return c.parse(n,a,r)}var u=o.getElementsByTagName('html')[0];if(u){var f=u.getAttribute('xmlns');if(f&&f.match(/^http:\/\/www.w3.org\/1999\/xhtml/)){n.addStatus(r.req,'Has a default namespace for XHTML. Switching to XHTMLHandler.\n');var m=new T(this.response,o);return m.parse(n,a,r)}}return n.failFetch(r,'Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n'+a.slice(0,80))}}],[{key:'toString',value:function t(){return'XMLHandler'}},{key:'register',value:function t(n){n.mediatypes['text/xml']={q:0.5},n.mediatypes['application/xml']={q:0.5}}}]),n}(k);E.pattern=/(text|application)\/(.*)xml/;var S=function(t){function n(){return s(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),d(n,[{key:'parse',value:function t(n,a,r){var o=n.store;if(a.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)){n.addStatus(r.req,'Has an XML declaration. We\'ll assume it\'s XHTML as the content-type was text/html.\n');var s=new T(this.response);return s.parse(n,a,r)}if(a.match(/.*<!DOCTYPE\s+html[^<]+-\/\/W3C\/\/DTD XHTML[^<]+http:\/\/www.w3.org\/TR\/xhtml[^<]+>/)){n.addStatus(r.req,'Has XHTML DOCTYPE. Switching to XHTMLHandler.\n');var d=new T(this.response);return d.parse(n,a,r)}if(a.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/)){n.addStatus(r.req,'Has default namespace for XHTML, so switching to XHTMLHandler.\n');var l=new T(this.response);return l.parse(n,a,r)}var c=/<title>([\s\S]+?)<\/title>/im.exec(a);return c&&o.add(r.resource,_.dc('title'),o.literal(c[1]),r.resource),o.add(r.resource,_.rdf('type'),_.link('WebPage'),n.appNode),n.addStatus(r.req,'non-XML HTML document, not parsed for data.'),n.doneFetch(r,this.response)}}],[{key:'toString',value:function t(){return'HTMLHandler'}},{key:'register',value:function t(n){n.mediatypes['text/html']={q:0.9}}}]),n}(k);S.pattern=/text\/html/;var A=function(t){function n(){return s(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),d(n,[{key:'parse',value:function t(n,a,r){if(a.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)){n.addStatus(r.req,'Warning: '+r.resource+' has an XML declaration. We\'ll assume it\'s XML but its content-type wasn\'t XML.\n');var o=new E(this.response);return o.parse(n,a,r)}if(a.slice(0,500).match(/xmlns:/)){n.addStatus(r.req,'May have an XML namespace. We\'ll assume it\'s XML but its content-type wasn\'t XML.\n');var s=new E(this.response);return s.parse(n,a,r)}return n.addStatus(r.req,'Plain text document, no known RDF semantics.'),n.doneFetch(r,this.response)}}],[{key:'toString',value:function t(){return'TextHandler'}},{key:'register',value:function t(n){n.mediatypes['text/plain']={q:0.5}}}]),n}(k);A.pattern=/text\/plain/;var I=function(t){function n(){return s(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),d(n,[{key:'parse',value:function t(n,a,r){var o=n.store,s=c(o,o,r.original.uri,r.original.uri,null,null,'',null);try{s.loadBuf(a)}catch(t){var d='Error trying to parse '+r.resource+' as Notation3:\n'+t+':\n'+t.stack;return n.failFetch(r,d,'parse_error')}return n.addStatus(r.req,'N3 parsed: '+s.statementCount+' triples in '+s.lines+' lines.'),n.store.add(r.original,_.rdf('type'),_.link('RDFDocument'),n.appNode),n.doneFetch(r,this.response)}}],[{key:'toString',value:function t(){return'N3Handler'}},{key:'register',value:function t(n){n.mediatypes['text/n3']={q:'1.0'},n.mediatypes['text/turtle']={q:1}}}]),n}(k);I.pattern=/(application|text)\/(x-)?(rdf\+)?(n3|turtle)/;var N={RDFXMLHandler:C,XHTMLHandler:T,XMLHandler:E,HTMLHandler:S,TextHandler:A,N3Handler:I},j=function(){function t(n){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,t),this.store=n,this.timeout=o.timeout||3e4,this._fetch=o.fetch,this._fetch||('undefined'==typeof window?this._fetch=a(44):this._fetch=window.fetch.bind(window)),this.appNode=this.store.bnode(),this.store.fetcher=this,this.requested={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:0.9},"*/*":{q:0.1}},y.callbackify(this,['request','fail','refresh','retract','done']),Object.keys(N).map(function(t){return r.addHandler(N[t])})}return d(t,[{key:'fetch',value:function t(n){var a=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(n instanceof Array)return Promise.all(n.map(function(t){return a.fetch(t,Object.assign({},r))}));var o=n.uri||n;return o=o.split('#')[0],r=this.initFetchOptions(o,r),this.pendingFetchPromise(o,r.baseURI,r)}},{key:'pendingFetchPromise',value:function t(n,a,r){var o;return!r.force&&this.fetchQueue[a]?o=this.fetchQueue[a]:(o=Promise.race([this.setRequestTimeout(n,r),this.fetchUri(n,r)]),this.fetchQueue[a]=o,this.cleanupFetchRequest(a,r,this.timeout)),o}},{key:'cleanupFetchRequest',value:function t(n,a,r){var o=this;setTimeout(function(){o.isPending(n)||delete o.fetchQueue[n]},r)}},{key:'load',value:function t(n,a){return this.fetch(n,a)}},{key:'initFetchOptions',value:function n(a,r){var o=this.store,s=!r.method||'GET'===r.method.toUpperCase();s||(r.force=!0),r.resource=o.sym(a),r.baseURI=r.baseURI||a,r.original=o.sym(r.baseURI),r.req=o.bnode(),r.headers=r.headers||{},r.contentType&&(r.headers['content-type']=r.contentType),r.force&&(r.cache='no-cache');var d=this.acceptString();r.headers.accept=d;var l=t.offlineOverride(a);r.requestedURI=l,t.withCredentials(l,r)&&(r.credentials='include');var c=t.proxyIfNecessary(l);return l!==c&&(r.proxyUsed=!0),r.actualProxyURI=c,r}},{key:'fetchUri',value:function n(a,r){var o=this;if(!a)return Promise.reject(new Error('Cannot fetch an empty uri'));if(t.unsupportedProtocol(a))return this.failFetch(r,'Unsupported protocol','unsupported_protocol');var s=this.getState(a);if(!r.force){if('fetched'===s)return Promise.resolve(this.doneFetch(r,{status:200,ok:!0}));if('failed'===s)return this.failFetch(r,'Previously failed: '+this.requested[a],this.requested[a])}else delete this.nonexistent[a];this.fireCallbacks('request',[a]),this.requested[a]=!0,r.noMeta||this.saveRequestMetadata(a,r);var d=r.actualProxyURI;return this._fetch(d,r).then(function(t){return o.handleResponse(t,a,r)}).catch(function(t){return o.handleError(t,a,r)})}},{key:'nowOrWhenFetched',value:function t(n,a,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};n=n.uri||n,'function'==typeof a?r=a:'undefined'==typeof a||(a instanceof u?o.referringTerm=a:o=a),this.fetch(n,o).then(function(t){r&&r(!0,null,t)}).catch(function(t){r(!1,t.message)})}},{key:'addStatus',value:function t(n,a){var r=new Date;a='['+r.getHours()+':'+r.getMinutes()+':'+r.getSeconds()+'.'+r.getMilliseconds()+'] '+a;var o=this.store,s=o.the(n,_.link('status'));s&&s.append?s.append(o.literal(a)):l.warn('web.js: No list to add to: '+s+','+a)}},{key:'failFetch',value:function t(n,a,r){this.addStatus(n.req,a),n.noMeta||this.store.add(n.original,_.link('error'),a),n.resource.sameTerm(n.original)?console.log('@@ Recording failure for '+n.original+': '+r):console.log('@@ Recording failure original '+n.original+'( as '+n.resource+') : '+r);var o=!n.method||'GET'===n.method.toUpperCase()||'HEAD'===n.method.toUpperCase();return o&&(this.requested[b.docpart(n.original.uri)]=r,this.fireCallbacks('fail',[n.original.uri,a])),Promise.resolve({ok:!1,error:a,status:r})}},{key:'linkData',value:function t(n,a,r,o,s){if(r){var d=this.store,l=d.sym(b.join(r,n.uri)),c;if('alternate'===a||'seeAlso'===a||'meta'===a||'describedby'===a){if(l.uri===n.uri)return;c=_.rdfs('seeAlso')}else c='type'===a?d.sym('http://www.w3.org/1999/02/22-rdf-syntax-ns#type'):d.sym(b.join(encodeURIComponent(a),'http://www.iana.org/assignments/link-relations/'));s?d.add(l,c,n,o):d.add(n,c,l,o)}}},{key:'parseLinkHeader',value:function t(n,a,r){if(n)for(var o=/<[^>]*>\s*(\s*;\s*[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,d=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,l=n.match(o),c=0;c<l.length;c++)for(var u=l[c].split('>'),f=u[0].substring(1),m=u[1],h=m.match(d),s=0;s<h.length;s++){var g=h[s],b=g.split('='),y=b[1].replace(/["']/g,'');this.linkData(a,y,f,r)}}},{key:'doneFetch',value:function t(n,a){return this.addStatus(n.req,'Done.'),this.requested[n.original.uri]='done',this.fireCallbacks('done',[n.original.uri]),a.req=n.req,a}},{key:'nowKnownAs',value:function t(n,a){this.lookedUp[n.uri]?!this.lookedUp[a.uri]&&this.lookUpThing(a,n):this.lookedUp[a.uri]&&!this.lookedUp[n.uri]&&this.lookUpThing(n,a)}},{key:'putBack',value:function t(n){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n=n.uri||n;var r=new u(n).doc();return a.data=v(r,this.store,r.uri,a.contentType||'text/turtle'),this.webOperation('PUT',n,a)}},{key:'webCopy',value:function t(n,a,r){var o=this;return this.webOperation('GET',n).then(function(t){return o.webOperation('PUT',a,{data:t.responseText,contentType:r})})}},{key:'delete',value:function t(n,a){var r=this;return this.webOperation('DELETE',n,a).then(function(t){return r.requested[n]=404,r.nonexistent[n]=!0,r.unload(r.store.sym(n)),t})}},{key:'createContainer',value:function t(n,a,r){var o={"content-type":'text/turtle',link:_.ldp('BasicContainer')+'; rel="type"'};a&&(o.slug=a);var s={headers:o};return r&&(s.body=r),this.webOperation('POST',n,s)}},{key:'webOperation',value:function t(n,a){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return r.method=n,r.body=r.data||r.body,r.force=!0,this.fetch(a,r)}},{key:'lookUpThing',value:function t(n,a){var r=this,o=this.store.uris(n);return o=o.map(function(t){return b.docpart(t)}),o.forEach(function(t){r.lookedUp[t]=!0}),this.fetch(o,{referringTerm:a})}},{key:'getHeader',value:function t(n,a){for(var o=this.store,s=o.each(void 0,_.link('requestedURI'),n.uri),d=0,r;d<s.length;d++)if(r=s[d],void 0!==r){var l=o.any(r,_.link('response'));if(void 0!==l){var c=o.each(l,_.httph(a.toLowerCase()));return c.length?c.map(function(t){return t.value}):[]}}}},{key:'saveRequestMetadata',value:function t(n,a){var r=a.req,o=this.store,s=a.referringTerm;this.addStatus(a.req,'Accept: '+a.headers.accept),s&&s.uri&&o.add(n,_.link('requestedBy'),s.uri,this.appNode),a.original&&a.original.uri!==n&&o.add(r,_.link('orginalURI'),o.literal(a.original.uri),this.appNode);var d=new Date,l='['+d.getHours()+':'+d.getMinutes()+':'+d.getSeconds()+'] ';o.add(r,_.rdfs('label'),o.literal(l+' Request for '+n),this.appNode),o.add(r,_.link('requestedURI'),o.literal(n),this.appNode),o.add(r,_.link('status'),o.collection(),this.appNode)}},{key:'saveResponseMetadata',value:function t(n,a){var r=this.store,o=r.bnode();return(r.add(a.req,_.link('response'),o),r.add(o,_.http('status'),r.literal(n.status),o),r.add(o,_.http('statusText'),r.literal(n.statusText),o),!a.resource.uri.startsWith('http'))?o:(n.headers.forEach(function(t,n){r.add(o,_.httph(n),t,o),'content-type'===n&&r.add(a.resource,_.rdf('type'),y.mediaTypeClass(t),o)}),o)}},{key:'objectRefresh',value:function t(n){var a=this.store.uris(n);if('undefined'!=typeof a)for(var r=0;r<a.length;r++)this.refresh(this.store.sym(b.docpart(a[r])))}},{key:'refresh',value:function t(n,a){this.fireCallbacks('refresh',arguments),this.nowOrWhenFetched(n,{force:!0,clearPreviousData:!0},a)}},{key:'retract',value:function t(n){this.store.removeMany(void 0,void 0,void 0,n),n.uri&&delete this.requested[b.docpart(n.uri)],this.fireCallbacks('retract',arguments)}},{key:'getState',value:function t(n){return'undefined'==typeof this.requested[n]?'unrequested':!0===this.requested[n]?'requested':'done'===this.requested[n]?'fetched':'redirected'===this.requested[n]?this.getState(this.redirectedTo[n]):'failed'}},{key:'isPending',value:function t(n){return!0===this.requested[n]}},{key:'unload',value:function t(n){this.store.removeDocument(n),delete this.requested[n.uri]}},{key:'addHandler',value:function t(n){this.handlers.push(n),n.register(this)}},{key:'retryNoCredentials',value:function t(n,a){console.log('web: Retrying with no credentials for '+a.resource),a.retriedWithNoCredentials=!0,delete this.requested[n];var r=Object.assign({},a,{withCredentials:!1});return this.addStatus(a.req,'Abort: Will retry with credentials SUPPRESSED to see if that helps'),this.fetch(n,r)}},{key:'isCrossSite',value:function t(n){if('undefined'==typeof document||!document.location)return!1;var a=b.hostpart,r=''+document.location;return a(r)&&a(n)&&a(r)!==a(n)}},{key:'handleError',value:function n(a,r,o){if(this.isCrossSite(r)){if(o.withCredentials&&!o.retriedWithNoCredentials)return this.retryNoCredentials(r,o);var s=t.crossSiteProxy(r);if(s&&!o.proxyUsed)return console.log('web: Direct failed so trying proxy '+s),this.redirectToProxy(s,o)}var d=a.message||a.status+' '+a.statusText;return this.failFetch(o,'Request failed: '+d,a.status)}},{key:'addType',value:function t(n,a,r,o){var s=a;if(o){var d=r.any(s,_.link('requestedURI'));d&&d!==o&&r.add(r.sym(o),_.rdf('type'),n,this.appNode)}for(;;){var l=r.any(s,_.link('requestedURI'));if(l&&l.value&&r.add(r.sym(l.value),_.rdf('type'),n,this.appNode),s=r.any(void 0,r.sym('http://www.w3.org/2007/ont/link#redirectedRequest'),s),!s)break;var c=r.any(s,r.sym('http://www.w3.org/2007/ont/link#response'));if(!c)break;var u=r.any(c,r.sym('http://www.w3.org/2007/ont/http#status'));if(!u)break;if('301'!==u&&'302'!==u)break}}},{key:'handleResponse',value:function t(n,a,r){var o=this,s=this.store,d=n.headers,l=r.req,c=this.saveResponseMetadata(n,r),u=this.normalizedContentType(r,d)||'',f=d.get('content-location');if(0===n.status)return console.log('Masked error - status 0 for '+a),this.handleError(n,a,r);if(400<=n.status)return 404===n.status&&(this.nonexistent[r.original.uri]=!0,this.nonexistent[a]=!0),this.saveErrorResponse(n,c).then(function(){var t='HTTP error for '+r.resource+': '+n.status+' '+n.statusText;return o.failFetch(r,t,n.status)});var m=null,h=null;if(f&&(h=b.join(f,a),h!==a&&(m=h)),200===n.status){this.addType(_.link('Document'),l,s,a),m&&this.addType(_.link('Document'),l,s,m),r.clearPreviousData&&s.removeDocument(r.resource);var g=u.includes('image/')||u.includes('application/pdf');u&&g&&(this.addType(s.sym('http://purl.org/dc/terms/Image'),l,s,a),m&&this.addType(s.sym('http://purl.org/dc/terms/Image'),l,s,m))}if(f){if(!r.force&&m&&'done'===this.requested[h])return this.doneFetch(r,n);this.requested[h]=!0}this.parseLinkHeader(d.get('link'),r.original,l);var y=this.handlerForContentType(u,n);return y?n.text().then(function(t){return n.responseText=t,y.parse(o,t,r)}):(this.addStatus(l,'Fetch over. No data handled.'),this.doneFetch(r,n))}},{key:'saveErrorResponse',value:function t(n,a){var r=this.store;return n.text().then(function(t){10<t.length&&r.add(a,_.http('content'),r.literal(t),a)})}},{key:'handlerForContentType',value:function t(n,a){if(!n)return null;var r=this.handlers.find(function(t){return n.match(t.pattern)});return r?new r(a):null}},{key:'guessContentType',value:function t(n){return x[n.split('.').pop()]}},{key:'normalizedContentType',value:function t(n,a){if(n.forceContentType)return n.forceContentType;var r=a.get('content-type');if(!r||r.includes('application/octet-stream')){var o=this.guessContentType(n.resource.uri);if(o)return o}var s=b.protocol(n.resource.uri);return!r&&['file','chrome'].includes(s)?'text/xml':r}},{key:'redirectToProxy',value:function t(n,a){var r=this;this.addStatus(a.req,'BLOCKED -> Cross-site Proxy to <'+n+'>'),a.proxyUsed=!0;var o=this.store,s=a.req;a.noMeta||(o.add(s,_.link('redirectedTo'),o.sym(n),s),this.addStatus(s,'redirected to new request')),this.requested[a.resource.uri]='redirected',this.redirectedTo[a.resource.uri]=n;var d=Object.assign({},a);return d.baseURI=a.resource.uri,this.fetchUri(n,d).then(function(t){return d.noMeta||o.add(s,_.link('redirectedRequest'),d.req,r.appNode),t})}},{key:'setRequestTimeout',value:function t(n,a){var r=this;return new Promise(function(t){setTimeout(function(){!r.isPending(n)||a.retriedWithNoCredentials||a.proxyUsed||t(r.failFetch(a,'Request to '+n+' timed out','timeout'))},r.timeout)})}},{key:'addFetchCallback',value:function t(n,a){this.fetchCallbacks[n]?this.fetchCallbacks[n].push(a):this.fetchCallbacks[n]=[a]}},{key:'acceptString',value:function t(){var n='';for(var a in this.mediatypes)for(var r in''!=n&&(n+=', '),n+=a,this.mediatypes[a])n+=';'+r+'='+this.mediatypes[a][r];return n}}],[{key:'crossSiteProxy',value:function n(a){return t.crossSiteProxyTemplate?t.crossSiteProxyTemplate.replace('{uri}',encodeURIComponent(a)):void 0}},{key:'offlineOverride',value:function t(n){var a=n;return'undefined'!=typeof tabulator&&tabulator.preferences.get('offlineModeUsingLocalhost')&&'http://'===a.slice(0,7)&&'localhost/'!==a.slice(7,17)&&(a='http://localhost/'+a.slice(7),l.warn('Localhost kludge for offline use: actually getting <'+a+'>')),a}},{key:'proxyIfNecessary',value:function n(a){if('undefined'!=typeof tabulator&&tabulator.isExtension)return a;if('undefined'!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.localSiteMap){var r=a.split('/').slice(2),o=function t(n,a){var r=a[n.shift()];return r?'string'==typeof r?r+n.join('/'):n?t(n,r):null:null},s=o(r,$SolidTestEnvironment.localSiteMap);if(s)return s}return t.crossSiteProxyTemplate&&'undefined'!=typeof document&&document.location&&'https:'===(''+document.location).slice(0,6)&&'http:'===a.slice(0,5)?t.crossSiteProxyTemplate.replace('{uri}',encodeURIComponent(a)):a}},{key:'unsupportedProtocol',value:function t(n){var a=b.protocol(n);return'tel'===a||'mailto'===a||'urn'===a}},{key:'withCredentials',value:function t(n){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=n.startsWith('https:');return void 0!==a.withCredentials&&(t=a.withCredentials),t}}]),t}();t.exports=j,t.exports.HANDLERS=N,t.exports.CONTENT_TYPE_BY_EXT=x},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=a(31),d=a(40),l=a(69),c=a(6),u=a(11),f=a(24);if('undefined'==typeof m)var m={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var h=function(){function t(n,a){r(this,t),this.options=a||{},this.kb=n,this.target=a.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:'br img input area base basefont col colgroup source wbr isindex link meta param hr'},this.theOne='_:'+new Date().getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:'http://www.w3.org/XML/1998/namespace',localName:'lang'}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return o(t,[{key:'addTriple',value:function t(n,a,r,o){var s,d,c,u;s='undefined'==typeof a?l.namedNode(this.options.base):this.toRDFNodeObject(a),c=this.toRDFNodeObject(r),d=this.toRDFNodeObject(o),u=l.namedNode(this.options.base),this.kb.add(s,c,d,u)}},{key:'ancestorPath',value:function t(n){for(var a='';n&&n.nodeType!==m.DOCUMENT_NODE;)a='/'+n.localName+a,n=n.parentNode;return a}},{key:'copyMappings',value:function t(n){var a={};for(var r in n)a[r]=n[r];return a}},{key:'copyProperties',value:function t(){}},{key:'deriveDateTimeType',value:function n(a){for(var r=0,o;r<t.dateTimeTypes.length;r++)if(o=t.dateTimeTypes[r].pattern.exec(a),o&&o[0].length===a.length)return t.dateTimeTypes[r].type;return null}},{key:'init',value:function t(){}},{key:'newBlankNode',value:function t(){return this.blankCounter++,'_:'+this.blankCounter}},{key:'newSubjectOrigin',value:function t(n,a){}},{key:'parseCURIE',value:function n(a,r,o){var s=a.indexOf(':'),d;if(0<=s){var l=a.substring(0,s);if(''===l)return d=r[''],d?d+a.substring(s+1):null;if('_'===l)return'_:'+a.substring(s+1);if(t.NCNAME.test(l)&&(d=r[l],d))return d+a.substring(s+1)}return null}},{key:'parseCURIEOrURI',value:function t(n,a,r){var o=this.parseCURIE(n,a,r);return o?o:this.resolveAndNormalize(r,n)}},{key:'parsePredicate',value:function t(n,a,r,o,s,d){if(''===n)return null;var l=this.parseTermOrCURIEOrAbsURI(n,a,d?null:r,o,s);return l&&0===l.indexOf('_:')?null:l}},{key:'parsePrefixMappings',value:function t(n,a){for(var r=this.tokenize(n),o=null,s=0;s<r.length;s++)':'===r[s][r[s].length-1]?o=r[s].substring(0,r[s].length-1):o&&(a[o]=this.options.base?u.join(r[s],this.options.base):r[s],o=null)}},{key:'parseSafeCURIEOrCURIEOrURI',value:function t(n,a,r){return n=this.trim(n),'['===n.charAt(0)&&']'===n.charAt(n.length-1)?(n=n.substring(1,n.length-1),n=n.trim(n),0===n.length?null:'_:'===n?this.theOne:this.parseCURIE(n,a,r)):this.parseCURIEOrURI(n,a,r)}},{key:'parseTermOrCURIEOrAbsURI',value:function t(n,a,r,o,s){n=this.trim(n);var d=this.parseCURIE(n,o,s);if(d)return d;if(r){if(a&&!this.absURIRE.exec(n))return a+n;var l=r[n];if(l)return l;var c=n.toLowerCase();if(l=r[c],l)return l}return this.absURIRE.exec(n)?this.resolveAndNormalize(s,n):null}},{key:'parseTermOrCURIEOrURI',value:function t(n,a,r,o,s){n=this.trim(n);var d=this.parseCURIE(n,o,s);if(d)return d;var l=r[n];if(l)return l;var c=n.toLowerCase();return(l=r[c],l)?l:a&&!this.absURIRE.exec(n)?a+n:this.resolveAndNormalize(s,n)}},{key:'parseURI',value:function t(n){return n}},{key:'process',value:function n(a,r){var o;a.nodeType===m.DOCUMENT_NODE?(o=a.baseURI,a=a.documentElement,a.baseURI=o,this.setContext(a)):a.parentNode.nodeType===m.DOCUMENT_NODE&&this.setContext(a);var s=[],d=function t(n){if(!n&&r&&r.baseURI)return r.baseURI;var a=n.indexOf('#');return 0<=a&&(n=n.substring(0,a)),r&&r.baseURIMap&&(n=r.baseURIMap(n)),n};for(s.push({current:a,context:this.push(null,d(a.baseURI))});0<s.length;){var l=s.shift();if(l.parent){if(l.context.parent&&l.context.parent.listMapping===l.listMapping)continue;for(var c in l.listMapping){var f=l.listMapping[c];if(0===f.length){this.addTriple(l.parent,l.subject,c,{type:t.objectURI,value:'http://www.w3.org/1999/02/22-rdf-syntax-ns#nil'});continue}for(var h=[],g=0;g<f.length;g++)h.push(this.newBlankNode());for(var b=0;b<h.length;b++)this.addTriple(l.parent,h[b],'http://www.w3.org/1999/02/22-rdf-syntax-ns#first',f[b]),this.addTriple(l.parent,h[b],'http://www.w3.org/1999/02/22-rdf-syntax-ns#rest',{type:t.objectURI,value:b+1<h.length?h[b+1]:'http://www.w3.org/1999/02/22-rdf-syntax-ns#nil'});this.addTriple(l.parent,l.subject,c,{type:t.objectURI,value:h[0]})}continue}var y=l.current,v=l.context,w=!1,x=null,_=null,k=null,C=v.prefixes,T=!1,E=[],S=v.listMapping,A=!v.parent,I=v.language,N=v.vocabulary;o=this.parseURI(d(y.baseURI)),y.item=null;var j=y.getAttributeNode('vocab');if(j){var R=this.trim(j.value);if(0<R.length){N=R;var L=o.spec;this.addTriple(y,L,'http://www.w3.org/ns/rdfa#usesVocabulary',{type:t.objectURI,value:N})}else N=this.vocabulary}for(var O=0,P;O<y.attributes.length;O++)if(P=y.attributes[O],'x'===P.nodeName.charAt(0)&&0===P.nodeName.indexOf('xmlns:')){T||(C=this.copyMappings(C),T=!0);var M=P.nodeName.substring(6),D=t.trim(P.value);C[M]=this.options.base?u.join(D,this.options.base):D}var B=y.getAttributeNode('prefix');B&&(!T&&(C=this.copyMappings(C),T=!0),this.parsePrefixMappings(B.value,C));for(var U=null,q=0;!U&&q<this.langAttributes.length;q++)U=y.getAttributeNodeNS(this.langAttributes[q].namespaceURI,this.langAttributes[q].localName);if(U){var F=t.trim(U.value);I=0<F.length?F:null}var z=y.getAttributeNode('rel'),H=y.getAttributeNode('rev'),W=y.getAttributeNode('typeof'),V=y.getAttributeNode('property'),G=y.getAttributeNode('datatype'),J=this.inHTMLMode?y.getAttributeNode('datetime'):null,K=y.getAttributeNode('content'),X=y.getAttributeNode('about'),Z=y.getAttributeNode('src'),Y=y.getAttributeNode('resource'),Q=y.getAttributeNode('href'),ee=y.getAttributeNode('inlist'),te=[],ne,ae;if(z){ae=this.tokenize(z.value);for(var re=0;re<ae.length;re++)ne=this.parsePredicate(ae[re],N,v.terms,C,o,this.inHTMLMode&&null!==V),ne&&te.push(ne)}var ie=[];if(H){ae=this.tokenize(H.value);for(var oe=0;oe<ae.length;oe++)ne=this.parsePredicate(ae[oe],N,v.terms,C,o,this.inHTMLMode&&V),ne&&ie.push(ne)}if(this.inHTMLMode&&(z||H)&&V&&(0===te.length&&(z=null),0===ie.length&&(H=null)),z||H?(X&&(x=this.parseSafeCURIEOrCURIEOrURI(X.value,C,o)),W&&(k=x),!x&&(y.parentNode.nodeType===m.DOCUMENT_NODE?x=d(y.baseURI):v.parentObject&&(x=d(y.parentNode.baseURI)===v.parentObject?d(y.baseURI):v.parentObject)),Y&&(_=this.parseSafeCURIEOrCURIEOrURI(Y.value,C,o)),!_&&(Q?_=this.resolveAndNormalize(o,encodeURI(Q.value)):Z?_=this.resolveAndNormalize(o,encodeURI(Z.value)):W&&!X&&!(this.inXHTMLMode&&('head'===y.localName||'body'===y.localName))&&(_=this.newBlankNode())),W&&!X&&this.inXHTMLMode&&('head'===y.localName||'body'===y.localName)?k=x:W&&!X&&(k=_)):!V||K||G?(X&&(x=this.parseSafeCURIEOrCURIEOrURI(X.value,C,o)),!x&&Y&&(x=this.parseSafeCURIEOrCURIEOrURI(Y.value,C,o)),!x&&Q&&(x=this.resolveAndNormalize(o,encodeURI(Q.value))),!x&&Z&&(x=this.resolveAndNormalize(o,encodeURI(Z.value))),!x&&(y.parentNode.nodeType===m.DOCUMENT_NODE?x=d(y.baseURI):(this.inXHTMLMode||this.inHTMLMode)&&('head'===y.localName||'body'===y.localName)?x=d(y.parentNode.baseURI)===v.parentObject?d(y.baseURI):v.parentObject:W?x=this.newBlankNode():v.parentObject&&(x=d(y.parentNode.baseURI)===v.parentObject?d(y.baseURI):v.parentObject,!V&&(w=!0))),W&&(k=x)):(X&&(x=this.parseSafeCURIEOrCURIEOrURI(X.value,C,o),W&&(k=x)),x||y.parentNode.nodeType!==m.DOCUMENT_NODE?!x&&v.parentObject&&(x=d(y.parentNode.baseURI)===v.parentObject?d(y.baseURI):v.parentObject):(x=d(y.baseURI),W&&(k=x)),W&&!k&&(Y&&(k=this.parseSafeCURIEOrCURIEOrURI(Y.value,C,o)),!k&&Q&&(k=this.resolveAndNormalize(o,encodeURI(Q.value))),!k&&Z&&(k=this.resolveAndNormalize(o,encodeURI(Z.value))),!k&&(this.inXHTMLMode||this.inHTMLMode)&&('head'===y.localName||'body'===y.localName)&&(k=x),!k&&(k=this.newBlankNode()),_=k)),x&&(X||Y||k)){var se=x;W&&!X&&!Y&&_&&(se=_),this.newSubjectOrigin(y,se)}if(k){ae=this.tokenize(W.value);for(var de=0,le;de<ae.length;de++)le=this.parseTermOrCURIEOrAbsURI(ae[de],N,v.terms,C,o),le&&this.addTriple(y,k,t.typeURI,{type:t.objectURI,value:le})}if(x&&x!==v.parentObject&&(S={},A=!0),_){if(z&&ee)for(var pe=0,ce;pe<te.length;pe++)ce=S[te[pe]],ce||(ce=[],S[te[pe]]=ce),ce.push({type:t.objectURI,value:_});else if(z)for(var ue=0;ue<te.length;ue++)this.addTriple(y,x,te[ue],{type:t.objectURI,value:_});if(H)for(var fe=0;fe<ie.length;fe++)this.addTriple(y,_,ie[fe],{type:t.objectURI,value:x})}else{if(x&&!_&&(z||H)&&(_=this.newBlankNode()),z&&ee)for(var he=0,ge;he<te.length;he++)ge=S[te[he]],ge||(ge=[],S[ne]=ge),E.push({predicate:te[he],list:ge});else if(z)for(var be=0;be<te.length;be++)E.push({predicate:te[be],forward:!0});if(H)for(var ye=0;ye<ie.length;ye++)E.push({predicate:ie[ye],forward:!1})}if(V){var ve=null,we=null;G?(ve=''===G.value?t.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(G.value,N,v.terms,C,o),we=J&&!K?J.value:ve===t.XMLLiteralURI||ve===t.HTMLLiteralURI?null:K?K.value:y.textContent):K?(ve=t.PlainLiteralURI,we=K.value):J?(we=J.value,ve=t.deriveDateTimeType(we),!ve&&(ve=t.PlainLiteralURI)):!z&&!H&&(Y&&(we=this.parseSafeCURIEOrCURIEOrURI(Y.value,C,o)),!we&&Q?we=this.resolveAndNormalize(o,encodeURI(Q.value)):!we&&Z&&(we=this.resolveAndNormalize(o,encodeURI(Z.value))),we&&(ve=t.objectURI)),ve||(W&&!X?(ve=t.objectURI,we=k):(we=y.textContent,this.inHTMLMode&&'time'===y.localName&&(ve=t.deriveDateTimeType(we)),!ve&&(ve=t.PlainLiteralURI))),ae=this.tokenize(V.value);for(var xe=0,_e;xe<ae.length;xe++)if(_e=this.parsePredicate(ae[xe],N,v.terms,C,o),_e)if(ee){var ke=S[_e];ke||(ke=[],S[_e]=ke),ke.push(ve===t.XMLLiteralURI||ve===t.HTMLLiteralURI?{type:ve,value:y.childNodes}:{type:ve?ve:t.PlainLiteralURI,value:we,language:I})}else ve===t.XMLLiteralURI||ve===t.HTMLLiteralURI?this.addTriple(y,x,_e,{type:ve,value:y.childNodes}):this.addTriple(y,x,_e,{type:ve?ve:t.PlainLiteralURI,value:we,language:I})}if(x&&!w)for(var Ce=0;Ce<v.incomplete.length;Ce++)v.incomplete[Ce].list?v.incomplete[Ce].list.push({type:t.objectURI,value:x}):v.incomplete[Ce].forward?this.addTriple(y,v.subject,v.incomplete[Ce].predicate,{type:t.objectURI,value:x}):this.addTriple(y,x,v.incomplete[Ce].predicate,{type:t.objectURI,value:v.subject});var Te=null,Ee=x;w?(Te=this.push(v,v.subject),Te.parentObject=d(y.parentNode.baseURI)===v.parentObject?d(y.baseURI):v.parentObject,Te.incomplete=v.incomplete,Te.language=I,Te.prefixes=C,Te.vocabulary=N):(Te=this.push(v,x),Te.parentObject=_?_:x?x:v.subject,Te.prefixes=C,Te.incomplete=E,_&&(Ee=_,S={},A=!0),Te.listMapping=S,Te.language=I,Te.vocabulary=N),A&&s.unshift({parent:y,context:v,subject:Ee,listMapping:S});for(var Se=y.lastChild;Se;Se=Se.previousSibling)Se.nodeType===m.ELEMENT_NODE&&(Se.baseURI=y.baseURI,s.unshift({current:Se,context:Te}))}this.inHTMLMode&&this.copyProperties();for(var Ae=0;Ae<this.finishedHandlers.length;Ae++)this.finishedHandlers[Ae](a)}},{key:'push',value:function t(n,a){return{parent:n,subject:a?a:n?n.subject:null,parentObject:null,incomplete:[],listMapping:n?n.listMapping:{},language:n?n.language:this.language,prefixes:n?n.prefixes:this.target.graph.prefixes,terms:n?n.terms:this.target.graph.terms,vocabulary:n?n.vocabulary:this.vocabulary}}},{key:'resolveAndNormalize',value:function t(n,a){return u.join(a,n)}},{key:'setContext',value:function t(n){'html'===n.localName&&'XHTML+RDFa 1.1'===n.getAttribute('version')?this.setXHTMLContext():'html'===n.localName||'http://www.w3.org/1999/xhtml'===n.namespaceURI?'undefined'!=typeof document&&document.doctype?'-//W3C//DTD XHTML+RDFa 1.0//EN'===document.doctype.publicId&&'http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd'===document.doctype.systemId?(console.log('WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode.'),this.setHTMLContext()):'-//W3C//DTD XHTML+RDFa 1.1//EN'===document.doctype.publicId&&'http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd'===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:'setHTMLContext',value:function t(){this.setInitialContext(),this.langAttributes=[{namespaceURI:'http://www.w3.org/XML/1998/namespace',localName:'lang'},{namespaceURI:null,localName:'lang'}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:'setInitialContext',value:function t(){this.vocabulary=null,this.langAttributes=[{namespaceURI:'http://www.w3.org/XML/1998/namespace',localName:'lang'}]}},{key:'setXHTMLContext',value:function t(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:'http://www.w3.org/XML/1998/namespace',localName:'lang'},{namespaceURI:null,localName:'lang'}],this.target.graph.terms.alternate='http://www.w3.org/1999/xhtml/vocab#alternate',this.target.graph.terms.appendix='http://www.w3.org/1999/xhtml/vocab#appendix',this.target.graph.terms.bookmark='http://www.w3.org/1999/xhtml/vocab#bookmark',this.target.graph.terms.cite='http://www.w3.org/1999/xhtml/vocab#cite',this.target.graph.terms.chapter='http://www.w3.org/1999/xhtml/vocab#chapter',this.target.graph.terms.contents='http://www.w3.org/1999/xhtml/vocab#contents',this.target.graph.terms.copyright='http://www.w3.org/1999/xhtml/vocab#copyright',this.target.graph.terms.first='http://www.w3.org/1999/xhtml/vocab#first',this.target.graph.terms.glossary='http://www.w3.org/1999/xhtml/vocab#glossary',this.target.graph.terms.help='http://www.w3.org/1999/xhtml/vocab#help',this.target.graph.terms.icon='http://www.w3.org/1999/xhtml/vocab#icon',this.target.graph.terms.index='http://www.w3.org/1999/xhtml/vocab#index',this.target.graph.terms.last='http://www.w3.org/1999/xhtml/vocab#last',this.target.graph.terms.license='http://www.w3.org/1999/xhtml/vocab#license',this.target.graph.terms.meta='http://www.w3.org/1999/xhtml/vocab#meta',this.target.graph.terms.next='http://www.w3.org/1999/xhtml/vocab#next',this.target.graph.terms.prev='http://www.w3.org/1999/xhtml/vocab#prev',this.target.graph.terms.previous='http://www.w3.org/1999/xhtml/vocab#previous',this.target.graph.terms.section='http://www.w3.org/1999/xhtml/vocab#section',this.target.graph.terms.stylesheet='http://www.w3.org/1999/xhtml/vocab#stylesheet',this.target.graph.terms.subsection='http://www.w3.org/1999/xhtml/vocab#subsection',this.target.graph.terms.start='http://www.w3.org/1999/xhtml/vocab#start',this.target.graph.terms.top='http://www.w3.org/1999/xhtml/vocab#top',this.target.graph.terms.up='http://www.w3.org/1999/xhtml/vocab#up',this.target.graph.terms.p3pv1='http://www.w3.org/1999/xhtml/vocab#p3pv1',this.target.graph.terms.related='http://www.w3.org/1999/xhtml/vocab#related',this.target.graph.terms.role='http://www.w3.org/1999/xhtml/vocab#role',this.target.graph.terms.transformation='http://www.w3.org/1999/xhtml/vocab#transformation'}},{key:'setXMLContext',value:function t(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:'tokenize',value:function t(n){return this.trim(n).split(/\s+/)}},{key:'toRDFNodeObject',value:function n(a){if('undefined'!=typeof a){if('string'==typeof a)return'_:'===a.substring(0,2)?('undefined'==typeof this.blankNodes[a.substring(2)]&&(this.blankNodes[a.substring(2)]=new s(a.substring(2))),this.blankNodes[a.substring(2)]):l.namedNode(a);switch(a.type){case t.objectURI:return'_:'===a.value.substring(0,2)?('undefined'==typeof this.blankNodes[a.value.substring(2)]&&(this.blankNodes[a.value.substring(2)]=new s(a.value.substring(2))),this.blankNodes[a.value.substring(2)]):l.namedNode(a.value);case t.PlainLiteralURI:return new d(a.value,a.language||'');case t.XMLLiteralURI:case t.HTMLLiteralURI:var r='';return Object.keys(a.value).forEach(function(t){r+=f.domToString(a.value[t],this.htmlOptions)}),new d(r,'',new c(a.type));default:return new d(a.value,'',new c(a.type));}}}},{key:'trim',value:function t(n){return n.replace(/^\s\s*/,'').replace(/\s\s*$/,'')}}],[{key:'parseRDFaDOM',value:function n(a,r,o){var s=new t(r,{base:o});a.baseURI=o,s.process(a)}}]),t}();h.XMLLiteralURI='http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral',h.HTMLLiteralURI='http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML',h.PlainLiteralURI='http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral',h.objectURI='http://www.w3.org/1999/02/22-rdf-syntax-ns#object',h.typeURI='http://www.w3.org/1999/02/22-rdf-syntax-ns#type',h.nameChar='[-A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u10000-\uEFFFF.0-9\xB7\u0300-\u036F\u203F-\u2040]',h.nameStartChar='[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u0131\u0134-\u013E\u0141-\u0148\u014A-\u017E\u0180-\u01C3\u01CD-\u01F0\u01F4-\u01F5\u01FA-\u0217\u0250-\u02A8\u02BB-\u02C1\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03D6\u03DA\u03DC\u03DE\u03E0\u03E2-\u03F3\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E-\u0481\u0490-\u04C4\u04C7-\u04C8\u04CB-\u04CC\u04D0-\u04EB\u04EE-\u04F5\u04F8-\u04F9\u0531-\u0556\u0559\u0561-\u0586\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0641-\u064A\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D3\u06D5\u06E5-\u06E6\u0905-\u0939\u093D\u0958-\u0961\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8B\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AE0\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B36-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB5\u0BB7-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0E01-\u0E2E\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EAE\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0F40-\u0F47\u0F49-\u0F69\u10A0-\u10C5\u10D0-\u10F6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110B-\u110C\u110E-\u1112\u113C\u113E\u1140\u114C\u114E\u1150\u1154-\u1155\u1159\u115F-\u1161\u1163\u1165\u1167\u1169\u116D-\u116E\u1172-\u1173\u1175\u119E\u11A8\u11AB\u11AE-\u11AF\u11B7-\u11B8\u11BA\u11BC-\u11C2\u11EB\u11F0\u11F9\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A-\u212B\u212E\u2180-\u2182\u3041-\u3094\u30A1-\u30FA\u3105-\u312C\uAC00-\uD7A3\u4E00-\u9FA5\u3007\u3021-\u3029_]',h.NCNAME=new RegExp('^'+h.nameStartChar+h.nameChar+'*$'),h.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:'http://www.w3.org/2001/XMLSchema#duration'},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:'http://www.w3.org/2001/XMLSchema#dateTime'},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:'http://www.w3.org/2001/XMLSchema#date'},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:'http://www.w3.org/2001/XMLSchema#time'},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:'http://www.w3.org/2001/XMLSchema#gYearMonth'},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:'http://www.w3.org/2001/XMLSchema#gYear'}],t.exports=h},function(t,n,a){'use strict';var r=a(11),o=function t(n){var t={};t.ns={RDF:'http://www.w3.org/1999/02/22-rdf-syntax-ns#',RDFS:'http://www.w3.org/2000/01/rdf-schema#'},t.nodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},this.frameFactory=function(n,a,o){return{NODE:1,ARC:2,parent:a,parser:n,store:n.store,element:o,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function t(){this.collection&&this.node.close()},addSymbol:function t(n,a){a=r.join(a,this.base),this.node=this.store.sym(a),this.nodeType=n},loadTriple:function n(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var a=this.store.sym(r.join('#'+this.parent.rdfid,this.base));this.store.add(a,this.store.sym(t.ns.RDF+'type'),this.store.sym(t.ns.RDF+'Statement'),this.parser.why),this.store.add(a,this.store.sym(t.ns.RDF+'subject'),this.parent.parent.node,this.parser.why),this.store.add(a,this.store.sym(t.ns.RDF+'predicate'),this.parent.node,this.parser.why),this.store.add(a,this.store.sym(t.ns.RDF+'object'),this.node,this.parser.why)}},isTripleToLoad:function t(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function t(n){this.addSymbol(this.NODE,n),this.isTripleToLoad()&&this.loadTriple()},addCollection:function t(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function t(){this.nodeType=this.ARC},addBNode:function t(n){this.node=null==n?this.store.bnode():null==this.parser.bnodes[n]?this.parser.bnodes[n]=this.store.bnode():this.parser.bnodes[n],this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function n(a){a===t.ns.RDF+'li'&&(a=t.ns.RDF+'_'+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,a)},addLiteral:function t(n){this.node=this.parent.datatype?this.store.literal(n,'',this.store.sym(this.parent.datatype)):this.store.literal(n,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},this.getAttributeNodeNS=function(t,n,a){var r=null;if(t.getAttributeNodeNS)r=t.getAttributeNodeNS(n,a);else for(var o=t.attributes,s=0,d,l;s<o.length;++s)if(d=o[s],d.namespaceURI===n&&(l=d.prefix?d.prefix+':'+a:a,l===d.nodeName)){r=d;break}return r},this.store=n,this.bnodes={},this.why=null,this.reify=!1,this.parse=function(n,a,r){var o=n.childNodes;this.cleanParser();var s;if(n.nodeType===t.nodeType.DOCUMENT){for(var d=0;d<o.length;d++)if(o[d].nodeType===t.nodeType.ELEMENT){s=o[d];break}}else if(n.nodeType===t.nodeType.ELEMENT)s=n;else throw new Error('RDFParser: can\'t find root in '+a+'. Halting. ');this.why=r;var l=this.frameFactory(this);return this.base=a,l.base=a,l.lang=null,this.parseDOM(this.buildFrame(l,s)),!0},this.parseDOM=function(n){for(var a=function(t){var n='';if(null==t.namespaceURI)throw new Error('RDF/XML syntax error: No namespace for '+t.localName+' in '+this.base);return t.namespaceURI&&(n+=t.namespaceURI),t.localName?n+=t.localName:t.nodeName&&(0<=t.nodeName.indexOf(':')?n+=t.nodeName.split(':')[1]:n+=t.nodeName),n}.bind(this),o=!0,s;n.parent;){var d=n.element,l=d.attributes;if(d.nodeType===t.nodeType.TEXT||d.nodeType===t.nodeType.CDATA_SECTION)n.parent.nodeType===n.NODE&&(n.addArc(t.ns.RDF+'value'),n=this.buildFrame(n)),n.addLiteral(d.nodeValue);else if(a(d)!==t.ns.RDF+'RDF')if(n.parent&&n.parent.collection&&(n.addCollectionArc(),n=this.buildFrame(n,n.element),n.parent.element=null),!n.parent||!n.parent.nodeType||n.parent.nodeType===n.ARC){var c=this.getAttributeNodeNS(d,t.ns.RDF,'about');if(s=this.getAttributeNodeNS(d,t.ns.RDF,'ID'),c&&s)throw new Error('RDFParser: '+d.nodeName+' has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.');if(!c&&s)n.addNode('#'+s.nodeValue),d.removeAttributeNode(s);else if(null==c&&null==s){var u=this.getAttributeNodeNS(d,t.ns.RDF,'nodeID');u?(n.addBNode(u.nodeValue),d.removeAttributeNode(u)):n.addBNode()}else n.addNode(c.nodeValue),d.removeAttributeNode(c);var m=this.getAttributeNodeNS(d,t.ns.RDF,'type');t.ns.RDF+'Description'!==a(d)&&(m={nodeValue:a(d)}),null!=m&&(this.store.add(n.node,this.store.sym(t.ns.RDF+'type'),this.store.sym(r.join(m.nodeValue,n.base)),this.why),m.nodeName&&d.removeAttributeNode(m));for(var h=l.length-1;0<=h;h--)this.store.add(n.node,this.store.sym(a(l[h])),this.store.literal(l[h].nodeValue,n.lang),this.why)}else{n.addArc(a(d)),this.reify&&(s=this.getAttributeNodeNS(d,t.ns.RDF,'ID'),s&&(n.rdfid=s.nodeValue,d.removeAttributeNode(s)));var g=this.getAttributeNodeNS(d,t.ns.RDF,'parseType'),b=this.getAttributeNodeNS(d,t.ns.RDF,'datatype');if(b&&(n.datatype=b.nodeValue,d.removeAttributeNode(b)),g){var y=g.nodeValue;'Literal'===y?(n.datatype=t.ns.RDF+'XMLLiteral',n=this.buildFrame(n),n.addLiteral(d),o=!1):'Resource'===y?(n=this.buildFrame(n,n.element),n.parent.element=null,n.addBNode()):'Collection'===y&&(n=this.buildFrame(n,n.element),n.parent.element=null,n.addCollection()),d.removeAttributeNode(g)}if(0!==l.length){var v=this.getAttributeNodeNS(d,t.ns.RDF,'resource'),w=this.getAttributeNodeNS(d,t.ns.RDF,'nodeID');n=this.buildFrame(n),v?(n.addNode(v.nodeValue),d.removeAttributeNode(v)):w?(n.addBNode(w.nodeValue),d.removeAttributeNode(w)):n.addBNode();for(var x=l.length-1,_;0<=x;x--)_=this.buildFrame(n),_.addArc(a(l[x])),a(l[x])===t.ns.RDF+'type'?this.buildFrame(_).addNode(l[x].nodeValue):this.buildFrame(_).addLiteral(l[x].nodeValue)}else 0===d.childNodes.length&&this.buildFrame(n).addLiteral('')}for(d=n.element;n.parent;){for(var f=n;null==d;)n=n.parent,d=n.element;var k=d.childNodes&&d.childNodes[n.lastChild];if(!k||!o){if(n.terminateFrame(),!(n=n.parent))break;d=n.element,o=!0}else if(k.nodeType!==t.nodeType.ELEMENT&&k.nodeType!==t.nodeType.TEXT&&k.nodeType!==t.nodeType.CDATA_SECTION||(k.nodeType===t.nodeType.TEXT||k.nodeType===t.nodeType.CDATA_SECTION)&&1!==d.childNodes.length)n.lastChild++;else{n.lastChild++,n=this.buildFrame(f,d.childNodes[n.lastChild-1]);break}}}},this.cleanParser=function(){this.bnodes={},this.why=null},this.buildFrame=function(n,a){var o=this.frameFactory(this,n,a);if(n&&(o.base=n.base,o.lang=n.lang),!a||a.nodeType===t.nodeType.TEXT||a.nodeType===t.nodeType.CDATA_SECTION)return o;var s=a.attributes,d=a.getAttributeNode('xml:base');null!=d&&(o.base=d.nodeValue,a.removeAttribute('xml:base'));var l=a.getAttributeNode('xml:lang');null!=l&&(o.lang=l.nodeValue,a.removeAttribute('xml:lang'));for(var c=s.length-1;0<=c;c--)if('xml'===s[c].nodeName.substr(0,3)){if('xmlns:'===s[c].name.slice(0,6)){var u=s[c].nodeValue;this.base&&(u=r.join(u,this.base)),this.store.setPrefixForURI(s[c].name.slice(6),u)}a.removeAttributeNode(s[c])}return o}};t.exports=o},function(t,n,a){'use strict';function r(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;for(var r=1732584193,a=-271733879,o=-1732584194,c=271733878,d=0;d<t.length;d+=16){var h=r,g=a,b=o,y=c;r=s(r,a,o,c,t[d+0],7,-680876936),c=s(c,r,a,o,t[d+1],12,-389564586),o=s(o,c,r,a,t[d+2],17,606105819),a=s(a,o,c,r,t[d+3],22,-1044525330),r=s(r,a,o,c,t[d+4],7,-176418897),c=s(c,r,a,o,t[d+5],12,1200080426),o=s(o,c,r,a,t[d+6],17,-1473231341),a=s(a,o,c,r,t[d+7],22,-45705983),r=s(r,a,o,c,t[d+8],7,1770035416),c=s(c,r,a,o,t[d+9],12,-1958414417),o=s(o,c,r,a,t[d+10],17,-42063),a=s(a,o,c,r,t[d+11],22,-1990404162),r=s(r,a,o,c,t[d+12],7,1804603682),c=s(c,r,a,o,t[d+13],12,-40341101),o=s(o,c,r,a,t[d+14],17,-1502002290),a=s(a,o,c,r,t[d+15],22,1236535329),r=l(r,a,o,c,t[d+1],5,-165796510),c=l(c,r,a,o,t[d+6],9,-1069501632),o=l(o,c,r,a,t[d+11],14,643717713),a=l(a,o,c,r,t[d+0],20,-373897302),r=l(r,a,o,c,t[d+5],5,-701558691),c=l(c,r,a,o,t[d+10],9,38016083),o=l(o,c,r,a,t[d+15],14,-660478335),a=l(a,o,c,r,t[d+4],20,-405537848),r=l(r,a,o,c,t[d+9],5,568446438),c=l(c,r,a,o,t[d+14],9,-1019803690),o=l(o,c,r,a,t[d+3],14,-187363961),a=l(a,o,c,r,t[d+8],20,1163531501),r=l(r,a,o,c,t[d+13],5,-1444681467),c=l(c,r,a,o,t[d+2],9,-51403784),o=l(o,c,r,a,t[d+7],14,1735328473),a=l(a,o,c,r,t[d+12],20,-1926607734),r=u(r,a,o,c,t[d+5],4,-378558),c=u(c,r,a,o,t[d+8],11,-2022574463),o=u(o,c,r,a,t[d+11],16,1839030562),a=u(a,o,c,r,t[d+14],23,-35309556),r=u(r,a,o,c,t[d+1],4,-1530992060),c=u(c,r,a,o,t[d+4],11,1272893353),o=u(o,c,r,a,t[d+7],16,-155497632),a=u(a,o,c,r,t[d+10],23,-1094730640),r=u(r,a,o,c,t[d+13],4,681279174),c=u(c,r,a,o,t[d+0],11,-358537222),o=u(o,c,r,a,t[d+3],16,-722521979),a=u(a,o,c,r,t[d+6],23,76029189),r=u(r,a,o,c,t[d+9],4,-640364487),c=u(c,r,a,o,t[d+12],11,-421815835),o=u(o,c,r,a,t[d+15],16,530742520),a=u(a,o,c,r,t[d+2],23,-995338651),r=f(r,a,o,c,t[d+0],6,-198630844),c=f(c,r,a,o,t[d+7],10,1126891415),o=f(o,c,r,a,t[d+14],15,-1416354905),a=f(a,o,c,r,t[d+5],21,-57434055),r=f(r,a,o,c,t[d+12],6,1700485571),c=f(c,r,a,o,t[d+3],10,-1894986606),o=f(o,c,r,a,t[d+10],15,-1051523),a=f(a,o,c,r,t[d+1],21,-2054922799),r=f(r,a,o,c,t[d+8],6,1873313359),c=f(c,r,a,o,t[d+15],10,-30611744),o=f(o,c,r,a,t[d+6],15,-1560198380),a=f(a,o,c,r,t[d+13],21,1309151649),r=f(r,a,o,c,t[d+4],6,-145523070),c=f(c,r,a,o,t[d+11],10,-1120210379),o=f(o,c,r,a,t[d+2],15,718787259),a=f(a,o,c,r,t[d+9],21,-343485551),r=m(r,h),a=m(a,g),o=m(o,b),c=m(c,y)}return[r,a,o,c]}function o(n,r,a,o,l,s){return m(d(m(m(r,n),m(o,s)),l),a)}function s(n,a,r,l,d,c,s){return o(a&r|~a&l,n,a,d,c,s)}function l(n,a,r,l,c,u,s){return o(a&l|r&~l,n,a,c,u,s)}function u(n,a,r,l,d,c,s){return o(a^r^l,n,a,d,c,s)}function f(n,a,r,l,c,u,s){return o(r^(a|~l),n,a,c,u,s)}function m(t,n){var a=(65535&t)+(65535&n),r=(t>>16)+(n>>16)+(a>>16);return r<<16|65535&a}function d(t,n){return t<<n|t>>>32-n}var c=a(253);t.exports=function t(n){return c(n,r)}},function(t,n,a){'use strict';(function(n){function r(){m.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function o(t,a){return t<<a|t>>>32-a}function s(t,n,a,r,d,l,c,u){return 0|o(0|t+(n^a^r)+l+c,u)+d}function d(t,n,a,r,d,l,c,u){return 0|o(0|t+(n&a|~n&r)+l+c,u)+d}function l(t,n,a,r,d,l,u,f){return 0|o(0|t+((n|~a)^r)+l+u,f)+d}function c(t,n,a,r,l,c,u,f){return 0|o(0|t+(n&r|a&~r)+c+u,f)+l}function u(t,n,a,r,l,c,u,f){return 0|o(0|t+(n^(a|~r))+c+u,f)+l}var f=a(2),m=a(254);f(r,m),r.prototype._update=function(){for(var n=Array(16),a=0;16>a;++a)n[a]=this._block.readInt32LE(4*a);var r=this._a,f=this._b,m=this._c,h=this._d,g=this._e;r=s(r,f,m,h,g,n[0],0,11),m=o(m,10),g=s(g,r,f,m,h,n[1],0,14),f=o(f,10),h=s(h,g,r,f,m,n[2],0,15),r=o(r,10),m=s(m,h,g,r,f,n[3],0,12),g=o(g,10),f=s(f,m,h,g,r,n[4],0,5),h=o(h,10),r=s(r,f,m,h,g,n[5],0,8),m=o(m,10),g=s(g,r,f,m,h,n[6],0,7),f=o(f,10),h=s(h,g,r,f,m,n[7],0,9),r=o(r,10),m=s(m,h,g,r,f,n[8],0,11),g=o(g,10),f=s(f,m,h,g,r,n[9],0,13),h=o(h,10),r=s(r,f,m,h,g,n[10],0,14),m=o(m,10),g=s(g,r,f,m,h,n[11],0,15),f=o(f,10),h=s(h,g,r,f,m,n[12],0,6),r=o(r,10),m=s(m,h,g,r,f,n[13],0,7),g=o(g,10),f=s(f,m,h,g,r,n[14],0,9),h=o(h,10),r=s(r,f,m,h,g,n[15],0,8),m=o(m,10),g=d(g,r,f,m,h,n[7],1518500249,7),f=o(f,10),h=d(h,g,r,f,m,n[4],1518500249,6),r=o(r,10),m=d(m,h,g,r,f,n[13],1518500249,8),g=o(g,10),f=d(f,m,h,g,r,n[1],1518500249,13),h=o(h,10),r=d(r,f,m,h,g,n[10],1518500249,11),m=o(m,10),g=d(g,r,f,m,h,n[6],1518500249,9),f=o(f,10),h=d(h,g,r,f,m,n[15],1518500249,7),r=o(r,10),m=d(m,h,g,r,f,n[3],1518500249,15),g=o(g,10),f=d(f,m,h,g,r,n[12],1518500249,7),h=o(h,10),r=d(r,f,m,h,g,n[0],1518500249,12),m=o(m,10),g=d(g,r,f,m,h,n[9],1518500249,15),f=o(f,10),h=d(h,g,r,f,m,n[5],1518500249,9),r=o(r,10),m=d(m,h,g,r,f,n[2],1518500249,11),g=o(g,10),f=d(f,m,h,g,r,n[14],1518500249,7),h=o(h,10),r=d(r,f,m,h,g,n[11],1518500249,13),m=o(m,10),g=d(g,r,f,m,h,n[8],1518500249,12),f=o(f,10),h=l(h,g,r,f,m,n[3],1859775393,11),r=o(r,10),m=l(m,h,g,r,f,n[10],1859775393,13),g=o(g,10),f=l(f,m,h,g,r,n[14],1859775393,6),h=o(h,10),r=l(r,f,m,h,g,n[4],1859775393,7),m=o(m,10),g=l(g,r,f,m,h,n[9],1859775393,14),f=o(f,10),h=l(h,g,r,f,m,n[15],1859775393,9),r=o(r,10),m=l(m,h,g,r,f,n[8],1859775393,13),g=o(g,10),f=l(f,m,h,g,r,n[1],1859775393,15),h=o(h,10),r=l(r,f,m,h,g,n[2],1859775393,14),m=o(m,10),g=l(g,r,f,m,h,n[7],1859775393,8),f=o(f,10),h=l(h,g,r,f,m,n[0],1859775393,13),r=o(r,10),m=l(m,h,g,r,f,n[6],1859775393,6),g=o(g,10),f=l(f,m,h,g,r,n[13],1859775393,5),h=o(h,10),r=l(r,f,m,h,g,n[11],1859775393,12),m=o(m,10),g=l(g,r,f,m,h,n[5],1859775393,7),f=o(f,10),h=l(h,g,r,f,m,n[12],1859775393,5),r=o(r,10),m=c(m,h,g,r,f,n[1],2400959708,11),g=o(g,10),f=c(f,m,h,g,r,n[9],2400959708,12),h=o(h,10),r=c(r,f,m,h,g,n[11],2400959708,14),m=o(m,10),g=c(g,r,f,m,h,n[10],2400959708,15),f=o(f,10),h=c(h,g,r,f,m,n[0],2400959708,14),r=o(r,10),m=c(m,h,g,r,f,n[8],2400959708,15),g=o(g,10),f=c(f,m,h,g,r,n[12],2400959708,9),h=o(h,10),r=c(r,f,m,h,g,n[4],2400959708,8),m=o(m,10),g=c(g,r,f,m,h,n[13],2400959708,9),f=o(f,10),h=c(h,g,r,f,m,n[3],2400959708,14),r=o(r,10),m=c(m,h,g,r,f,n[7],2400959708,5),g=o(g,10),f=c(f,m,h,g,r,n[15],2400959708,6),h=o(h,10),r=c(r,f,m,h,g,n[14],2400959708,8),m=o(m,10),g=c(g,r,f,m,h,n[5],2400959708,6),f=o(f,10),h=c(h,g,r,f,m,n[6],2400959708,5),r=o(r,10),m=c(m,h,g,r,f,n[2],2400959708,12),g=o(g,10),f=u(f,m,h,g,r,n[4],2840853838,9),h=o(h,10),r=u(r,f,m,h,g,n[0],2840853838,15),m=o(m,10),g=u(g,r,f,m,h,n[5],2840853838,5),f=o(f,10),h=u(h,g,r,f,m,n[9],2840853838,11),r=o(r,10),m=u(m,h,g,r,f,n[7],2840853838,6),g=o(g,10),f=u(f,m,h,g,r,n[12],2840853838,8),h=o(h,10),r=u(r,f,m,h,g,n[2],2840853838,13),m=o(m,10),g=u(g,r,f,m,h,n[10],2840853838,12),f=o(f,10),h=u(h,g,r,f,m,n[14],2840853838,5),r=o(r,10),m=u(m,h,g,r,f,n[1],2840853838,12),g=o(g,10),f=u(f,m,h,g,r,n[3],2840853838,13),h=o(h,10),r=u(r,f,m,h,g,n[8],2840853838,14),m=o(m,10),g=u(g,r,f,m,h,n[11],2840853838,11),f=o(f,10),h=u(h,g,r,f,m,n[6],2840853838,8),r=o(r,10),m=u(m,h,g,r,f,n[15],2840853838,5),g=o(g,10),f=u(f,m,h,g,r,n[13],2840853838,6),h=o(h,10);var b=this._a,y=this._b,v=this._c,w=this._d,x=this._e;b=u(b,y,v,w,x,n[5],1352829926,8),v=o(v,10),x=u(x,b,y,v,w,n[14],1352829926,9),y=o(y,10),w=u(w,x,b,y,v,n[7],1352829926,9),b=o(b,10),v=u(v,w,x,b,y,n[0],1352829926,11),x=o(x,10),y=u(y,v,w,x,b,n[9],1352829926,13),w=o(w,10),b=u(b,y,v,w,x,n[2],1352829926,15),v=o(v,10),x=u(x,b,y,v,w,n[11],1352829926,15),y=o(y,10),w=u(w,x,b,y,v,n[4],1352829926,5),b=o(b,10),v=u(v,w,x,b,y,n[13],1352829926,7),x=o(x,10),y=u(y,v,w,x,b,n[6],1352829926,7),w=o(w,10),b=u(b,y,v,w,x,n[15],1352829926,8),v=o(v,10),x=u(x,b,y,v,w,n[8],1352829926,11),y=o(y,10),w=u(w,x,b,y,v,n[1],1352829926,14),b=o(b,10),v=u(v,w,x,b,y,n[10],1352829926,14),x=o(x,10),y=u(y,v,w,x,b,n[3],1352829926,12),w=o(w,10),b=u(b,y,v,w,x,n[12],1352829926,6),v=o(v,10),x=c(x,b,y,v,w,n[6],1548603684,9),y=o(y,10),w=c(w,x,b,y,v,n[11],1548603684,13),b=o(b,10),v=c(v,w,x,b,y,n[3],1548603684,15),x=o(x,10),y=c(y,v,w,x,b,n[7],1548603684,7),w=o(w,10),b=c(b,y,v,w,x,n[0],1548603684,12),v=o(v,10),x=c(x,b,y,v,w,n[13],1548603684,8),y=o(y,10),w=c(w,x,b,y,v,n[5],1548603684,9),b=o(b,10),v=c(v,w,x,b,y,n[10],1548603684,11),x=o(x,10),y=c(y,v,w,x,b,n[14],1548603684,7),w=o(w,10),b=c(b,y,v,w,x,n[15],1548603684,7),v=o(v,10),x=c(x,b,y,v,w,n[8],1548603684,12),y=o(y,10),w=c(w,x,b,y,v,n[12],1548603684,7),b=o(b,10),v=c(v,w,x,b,y,n[4],1548603684,6),x=o(x,10),y=c(y,v,w,x,b,n[9],1548603684,15),w=o(w,10),b=c(b,y,v,w,x,n[1],1548603684,13),v=o(v,10),x=c(x,b,y,v,w,n[2],1548603684,11),y=o(y,10),w=l(w,x,b,y,v,n[15],1836072691,9),b=o(b,10),v=l(v,w,x,b,y,n[5],1836072691,7),x=o(x,10),y=l(y,v,w,x,b,n[1],1836072691,15),w=o(w,10),b=l(b,y,v,w,x,n[3],1836072691,11),v=o(v,10),x=l(x,b,y,v,w,n[7],1836072691,8),y=o(y,10),w=l(w,x,b,y,v,n[14],1836072691,6),b=o(b,10),v=l(v,w,x,b,y,n[6],1836072691,6),x=o(x,10),y=l(y,v,w,x,b,n[9],1836072691,14),w=o(w,10),b=l(b,y,v,w,x,n[11],1836072691,12),v=o(v,10),x=l(x,b,y,v,w,n[8],1836072691,13),y=o(y,10),w=l(w,x,b,y,v,n[12],1836072691,5),b=o(b,10),v=l(v,w,x,b,y,n[2],1836072691,14),x=o(x,10),y=l(y,v,w,x,b,n[10],1836072691,13),w=o(w,10),b=l(b,y,v,w,x,n[0],1836072691,13),v=o(v,10),x=l(x,b,y,v,w,n[4],1836072691,7),y=o(y,10),w=l(w,x,b,y,v,n[13],1836072691,5),b=o(b,10),v=d(v,w,x,b,y,n[8],2053994217,15),x=o(x,10),y=d(y,v,w,x,b,n[6],2053994217,5),w=o(w,10),b=d(b,y,v,w,x,n[4],2053994217,8),v=o(v,10),x=d(x,b,y,v,w,n[1],2053994217,11),y=o(y,10),w=d(w,x,b,y,v,n[3],2053994217,14),b=o(b,10),v=d(v,w,x,b,y,n[11],2053994217,14),x=o(x,10),y=d(y,v,w,x,b,n[15],2053994217,6),w=o(w,10),b=d(b,y,v,w,x,n[0],2053994217,14),v=o(v,10),x=d(x,b,y,v,w,n[5],2053994217,6),y=o(y,10),w=d(w,x,b,y,v,n[12],2053994217,9),b=o(b,10),v=d(v,w,x,b,y,n[2],2053994217,12),x=o(x,10),y=d(y,v,w,x,b,n[13],2053994217,9),w=o(w,10),b=d(b,y,v,w,x,n[9],2053994217,12),v=o(v,10),x=d(x,b,y,v,w,n[7],2053994217,5),y=o(y,10),w=d(w,x,b,y,v,n[10],2053994217,15),b=o(b,10),v=d(v,w,x,b,y,n[14],2053994217,8),x=o(x,10),y=s(y,v,w,x,b,n[12],0,8),w=o(w,10),b=s(b,y,v,w,x,n[15],0,5),v=o(v,10),x=s(x,b,y,v,w,n[10],0,12),y=o(y,10),w=s(w,x,b,y,v,n[4],0,9),b=o(b,10),v=s(v,w,x,b,y,n[1],0,12),x=o(x,10),y=s(y,v,w,x,b,n[5],0,5),w=o(w,10),b=s(b,y,v,w,x,n[8],0,14),v=o(v,10),x=s(x,b,y,v,w,n[7],0,6),y=o(y,10),w=s(w,x,b,y,v,n[6],0,8),b=o(b,10),v=s(v,w,x,b,y,n[2],0,13),x=o(x,10),y=s(y,v,w,x,b,n[13],0,6),w=o(w,10),b=s(b,y,v,w,x,n[14],0,5),v=o(v,10),x=s(x,b,y,v,w,n[0],0,15),y=o(y,10),w=s(w,x,b,y,v,n[3],0,13),b=o(b,10),v=s(v,w,x,b,y,n[9],0,11),x=o(x,10),y=s(y,v,w,x,b,n[11],0,11),w=o(w,10);var _=0|this._b+m+w;this._b=0|this._c+h+x,this._c=0|this._d+g+b,this._d=0|this._e+r+y,this._e=0|this._a+f+v,this._a=_},r.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=r}).call(n,a(0).Buffer)},function(t,n,a){var n=t.exports=function t(a){a=a.toLowerCase();var r=n[a];if(!r)throw new Error(a+' is not supported (we accept pull requests)');return new r};n.sha=a(255),n.sha1=a(256),n.sha224=a(257),n.sha256=a(149),n.sha384=a(258),n.sha512=a(150)},function(t,n,a){function r(){return Object.keys(d)}var o=a(265),s=a(273),d=a(158);n.createCipher=n.Cipher=o.createCipher,n.createCipheriv=n.Cipheriv=o.createCipheriv,n.createDecipher=n.Decipher=s.createDecipher,n.createDecipheriv=n.Decipheriv=s.createDecipheriv,n.listCiphers=n.getCiphers=r},function(t,n,a){var r={ECB:a(266),CBC:a(267),CFB:a(268),CFB8:a(269),CFB1:a(270),OFB:a(271),CTR:a(157),GCM:a(157)},o=a(158);for(var s in o)o[s].module=r[o[s].mode];t.exports=o},function(t,n,a){'use strict';n.utils=a(275),n.Cipher=a(276),n.DES=a(277),n.CBC=a(278),n.EDE=a(279)},function(t,n,a){(function(n){function r(t){var n=s(t),a=n.toRed(d.mont(t.modulus)).redPow(new d(t.publicExponent)).fromRed();return{blinder:a,unblinder:n.invm(t.modulus)}}function o(t,a){var o=r(a),s=a.modulus.byteLength(),l=d.mont(a.modulus),c=new d(t).mul(o.blinder).umod(a.modulus),u=c.toRed(d.mont(a.prime1)),f=c.toRed(d.mont(a.prime2)),m=a.coefficient,g=a.prime1,b=a.prime2,y=u.redPow(a.exponent1),v=f.redPow(a.exponent2);y=y.fromRed(),v=v.fromRed();var w=y.isub(v).imul(m).umod(g);return w.imul(b),v.iadd(w),new n(v.imul(o.unblinder).umod(a.modulus).toArray(!1,s))}function s(t){for(var n=t.modulus.byteLength(),a=new d(l(n));0<=a.cmp(t.modulus)||!a.umod(t.prime1)||!a.umod(t.prime2);)a=new d(l(n));return a}var d=a(290),l=a(51);t.exports=o,o.getr=s}).call(n,a(0).Buffer)},function(t,n,a){var r=n;r.utils=a(22),r.common=a(54),r.sha=a(300),r.ripemd=a(304),r.hmac=a(305),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(t,n,a){(function(t){(function(t,n){'use strict';function o(t,n){if(!t)throw new Error(n||'Assertion failed')}function r(t,n){t.super_=n;var a=function(){};a.prototype=n.prototype,t.prototype=new a,t.prototype.constructor=t}function d(t,n,a){return d.isBN(t)?t:void(this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(('le'===n||'be'===n)&&(a=n,n=10),this._init(t||0,n||10,a||'be')))}function s(t,n,a){for(var o=0,r=_Mathmin(t.length,a),s=n,d;s<r;s++)d=t.charCodeAt(s)-48,o<<=4,o|=49<=d&&54>=d?d-49+10:17<=d&&22>=d?d-17+10:15&d;return o}function l(t,n,a,o){for(var s=0,r=_Mathmin(t.length,a),d=n,l;d<r;d++)l=t.charCodeAt(d)-48,s*=o,s+=49<=l?l-49+10:17<=l?l-17+10:l;return s}function c(t){for(var n=Array(t.bitLength()),a=0;a<n.length;a++){var r=0|a/26,o=a%26;n[a]=(t.words[r]&1<<o)>>>o}return n}function u(t,n,o){o.negative=n.negative^t.negative;var s=0|t.length+n.length;o.length=s,s=0|s-1;var d=0|t.words[0],a=0|n.words[0],l=d*a,r=67108863&l,c=0|l/67108864;o.words[0]=r;for(var u=1;u<s;u++){for(var f=c>>>26,m=67108863&c,h=_Mathmin(u,n.length-1),g=_Mathmax(0,u-t.length+1),b;g<=h;g++)b=0|u-g,d=0|t.words[b],a=0|n.words[g],l=d*a+m,f+=0|l/67108864,m=67108863&l;o.words[u]=0|m,c=0|f}return 0==c?o.length--:o.words[u]=0|c,o.strip()}function f(t,n,o){o.negative=n.negative^t.negative,o.length=t.length+n.length;for(var s=0,d=0,l=0,c;l<o.length-1;l++){c=d,d=0;for(var u=67108863&s,f=_Mathmin(l,n.length-1),m=_Mathmax(0,l-t.length+1);m<=f;m++){var h=l-m,g=0|t.words[h],a=0|n.words[m],b=g*a,r=67108863&b;c=0|c+(0|b/67108864),r=0|r+u,u=67108863&r,c=0|c+(r>>>26),d+=c>>>26,c&=67108863}o.words[l]=u,s=c,c=d}return 0==s?o.length--:o.words[l]=s,o.strip()}function m(t,n,a){var r=new h;return r.mulp(t,n,a)}function h(t,n){this.x=t,this.y=n}function g(t,n){this.name=t,this.p=new d(n,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function y(){g.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function v(){g.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function w(){g.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var n=d._prime(t);this.m=n.p,this.prime=n}else o(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function _(t){x.call(this,t),this.shift=this.m.bitLength(),0!=this.shift%26&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}'object'==typeof t?t.exports=d:n.BN=d,d.BN=d,d.wordSize=26;var k;try{k=a(337).Buffer}catch(t){}d.isBN=function t(n){return!!(n instanceof d)||null!==n&&'object'==typeof n&&n.constructor.wordSize===d.wordSize&&Array.isArray(n.words)},d.max=function t(n,a){return 0<n.cmp(a)?n:a},d.min=function t(n,a){return 0>n.cmp(a)?n:a},d.prototype._init=function t(n,a,r){if('number'==typeof n)return this._initNumber(n,a,r);if('object'==typeof n)return this._initArray(n,a,r);'hex'===a&&(a=16),o(a===(0|a)&&2<=a&&36>=a),n=n.toString().replace(/\s+/g,'');var s=0;'-'===n[0]&&s++,16===a?this._parseHex(n,s):this._parseBase(n,a,s),'-'===n[0]&&(this.negative=1),this.strip();'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initNumber=function t(n,a,r){0>n&&(this.negative=1,n=-n),67108864>n?(this.words=[67108863&n],this.length=1):4503599627370496>n?(this.words=[67108863&n,67108863&n/67108864],this.length=2):(o(9007199254740992>n),this.words=[67108863&n,67108863&n/67108864,1],this.length=3);'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initArray=function t(n,a,r){if(o('number'==typeof n.length),0>=n.length)return this.words=[0],this.length=1,this;this.length=_Mathceil(n.length/3),this.words=Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var d=0,l,c;if('be'===r)for(s=n.length-1,l=0;0<=s;s-=3)c=n[s]|n[s-1]<<8|n[s-2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);else if('le'===r)for(s=0,l=0;s<n.length;s+=3)c=n[s]|n[s+1]<<8|n[s+2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);return this.strip()},d.prototype._parseHex=function t(n,a){this.length=_Mathceil((n.length-a)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o=0,d,l;for(r=n.length-6,d=0;r>=a;r-=6)l=s(n,r,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o,o+=24,26<=o&&(o-=26,d++);r+6!==a&&(l=s(n,a,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o),this.strip()},d.prototype._parseBase=function t(n,a,r){this.words=[0],this.length=1;for(var o=0,s=1;67108863>=s;s*=a)o++;o--,s=0|s/a;for(var d=n.length-r,c=d%o,u=_Mathmin(d,d-c)+r,f=0,m=r;m<u;m+=o)f=l(n,m,m+o,a),this.imuln(s),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f);if(0!=c){var h=1;for(f=l(n,m,n.length,a),m=0;m<c;m++)h*=a;this.imuln(h),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f)}},d.prototype.copy=function t(n){n.words=Array(this.length);for(var a=0;a<this.length;a++)n.words[a]=this.words[a];n.length=this.length,n.negative=this.negative,n.red=this.red},d.prototype.clone=function t(){var n=new d(null);return this.copy(n),n},d.prototype._expand=function t(n){for(;this.length<n;)this.words[this.length++]=0;return this},d.prototype.strip=function t(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},d.prototype._normSign=function t(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},d.prototype.inspect=function t(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var C=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,10000000,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function t(n,a){n=n||10,a=0|a||1;var s;if(16===n||'hex'===n){s='';for(var d=0,l=0,u=0;u<this.length;u++){var f=this.words[u],m=(16777215&(f<<d|l)).toString(16);l=16777215&f>>>24-d,s=0!=l||u!==this.length-1?C[6-m.length]+m+s:m+s,d+=2,26<=d&&(d-=26,u--)}for(0!=l&&(s=l.toString(16)+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}if(n===(0|n)&&2<=n&&36>=n){var h=T[n],g=E[n];s='';var b=this.clone();for(b.negative=0;!b.isZero();){var c=b.modn(g).toString(n);b=b.idivn(g),s=b.isZero()?c+s:C[h-c.length]+c+s}for(this.isZero()&&(s='0'+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}o(!1,'Base should be between 2 and 36')},d.prototype.toNumber=function t(){var n=this.words[0];return 2===this.length?n+=67108864*this.words[1]:3===this.length&&1===this.words[2]?n+=4503599627370496+67108864*this.words[1]:2<this.length&&o(!1,'Number can only safely store up to 53 bits'),0===this.negative?n:-n},d.prototype.toJSON=function t(){return this.toString(16)},d.prototype.toBuffer=function t(n,a){return o('undefined'!=typeof k),this.toArrayLike(k,n,a)},d.prototype.toArray=function t(n,a){return this.toArrayLike(Array,n,a)},d.prototype.toArrayLike=function t(n,a,r){var s=this.byteLength(),d=r||_Mathmax(1,s);o(s<=d,'byte array longer than desired length'),o(0<d,'Requested array length <= 0'),this.strip();var l='le'===a,c=new n(d),u=this.clone(),f,m;if(!l){for(m=0;m<d-s;m++)c[m]=0;for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[d-m-1]=f}else{for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[m]=f;for(;m<d;m++)c[m]=0}return c},d.prototype._countBits=_Mathclz?function t(n){return 32-_Mathclz(n)}:function n(a){var o=a,t=0;return 4096<=o&&(t+=13,o>>>=13),64<=o&&(t+=7,o>>>=7),8<=o&&(t+=4,o>>>=4),2<=o&&(t+=2,o>>>=2),t+o},d.prototype._zeroBits=function n(a){if(0===a)return 26;var o=a,t=0;return 0==(8191&o)&&(t+=13,o>>>=13),0==(127&o)&&(t+=7,o>>>=7),0==(15&o)&&(t+=4,o>>>=4),0==(3&o)&&(t+=2,o>>>=2),0==(1&o)&&t++,t},d.prototype.bitLength=function t(){var n=this.words[this.length-1],a=this._countBits(n);return 26*(this.length-1)+a},d.prototype.zeroBits=function t(){if(this.isZero())return 0;for(var n=0,a=0,r;a<this.length&&(r=this._zeroBits(this.words[a]),n+=r,26===r);a++);return n},d.prototype.byteLength=function t(){return _Mathceil(this.bitLength()/8)},d.prototype.toTwos=function t(n){return 0===this.negative?this.clone():this.abs().inotn(n).iaddn(1)},d.prototype.fromTwos=function t(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function t(){return 0!==this.negative},d.prototype.neg=function t(){return this.clone().ineg()},d.prototype.ineg=function t(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function t(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var a=0;a<n.length;a++)this.words[a]|=n.words[a];return this.strip()},d.prototype.ior=function t(n){return o(0==(this.negative|n.negative)),this.iuor(n)},d.prototype.or=function t(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},d.prototype.uor=function t(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},d.prototype.iuand=function t(n){var a;a=this.length>n.length?n:this;for(var r=0;r<a.length;r++)this.words[r]&=n.words[r];return this.length=a.length,this.strip()},d.prototype.iand=function t(n){return o(0==(this.negative|n.negative)),this.iuand(n)},d.prototype.and=function t(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},d.prototype.uand=function t(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},d.prototype.iuxor=function t(n){var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var o=0;o<a.length;o++)this.words[o]=r.words[o]^a.words[o];if(this!==r)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=r.length,this.strip()},d.prototype.ixor=function t(n){return o(0==(this.negative|n.negative)),this.iuxor(n)},d.prototype.xor=function t(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},d.prototype.uxor=function t(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},d.prototype.inotn=function t(n){o('number'==typeof n&&0<=n);var a=0|_Mathceil(n/26),r=n%26;this._expand(a),0<r&&a--;for(var s=0;s<a;s++)this.words[s]=67108863&~this.words[s];return 0<r&&(this.words[s]=~this.words[s]&67108863>>26-r),this.strip()},d.prototype.notn=function t(n){return this.clone().inotn(n)},d.prototype.setn=function t(n,a){o('number'==typeof n&&0<=n);var r=0|n/26,s=n%26;return this._expand(r+1),a?this.words[r]|=1<<s:this.words[r]&=~(1<<s),this.strip()},d.prototype.iadd=function t(n){var o;if(0!==this.negative&&0===n.negative)return this.negative=0,o=this.isub(n),this.negative^=1,this._normSign();if(0===this.negative&&0!==n.negative)return n.negative=0,o=this.isub(n),n.negative=1,o._normSign();var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var s=0,d=0;d<a.length;d++)o=(0|r.words[d])+(0|a.words[d])+s,this.words[d]=67108863&o,s=o>>>26;for(;0!=s&&d<r.length;d++)o=(0|r.words[d])+s,this.words[d]=67108863&o,s=o>>>26;if(this.length=r.length,0!=s)this.words[this.length]=s,this.length++;else if(r!==this)for(;d<r.length;d++)this.words[d]=r.words[d];return this},d.prototype.add=function t(n){var a;return 0!==n.negative&&0===this.negative?(n.negative=0,a=this.sub(n),n.negative^=1,a):0===n.negative&&0!==this.negative?(this.negative=0,a=n.sub(this),this.negative=1,a):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},d.prototype.isub=function t(n){if(0!==n.negative){n.negative=0;var o=this.iadd(n);return n.negative=1,o._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var r=this.cmp(n);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var s,a;0<r?(s=this,a=n):(s=n,a=this);for(var d=0,l=0;l<a.length;l++)o=(0|s.words[l])-(0|a.words[l])+d,d=o>>26,this.words[l]=67108863&o;for(;0!=d&&l<s.length;l++)o=(0|s.words[l])+d,d=o>>26,this.words[l]=67108863&o;if(0==d&&l<s.length&&s!==this)for(;l<s.length;l++)this.words[l]=s.words[l];return this.length=_Mathmax(this.length,l),s!==this&&(this.negative=1),this.strip()},d.prototype.sub=function t(n){return this.clone().isub(n)};var S=function t(n,r,s){var d=n.words,a=r.words,l=s.words,o=0,c=0|d[0],u=8191&c,f=c>>>13,m=0|d[1],h=8191&m,g=m>>>13,b=0|d[2],y=8191&b,v=b>>>13,w=0|d[3],x=8191&w,_=w>>>13,k=0|d[4],C=8191&k,T=k>>>13,E=0|d[5],S=8191&E,A=E>>>13,I=0|d[6],N=8191&I,j=I>>>13,R=0|d[7],L=8191&R,O=R>>>13,P=0|d[8],M=8191&P,D=P>>>13,B=0|d[9],U=8191&B,q=B>>>13,F=0|a[0],z=8191&F,H=F>>>13,W=0|a[1],V=8191&W,G=W>>>13,J=0|a[2],K=8191&J,X=J>>>13,Z=0|a[3],Y=8191&Z,Q=Z>>>13,ee=0|a[4],te=8191&ee,ne=ee>>>13,ae=0|a[5],re=8191&ae,ie=ae>>>13,oe=0|a[6],se=8191&oe,de=oe>>>13,le=0|a[7],pe=8191&le,ce=le>>>13,ue=0|a[8],fe=8191&ue,he=ue>>>13,ge=0|a[9],be=8191&ge,ye=ge>>>13,ve,we,xe;s.negative=n.negative^r.negative,s.length=19,ve=_Mathimul(u,z),we=_Mathimul(u,H),we=0|we+_Mathimul(f,z),xe=_Mathimul(f,H);var _e=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(_e>>>26),_e&=67108863,ve=_Mathimul(h,z),we=_Mathimul(h,H),we=0|we+_Mathimul(g,z),xe=_Mathimul(g,H),ve=0|ve+_Mathimul(u,V),we=0|we+_Mathimul(u,G),we=0|we+_Mathimul(f,V),xe=0|xe+_Mathimul(f,G);var ke=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(ke>>>26),ke&=67108863,ve=_Mathimul(y,z),we=_Mathimul(y,H),we=0|we+_Mathimul(v,z),xe=_Mathimul(v,H),ve=0|ve+_Mathimul(h,V),we=0|we+_Mathimul(h,G),we=0|we+_Mathimul(g,V),xe=0|xe+_Mathimul(g,G),ve=0|ve+_Mathimul(u,K),we=0|we+_Mathimul(u,X),we=0|we+_Mathimul(f,K),xe=0|xe+_Mathimul(f,X);var Ce=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ce>>>26),Ce&=67108863,ve=_Mathimul(x,z),we=_Mathimul(x,H),we=0|we+_Mathimul(_,z),xe=_Mathimul(_,H),ve=0|ve+_Mathimul(y,V),we=0|we+_Mathimul(y,G),we=0|we+_Mathimul(v,V),xe=0|xe+_Mathimul(v,G),ve=0|ve+_Mathimul(h,K),we=0|we+_Mathimul(h,X),we=0|we+_Mathimul(g,K),xe=0|xe+_Mathimul(g,X),ve=0|ve+_Mathimul(u,Y),we=0|we+_Mathimul(u,Q),we=0|we+_Mathimul(f,Y),xe=0|xe+_Mathimul(f,Q);var Te=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Te>>>26),Te&=67108863,ve=_Mathimul(C,z),we=_Mathimul(C,H),we=0|we+_Mathimul(T,z),xe=_Mathimul(T,H),ve=0|ve+_Mathimul(x,V),we=0|we+_Mathimul(x,G),we=0|we+_Mathimul(_,V),xe=0|xe+_Mathimul(_,G),ve=0|ve+_Mathimul(y,K),we=0|we+_Mathimul(y,X),we=0|we+_Mathimul(v,K),xe=0|xe+_Mathimul(v,X),ve=0|ve+_Mathimul(h,Y),we=0|we+_Mathimul(h,Q),we=0|we+_Mathimul(g,Y),xe=0|xe+_Mathimul(g,Q),ve=0|ve+_Mathimul(u,te),we=0|we+_Mathimul(u,ne),we=0|we+_Mathimul(f,te),xe=0|xe+_Mathimul(f,ne);var Ee=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ee>>>26),Ee&=67108863,ve=_Mathimul(S,z),we=_Mathimul(S,H),we=0|we+_Mathimul(A,z),xe=_Mathimul(A,H),ve=0|ve+_Mathimul(C,V),we=0|we+_Mathimul(C,G),we=0|we+_Mathimul(T,V),xe=0|xe+_Mathimul(T,G),ve=0|ve+_Mathimul(x,K),we=0|we+_Mathimul(x,X),we=0|we+_Mathimul(_,K),xe=0|xe+_Mathimul(_,X),ve=0|ve+_Mathimul(y,Y),we=0|we+_Mathimul(y,Q),we=0|we+_Mathimul(v,Y),xe=0|xe+_Mathimul(v,Q),ve=0|ve+_Mathimul(h,te),we=0|we+_Mathimul(h,ne),we=0|we+_Mathimul(g,te),xe=0|xe+_Mathimul(g,ne),ve=0|ve+_Mathimul(u,re),we=0|we+_Mathimul(u,ie),we=0|we+_Mathimul(f,re),xe=0|xe+_Mathimul(f,ie);var Se=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Se>>>26),Se&=67108863,ve=_Mathimul(N,z),we=_Mathimul(N,H),we=0|we+_Mathimul(j,z),xe=_Mathimul(j,H),ve=0|ve+_Mathimul(S,V),we=0|we+_Mathimul(S,G),we=0|we+_Mathimul(A,V),xe=0|xe+_Mathimul(A,G),ve=0|ve+_Mathimul(C,K),we=0|we+_Mathimul(C,X),we=0|we+_Mathimul(T,K),xe=0|xe+_Mathimul(T,X),ve=0|ve+_Mathimul(x,Y),we=0|we+_Mathimul(x,Q),we=0|we+_Mathimul(_,Y),xe=0|xe+_Mathimul(_,Q),ve=0|ve+_Mathimul(y,te),we=0|we+_Mathimul(y,ne),we=0|we+_Mathimul(v,te),xe=0|xe+_Mathimul(v,ne),ve=0|ve+_Mathimul(h,re),we=0|we+_Mathimul(h,ie),we=0|we+_Mathimul(g,re),xe=0|xe+_Mathimul(g,ie),ve=0|ve+_Mathimul(u,se),we=0|we+_Mathimul(u,de),we=0|we+_Mathimul(f,se),xe=0|xe+_Mathimul(f,de);var Ae=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ae>>>26),Ae&=67108863,ve=_Mathimul(L,z),we=_Mathimul(L,H),we=0|we+_Mathimul(O,z),xe=_Mathimul(O,H),ve=0|ve+_Mathimul(N,V),we=0|we+_Mathimul(N,G),we=0|we+_Mathimul(j,V),xe=0|xe+_Mathimul(j,G),ve=0|ve+_Mathimul(S,K),we=0|we+_Mathimul(S,X),we=0|we+_Mathimul(A,K),xe=0|xe+_Mathimul(A,X),ve=0|ve+_Mathimul(C,Y),we=0|we+_Mathimul(C,Q),we=0|we+_Mathimul(T,Y),xe=0|xe+_Mathimul(T,Q),ve=0|ve+_Mathimul(x,te),we=0|we+_Mathimul(x,ne),we=0|we+_Mathimul(_,te),xe=0|xe+_Mathimul(_,ne),ve=0|ve+_Mathimul(y,re),we=0|we+_Mathimul(y,ie),we=0|we+_Mathimul(v,re),xe=0|xe+_Mathimul(v,ie),ve=0|ve+_Mathimul(h,se),we=0|we+_Mathimul(h,de),we=0|we+_Mathimul(g,se),xe=0|xe+_Mathimul(g,de),ve=0|ve+_Mathimul(u,pe),we=0|we+_Mathimul(u,ce),we=0|we+_Mathimul(f,pe),xe=0|xe+_Mathimul(f,ce);var Ie=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ie>>>26),Ie&=67108863,ve=_Mathimul(M,z),we=_Mathimul(M,H),we=0|we+_Mathimul(D,z),xe=_Mathimul(D,H),ve=0|ve+_Mathimul(L,V),we=0|we+_Mathimul(L,G),we=0|we+_Mathimul(O,V),xe=0|xe+_Mathimul(O,G),ve=0|ve+_Mathimul(N,K),we=0|we+_Mathimul(N,X),we=0|we+_Mathimul(j,K),xe=0|xe+_Mathimul(j,X),ve=0|ve+_Mathimul(S,Y),we=0|we+_Mathimul(S,Q),we=0|we+_Mathimul(A,Y),xe=0|xe+_Mathimul(A,Q),ve=0|ve+_Mathimul(C,te),we=0|we+_Mathimul(C,ne),we=0|we+_Mathimul(T,te),xe=0|xe+_Mathimul(T,ne),ve=0|ve+_Mathimul(x,re),we=0|we+_Mathimul(x,ie),we=0|we+_Mathimul(_,re),xe=0|xe+_Mathimul(_,ie),ve=0|ve+_Mathimul(y,se),we=0|we+_Mathimul(y,de),we=0|we+_Mathimul(v,se),xe=0|xe+_Mathimul(v,de),ve=0|ve+_Mathimul(h,pe),we=0|we+_Mathimul(h,ce),we=0|we+_Mathimul(g,pe),xe=0|xe+_Mathimul(g,ce),ve=0|ve+_Mathimul(u,fe),we=0|we+_Mathimul(u,he),we=0|we+_Mathimul(f,fe),xe=0|xe+_Mathimul(f,he);var Ne=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ne>>>26),Ne&=67108863,ve=_Mathimul(U,z),we=_Mathimul(U,H),we=0|we+_Mathimul(q,z),xe=_Mathimul(q,H),ve=0|ve+_Mathimul(M,V),we=0|we+_Mathimul(M,G),we=0|we+_Mathimul(D,V),xe=0|xe+_Mathimul(D,G),ve=0|ve+_Mathimul(L,K),we=0|we+_Mathimul(L,X),we=0|we+_Mathimul(O,K),xe=0|xe+_Mathimul(O,X),ve=0|ve+_Mathimul(N,Y),we=0|we+_Mathimul(N,Q),we=0|we+_Mathimul(j,Y),xe=0|xe+_Mathimul(j,Q),ve=0|ve+_Mathimul(S,te),we=0|we+_Mathimul(S,ne),we=0|we+_Mathimul(A,te),xe=0|xe+_Mathimul(A,ne),ve=0|ve+_Mathimul(C,re),we=0|we+_Mathimul(C,ie),we=0|we+_Mathimul(T,re),xe=0|xe+_Mathimul(T,ie),ve=0|ve+_Mathimul(x,se),we=0|we+_Mathimul(x,de),we=0|we+_Mathimul(_,se),xe=0|xe+_Mathimul(_,de),ve=0|ve+_Mathimul(y,pe),we=0|we+_Mathimul(y,ce),we=0|we+_Mathimul(v,pe),xe=0|xe+_Mathimul(v,ce),ve=0|ve+_Mathimul(h,fe),we=0|we+_Mathimul(h,he),we=0|we+_Mathimul(g,fe),xe=0|xe+_Mathimul(g,he),ve=0|ve+_Mathimul(u,be),we=0|we+_Mathimul(u,ye),we=0|we+_Mathimul(f,be),xe=0|xe+_Mathimul(f,ye);var je=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(je>>>26),je&=67108863,ve=_Mathimul(U,V),we=_Mathimul(U,G),we=0|we+_Mathimul(q,V),xe=_Mathimul(q,G),ve=0|ve+_Mathimul(M,K),we=0|we+_Mathimul(M,X),we=0|we+_Mathimul(D,K),xe=0|xe+_Mathimul(D,X),ve=0|ve+_Mathimul(L,Y),we=0|we+_Mathimul(L,Q),we=0|we+_Mathimul(O,Y),xe=0|xe+_Mathimul(O,Q),ve=0|ve+_Mathimul(N,te),we=0|we+_Mathimul(N,ne),we=0|we+_Mathimul(j,te),xe=0|xe+_Mathimul(j,ne),ve=0|ve+_Mathimul(S,re),we=0|we+_Mathimul(S,ie),we=0|we+_Mathimul(A,re),xe=0|xe+_Mathimul(A,ie),ve=0|ve+_Mathimul(C,se),we=0|we+_Mathimul(C,de),we=0|we+_Mathimul(T,se),xe=0|xe+_Mathimul(T,de),ve=0|ve+_Mathimul(x,pe),we=0|we+_Mathimul(x,ce),we=0|we+_Mathimul(_,pe),xe=0|xe+_Mathimul(_,ce),ve=0|ve+_Mathimul(y,fe),we=0|we+_Mathimul(y,he),we=0|we+_Mathimul(v,fe),xe=0|xe+_Mathimul(v,he),ve=0|ve+_Mathimul(h,be),we=0|we+_Mathimul(h,ye),we=0|we+_Mathimul(g,be),xe=0|xe+_Mathimul(g,ye);var Re=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Re>>>26),Re&=67108863,ve=_Mathimul(U,K),we=_Mathimul(U,X),we=0|we+_Mathimul(q,K),xe=_Mathimul(q,X),ve=0|ve+_Mathimul(M,Y),we=0|we+_Mathimul(M,Q),we=0|we+_Mathimul(D,Y),xe=0|xe+_Mathimul(D,Q),ve=0|ve+_Mathimul(L,te),we=0|we+_Mathimul(L,ne),we=0|we+_Mathimul(O,te),xe=0|xe+_Mathimul(O,ne),ve=0|ve+_Mathimul(N,re),we=0|we+_Mathimul(N,ie),we=0|we+_Mathimul(j,re),xe=0|xe+_Mathimul(j,ie),ve=0|ve+_Mathimul(S,se),we=0|we+_Mathimul(S,de),we=0|we+_Mathimul(A,se),xe=0|xe+_Mathimul(A,de),ve=0|ve+_Mathimul(C,pe),we=0|we+_Mathimul(C,ce),we=0|we+_Mathimul(T,pe),xe=0|xe+_Mathimul(T,ce),ve=0|ve+_Mathimul(x,fe),we=0|we+_Mathimul(x,he),we=0|we+_Mathimul(_,fe),xe=0|xe+_Mathimul(_,he),ve=0|ve+_Mathimul(y,be),we=0|we+_Mathimul(y,ye),we=0|we+_Mathimul(v,be),xe=0|xe+_Mathimul(v,ye);var Le=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Le>>>26),Le&=67108863,ve=_Mathimul(U,Y),we=_Mathimul(U,Q),we=0|we+_Mathimul(q,Y),xe=_Mathimul(q,Q),ve=0|ve+_Mathimul(M,te),we=0|we+_Mathimul(M,ne),we=0|we+_Mathimul(D,te),xe=0|xe+_Mathimul(D,ne),ve=0|ve+_Mathimul(L,re),we=0|we+_Mathimul(L,ie),we=0|we+_Mathimul(O,re),xe=0|xe+_Mathimul(O,ie),ve=0|ve+_Mathimul(N,se),we=0|we+_Mathimul(N,de),we=0|we+_Mathimul(j,se),xe=0|xe+_Mathimul(j,de),ve=0|ve+_Mathimul(S,pe),we=0|we+_Mathimul(S,ce),we=0|we+_Mathimul(A,pe),xe=0|xe+_Mathimul(A,ce),ve=0|ve+_Mathimul(C,fe),we=0|we+_Mathimul(C,he),we=0|we+_Mathimul(T,fe),xe=0|xe+_Mathimul(T,he),ve=0|ve+_Mathimul(x,be),we=0|we+_Mathimul(x,ye),we=0|we+_Mathimul(_,be),xe=0|xe+_Mathimul(_,ye);var Oe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Oe>>>26),Oe&=67108863,ve=_Mathimul(U,te),we=_Mathimul(U,ne),we=0|we+_Mathimul(q,te),xe=_Mathimul(q,ne),ve=0|ve+_Mathimul(M,re),we=0|we+_Mathimul(M,ie),we=0|we+_Mathimul(D,re),xe=0|xe+_Mathimul(D,ie),ve=0|ve+_Mathimul(L,se),we=0|we+_Mathimul(L,de),we=0|we+_Mathimul(O,se),xe=0|xe+_Mathimul(O,de),ve=0|ve+_Mathimul(N,pe),we=0|we+_Mathimul(N,ce),we=0|we+_Mathimul(j,pe),xe=0|xe+_Mathimul(j,ce),ve=0|ve+_Mathimul(S,fe),we=0|we+_Mathimul(S,he),we=0|we+_Mathimul(A,fe),xe=0|xe+_Mathimul(A,he),ve=0|ve+_Mathimul(C,be),we=0|we+_Mathimul(C,ye),we=0|we+_Mathimul(T,be),xe=0|xe+_Mathimul(T,ye);var Pe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Pe>>>26),Pe&=67108863,ve=_Mathimul(U,re),we=_Mathimul(U,ie),we=0|we+_Mathimul(q,re),xe=_Mathimul(q,ie),ve=0|ve+_Mathimul(M,se),we=0|we+_Mathimul(M,de),we=0|we+_Mathimul(D,se),xe=0|xe+_Mathimul(D,de),ve=0|ve+_Mathimul(L,pe),we=0|we+_Mathimul(L,ce),we=0|we+_Mathimul(O,pe),xe=0|xe+_Mathimul(O,ce),ve=0|ve+_Mathimul(N,fe),we=0|we+_Mathimul(N,he),we=0|we+_Mathimul(j,fe),xe=0|xe+_Mathimul(j,he),ve=0|ve+_Mathimul(S,be),we=0|we+_Mathimul(S,ye),we=0|we+_Mathimul(A,be),xe=0|xe+_Mathimul(A,ye);var Me=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Me>>>26),Me&=67108863,ve=_Mathimul(U,se),we=_Mathimul(U,de),we=0|we+_Mathimul(q,se),xe=_Mathimul(q,de),ve=0|ve+_Mathimul(M,pe),we=0|we+_Mathimul(M,ce),we=0|we+_Mathimul(D,pe),xe=0|xe+_Mathimul(D,ce),ve=0|ve+_Mathimul(L,fe),we=0|we+_Mathimul(L,he),we=0|we+_Mathimul(O,fe),xe=0|xe+_Mathimul(O,he),ve=0|ve+_Mathimul(N,be),we=0|we+_Mathimul(N,ye),we=0|we+_Mathimul(j,be),xe=0|xe+_Mathimul(j,ye);var De=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(De>>>26),De&=67108863,ve=_Mathimul(U,pe),we=_Mathimul(U,ce),we=0|we+_Mathimul(q,pe),xe=_Mathimul(q,ce),ve=0|ve+_Mathimul(M,fe),we=0|we+_Mathimul(M,he),we=0|we+_Mathimul(D,fe),xe=0|xe+_Mathimul(D,he),ve=0|ve+_Mathimul(L,be),we=0|we+_Mathimul(L,ye),we=0|we+_Mathimul(O,be),xe=0|xe+_Mathimul(O,ye);var Be=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Be>>>26),Be&=67108863,ve=_Mathimul(U,fe),we=_Mathimul(U,he),we=0|we+_Mathimul(q,fe),xe=_Mathimul(q,he),ve=0|ve+_Mathimul(M,be),we=0|we+_Mathimul(M,ye),we=0|we+_Mathimul(D,be),xe=0|xe+_Mathimul(D,ye);var Ue=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ue>>>26),Ue&=67108863,ve=_Mathimul(U,be),we=_Mathimul(U,ye),we=0|we+_Mathimul(q,be),xe=_Mathimul(q,ye);var qe=0|(0|o+ve)+((8191&we)<<13);return o=0|(0|xe+(we>>>13))+(qe>>>26),qe&=67108863,l[0]=_e,l[1]=ke,l[2]=Ce,l[3]=Te,l[4]=Ee,l[5]=Se,l[6]=Ae,l[7]=Ie,l[8]=Ne,l[9]=je,l[10]=Re,l[11]=Le,l[12]=Oe,l[13]=Pe,l[14]=Me,l[15]=De,l[16]=Be,l[17]=Ue,l[18]=qe,0!=o&&(l[19]=o,s.length++),s};_Mathimul||(S=u),d.prototype.mulTo=function t(n,a){var r=this.length+n.length,o;return o=10===this.length&&10===n.length?S(this,n,a):63>r?u(this,n,a):1024>r?f(this,n,a):m(this,n,a),o},h.prototype.makeRBT=function n(a){for(var r=Array(a),t=d.prototype._countBits(a)-1,o=0;o<a;o++)r[o]=this.revBin(o,t,a);return r},h.prototype.revBin=function t(n,a,r){if(0===n||n===r-1)return n;for(var o=0,s=0;s<a;s++)o|=(1&n)<<a-s-1,n>>=1;return o},h.prototype.permute=function t(n,a,r,o,s,d){for(var l=0;l<d;l++)o[l]=a[n[l]],s[l]=r[n[l]]},h.prototype.transform=function t(n,a,r,o,d,c){this.permute(c,n,a,r,o,d);for(var u=1;u<d;u<<=1)for(var s=u<<1,l=_Mathcos(2*_MathPI/s),f=_Mathsin(2*_MathPI/s),m=0;m<d;m+=s)for(var h=l,g=f,b=0;b<u;b++){var y=r[m+b],v=o[m+b],w=r[m+b+u],x=o[m+b+u],_=h*w-g*x;x=h*x+g*w,w=_,r[m+b]=y+w,o[m+b]=v+x,r[m+b+u]=y-w,o[m+b+u]=v-x,b!==s&&(_=l*h-f*g,g=l*g+f*h,h=_)}},h.prototype.guessLen13b=function t(a,n){var r=1|_Mathmax(n,a),o=1&r,s=0;for(r=0|r/2;r;r>>>=1)s++;return 1<<s+1+o},h.prototype.conjugate=function n(a,r,o){if(!(1>=o))for(var s=0,d;s<o/2;s++)d=a[s],a[s]=a[o-s-1],a[o-s-1]=d,d=r[s],r[s]=-r[o-s-1],r[o-s-1]=-d},h.prototype.normalize13b=function t(n,a){for(var r=0,o=0,s;o<a/2;o++)s=8192*_Mathround(n[2*o+1]/a)+_Mathround(n[2*o]/a)+r,n[o]=67108863&s,r=67108864>s?0:0|s/67108864;return n},h.prototype.convert13b=function t(n,a,r,s){for(var d=0,l=0;l<a;l++)d+=0|n[l],r[2*l]=8191&d,d>>>=13,r[2*l+1]=8191&d,d>>>=13;for(l=2*a;l<s;++l)r[l]=0;o(0==d),o(0==(-8192&d))},h.prototype.stub=function t(n){for(var a=Array(n),r=0;r<n;r++)a[r]=0;return a},h.prototype.mulp=function t(n,a,r){var o=2*this.guessLen13b(n.length,a.length),s=this.makeRBT(o),d=this.stub(o),l=Array(o),c=Array(o),u=Array(o),f=Array(o),m=Array(o),h=Array(o),g=r.words;g.length=o,this.convert13b(n.words,n.length,l,o),this.convert13b(a.words,a.length,f,o),this.transform(l,d,c,u,o,s),this.transform(f,d,m,h,o,s);for(var b=0,y;b<o;b++)y=c[b]*m[b]-u[b]*h[b],u[b]=c[b]*h[b]+u[b]*m[b],c[b]=y;return this.conjugate(c,u,o),this.transform(c,u,g,d,o,s),this.conjugate(g,d,o),this.normalize13b(g,o),r.negative=n.negative^a.negative,r.length=n.length+a.length,r.strip()},d.prototype.mul=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),this.mulTo(n,a)},d.prototype.mulf=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),m(this,n,a)},d.prototype.imul=function t(n){return this.clone().mulTo(n,this)},d.prototype.imuln=function t(n){o('number'==typeof n),o(67108864>n);for(var a=0,r=0;r<this.length;r++){var s=(0|this.words[r])*n,d=(67108863&s)+(67108863&a);a>>=26,a+=0|s/67108864,a+=d>>>26,this.words[r]=67108863&d}return 0!=a&&(this.words[r]=a,this.length++),this},d.prototype.muln=function t(n){return this.clone().imuln(n)},d.prototype.sqr=function t(){return this.mul(this)},d.prototype.isqr=function t(){return this.imul(this.clone())},d.prototype.pow=function t(n){var a=c(n);if(0===a.length)return new d(1);for(var r=this,o=0;o<a.length&&!(0!==a[o]);o++,r=r.sqr());if(++o<a.length)for(var s=r.sqr();o<a.length;o++,s=s.sqr())0!==a[o]&&(r=r.mul(s));return r},d.prototype.iushln=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=67108863>>>26-a<<26-a,d;if(0!=a){var l=0;for(d=0;d<this.length;d++){var u=this.words[d]&s,f=(0|this.words[d])-u<<a;this.words[d]=f|l,l=u>>>26-a}l&&(this.words[d]=l,this.length++)}if(0!=r){for(d=this.length-1;0<=d;d--)this.words[d+r]=this.words[d];for(d=0;d<r;d++)this.words[d]=0;this.length+=r}return this.strip()},d.prototype.ishln=function t(n){return o(0===this.negative),this.iushln(n)},d.prototype.iushrn=function t(n,a,d){o('number'==typeof n&&0<=n);var l;l=a?(a-a%26)/26:0;var c=n%26,r=_Mathmin((n-c)/26,this.length),s=67108863^67108863>>>c<<c,u=d;if(l-=r,l=_Mathmax(0,l),u){for(var f=0;f<r;f++)u.words[f]=this.words[f];u.length=r}if(0===r);else if(this.length>r)for(this.length-=r,f=0;f<this.length;f++)this.words[f]=this.words[f+r];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;0<=f&&(0!=m||f>=l);f--){var h=0|this.words[f];this.words[f]=m<<26-c|h>>>c,m=h&s}return u&&0!=m&&(u.words[u.length++]=m),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function t(n,a,r){return o(0===this.negative),this.iushrn(n,a,r)},d.prototype.shln=function t(n){return this.clone().ishln(n)},d.prototype.ushln=function t(n){return this.clone().iushln(n)},d.prototype.shrn=function t(n){return this.clone().ishrn(n)},d.prototype.ushrn=function t(n){return this.clone().iushrn(n)},d.prototype.testn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return!1;var d=this.words[r];return!!(d&s)},d.prototype.imaskn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26;if(o(0===this.negative,'imaskn works only with positive numbers'),this.length<=r)return this;if(0!=a&&r++,this.length=_Mathmin(r,this.length),0!=a){var s=67108863^67108863>>>a<<a;this.words[this.length-1]&=s}return this.strip()},d.prototype.maskn=function t(n){return this.clone().imaskn(n)},d.prototype.iaddn=function t(n){return o('number'==typeof n),o(67108864>n),0>n?this.isubn(-n):0===this.negative?this._iaddn(n):1===this.length&&(0|this.words[0])<n?(this.words[0]=n-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this)},d.prototype._iaddn=function t(n){this.words[0]+=n;for(var a=0;a<this.length&&67108864<=this.words[a];a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=_Mathmax(this.length,a+1),this},d.prototype.isubn=function t(n){if(o('number'==typeof n),o(67108864>n),0>n)return this.iaddn(-n);if(0!==this.negative)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&0>this.words[a];a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},d.prototype.addn=function t(n){return this.clone().iaddn(n)},d.prototype.subn=function t(n){return this.clone().isubn(n)},d.prototype.iabs=function t(){return this.negative=0,this},d.prototype.abs=function t(){return this.clone().iabs()},d.prototype._ishlnsubmul=function t(n,a,r){var s=n.length+r,d;this._expand(s);var l=0,c;for(d=0;d<n.length;d++){c=(0|this.words[d+r])+l;var u=(0|n.words[d])*a;c-=67108863&u,l=(c>>26)-(0|u/67108864),this.words[d+r]=67108863&c}for(;d<this.length-r;d++)c=(0|this.words[d+r])+l,l=c>>26,this.words[d+r]=67108863&c;if(0==l)return this.strip();for(o(-1==l),l=0,d=0;d<this.length;d++)c=-(0|this.words[d])+l,l=c>>26,this.words[d]=67108863&c;return this.negative=1,this.strip()},d.prototype._wordDiv=function t(n,r){var o=this.length-n.length,s=this.clone(),l=n,c=0|l.words[l.length-1],u=this._countBits(c);o=26-u,0!=o&&(l=l.ushln(o),s.iushln(o),c=0|l.words[l.length-1]);var f=s.length-l.length,m;if('mod'!==r){m=new d(null),m.length=f+1,m.words=Array(m.length);for(var h=0;h<m.length;h++)m.words[h]=0}var g=s.clone()._ishlnsubmul(l,1,f);0===g.negative&&(s=g,m&&(m.words[f]=1));for(var b=f-1,y;0<=b;b--){for(y=67108864*(0|s.words[l.length+b])+(0|s.words[l.length+b-1]),y=_Mathmin(0|y/c,67108863),s._ishlnsubmul(l,y,b);0!==s.negative;)y--,s.negative=0,s._ishlnsubmul(l,1,b),s.isZero()||(s.negative^=1);m&&(m.words[b]=y)}return m&&m.strip(),s.strip(),'div'!==r&&0!=o&&s.iushrn(o),{div:m||null,mod:s}},d.prototype.divmod=function t(n,a,r){if(o(!n.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var s,l,c;return 0!==this.negative&&0===n.negative?(c=this.neg().divmod(n,a),'mod'!==a&&(s=c.div.neg()),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.iadd(n)),{div:s,mod:l}):0===this.negative&&0!==n.negative?(c=this.divmod(n.neg(),a),'mod'!==a&&(s=c.div.neg()),{div:s,mod:c.mod}):0==(this.negative&n.negative)?n.length>this.length||0>this.cmp(n)?{div:new d(0),mod:this}:1===n.length?'div'===a?{div:this.divn(n.words[0]),mod:null}:'mod'===a?{div:null,mod:new d(this.modn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new d(this.modn(n.words[0]))}:this._wordDiv(n,a):(c=this.neg().divmod(n.neg(),a),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.isub(n)),{div:c.div,mod:l})},d.prototype.div=function t(n){return this.divmod(n,'div',!1).div},d.prototype.mod=function t(n){return this.divmod(n,'mod',!1).mod},d.prototype.umod=function t(n){return this.divmod(n,'mod',!0).mod},d.prototype.divRound=function t(n){var a=this.divmod(n);if(a.mod.isZero())return a.div;var r=0===a.div.negative?a.mod:a.mod.isub(n),o=n.ushrn(1),s=n.andln(1),d=r.cmp(o);return 0>d||1===s&&0===d?a.div:0===a.div.negative?a.div.iaddn(1):a.div.isubn(1)},d.prototype.modn=function t(n){o(67108863>=n);for(var a=67108864%n,r=0,s=this.length-1;0<=s;s--)r=(a*r+(0|this.words[s]))%n;return r},d.prototype.idivn=function t(n){o(67108863>=n);for(var a=0,r=this.length-1,s;0<=r;r--)s=(0|this.words[r])+67108864*a,this.words[r]=0|s/n,a=s%n;return this.strip()},d.prototype.divn=function t(n){return this.clone().idivn(n)},d.prototype.egcd=function t(n){o(0===n.negative),o(!n.isZero());var a=this,r=n.clone();a=0===a.negative?a.clone():a.umod(n);for(var s=new d(1),l=new d(0),c=new d(0),u=new d(1),f=0;a.isEven()&&r.isEven();)a.iushrn(1),r.iushrn(1),++f;for(var m=r.clone(),h=a.clone();!a.isZero();){for(var g=0,b=1;0==(a.words[0]&b)&&26>g;++g,b<<=1);if(0<g)for(a.iushrn(g);0<g--;)(s.isOdd()||l.isOdd())&&(s.iadd(m),l.isub(h)),s.iushrn(1),l.iushrn(1);for(var y=0,v=1;0==(r.words[0]&v)&&26>y;++y,v<<=1);if(0<y)for(r.iushrn(y);0<y--;)(c.isOdd()||u.isOdd())&&(c.iadd(m),u.isub(h)),c.iushrn(1),u.iushrn(1);0<=a.cmp(r)?(a.isub(r),s.isub(c),l.isub(u)):(r.isub(a),c.isub(s),u.isub(l))}return{a:c,b:u,gcd:r.iushln(f)}},d.prototype._invmp=function t(n){o(0===n.negative),o(!n.isZero());var r=this,a=n.clone();r=0===r.negative?r.clone():r.umod(n);for(var s=new d(1),l=new d(0),c=a.clone();0<r.cmpn(1)&&0<a.cmpn(1);){for(var u=0,f=1;0==(r.words[0]&f)&&26>u;++u,f<<=1);if(0<u)for(r.iushrn(u);0<u--;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var m=0,h=1;0==(a.words[0]&h)&&26>m;++m,h<<=1);if(0<m)for(a.iushrn(m);0<m--;)l.isOdd()&&l.iadd(c),l.iushrn(1);0<=r.cmp(a)?(r.isub(a),s.isub(l)):(a.isub(r),l.isub(s))}var g;return g=0===r.cmpn(1)?s:l,0>g.cmpn(0)&&g.iadd(n),g},d.prototype.gcd=function n(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var s=this.clone(),a=o.clone();s.negative=0,a.negative=0;for(var d=0;s.isEven()&&a.isEven();d++)s.iushrn(1),a.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;a.isEven();)a.iushrn(1);var l=s.cmp(a);if(0>l){var r=s;s=a,a=r}else if(0===l||0===a.cmpn(1))break;s.isub(a)}while(!0);return a.iushln(d)},d.prototype.invm=function t(n){return this.egcd(n).a.umod(n)},d.prototype.isEven=function t(){return 0==(1&this.words[0])},d.prototype.isOdd=function t(){return 1==(1&this.words[0])},d.prototype.andln=function t(n){return this.words[0]&n},d.prototype.bincn=function t(n){o('number'==typeof n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return this._expand(r+1),this.words[r]|=s,this;for(var d=s,l=r,c;0!=d&&l<this.length;l++)c=0|this.words[l],c+=d,d=c>>>26,c&=67108863,this.words[l]=c;return 0!=d&&(this.words[l]=d,this.length++),this},d.prototype.isZero=function t(){return 1===this.length&&0===this.words[0]},d.prototype.cmpn=function t(n){var a=0>n;if(0!==this.negative&&!a)return-1;if(0===this.negative&&a)return 1;this.strip();var r;if(1<this.length)r=1;else{a&&(n=-n),o(67108863>=n,'Number is too big');var s=0|this.words[0];r=s===n?0:s<n?-1:1}return 0===this.negative?r:0|-r},d.prototype.cmp=function t(n){if(0!==this.negative&&0===n.negative)return-1;if(0===this.negative&&0!==n.negative)return 1;var a=this.ucmp(n);return 0===this.negative?a:0|-a},d.prototype.ucmp=function t(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var r=0,o=this.length-1;0<=o;o--){var s=0|this.words[o],a=0|n.words[o];if(s!=a){s<a?r=-1:s>a&&(r=1);break}}return r},d.prototype.gtn=function t(n){return 1===this.cmpn(n)},d.prototype.gt=function t(n){return 1===this.cmp(n)},d.prototype.gten=function t(n){return 0<=this.cmpn(n)},d.prototype.gte=function t(n){return 0<=this.cmp(n)},d.prototype.ltn=function t(n){return-1===this.cmpn(n)},d.prototype.lt=function t(n){return-1===this.cmp(n)},d.prototype.lten=function t(n){return 0>=this.cmpn(n)},d.prototype.lte=function t(n){return 0>=this.cmp(n)},d.prototype.eqn=function t(n){return 0===this.cmpn(n)},d.prototype.eq=function t(n){return 0===this.cmp(n)},d.red=function t(n){return new x(n)},d.prototype.toRed=function t(n){return o(!this.red,'Already a number in reduction context'),o(0===this.negative,'red works only with positives'),n.convertTo(this)._forceRed(n)},d.prototype.fromRed=function t(){return o(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},d.prototype._forceRed=function t(n){return this.red=n,this},d.prototype.forceRed=function t(n){return o(!this.red,'Already a number in reduction context'),this._forceRed(n)},d.prototype.redAdd=function t(n){return o(this.red,'redAdd works only with red numbers'),this.red.add(this,n)},d.prototype.redIAdd=function t(n){return o(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,n)},d.prototype.redSub=function t(n){return o(this.red,'redSub works only with red numbers'),this.red.sub(this,n)},d.prototype.redISub=function t(n){return o(this.red,'redISub works only with red numbers'),this.red.isub(this,n)},d.prototype.redShl=function t(n){return o(this.red,'redShl works only with red numbers'),this.red.shl(this,n)},d.prototype.redMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.mul(this,n)},d.prototype.redIMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.imul(this,n)},d.prototype.redSqr=function t(){return o(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function t(){return o(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function t(){return o(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function t(){return o(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function t(){return o(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function t(n){return o(this.red&&!n.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,n)};var A={k256:null,p224:null,p192:null,p25519:null};g.prototype._tmp=function t(){var n=new d(null);return n.words=Array(_Mathceil(this.n/13)),n},g.prototype.ireduce=function t(n){var a=n,r;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),r=a.bitLength();while(r>this.n);var o=r<this.n?-1:a.ucmp(this.p);return 0===o?(a.words[0]=0,a.length=1):0<o?a.isub(this.p):a.strip(),a},g.prototype.split=function t(n,a){n.iushrn(this.n,0,a)},g.prototype.imulK=function t(n){return n.imul(this.k)},r(b,g),b.prototype.split=function t(n,a){for(var r=4194303,o=_Mathmin(n.length,9),s=0;s<o;s++)a.words[s]=n.words[s];if(a.length=o,9>=n.length)return n.words[0]=0,void(n.length=1);var d=n.words[9];for(a.words[a.length++]=d&r,s=10;s<n.length;s++){var l=0|n.words[s];n.words[s-10]=(l&r)<<4|d>>>22,d=l}d>>>=22,n.words[s-10]=d,n.length-=0===d&&10<n.length?10:9},b.prototype.imulK=function t(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var a=0,r=0,o;r<n.length;r++)o=0|n.words[r],a+=977*o,n.words[r]=67108863&a,a=64*o+(0|a/67108864);return 0===n.words[n.length-1]&&(n.length--,0===n.words[n.length-1]&&n.length--),n},r(y,g),r(v,g),r(w,g),w.prototype.imulK=function t(n){for(var a=0,r=0;r<n.length;r++){var o=19*(0|n.words[r])+a,s=67108863&o;o>>>=26,n.words[r]=s,a=o}return 0!=a&&(n.words[n.length++]=a),n},d._prime=function t(n){if(A[n])return A[n];var t;if('k256'===n)t=new b;else if('p224'===n)t=new y;else if('p192'===n)t=new v;else if('p25519'===n)t=new w;else throw new Error('Unknown prime '+n);return A[n]=t,t},x.prototype._verify1=function t(n){o(0===n.negative,'red works only with positives'),o(n.red,'red works only with red numbers')},x.prototype._verify2=function t(n,a){o(0==(n.negative|a.negative),'red works only with positives'),o(n.red&&n.red===a.red,'red works only with red numbers')},x.prototype.imod=function t(n){return this.prime?this.prime.ireduce(n)._forceRed(this):n.umod(this.m)._forceRed(this)},x.prototype.neg=function t(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},x.prototype.add=function t(n,a){this._verify2(n,a);var r=n.add(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function t(n,a){this._verify2(n,a);var r=n.iadd(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r},x.prototype.sub=function t(n,a){this._verify2(n,a);var r=n.sub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function t(n,a){this._verify2(n,a);var r=n.isub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r},x.prototype.shl=function t(n,a){return this._verify1(n),this.imod(n.ushln(a))},x.prototype.imul=function t(n,a){return this._verify2(n,a),this.imod(n.imul(a))},x.prototype.mul=function t(n,a){return this._verify2(n,a),this.imod(n.mul(a))},x.prototype.isqr=function t(n){return this.imul(n,n.clone())},x.prototype.sqr=function t(n){return this.mul(n,n)},x.prototype.sqrt=function n(l){if(l.isZero())return l.clone();var a=this.m.andln(3);if(o(1==a%2),3===a){var u=this.m.add(new d(1)).iushrn(2);return this.pow(l,u)}for(var f=this.m.subn(1),h=0;!f.isZero()&&0===f.andln(1);)h++,f.iushrn(1);o(!f.isZero());var s=new d(1).toRed(this),g=s.redNeg(),y=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new d(2*v*v).toRed(this);0!==this.pow(v,y).cmp(g);)v.redIAdd(g);for(var w=this.pow(v,f),c=this.pow(l,f.addn(1).iushrn(1)),r=this.pow(l,f),t=h;0!==r.cmp(s);){for(var m=r,x=0;0!==m.cmp(s);x++)m=m.redSqr();o(x<t);var _=this.pow(w,new d(1).iushln(t-x-1));c=c.redMul(_),w=_.redSqr(),r=r.redMul(w),t=x}return c},x.prototype.invm=function t(n){var a=n._invmp(this.m);return 0===a.negative?this.imod(a):(a.negative=0,this.imod(a).redNeg())},x.prototype.pow=function t(n,a){if(a.isZero())return new d(1).toRed(this);if(0===a.cmpn(1))return n.clone();var r=4,o=Array(1<<r);o[0]=new d(1).toRed(this),o[1]=n;for(var s=2;s<o.length;s++)o[s]=this.mul(o[s-1],n);var l=o[0],c=0,u=0,f=a.bitLength()%26;for(0==f&&(f=26),s=a.length-1;0<=s;s--){for(var m=a.words[s],h=f-1,g;0<=h;h--){if(g=1&m>>h,l!==o[0]&&(l=this.sqr(l)),0==g&&0==c){u=0;continue}c<<=1,c|=g,u++,u!=r&&(0!==s||0!==h)||(l=this.mul(l,o[c]),u=0,c=0)}f=26}return l},x.prototype.convertTo=function t(n){var a=n.umod(this.m);return a===n?a.clone():a},x.prototype.convertFrom=function t(n){var a=n.clone();return a.red=null,a},d.mont=function t(n){return new _(n)},r(_,x),_.prototype.convertTo=function t(n){return this.imod(n.ushln(this.shift))},_.prototype.convertFrom=function t(n){var a=this.imod(n.mul(this.rinv));return a.red=null,a},_.prototype.imul=function n(r,a){if(r.isZero()||a.isZero())return r.words[0]=0,r.length=1,r;var o=r.imul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),d=s;return 0<=s.cmp(this.m)?d=s.isub(this.m):0>s.cmpn(0)&&(d=s.iadd(this.m)),d._forceRed(this)},_.prototype.mul=function n(r,a){if(r.isZero()||a.isZero())return new d(0)._forceRed(this);var o=r.mul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),l=s;return 0<=s.cmp(this.m)?l=s.isub(this.m):0>s.cmpn(0)&&(l=s.iadd(this.m)),l._forceRed(this)},_.prototype.invm=function t(n){var a=this.imod(n._invmp(this.m).mul(this.r2));return a._forceRed(this)}})('undefined'==typeof t||t,this)}).call(n,a(10)(t))},function(t,n,a){var r=a(46),o=a(8).document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,n,a){var r=a(46);t.exports=function(t,n){if(!r(t))return t;var a,o;if(n&&'function'==typeof(a=t.toString)&&!r(o=a.call(t)))return o;if('function'==typeof(a=t.valueOf)&&!r(o=a.call(t)))return o;if(!n&&'function'==typeof(a=t.toString)&&!r(o=a.call(t)))return o;throw TypeError('Can\'t convert object to primitive value')}},function(t,n){t.exports=function(t){if(t==void 0)throw TypeError('Can\'t call method on  '+t);return t}},function(t,n,a){var r=a(114),o=_Mathmin;t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},function(t,n){var a=_Mathceil,r=_Mathfloor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:a)(t)}},function(t,n,a){var r=a(116)('keys'),o=a(79);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,n,a){var r=a(8),o='__core-js_shared__',s=r[o]||(r[o]={});t.exports=function(t){return s[t]||(s[t]={})}},function(t,n){t.exports=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf']},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,a){var r=a(112);t.exports=function(t){return Object(r(t))}},function(t,n,a){'use strict';var r=a(354)(!0);a(185)(String,'String',function(t){this._t=t+'',this._i=0},function(){var t=this._t,n=this._i,a;return n>=t.length?{value:void 0,done:!0}:(a=r(t,n),this._i+=a.length,{value:a,done:!1})})},function(t,n,a){'use strict';function r(t){var n,a;this.promise=new t(function(t,r){if(n!=void 0||a!=void 0)throw TypeError('Bad Promise constructor');n=t,a=r}),this.resolve=o(n),this.reject=o(a)}var o=a(77);t.exports.f=function(t){return new r(t)}},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var n=this;return function(){var a=(0,f.default)(c.default.mark(function a(r){var o;return c.default.wrap(function n(a){for(;1;)switch(a.prev=a.next){case 0:return a.next=2,(0,g.updateStorage)(t,function(t){return(0,d.default)({},t,{session:r})});case 2:return o=a.sent,a.abrupt('return',o.session);case 4:case'end':return a.stop();}},a,n)}));return function(t){return a.apply(this,arguments)}}()}Object.defineProperty(n,'__esModule',{value:!0}),n.clearSession=n.getSession=void 0;var s=a(76),d=r(s),l=a(36),c=r(l),u=a(37),f=r(u),m=n.getSession=function(){var t=(0,f.default)(c.default.mark(function t(n){var a;return c.default.wrap(function t(r){for(;1;)switch(r.prev=r.next){case 0:return r.next=2,(0,g.getData)(n);case 2:return a=r.sent,r.abrupt('return',a.session||null);case 4:case'end':return r.stop();}},t,this)}));return function n(a){return t.apply(this,arguments)}}(),h=n.clearSession=function(){var t=(0,f.default)(c.default.mark(function t(n){return c.default.wrap(function t(a){for(;1;)switch(a.prev=a.next){case 0:return a.next=2,(0,g.updateStorage)(n,function(t){return(0,d.default)({},t,{session:null})});case 2:case'end':return a.stop();}},t,this)}));return function n(a){return t.apply(this,arguments)}}();n.saveSession=o;var g=a(84)},function(t,n,a){n.f=a(9)},function(t,n,a){var r=a(8),o=a(16),s=a(82),d=a(123),l=a(26).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=s?{}:r.Symbol||{});'_'==t.charAt(0)||t in n||l(n,t,{value:d.f(t)})}},function(t,n,a){'use strict';function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n.default=t,n}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,'__esModule',{value:!0}),n.fetchWithCredentials=n.requiresAuth=n.getRegisteredRp=n.logout=n.currentSession=n.login=void 0;var s=a(76),d=o(s),l=a(36),c=o(l),u=a(37),f=o(u),m=function(){var t=(0,f.default)(c.default.mark(function t(n){var a,r;return c.default.wrap(function t(o){for(;1;)switch(o.prev=o.next){case 0:return o.next=2,(0,k.getData)(n);case 2:if(a=o.sent,r=a.rpConfig,!r){o.next=9;break}return r.store=n,o.abrupt('return',v.default.from(r));case 9:return o.abrupt('return',null);case 10:case'end':return o.stop();}},t,this)}));return function n(a){return t.apply(this,arguments)}}(),h=function(){var t=(0,f.default)(c.default.mark(function t(n,a,r){return c.default.wrap(function t(a){for(;1;)switch(a.prev=a.next){case 0:return a.next=2,(0,k.updateStorage)(n,function(t){return(0,d.default)({},t,{rpConfig:r})});case 2:return a.abrupt('return',r);case 3:case'end':return a.stop();}},t,this)}));return function n(a,r,o){return t.apply(this,arguments)}}();a(44);var g=a(202),b=r(g),y=a(395),v=o(y),w=a(416),x=o(w),_=a(129),k=a(84),C=n.login=function(){var t=(0,f.default)(c.default.mark(function t(n,a){var r;return c.default.wrap(function t(o){for(;1;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,S(n,a);case 3:return r=o.sent,o.next=6,N(a.storage);case 6:return o.abrupt('return',function(){return I(r,a)});case 9:return o.prev=9,o.t0=o['catch'](0),console.warn('Error logging in with WebID-OIDC'),console.error(o.t0),o.abrupt('return',null);case 14:case'end':return o.stop();}},t,void 0,[[0,9]])}));return function n(a,r){return t.apply(this,arguments)}}(),T=n.currentSession=function(){var t=(0,f.default)(c.default.mark(function t(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:(0,k.defaultStorage)(),a,r,o,s,d,l,u,f,h;return c.default.wrap(function t(c){for(;1;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,m(n);case 3:if(a=c.sent,a){c.next=6;break}return c.abrupt('return',null);case 6:if(r=(0,_.currentUrl)(),r&&r.includes('#')){c.next=9;break}return c.abrupt('return',null);case 9:return c.next=11,(0,k.getData)(n);case 11:return o=c.sent,c.next=14,a.validateResponse(r,o);case 14:if(s=c.sent,s){c.next=17;break}return c.abrupt('return',null);case 17:return c.next=19,j(n);case 19:return d=s.idp,l=s.idToken,u=s.accessToken,f=s.clientId,h=s.sessionKey,c.abrupt('return',{authType:'WebID-OIDC',webId:s.decoded.payload.sub,idp:d,idToken:l,accessToken:u,clientId:f,sessionKey:h});case 23:return c.prev=23,c.t0=c['catch'](0),console.warn('Error finding a WebID-OIDC session'),console.error(c.t0),c.abrupt('return',null);case 28:case'end':return c.stop();}},t,void 0,[[0,23]])}));return function n(){return t.apply(this,arguments)}}(),E=n.logout=function t(n){return m(n).then(function(t){return t?t.logout():void 0}).catch(function(t){console.warn('Error logging out of the WebID-OIDC session'),console.error(t)})},S=n.getRegisteredRp=function t(n,a){return m(a.storage).then(function(t){return t&&t.provider.url===n?t:A(n,a).then(function(t){return h(a.storage,n,t)})})},A=function t(n,a){var r=a.storage,o=a.callbackUri,s='id_token token',d={issuer:n,grant_types:['implicit'],redirect_uris:[o],response_types:[s],scope:'openid profile'},l={defaults:{authenticate:{redirect_uri:o,response_type:s}},store:r};return v.default.register(n,d,l)},I=function(){var t=(0,f.default)(c.default.mark(function t(n,a){var r=a.callbackUri,o=a.storage,s,d;return c.default.wrap(function t(a){for(;1;)switch(a.prev=a.next){case 0:return a.next=2,(0,k.getData)(o);case 2:return s=a.sent,a.next=5,n.createRequest({redirect_uri:r},s);case 5:return d=a.sent,a.next=8,(0,k.updateStorage)(o,function(){return s});case 8:return a.abrupt('return',(0,_.navigateTo)(d));case 9:case'end':return a.stop();}},t,void 0)}));return function n(a,r){return t.apply(this,arguments)}}(),N=function t(n){return(0,k.updateStorage)(n,function(t){return(0,d.default)({},t,{appHashFragment:window.location.hash})})},j=function t(n){return(0,k.updateStorage)(n,function(t){return window.location.hash=t.appHashFragment,delete t.appHashFragment,t})},R=n.requiresAuth=function t(n){if(401!==n.status)return!1;var a=n.headers.get('www-authenticate');if(!a)return!1;var r=b.parse(a);return'Bearer'===r.scheme&&r.params&&'openid webid'===r.params.scope},L=n.fetchWithCredentials=function t(n){return function(){var t=(0,f.default)(c.default.mark(function t(a,r){var o,s;return c.default.wrap(function t(l){for(;1;)switch(l.prev=l.next){case 0:return l.next=2,x.default.issueFor(a,n);case 2:return o=l.sent,s=(0,d.default)({},r,{headers:(0,d.default)({},r&&r.headers?r.headers:{},{authorization:'Bearer '+o})}),l.abrupt('return',fetch(a,s));case 5:case'end':return l.stop();}},t,void 0)}));return function(n,a){return t.apply(this,arguments)}}()}},function(t,n,a){'use strict';(function(n){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function r(t,n){if(t===n)return 0;for(var a=t.length,r=n.length,o=0,s=_Mathmin(a,r);o<s;++o)if(t[o]!==n[o]){a=t[o],r=n[o];break}return a<r?-1:r<a?1:0}function o(t){return n.Buffer&&'function'==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(t):!!(null!=t&&t._isBuffer)}function s(t){return Object.prototype.toString.call(t)}function d(t){return!o(t)&&!('function'!=typeof n.ArrayBuffer)&&('function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(!!(t instanceof DataView)||t.buffer&&t.buffer instanceof ArrayBuffer))}function l(t){if(k.isFunction(t)){if(E)return t.name;var n=t.toString(),a=n.match(A);return a&&a[1]}}function c(t,a){return'string'==typeof t?t.length<a?t:t.slice(0,a):t}function u(t){if(E||!k.isFunction(t))return k.inspect(t);var n=l(t),a=n?': '+n:'';return'[Function'+a+']'}function f(t){return c(u(t.actual),128)+' '+t.operator+' '+c(u(t.expected),128)}function m(t,n,a,r,o){throw new S.AssertionError({message:a,actual:t,expected:n,operator:r,stackStartFunction:o})}function h(t,n){t||m(t,!0,n,'==',S.ok)}function g(t,n,a,l){if(t===n)return!0;if(o(t)&&o(n))return 0===r(t,n);if(k.isDate(t)&&k.isDate(n))return t.getTime()===n.getTime();if(k.isRegExp(t)&&k.isRegExp(n))return t.source===n.source&&t.global===n.global&&t.multiline===n.multiline&&t.lastIndex===n.lastIndex&&t.ignoreCase===n.ignoreCase;if((null===t||'object'!=typeof t)&&(null===n||'object'!=typeof n))return a?t==n:t==n;if(d(t)&&d(n)&&s(t)===s(n)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(n.buffer));if(o(t)!==o(n))return!1;l=l||{actual:[],expected:[]};var c=l.actual.indexOf(t);return-1!==c&&c===l.expected.indexOf(n)||(l.actual.push(t),l.expected.push(n),b(t,n,a,l))}function y(t){return'[object Arguments]'==Object.prototype.toString.call(t)}function b(t,n,a,r){if(null===t||t===void 0||null===n||n===void 0)return!1;if(k.isPrimitive(t)||k.isPrimitive(n))return t===n;if(a&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(n))return!1;var o=y(t),s=y(n);if(o&&!s||!o&&s)return!1;if(o)return t=T.call(t),n=T.call(n),g(t,n,a);var d=I(t),l=I(n),c,u;if(d.length!==l.length)return!1;for(d.sort(),l.sort(),u=d.length-1;0<=u;u--)if(d[u]!==l[u])return!1;for(u=d.length-1;0<=u;u--)if(c=d[u],!g(t[c],n[c],a,r))return!1;return!0}function v(t,n,a){g(t,n,!0)&&m(t,n,a,'notDeepStrictEqual',v)}function w(t,n){if(!t||!n)return!1;if('[object RegExp]'==Object.prototype.toString.call(n))return n.test(t);try{if(t instanceof n)return!0}catch(t){}return!Error.isPrototypeOf(n)&&!0===n.call({},t)}function x(t){var n;try{t()}catch(t){n=t}return n}function _(t,n,a,r){var o;if('function'!=typeof n)throw new TypeError('"block" argument must be a function');'string'==typeof a&&(r=a,a=null),o=x(n),r=(a&&a.name?' ('+a.name+').':'.')+(r?' '+r:'.'),t&&!o&&m(o,a,'Missing expected exception'+r);var s='string'==typeof r,d=!t&&k.isError(o),l=!t&&o&&!a;if((d&&s&&w(o,a)||l)&&m(o,a,'Got unwanted exception'+r),t&&o&&a&&!w(o,a)||!t&&o)throw o}var k=a(95),C=Object.prototype.hasOwnProperty,T=Array.prototype.slice,E=function(){return'foo'===function t(){}.name}(),S=t.exports=h,A=/\s*function\s+([^\(\s]*)\s*/;S.AssertionError=function t(n){this.name='AssertionError',this.actual=n.actual,this.expected=n.expected,this.operator=n.operator,n.message?(this.message=n.message,this.generatedMessage=!1):(this.message=f(this),this.generatedMessage=!0);var a=n.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,a);else{var r=new Error;if(r.stack){var o=r.stack,s=l(a),d=o.indexOf('\n'+s);if(0<=d){var c=o.indexOf('\n',d+1);o=o.substring(c+1)}this.stack=o}}},k.inherits(S.AssertionError,Error),S.fail=m,S.ok=h,S.equal=function t(n,a,r){n!=a&&m(n,a,r,'==',S.equal)},S.notEqual=function t(n,a,r){n==a&&m(n,a,r,'!=',S.notEqual)},S.deepEqual=function t(n,a,r){g(n,a,!1)||m(n,a,r,'deepEqual',S.deepEqual)},S.deepStrictEqual=function t(n,a,r){g(n,a,!0)||m(n,a,r,'deepStrictEqual',S.deepStrictEqual)},S.notDeepEqual=function t(n,a,r){g(n,a,!1)&&m(n,a,r,'notDeepEqual',S.notDeepEqual)},S.notDeepStrictEqual=v,S.strictEqual=function t(n,a,r){n!==a&&m(n,a,r,'===',S.strictEqual)},S.notStrictEqual=function t(n,a,r){n===a&&m(n,a,r,'!==',S.notStrictEqual)},S.throws=function(t,n,a){_(!0,t,n,a)},S.doesNotThrow=function(t,n,a){_(!1,t,n,a)},S.ifError=function(t){if(t)throw t};var I=Object.keys||function(t){var n=[];for(var a in t)C.call(t,a)&&n.push(a);return n}}).call(n,a(4))},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=0,d=1,l=2,c=function(){function t(n,a){r(this,t),this.expr=n,this.mode=a||s,this.tokens=n&&'#'===n.charAt(0)?this.parseURIFragmentIdentifier(n):this.parseJSONString(n)}return o(t,[{key:'escape',value:function t(n){return n.replace(/~/g,'~0').replace(/\//g,'~1')}},{key:'unescape',value:function t(n){return n.replace(/~1/g,'/').replace(/~0/g,'~')}},{key:'parseJSONString',value:function t(n){if('string'!=typeof n)throw new Error('JSON Pointer must be a string');if(''===n)return[];if('/'!==n.charAt(0))throw new Error('Invalid JSON Pointer');return'/'===n?['']:n.substr(1).split('/').map(this.unescape)}},{key:'toJSONString',value:function t(){return'/'+this.tokens.map(this.escape).join('/')}},{key:'parseURIFragmentIdentifier',value:function t(n){if('string'!=typeof n)throw new Error('JSON Pointer must be a string');if('#'!==n.charAt(0))throw new Error('Invalid JSON Pointer URI Fragment Identifier');return this.parseJSONString(decodeURIComponent(n.substr(1)))}},{key:'toURIFragmentIdentifier',value:function t(){var n=this,a=this.tokens.map(function(t){return encodeURIComponent(n.escape(t))}).join('/');return'#/'+a}},{key:'get',value:function t(n){for(var a=n,r=this.tokens,o=0;o<r.length;o++){if(!a||void 0===a[r[o]]){if(this.mode!==s)return;throw new Error('Invalid JSON Pointer reference')}a=a[r[o]]}return a}},{key:'add',value:function t(n,a){for(var r=this.tokens,o=n,c=0,u;c<r.length;c++)if(u=r[c],c===r.length-1)'-'===u?o.push(a):Array.isArray(o)?o.splice(u,0,a):void 0!==a&&(o[u]=a);else if(!o[u])switch(this.mode){case s:throw new Error('Invalid JSON Pointer reference');case d:o=o[u]=parseInt(u)?[]:{};break;case l:return;default:throw new Error('Invalid pointer mode');}else o=o[u]}},{key:'replace',value:function t(n,a){for(var r=this.tokens,o=n,s=0,d;s<r.length;s++)d=r[s],s===r.length-1?o[d]=a:o[d]?o=o[d]:o=o[d]=parseInt(d)?[]:{}}},{key:'remove',value:function t(n){for(var a=this.tokens,r=n,o=0,s;o<a.length;o++){if(s=a[o],void 0===r||void 0===r[s])return;if(Array.isArray(r))return void r.splice(s,1);o===a.length-1&&delete r[s],r=r[s]}}}],[{key:'parse',value:function n(a){return new t(a)}}]),t}();t.exports=c},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=a(38),d=a(401),l=a(211),c=l.NotSupportedError,u=function(){function t(){r(this,t)}return o(t,null,[{key:'sign',value:function t(n,a,r){var o=d.normalize('sign',n);return o instanceof Error?Promise.reject(new c(n)):o.sign(a,r)}},{key:'verify',value:function t(n,a,r,o){var s=d.normalize('verify',n);return s instanceof Error?Promise.reject(new c(n)):s.verify(a,r,o)}},{key:'importKey',value:function t(n){var a=d.normalize('importKey',n.alg);return a.importKey(n)}}]),t}();t.exports=u},function(t,n,a){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var r=n.currentUrl=function t(){return window.location.href},o=n.currentUrlNoParams=function t(){return window.location.origin+window.location.pathname},s=n.navigateTo=function t(n){window.location.href=n},d=n.originOf=function t(n){return new URL(n).origin}},function(t,n,a){'use strict';/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */function r(t){if(!t||'string'!=typeof t)return!1;var n=f.exec(t),a=n&&c[n[1].toLowerCase()];return a&&a.charset?a.charset:n&&m.test(n[1])&&'UTF-8'}function o(t){if(!t||'string'!=typeof t)return!1;var a=-1===t.indexOf('/')?n.lookup(t):t;if(!a)return!1;if(-1===a.indexOf('charset')){var r=n.charset(a);r&&(a+='; charset='+r.toLowerCase())}return a}function s(t){if(!t||'string'!=typeof t)return!1;var a=f.exec(t),r=a&&n.extensions[a[1].toLowerCase()];return r&&r.length&&r[0]}function d(t){if(!t||'string'!=typeof t)return!1;var a=u('x.'+t).toLowerCase().substr(1);return!!a&&(n.types[a]||!1)}function l(t,n){var a=['nginx','apache',void 0,'iana'];Object.keys(c).forEach(function r(o){var s=c[o],d=s.extensions;if(d&&d.length){t[o]=d;for(var l=0,u;l<d.length;l++){if(u=d[l],n[u]){var f=a.indexOf(c[n[u]].source),m=a.indexOf(s.source);if('application/octet-stream'!==n[u]&&(f>m||f===m&&'application/'===n[u].substr(0,12)))continue}n[u]=o}}})}var c=a(435),u=a(437).extname,f=/^\s*([^;\s]*)(?:;|\s|$)/,m=/^text\//i;n.charset=r,n.charsets={lookup:r},n.contentType=o,n.extension=s,n.extensions=Object.create(null),n.lookup=d,n.types=Object.create(null),l(n.extensions,n.types)},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=a(6),s=function t(){r(this,t)};s.boolean=new o('http://www.w3.org/2001/XMLSchema#boolean'),s.dateTime=new o('http://www.w3.org/2001/XMLSchema#dateTime'),s.decimal=new o('http://www.w3.org/2001/XMLSchema#decimal'),s.double=new o('http://www.w3.org/2001/XMLSchema#double'),s.integer=new o('http://www.w3.org/2001/XMLSchema#integer'),s.langString=new o('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString'),s.string=new o('http://www.w3.org/2001/XMLSchema#string'),t.exports=s},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(31),c=a(39),u=a(64),f=a(40),m=a(32),h=a(6),g=a(12),b=a(87),y=a(66),v=a(67),w=function(t){function n(t,a,s,d){r(this,n);var l=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return l.termType=n.termType,l.statements=t||[],l.constraints=a||[],l.initBindings=s||[],l.optional=d||[],l}return s(n,t),d(n,[{key:'add',value:function t(n,a,r,o){return this.statements.push(new y(n,a,r,o))}},{key:'addStatement',value:function t(n){return this.statements.push(n)}},{key:'bnode',value:function t(n){return new l(n)}},{key:'bottomTypeURIs',value:function t(n){var a,r,o,s,d,l,c,u,f;for(d in a=[],n)if(n.hasOwnProperty(d)){for(f=n[d],u=this.each(void 0,this.sym('http://www.w3.org/2000/01/rdf-schema#subClassOf'),this.sym(d)),r=!0,s=0,l=u.length;s<l;s++)if(o=u[s],c=o.uri,c in n){r=!1;break}r&&(a[d]=f)}return a}},{key:'collection',value:function t(){return new u}},{key:'each',value:function t(n,a,r,o){var s=[],d=this.statementsMatching(n,a,r,o,!1),c,u,f,l,m,h,g,b,y;if(null==n)for(u=0,h=d.length;u<h;u++)c=d[u],s.push(c.subject);else if(null==a)for(f=0,g=d.length;f<g;f++)c=d[f],s.push(c.predicate);else if(null==r)for(l=0,b=d.length;l<b;l++)c=d[l],s.push(c.object);else if(null==o)for(m=0,y=d.length;m<y;m++)c=d[m],s.push(c.why);return s}},{key:'equals',value:function t(n){return!!n&&this.hashString()===n.hashString()}},{key:'findMembersNT',value:function n(a){var r,o,s,d,l,c,f,h,m,g,b,y,v,w,x,_,k,C,T,E,t;for(E in C={},C[a.toNT()]=!0,m={},y=this.transitiveClosure(C,this.sym('http://www.w3.org/2000/01/rdf-schema#subClassOf'),!0),y)if(y.hasOwnProperty(E)){for(v=this.statementsMatching(void 0,this.sym('http://www.w3.org/1999/02/22-rdf-syntax-ns#type'),this.fromNT(E)),r=0,s=v.length;r<s;r++)T=v[r],m[T.subject.toNT()]=T;for(w=this.each(void 0,this.sym('http://www.w3.org/2000/01/rdf-schema#domain'),this.fromNT(E)),o=0,d=w.length;o<d;o++)for(g=w[o],x=this.statementsMatching(void 0,g),(h=0,l=x.length);h<l;h++)T=x[h],m[T.subject.toNT()]=T;for(_=this.each(void 0,this.sym('http://www.w3.org/2000/01/rdf-schema#range'),this.fromNT(E)),b=0,c=_.length;b<c;b++)for(g=_[b],k=this.statementsMatching(void 0,g),(t=0,f=k.length);t<f;t++)T=k[t],m[T.object.toNT()]=T}return m}},{key:'findMemberURIs',value:function t(n){return this.NTtoURI(this.findMembersNT(n))}},{key:'findSubClassesNT',value:function t(n){var a={};return a[n.toNT()]=!0,this.transitiveClosure(a,this.sym('http://www.w3.org/2000/01/rdf-schema#subClassOf'),!0)}},{key:'findSuperClassesNT',value:function t(n){var a={};return a[n.toNT()]=!0,this.transitiveClosure(a,this.sym('http://www.w3.org/2000/01/rdf-schema#subClassOf'),!1)}},{key:'findTypesNT',value:function t(n){var a,r,o,s,d,l,c,u,f,m,h,g,b,y,v,w,x;for(h='http://www.w3.org/1999/02/22-rdf-syntax-ns#type',x=[],g=this.statementsMatching(n,void 0,void 0),(r=0,s=g.length);r<s;r++)if(w=g[r],w.predicate.uri===h)x[w.object.toNT()]=w;else for(b=this.each(w.predicate,this.sym('http://www.w3.org/2000/01/rdf-schema#domain')),o=0,d=b.length;o<d;o++)m=b[o],x[m.toNT()]=w;for(y=this.statementsMatching(void 0,void 0,n),u=0,l=y.length;u<l;u++)for(w=y[u],v=this.each(w.predicate,this.sym('http://www.w3.org/2000/01/rdf-schema#range')),(f=0,c=v.length);f<c;f++)a=v[f],x[a.toNT()]=w;return this.transitiveClosure(x,this.sym('http://www.w3.org/2000/01/rdf-schema#subClassOf'),!1)}},{key:'findTypeURIs',value:function t(n){return this.NTtoURI(this.findTypesNT(n))}},{key:'connectedStatements',value:function t(n,a,r){r=r||[];for(var o=[n],s=[],d=[],l=[],c=this,u=function t(n){var u=function t(n){'BlankNode'!==n.termType||s[n.value]||(s[n.value]=!0,o.push(n))},f=c.statementsMatching(null,null,n,a).concat(c.statementsMatching(n,null,null,a));f=f.filter(function(t){if(r[t.predicate.uri])return!1;var n=t.toNT();return!d[n]&&(d[n]=!0,!0)}),f.forEach(function(t,n){u(t.subject),u(t.object)}),l=l.concat(f)};o.length;)u(o.shift());return l}},{key:'formula',value:function t(){return new n}},{key:'fromNT',value:function t(n){var a,r,o,s;switch(n[0]){case'<':return this.sym(n.slice(1,-1));case'"':if(o=void 0,a=void 0,r=n.lastIndexOf('"'),r<n.length-1)if('@'===n[r+1])o=n.slice(r+2);else if('^^'===n.slice(r+1,r+3))a=this.fromNT(n.slice(r+3));else throw new Error('Can\'t convert string from NT: '+n);return n=n.slice(1,r),n=n.replace(/\\"/g,'"'),n=n.replace(/\\n/g,'\n'),n=n.replace(/\\\\/g,'\\'),this.literal(n,o,a);case'_':return new l(n.slice(2));case'?':return new v(n.slice(1));}throw new Error('Can\'t convert from NT: '+n)}},{key:'holds',value:function t(n,a,r,o){var d;if(1===arguments.length){if(!n)return!0;if(n instanceof Array){for(d=0;d<n.length;d++)if(!this.holds(n[d]))return!1;return!0}if(n instanceof y)return this.holds(n.subject,n.predicate,n.object,n.why);if(n.statements)return this.holds(n.statements)}var l=this.anyStatementMatching(n,a,r,o);return null!=l}},{key:'holdsStatement',value:function t(n){return this.holds(n.subject,n.predicate,n.object,n.why)}},{key:'list',value:function t(n){var a=new u;return n.forEach(function(t){a.append(t)}),a}},{key:'literal',value:function t(n,a,r){return new f(''+n,a,r)}},{key:'NTtoURI',value:function n(a){var t={},r,o;for(r in a)a.hasOwnProperty(r)&&(o=a[r],'<'===r[0]&&(t[r.slice(1,-1)]=o));return t}},{key:'serialize',value:function t(n,a,r){var o,s,d;switch(d=b(this),d.suggestNamespaces(this.namespaces),d.setBase(n),s=r?this.statementsMatching(void 0,void 0,void 0,r):this.statements,null==a?'text/n3':a){case'application/rdf+xml':o=d.statementsToXML(s);break;case'text/n3':case'text/turtle':o=d.statementsToN3(s);break;default:throw new Error('serialize: Content-type '+a+' not supported.');}return o}},{key:'substitute',value:function t(a){var r=this.statements.map(function(t){return t.substitute(a)});console.log('Formula subs statmnts:'+r);var o=new n;return o.add(r),console.log('indexed-form subs formula:'+o),o}},{key:'sym',value:function t(n,a){if(a)throw new Error('This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.');return new h(n)}},{key:'the',value:function t(n,a,r,o){var s=this.any(n,a,r,o);return null==s&&m.error('No value found for the() {'+n+' '+a+' '+r+'}.'),s}},{key:'transitiveClosure',value:function n(a,r,o){var d={},l,c,u,f,s,m;Object.assign(d,a);for(var t={};!0;){if(m=function(){for(var t in d)if(d.hasOwnProperty(t))return t}(),null==m)return t;for(s=o?this.each(void 0,r,this.fromNT(m)):this.each(this.fromNT(m),r),c=0,u=s.length;c<u;c++)(l=s[c],f=l.toNT(),!(f in t))&&(f in d||(d[f]=d[m]));t[m]=d[m],delete d[m]}}},{key:'topTypeURIs',value:function t(a){var r,o,s,d,l,n,c,u;for(s in c=[],a)if(a.hasOwnProperty(s)){for(u=a[s],l=0,n=this.each(this.sym(s),this.sym('http://www.w3.org/2000/01/rdf-schema#subClassOf')),(r=0,d=n.length);r<d;r++)if(o=n[r],'http://www.w3.org/2000/01/rdf-schema#Resource'!==o.uri){l++;break}l||(c[s]=u)}return c['http://www.w3.org/2000/01/rdf-schema#Resource']&&delete c['http://www.w3.org/2000/01/rdf-schema#Resource'],c['http://www.w3.org/2002/07/owl#Thing']&&delete c['http://www.w3.org/2002/07/owl#Thing'],c}},{key:'toString',value:function t(){return'{'+this.statements.join('\n')+'}'}},{key:'whether',value:function t(n,a,r,o){return this.statementsMatching(n,a,r,o,!1).length}}]),n}(g);w.termType='Graph',w.prototype.classOrder=c.Graph,w.prototype.isVar=0,w.prototype.ns=a(50),w.prototype.variable=function(t){return new v(t)},t.exports=w},function(t,n,a){'use strict';function r(t,n){var a=l.Parser(),r=l.Writer({format:'N-Quads'}),o;s.waterfall([function(n){a.parse(t,n)},function(t,n,a){null!==t&&r.addTriple(t),'function'==typeof a&&r.end(a)},function(t,n){try{d.fromRDF(t,{format:'application/nquads'},n)}catch(t){n(t)}},function(t,a){o=JSON.stringify(t),n(null,o)}],function(t,a){n(t,o)})}function o(t,n){var a=l.Parser(),r=l.Writer({format:'N-Quads'}),o;s.waterfall([function(n){a.parse(t,n)},function(t,n,a){null!==t&&r.addTriple(t),'function'==typeof a&&r.end(a)},function(t,a){o=t,n(null,o)}],function(t,a){n(t,o)})}t.exports.convertToJson=r,t.exports.convertToNQuads=o;var s=a(226),d=a(134),l=a(136)},function(t,n,a){(function(r,o,s,d){var l,c;/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2015 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */(function(){var u='undefined'!=typeof r&&r.versions&&r.versions.node,f=!u&&('undefined'!=typeof window||'undefined'!=typeof self);f&&'undefined'==typeof o&&('undefined'==typeof window?'undefined'==typeof self?'undefined'!=typeof $&&(o=$):o=self:o=window);var m=function(t){function n(){}function l(t){for(var n=[],a=Object.keys(t).sort(),r=0;r<a.length;++r){var o=a[r],s=t[o];W(s)||(s=[s]);for(var d=0,l;d<s.length;++d)if(l=s[d],null!==l){if(!G(l))throw new De('Invalid JSON-LD syntax; language map values must be strings.','jsonld.SyntaxError',{code:'invalid language map value',languageMap:t});n.push({"@value":l,"@language":o.toLowerCase()})}}return n}function c(t,n){if(W(n))for(var a=0;a<n.length;++a)n[a]=c(t,n[a]);else if(ne(n))n['@list']=c(t,n['@list']);else if(z(n)){ae(n)&&(n['@id']=t.getId(n['@id']));for(var r=Object.keys(n).sort(),o=0,s;o<r.length;++o)s=r[o],'@id'!==s&&(n[s]=c(t,n[s]))}return n}function m(n,a,r){if(null===r||void 0===r)return null;var o=D(n,a,{vocab:!0});if('@id'===o)return D(n,r,{base:!0});if('@type'===o)return D(n,r,{vocab:!0,base:!0});var s=t.getContextValue(n,a,'@type');if('@id'===s||'@graph'===o&&G(r))return{"@id":D(n,r,{base:!0})};if('@vocab'===s)return{"@id":D(n,r,{vocab:!0,base:!0})};if(F(o))return r;var d={};if(null!==s)d['@type']=s;else if(G(r)){var l=t.getContextValue(n,a,'@language');null!==l&&(d['@language']=l)}return-1===['boolean','number','string'].indexOf(typeof r)&&(r=r.toString()),d['@value']=r,d}function h(t,n,a){for(var r=[],o=Object.keys(t).sort(),s=0;s<o.length;++s)for(var d=o[s],l=t[d],c=Object.keys(l).sort(),u=0;u<c.length;++u){var f=c[u],m=l[f];if('@type'===f)f=Ne;else if(F(f))continue;for(var h=0;h<m.length;++h){var y=m[h],v={};if(v.type=0===d.indexOf('_:')?'blank node':'IRI',v.value=d,!!re(d)){var w={type:0===f.indexOf('_:')?'blank node':'IRI',value:f};if(re(f)&&('blank node'!==w.type||a.produceGeneralizedRdf))if(ne(y))g(y['@list'],n,v,w,r);else{var x=b(y);x&&r.push({subject:v,predicate:w,object:x})}}}}return r}function g(t,n,a,r,o){for(var s={type:'IRI',value:Se},d={type:'IRI',value:Ae},l={type:'IRI',value:Ie},c=0;c<t.length;++c){var u=t[c],f={type:'blank node',value:n.getId()};o.push({subject:a,predicate:r,object:f}),a=f,r=s;var m=b(u);m&&o.push({subject:a,predicate:r,object:m}),r=d}o.push({subject:a,predicate:r,object:l})}function b(t){var n={};if(te(t)){n.type='literal';var a=t['@value'],r=t['@type']||null;Z(a)?(n.value=a.toString(),n.datatype=r||xe):K(a)||r===_e?(!K(a)&&(a=parseFloat(a)),n.value=a.toExponential(15).replace(/(\d)0*e\+?/,'$1E'),n.datatype=r||_e):J(a)?(n.value=a.toFixed(0),n.datatype=r||ke):'@language'in t?(n.value=a,n.datatype=r||Oe,n.language=t['@language']):(n.value=a,n.datatype=r||Ce)}else{var o=z(t)?t['@id']:t;n.type=0===o.indexOf('_:')?'blank node':'IRI',n.value=o}return'IRI'!==n.type||re(n.value)?n:null}function y(t,n){if('IRI'===t.type||'blank node'===t.type)return{"@id":t.value};var a={"@value":t.value};if(t.language)a['@language']=t.language;else{var r=t.datatype;if(r||(r=Ce),n){if(r===xe)'true'===a['@value']?a['@value']=!0:'false'===a['@value']&&(a['@value']=!1);else if(X(a['@value']))if(r===ke){var o=parseInt(a['@value'],10);o.toFixed(0)===a['@value']&&(a['@value']=o)}else r===_e&&(a['@value']=parseFloat(a['@value']));-1===[xe,ke,_e,Ce].indexOf(r)&&(a['@type']=r)}else r!==Ce&&(a['@type']=r)}return a}function v(t,n){for(var a=['subject','predicate','object'],r=0,o;r<a.length;++r)if(o=a[r],t[o].type!==n[o].type||t[o].value!==n[o].value)return!1;return t.object.language===n.object.language&&t.object.datatype===n.object.datatype}function w(n,a,r,s,d,l){if(W(n)){for(var c=0;c<n.length;++c)w(n[c],a,r,s,void 0,l);return}if(!z(n))return void(l&&l.push(n));if(te(n)){if('@type'in n){var u=n['@type'];0===u.indexOf('_:')&&(n['@type']=u=s.getId(u))}return void(l&&l.push(n))}if('@type'in n)for(var f=n['@type'],c=0,u;c<f.length;++c)u=f[c],0===u.indexOf('_:')&&s.getId(u);Y(d)&&(d=ae(n)?s.getId(n['@id']):n['@id']),l&&l.push({"@id":d});var m=a[r],h=m[d]=m[d]||{};h['@id']=d;for(var b=Object.keys(n).sort(),y=0,v;y<b.length;++y)if(v=b[y],'@id'!==v){if('@reverse'===v){var x={"@id":d},_=n['@reverse'];for(var k in _)for(var C=_[k],T=0;T<C.length;++T){var E=C[T],S=E['@id'];ae(E)&&(S=s.getId(S)),w(E,a,r,s,S),t.addValue(m[S],k,x,{propertyIsArray:!0,allowDuplicate:!1})}continue}if('@graph'===v){d in a||(a[d]={});var A='@merged'===r?r:d;w(n[v],a,A,s);continue}if('@type'!==v&&F(v)){if('@index'===v&&v in h&&(n[v]!==h[v]||n[v]['@id']!==h[v]['@id']))throw new De('Invalid JSON-LD syntax; conflicting @index property detected.','jsonld.SyntaxError',{code:'conflicting indexes',subject:h});h[v]=n[v];continue}var g=n[v];if(0===v.indexOf('_:')&&(v=s.getId(v)),0===g.length){t.addValue(h,v,[],{propertyIsArray:!0});continue}for(var I=0,N;I<g.length;++I)if(N=g[I],'@type'===v&&(N=0===N.indexOf('_:')?s.getId(N):N),Q(N)||ee(N)){var o=ae(N)?s.getId(N['@id']):N['@id'];t.addValue(h,v,{"@id":o},{propertyIsArray:!0,allowDuplicate:!1}),w(N,a,r,s,o)}else if(ne(N)){var j=[];w(N['@list'],a,r,s,d,j),N={"@list":j},t.addValue(h,v,N,{propertyIsArray:!0,allowDuplicate:!1})}else w(N,a,r,s,d),t.addValue(h,v,N,{propertyIsArray:!0,allowDuplicate:!1})}}function x(t){for(var n=t['@default'],a=Object.keys(t).sort(),r=0,o;r<a.length;++r)if(o=a[r],'@default'!==o){var s=t[o],d=n[o];d?!('@graph'in d)&&(d['@graph']=[]):n[o]=d={"@id":o,"@graph":[]};for(var l=d['@graph'],c=Object.keys(s).sort(),u=0,f;u<c.length;++u)f=s[c[u]],ee(f)||l.push(f)}return n}function _(t,a,r,s,d){E(r),r=r[0];for(var l=t.options,c={embed:T(r,l,'embed'),explicit:T(r,l,'explicit'),requireAll:T(r,l,'requireAll')},u=S(t,a,r,c),f=Object.keys(u).sort(),m=0;m<f.length;++m){var h=f[m],g=u[h];if('@link'===c.embed&&h in t.link){N(s,d,t.link[h]);continue}null===d&&(t.uniqueEmbeds={});var b={};if(b['@id']=h,t.link[h]=b,'@never'===c.embed||C(g,t.subjectStack)){N(s,d,b);continue}'@last'===c.embed&&(h in t.uniqueEmbeds&&I(t,h),t.uniqueEmbeds[h]={parent:s,property:d}),t.subjectStack.push(g);for(var y=Object.keys(g).sort(),v=0,w;v<y.length;v++){if(w=y[v],F(w)){b[w]=ie(g[w]);continue}if(!c.explicit||w in r)for(var x=g[w],A=0,j;A<x.length;++A){if(j=x[A],ne(j)){var o={"@list":[]};N(b,w,o);var R=j['@list'];for(var L in R)if(j=R[L],ee(j)){var n=w in r?r[w][0]['@list']:k(c);_(t,[j['@id']],n,o,'@list')}else N(o,'@list',ie(j));continue}if(ee(j)){var n=w in r?r[w]:k(c);_(t,[j['@id']],n,b,w)}else N(b,w,ie(j))}}for(var y=Object.keys(r).sort(),v=0,w;v<y.length;++v)if(w=y[v],!F(w)){var O=r[w][0],P=T(O,l,'omitDefault');if(!P&&!(w in b)){var M='@null';'@default'in O&&(M=ie(O['@default'])),W(M)||(M=[M]),b[w]=[{"@preserve":M}]}}N(s,d,b),t.subjectStack.pop()}}function k(t){var n={};for(var a in t)void 0!==t[a]&&(n['@'+a]=[t[a]]);return[n]}function C(t,n){for(var a=n.length-1;0<=a;--a)if(n[a]['@id']===t['@id'])return!0;return!1}function T(t,n,a){var r='@'+a,o=r in t?t[r][0]:n[a];return'embed'===a&&(!0===o?o='@last':!1===o?o='@never':'@always'!==o&&'@never'!==o&&'@link'!==o&&(o='@last')),o}function E(t){if(!W(t)||1!==t.length||!z(t[0]))throw new De('Invalid JSON-LD syntax; a JSON-LD frame must be a single object.','jsonld.SyntaxError',{frame:t})}function S(t,n,a,r){for(var o={},s=0;s<n.length;++s){var d=n[s],l=t.subjects[d];A(l,a,r)&&(o[d]=l)}return o}function A(n,a,r){if('@type'in a&&!(1===a['@type'].length&&z(a['@type'][0]))){for(var o=a['@type'],s=0;s<o.length;++s)if(t.hasValue(n,'@type',o[s]))return!0;return!1}var d=!0,l=!1;for(var c in a){if(F(c)){if('@id'!=c&&'@type'!=c)continue;if(d=!1,'@id'==c&&G(a[c])){if(n[c]!==a[c])return!1;l=!0;continue}}if(d=!1,c in n){if(W(a[c])&&0===a[c].length&&void 0!==n[c])return!1;l=!0;continue}var u=W(a[c])&&z(a[c][0])&&'@default'in a[c][0];if(r.requireAll&&!u)return!1}return d||l}function I(n,a){var r=n.uniqueEmbeds,o=r[a],s=o.parent,d=o.property,l={"@id":a};if(W(s)){for(var c=0;c<s.length;++c)if(t.compareValues(s[c],l)){s[c]=l;break}}else{var u=W(s[d]);t.removeValue(s,d,l,{propertyIsArray:u}),t.addValue(s,d,l,{propertyIsArray:u})}var f=function(t){for(var n=Object.keys(r),a=0,o;a<n.length;++a)o=n[a],o in r&&z(r[o].parent)&&r[o].parent['@id']===t&&(delete r[o],f(o))};f(a)}function N(n,a,r){z(n)?t.addValue(n,a,r,{propertyIsArray:!0}):n.push(r)}/**
 * Removes the @preserve keywords as the last step of the framing algorithm.
 *
 * @param ctx the active context used to compact the input.
 * @param input the framed, compacted output.
 * @param options the compaction options used.
 *
 * @return the resulting output.
 */function j(n,a,r){if(W(a)){for(var o=[],s=0,d;s<a.length;++s)d=j(n,a[s],r),null!==d&&o.push(d);a=o}else if(z(a)){// remove @preserve
if('@preserve'in a)return'@null'===a['@preserve']?null:a['@preserve'];if(te(a))return a;if(ne(a))return a['@list']=j(n,a['@list'],r),a;var l=O(n,'@id');if(l in a){var c=a[l];if(c in r.link){var u=r.link[c].indexOf(a);if(-1===u)r.link[c].push(a);else return r.link[c][u]}else r.link[c]=[a]}for(var f in a){var d=j(n,a[f],r),m=t.getContextValue(n,f,'@container');r.compactArrays&&W(d)&&1===d.length&&null===m&&(d=d[0]),a[f]=d}}return a}function R(t,n){return t.length<n.length?-1:n.length<t.length?1:t===n?0:t<n?-1:1}function L(t,n,a,r,o,s){null===s&&(s='@null');var d=[];if(('@id'===s||'@reverse'===s)&&ee(a)){'@reverse'===s&&d.push('@reverse');var l=O(t,a['@id'],null,{vocab:!0});l in t.mappings&&t.mappings[l]&&t.mappings[l]['@id']===a['@id']?d.push.apply(d,['@vocab','@id']):d.push.apply(d,['@id','@vocab'])}else d.push(s);d.push('@none');for(var c=t.inverse[n],u=0,f;u<r.length;++u)if(f=r[u],!!(f in c))for(var m=c[f][o],h=0,g;h<d.length;++h)if(g=d[h],!!(g in m))return m[g];return null}function O(t,n,a,r,o){if(null===n)return n;Y(a)&&(a=null),Y(o)&&(o=!1),r=r||{};var s=t.getInverse();if(F(n))return n in s?s[n]['@none']['@type']['@none']:n;if(r.vocab&&n in s){var d=t['@language']||'@none',l=[];z(a)&&'@index'in a&&l.push('@index');var c='@language',u='@null';if(o)c='@type',u='@reverse',l.push('@set');else if(ne(a)){'@index'in a||l.push('@list');for(var f=a['@list'],m=0===f.length?d:null,h=null,g=0;g<f.length;++g){var b=f[g],y='@none',v='@none';if(te(b)?'@language'in b?y=b['@language']:'@type'in b?v=b['@type']:y='@null':v='@id',null===m?m=y:y!==m&&te(b)&&(m='@none'),null==h?h=v:v!==h&&(h='@none'),'@none'===m&&'@none'===h)break}m=m||'@none',h=h||'@none','@none'===h?u=m:(c='@type',u=h)}else te(a)?'@language'in a&&!('@index'in a)?(l.push('@language'),u=a['@language']):'@type'in a&&(c='@type',u=a['@type']):(c='@type',u='@id'),l.push('@set');l.push('@none');var w=L(t,n,a,l,c,u);if(null!==w)return w}if(r.vocab&&'@vocab'in t){var x=t['@vocab'];if(0===n.indexOf(x)&&n!==x){var _=n.substr(x.length);if(!(_ in t.mappings))return _}}for(var k=null,C=0,T=[],E=t.fastCurieMap,S=n.length-1;C<S&&n[C]in E;++C)E=E[n[C]],''in E&&T.push(E[''][0]);for(var g=T.length-1;0<=g;--g)for(var A=T[g],I=A.terms,N=0;N<I.length;++N){var j=I[N]+':'+n.substr(A.iri.length),O=!(j in t.mappings)||null===a&&t.mappings[j]['@id']===n;O&&(null==k||0>R(j,k))&&(k=j)}return null===k?r.vocab?n:U(t['@base'],n):k}function P(n,a,r){if(te(r)){var o=t.getContextValue(n,a,'@type'),s=t.getContextValue(n,a,'@language'),d=t.getContextValue(n,a,'@container'),l='@index'in r&&'@index'!==d;if(!l&&(r['@type']===o||r['@language']===s))return r['@value'];var c=Object.keys(r).length,u=1===c||2===c&&'@index'in r&&!l,f='@language'in n,m=G(r['@value']),h=n.mappings[a]&&null===n.mappings[a]['@language'];if(u&&(!f||!m||h))return r['@value'];var g={};return l&&(g[O(n,'@index')]=r['@index']),'@type'in r?g[O(n,'@type')]=O(n,r['@type'],null,{vocab:!0}):'@language'in r&&(g[O(n,'@language')]=r['@language']),g[O(n,'@value')]=r['@value'],g}var b=D(n,a,{vocab:!0}),o=t.getContextValue(n,a,'@type'),y=O(n,r['@id'],null,{vocab:'@vocab'===o});if('@id'===o||'@vocab'===o||'@graph'===b)return y;var g={};return g[O(n,'@id')]=y,g}function M(t,n,a,r){if(a in r){if(r[a])return;throw new De('Cyclical context definition detected.','jsonld.CyclicalContext',{code:'cyclic IRI mapping',context:n,term:a})}if(r[a]=!1,F(a))throw new De('Invalid JSON-LD syntax; keywords cannot be overridden.','jsonld.SyntaxError',{code:'keyword redefinition',context:n,term:a});if(''===a)throw new De('Invalid JSON-LD syntax; a term cannot be an empty string.','jsonld.SyntaxError',{code:'invalid term definition',context:n});t.mappings[a]&&delete t.mappings[a];var o=n[a];if(null===o||z(o)&&null===o['@id'])return t.mappings[a]=null,void(r[a]=!0);if(G(o)&&(o={"@id":o}),!z(o))throw new De('Invalid JSON-LD syntax; @context property values must be strings or objects.','jsonld.SyntaxError',{code:'invalid term definition',context:n});var s=t.mappings[a]={};if(s.reverse=!1,'@reverse'in o){if('@id'in o)throw new De('Invalid JSON-LD syntax; a @reverse term definition must not contain @id.','jsonld.SyntaxError',{code:'invalid reverse property',context:n});var d=o['@reverse'];if(!G(d))throw new De('Invalid JSON-LD syntax; a @context @reverse value must be a string.','jsonld.SyntaxError',{code:'invalid IRI mapping',context:n});var l=D(t,d,{vocab:!0,base:!1},n,r);if(!re(l))throw new De('Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.','jsonld.SyntaxError',{code:'invalid IRI mapping',context:n});s['@id']=l,s.reverse=!0}else if('@id'in o){var l=o['@id'];if(!G(l))throw new De('Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.','jsonld.SyntaxError',{code:'invalid IRI mapping',context:n});if(l!==a){if(l=D(t,l,{vocab:!0,base:!1},n,r),!re(l)&&!F(l))throw new De('Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.','jsonld.SyntaxError',{code:'invalid IRI mapping',context:n});s['@id']=l}}var c=a.indexOf(':');if(s._termHasColon=-1!==c,!('@id'in s))if(s._termHasColon){var u=a.substr(0,c);if(u in n&&M(t,n,u,r),t.mappings[u]){var f=a.substr(c+1);s['@id']=t.mappings[u]['@id']+f}else s['@id']=a}else{if(!('@vocab'in t))throw new De('Invalid JSON-LD syntax; @context terms must define an @id.','jsonld.SyntaxError',{code:'invalid IRI mapping',context:n,term:a});s['@id']=t['@vocab']+a}if(r[a]=!0,'@type'in o){var m=o['@type'];if(!G(m))throw new De('Invalid JSON-LD syntax; an @context @type values must be a string.','jsonld.SyntaxError',{code:'invalid type mapping',context:n});if('@id'!==m&&'@vocab'!==m){if(m=D(t,m,{vocab:!0,base:!1},n,r),!re(m))throw new De('Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.','jsonld.SyntaxError',{code:'invalid type mapping',context:n});if(0===m.indexOf('_:'))throw new De('Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.','jsonld.SyntaxError',{code:'invalid type mapping',context:n})}s['@type']=m}if('@container'in o){var h=o['@container'];if('@list'!==h&&'@set'!==h&&'@index'!==h&&'@language'!==h)throw new De('Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.','jsonld.SyntaxError',{code:'invalid container mapping',context:n});if(s.reverse&&'@index'!==h&&'@set'!==h&&null!==h)throw new De('Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.','jsonld.SyntaxError',{code:'invalid reverse property',context:n});s['@container']=h}if('@language'in o&&!('@type'in o)){var g=o['@language'];if(null!==g&&!G(g))throw new De('Invalid JSON-LD syntax; @context @language value must be a string or null.','jsonld.SyntaxError',{code:'invalid language mapping',context:n});null!==g&&(g=g.toLowerCase()),s['@language']=g}// disallow aliasing @context and @preserve
var l=s['@id'];if('@context'===l||'@preserve'===l)throw new De('Invalid JSON-LD syntax; @context and @preserve cannot be aliased.','jsonld.SyntaxError',{code:'invalid keyword alias',context:n})}function D(n,a,r,o,s){if(null===a||F(a))return a;if(a+='',o&&a in o&&!0!==s[a]&&M(n,o,a,s),r=r||{},r.vocab){var d=n.mappings[a];if(null===d)return null;if(d)return d['@id']}var l=a.indexOf(':');if(-1!==l){var c=a.substr(0,l),u=a.substr(l+1);if('_'===c||0===u.indexOf('//'))return a;o&&c in o&&M(n,o,c,s);var d=n.mappings[c];return d?d['@id']+u:a}if(r.vocab&&'@vocab'in n)return n['@vocab']+a;var f=a;return r.base&&(f=t.prependBase(n['@base'],f)),f}function B(n,a){if(null===n)return a;if(-1!==a.indexOf(':'))return a;G(n)&&(n=t.url.parse(n||''));var r=t.url.parse(a),o={protocol:n.protocol||''};if(null!==r.authority)o.authority=r.authority,o.path=r.path,o.query=r.query;else if(o.authority=n.authority,''===r.path)o.path=n.path,o.query=null===r.query?n.query:r.query;else{if(0===r.path.indexOf('/'))o.path=r.path;else{var s=n.path;''!==r.path&&(s=s.substr(0,s.lastIndexOf('/')+1),0<s.length&&'/'!==s.substr(-1)&&(s+='/'),s+=r.path),o.path=s}o.query=r.query}o.path=fe(o.path,!!o.authority);var d=o.protocol;return null!==o.authority&&(d+='//'+o.authority),d+=o.path,null!==o.query&&(d+='?'+o.query),null!==r.fragment&&(d+='#'+r.fragment),''===d&&(d='./'),d}function U(n,a){if(null===n)return a;G(n)&&(n=t.url.parse(n||''));var r='';if(''===n.href?a.indexOf('//')&&(r+='//'):r+=(n.protocol||'')+'//'+(n.authority||''),0!==a.indexOf(r))return a;for(var o=t.url.parse(a.substr(r.length)),s=n.normalizedPath.split('/'),d=o.normalizedPath.split('/'),l=o.fragment||o.query?0:1;0<s.length&&d.length>l&&s[0]===d[0];)s.shift(),d.shift();var c='';if(0<s.length){s.pop();for(var u=0;u<s.length;++u)c+='../'}return c+=d.join('/'),null!==o.query&&(c+='?'+o.query),null!==o.fragment&&(c+='#'+o.fragment),''===c&&(c='./'),c}function q(n){function a(){var t=this;if(t.inverse)return t.inverse;for(var n=t.inverse={},a=t.fastCurieMap={},s={},d=t['@language']||'@none',l=t.mappings,c=Object.keys(l).sort(R),u=0;u<c.length;++u){var f=c[u],m=l[f];if(null!==m){var h=m['@container']||'@none',g=m['@id'];W(g)||(g=[g]);for(var b=0;b<g.length;++b){var y=g[b],v=n[y],w=F(y);if(!!v)w||m._termHasColon||s[y].push(f);else if(n[y]=v={},!w&&!m._termHasColon){s[y]=[f];var x={iri:y,terms:s[y]};y[0]in a?a[y[0]].push(x):a[y[0]]=[x]}if(v[h]||(v[h]={"@language":{},"@type":{}}),v=v[h],m.reverse)o(m,f,v['@type'],'@reverse');else if('@type'in m)o(m,f,v['@type'],m['@type']);else if('@language'in m){var _=m['@language']||'@null';o(m,f,v['@language'],_)}else o(m,f,v['@language'],d),o(m,f,v['@type'],'@none'),o(m,f,v['@language'],'@none')}}}for(var k in a)r(a,k,1);return n}function r(t,n,a){for(var o=t[n],s=t[n]={},d=0,l,c;d<o.length;++d)l=o[d].iri,c=a>=l.length?'':l[a],c in s?s[c].push(o[d]):s[c]=[o[d]];for(var n in s)''!==n&&r(s,n,a+1)}function o(t,n,a,r){r in a||(a[r]=n)}function s(){var t={};return t['@base']=this['@base'],t.mappings=ie(this.mappings),t.clone=this.clone,t.inverse=null,t.getInverse=this.getInverse,'@language'in this&&(t['@language']=this['@language']),'@vocab'in this&&(t['@vocab']=this['@vocab']),t}var d=t.url.parse(n.base||'');return{"@base":d,mappings:{},inverse:null,getInverse:a,clone:s}}function F(t){return!!G(t)&&('@base'===t||'@context'===t||'@container'===t||'@default'===t||'@embed'===t||'@explicit'===t||'@graph'===t||'@id'===t||'@index'===t||'@language'===t||'@list'===t||'@omitDefault'===t||'@preserve'===t||'@requireAll'===t||'@reverse'===t||'@set'===t||'@type'===t||'@value'===t||'@vocab'===t)}function z(t){return'[object Object]'===Object.prototype.toString.call(t)}function H(t){return z(t)&&0===Object.keys(t).length}function W(t){return Array.isArray(t)}function V(t){if(!(G(t)||H(t))){var n=!1;if(W(t)){n=!0;for(var a=0;a<t.length;++a)if(!G(t[a])){n=!1;break}}if(!n)throw new De('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.','jsonld.SyntaxError',{code:'invalid type value',value:t})}}function G(t){return'string'==typeof t||'[object String]'===Object.prototype.toString.call(t)}function J(t){return'number'==typeof t||'[object Number]'===Object.prototype.toString.call(t)}function K(t){return J(t)&&-1!==(t+'').indexOf('.')}function X(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Z(t){return'boolean'==typeof t||'[object Boolean]'===Object.prototype.toString.call(t)}function Y(t){return'undefined'==typeof t}function Q(t){var n=!1;if(z(t)&&!('@value'in t||'@set'in t||'@list'in t)){var a=Object.keys(t).length;n=1<a||!('@id'in t)}return n}function ee(t){return z(t)&&1===Object.keys(t).length&&'@id'in t}function te(t){return z(t)&&'@value'in t}function ne(t){return z(t)&&'@list'in t}function ae(t){var n=!1;return z(t)&&('@id'in t?n=0===t['@id'].indexOf('_:'):n=0===Object.keys(t).length||!('@value'in t||'@set'in t||'@list'in t)),n}function re(t){return G(t)&&-1!==t.indexOf(':')}function ie(t){if(t&&'object'==typeof t){var n;if(W(t)){n=[];for(var a=0;a<t.length;++a)n[a]=ie(t[a])}else if(z(t))for(var r in n={},t)n[r]=ie(t[r]);else n=t.toString();return n}return t}function oe(n,a,r,o){var s=Object.keys(a).length;if(W(n)){for(var d=0;d<n.length;++d)oe(n[d],a,r,o);return s<Object.keys(a).length}if(z(n)){for(var l in n){if('@context'!=l){oe(n[l],a,r,o);continue}var c=n[l];if(W(c))for(var u=c.length,d=0,f;d<u;++d)f=c[d],G(f)&&(f=t.prependBase(o,f),r?(f=a[f],W(f)?(Array.prototype.splice.apply(c,[d,1].concat(f)),d+=f.length-1,u=c.length):c[d]=f):!(f in a)&&(a[f]=!1));else G(c)&&(c=t.prependBase(o,c),r?n[l]=a[c]:!(c in a)&&(a[c]=!1))}return s<Object.keys(a).length}return!1}function se(t,n,a){var r=null,o=n.documentLoader,s=function(t,n,a,o,d){if(Object.keys(n).length>Me)return r=new De('Maximum number of @context URLs exceeded.','jsonld.ContextUrlError',{code:'loading remote context failed',max:Me}),d(r);var l={},c=function(){oe(t,l,!0,o),d(null,t)};if(!oe(t,l,!1,o))return c();var u=[];for(var f in l)!1===l[f]&&u.push(f);for(var m=u.length,h=0;h<u.length;++h)(function(t){if(t in n)return r=new De('Cyclical @context URLs detected.','jsonld.ContextUrlError',{code:'recursive context inclusion',url:t}),d(r);var o=ie(n);o[t]=!0;var u=function(n,u){if(!r){var f=u?u.document:null;if(!n&&G(f))try{f=JSON.parse(f)}catch(t){n=t}return n?n=new De('Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.','jsonld.InvalidUrl',{code:'loading remote context failed',url:t,cause:n}):!z(f)&&(n=new De('Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.','jsonld.InvalidUrl',{code:'invalid remote context',url:t,cause:n})),n?(r=n,d(r)):void(f='@context'in f?{"@context":f['@context']}:{"@context":{}},u.contextUrl&&(!W(f['@context'])&&(f['@context']=[f['@context']]),f['@context'].push(u.contextUrl)),s(f,o,a,t,function(n,a){return n?d(n):void(l[t]=a['@context'],m-=1,0===m&&c())}))}},f=a(t,u);f&&'then'in f&&f.then(u.bind(null,null),u)})(u[h])};s(t,{},o,n.base,a)}function de(t){for(var n='(?:<([^:]+:[^>]*)>)',a='(_:(?:[A-Za-z0-9]+))',r='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',o='(?:\\^\\^'+n+')',s='(?:@([a-z]+(?:-[a-z0-9]+)*))',d='(?:'+r+'(?:'+o+'|'+s+')?)',l='(?:#.*)?',c='[ \\t]+',u='[ \\t]*',f=/(?:\r\n)|(?:\n)|(?:\r)/g,m=/^[ \t]*(?:#.*)?$/,h='(?:'+n+'|'+a+')'+c,g=n+c,b='(?:'+n+'|'+a+'|'+d+')'+u,y='(?:\\.|(?:(?:'+n+'|'+a+')'+u+'\\.))',w=/^[ \t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \t]+(?:<([^:]+:[^>]*)>)[ \t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+))|(?:"([^"\\]*(?:\\.[^"\\]*)*)"(?:(?:\^\^(?:<([^:]+:[^>]*)>))|(?:@([a-z]+(?:-[a-z0-9]+)*)))?))[ \t]*(?:\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \t]*\.))[ \t]*(?:#.*)?$/,x={},_=t.split(f),k=0,C=0,T;C<_.length;++C)if(T=_[C],k++,!m.test(T)){var E=T.match(w);if(null===E)throw new De('Error while parsing N-Quads; invalid quad.','jsonld.ParseError',{line:k});var S={};if(S.subject=Y(E[1])?{type:'blank node',value:E[2]}:{type:'IRI',value:E[1]},S.predicate={type:'IRI',value:E[3]},!Y(E[4]))S.object={type:'IRI',value:E[4]};else if(!Y(E[5]))S.object={type:'blank node',value:E[5]};else{S.object={type:'literal'},Y(E[7])?Y(E[8])?S.object.datatype=Ce:(S.object.datatype=Oe,S.object.language=E[8]):S.object.datatype=E[7];var A=E[6].replace(/\\"/g,'"').replace(/\\t/g,'\t').replace(/\\n/g,'\n').replace(/\\r/g,'\r').replace(/\\\\/g,'\\');S.object.value=A}var I='@default';if(Y(E[9])?!Y(E[10])&&(I=E[10]):I=E[9],!(I in x))x[I]=[S];else{for(var N=!0,j=x[I],R=0;N&&R<j.length;++R)v(j[R],S)&&(N=!1);N&&j.push(S)}}return x}function le(t){var n=[];for(var a in t)for(var r=t[a],o=0,s;o<r.length;++o)s=r[o],'@default'==a&&(a=null),n.push(pe(s,a));return n.sort().join('')}function pe(t,n){var a=t.subject,r=t.predicate,s=t.object,o=n||null;'name'in t&&t.name&&(o=t.name.value);var d='';if(d+='IRI'===a.type?'<'+a.value+'>':a.value,d+=' ',d+='IRI'===r.type?'<'+r.value+'>':r.value,d+=' ','IRI'===s.type)d+='<'+s.value+'>';else if('blank node'===s.type)d+=s.value;else{var l=s.value.replace(/\\/g,'\\\\').replace(/\t/g,'\\t').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\"/g,'\\"');d+='"'+l+'"',s.datatype===Oe?s.language&&(d+='@'+s.language):s.datatype!==Ce&&(d+='^^<'+s.datatype+'>')}return null!==o&&void 0!==o&&(0===o.indexOf('_:')?d+=' '+o:d+=' <'+o+'>'),d+=' .\n',d}function ce(t){for(var n={"@default":[]},a=t.getSubjects(),r=0,o;r<a.length;++r)if(o=a[r],null!==o){var s=t.getSubjectTriples(o);if(null!==s){var d=s.predicates;for(var l in d)for(var c=d[l].objects,u=0;u<c.length;++u){var f=c[u],m={};m.subject=0===o.indexOf('_:')?{type:'blank node',value:o}:{type:'IRI',value:o},m.predicate=0===l.indexOf('_:')?{type:'blank node',value:l}:{type:'IRI',value:l};var h=f.value;if(f.type===Re){ve||He();var g=new ve;h='';for(var b=0;b<f.value.length;b++)f.value[b].nodeType===we.ELEMENT_NODE?h+=g.serializeToString(f.value[b]):f.value[b].nodeType===we.TEXT_NODE&&(h+=f.value[b].nodeValue)}m.object={},f.type===Le?0===f.value.indexOf('_:')?m.object.type='blank node':m.object.type='IRI':(m.object.type='literal',f.type===je?f.language?(m.object.datatype=Oe,m.object.language=f.language):m.object.datatype=Ce:m.object.datatype=f.type),m.object.value=h,n['@default'].push(m)}}}return n}function ue(t){this.prefix=t,this.counter=0,this.existing={}}function fe(t,n){var a='';0===t.indexOf('/')&&(a='/');for(var r=t.split('/'),o=[];0<r.length;){if('.'===r[0]||''===r[0]&&1<r.length){r.shift();continue}if('..'===r[0]){r.shift(),n||0<o.length&&'..'!==o[o.length-1]?o.pop():o.push('..');continue}o.push(r.shift())}return a+o.join('/')}t.compact=function(n,a,r,o){function s(t,n,r,s){if(t)return o(t);s.compactArrays&&!s.graph&&W(n)?1===n.length?n=n[0]:0===n.length&&(n={}):s.graph&&z(n)&&(n=[n]),z(a)&&'@context'in a&&(a=a['@context']),a=ie(a),W(a)||(a=[a]);var d=a;a=[];for(var l=0;l<d.length;++l)(!z(d[l])||0<Object.keys(d[l]).length)&&a.push(d[l]);var c=0<a.length;if(1===a.length&&(a=a[0]),W(n)){var u=O(r,'@graph'),f=n;n={},c&&(n['@context']=a),n[u]=f}else if(z(n)&&c){var f=n;for(var m in n={"@context":a},f)n[m]=f[m]}o(null,n,r)}if(2>arguments.length)return t.nextTick(function(){o(new TypeError('Could not compact, too few arguments.'))});if('function'==typeof r&&(o=r,r={}),r=r||{},null===a)return t.nextTick(function(){o(new De('The compaction context must not be null.','jsonld.CompactError',{code:'invalid local context'}))});if(null===n)return t.nextTick(function(){o(null,null)});'base'in r||(r.base='string'==typeof n?n:''),'compactArrays'in r||(r.compactArrays=!0),'graph'in r||(r.graph=!1),'skipExpansion'in r||(r.skipExpansion=!1),'documentLoader'in r||(r.documentLoader=t.loadDocument),'link'in r||(r.link=!1),r.link&&(r.skipExpansion=!0);var d=function(n,a,r){return a.skipExpansion?t.nextTick(function(){r(null,n)}):void t.expand(n,a,r)};d(n,r,function(n,d){if(n)return o(new De('Could not expand input before compaction.','jsonld.CompactError',{cause:n}));var l=q(r);t.processContext(l,a,r,function(t,n){if(t)return o(new De('Could not process context before compaction.','jsonld.CompactError',{cause:t}));var a;try{a=new Be().compact(n,null,d,r)}catch(t){return o(t)}s(null,a,n,r)})})},t.expand=function(n,a,r){function o(t){'base'in a||(a.base=t.documentUrl||'');var n={document:ie(t.document),remoteContext:{"@context":t.contextUrl}};if('expandContext'in a){var o=ie(a.expandContext);n.expandContext='object'==typeof o&&'@context'in o?o:{"@context":o}}se(n,a,function(t,n){if(t)return r(t);var o;try{var s=new Be,d=q(a),l=n.document,c=n.remoteContext['@context'];n.expandContext&&(d=s.processContext(d,n.expandContext['@context'],a)),c&&(d=s.processContext(d,c,a)),o=s.expand(d,null,l,a,!1),z(o)&&'@graph'in o&&1===Object.keys(o).length?o=o['@graph']:null===o&&(o=[]),W(o)||(o=[o])}catch(t){return r(t)}r(null,o)})}return 1>arguments.length?t.nextTick(function(){r(new TypeError('Could not expand, too few arguments.'))}):void('function'==typeof a&&(r=a,a={}),a=a||{},!('documentLoader'in a)&&(a.documentLoader=t.loadDocument),!('keepFreeFloatingNodes'in a)&&(a.keepFreeFloatingNodes=!1),t.nextTick(function(){if('string'==typeof n){var t=function(t,n){if(t)return r(t);try{if(!n.document)throw new De('No remote document found at the given URL.','jsonld.NullRemoteDocument');'string'==typeof n.document&&(n.document=JSON.parse(n.document))}catch(t){return r(new De('Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.','jsonld.LoadDocumentError',{code:'loading document failed',cause:t,remoteDoc:n}))}o(n)},s=a.documentLoader(n,t);return void(s&&'then'in s&&s.then(t.bind(null,null),t))}o({contextUrl:null,documentUrl:null,document:n})}))},t.flatten=function(n,a,r,o){return 1>arguments.length?t.nextTick(function(){o(new TypeError('Could not flatten, too few arguments.'))}):void('function'==typeof r?(o=r,r={}):'function'==typeof a&&(o=a,a=null,r={}),r=r||{},!('base'in r)&&(r.base='string'==typeof n?n:''),!('documentLoader'in r)&&(r.documentLoader=t.loadDocument),t.expand(n,r,function(n,s){if(n)return o(new De('Could not expand input before flattening.','jsonld.FlattenError',{cause:n}));var d;try{d=new Be().flatten(s)}catch(t){return o(t)}return null===a?o(null,d):void(r.graph=!0,r.skipExpansion=!0,t.compact(d,a,r,function(t,n){return t?o(new De('Could not compact flattened output.','jsonld.FlattenError',{cause:t})):void o(null,n)}))}))},t.frame=function(n,a,r,o){function s(a){var s=a.document,d;s?(d=s['@context'],a.contextUrl?(d?W(d)?d.push(a.contextUrl):d=[d,a.contextUrl]:d=a.contextUrl,s['@context']=d):d=d||{}):d={},t.expand(n,r,function(n,a){if(n)return o(new De('Could not expand input before framing.','jsonld.FrameError',{cause:n}));var l=ie(r);l.isFrame=!0,l.keepFreeFloatingNodes=!0,t.expand(s,l,function(n,r){if(n)return o(new De('Could not expand frame before framing.','jsonld.FrameError',{cause:n}));var s;try{s=new Be().frame(a,r,l)}catch(t){return o(t)}l.graph=!0,l.skipExpansion=!0,l.link={},t.compact(s,d,l,function(t,n,a){if(t)return o(new De('Could not compact framed output.','jsonld.FrameError',{cause:t}));var r=O(a,'@graph');// remove @preserve from results
l.link={},n[r]=j(a,n[r],l),o(null,n)})})})}return 2>arguments.length?t.nextTick(function(){o(new TypeError('Could not frame, too few arguments.'))}):void('function'==typeof r&&(o=r,r={}),r=r||{},!('base'in r)&&(r.base='string'==typeof n?n:''),!('documentLoader'in r)&&(r.documentLoader=t.loadDocument),!('embed'in r)&&(r.embed='@last'),r.explicit=r.explicit||!1,!('requireAll'in r)&&(r.requireAll=!0),r.omitDefault=r.omitDefault||!1,t.nextTick(function(){if('string'==typeof a){var t=function(t,n){if(t)return o(t);try{if(!n.document)throw new De('No remote document found at the given URL.','jsonld.NullRemoteDocument');'string'==typeof n.document&&(n.document=JSON.parse(n.document))}catch(t){return o(new De('Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.','jsonld.LoadDocumentError',{code:'loading document failed',cause:t,remoteDoc:n}))}s(n)},n=r.documentLoader(a,t);return void(n&&'then'in n&&n.then(t.bind(null,null),t))}s({contextUrl:null,documentUrl:null,document:a})}))},t.link=function(n,a,r,o){var s={};a&&(s['@context']=a),s['@embed']='@link',t.frame(n,s,r,o)},t.objectify=function(n,a,r,o){'function'==typeof r&&(o=r,r={}),r=r||{},'base'in r||(r.base='string'==typeof n?n:''),'documentLoader'in r||(r.documentLoader=t.loadDocument),t.expand(n,r,function(n,s){if(n)return o(new De('Could not expand input before linking.','jsonld.LinkError',{cause:n}));var d;try{d=new Be().flatten(s)}catch(t){return o(t)}r.graph=!0,r.skipExpansion=!0,t.compact(d,a,r,function(n,a,r){if(n)return o(new De('Could not compact flattened output before linking.','jsonld.LinkError',{cause:n}));var d=O(r,'@graph'),l=a[d][0],c=function(n){if(z(n)||W(n)){if(z(n)){if(c.visited[n['@id']])return;c.visited[n['@id']]=!0}for(var a in n){var o=n[a],s='@id'===t.getContextValue(r,a,'@type');if(W(o)||z(o)||s)if(G(o)&&s)n[a]=o=l[o],c(o);else if(W(o))for(var d=0;d<o.length;++d)G(o[d])&&s?o[d]=l[o[d]]:z(o[d])&&'@id'in o[d]&&(o[d]=l[o[d]['@id']]),c(o[d]);else if(z(o)){var u=o['@id'];n[a]=o=l[u],c(o)}}}};for(var u in c.visited={},c(l),a.of_type={},l)if('@type'in l[u]){var s=l[u]['@type'];W(s)||(s=[s]);for(var f=0;f<s.length;++f)s[f]in a.of_type||(a.of_type[s[f]]=[]),a.of_type[s[f]].push(l[u])}o(null,a)})})},t.normalize=function(n,a,r){if(1>arguments.length)return t.nextTick(function(){r(new TypeError('Could not normalize, too few arguments.'))});if('function'==typeof a&&(r=a,a={}),a=a||{},'algorithm'in a||(a.algorithm='URGNA2012'),'base'in a||(a.base='string'==typeof n?n:''),'documentLoader'in a||(a.documentLoader=t.loadDocument),'inputFormat'in a){if('application/nquads'!==a.inputFormat)return r(new De('Unknown normalization input format.','jsonld.NormalizeError'));var o=de(n);new Be().normalize(o,a,r)}else{var s=ie(a);delete s.format,s.produceGeneralizedRdf=!1,t.toRDF(n,s,function(t,n){return t?r(new De('Could not convert input to RDF dataset before normalization.','jsonld.NormalizeError',{cause:t})):void new Be().normalize(n,a,r)})}},t.fromRDF=function(n,a,r){return 1>arguments.length?t.nextTick(function(){r(new TypeError('Could not convert from RDF, too few arguments.'))}):void('function'==typeof a&&(r=a,a={}),a=a||{},!('useRdfType'in a)&&(a.useRdfType=!1),!('useNativeTypes'in a)&&(a.useNativeTypes=!1),!('format'in a)&&G(n)&&!('format'in a)&&(a.format='application/nquads'),t.nextTick(function(){function t(t,n,a){new Be().fromRDF(t,n,a)}var o;if(!a.format)o=function(){return n};else if(o=a.rdfParser||ye[a.format],!o)return r(new De('Unknown input format.','jsonld.UnknownFormat',{format:a.format}));var s=!1;try{n=o(n,function(n,o){return s=!0,n?r(n):void t(o,a,r)})}catch(t){if(!s)return r(t);throw t}if(n){if('then'in n)return n.then(function(n){t(n,a,r)},r);t(n,a,r)}}))},t.toRDF=function(n,a,r){return 1>arguments.length?t.nextTick(function(){r(new TypeError('Could not convert to RDF, too few arguments.'))}):void('function'==typeof a&&(r=a,a={}),a=a||{},!('base'in a)&&(a.base='string'==typeof n?n:''),!('documentLoader'in a)&&(a.documentLoader=t.loadDocument),t.expand(n,a,function(t,n){if(t)return r(new De('Could not expand input before serialization to RDF.','jsonld.RdfError',{cause:t}));var o;try{if(o=Be.prototype.toRDF(n,a),a.format){if('application/nquads'===a.format)return r(null,le(o));throw new De('Unknown output format.','jsonld.UnknownFormat',{format:a.format})}}catch(t){return r(t)}r(null,o)}))},t.createNodeMap=function(n,a,r){return 1>arguments.length?t.nextTick(function(){r(new TypeError('Could not create node map, too few arguments.'))}):void('function'==typeof a&&(r=a,a={}),a=a||{},!('base'in a)&&(a.base='string'==typeof n?n:''),!('documentLoader'in a)&&(a.documentLoader=t.loadDocument),t.expand(n,a,function(t,n){if(t)return r(new De('Could not expand input before creating node map.','jsonld.CreateNodeMapError',{cause:t}));var o;try{o=new Be().createNodeMap(n,a)}catch(t){return r(t)}r(null,o)}))},t.merge=function(n,a,r,o){function s(t,n){return c?void 0:t?(c=t,o(new De('Could not expand input before flattening.','jsonld.FlattenError',{cause:t}))):void(l.push(n),0==--u&&d(l))}function d(n){var s=!0;'mergeNodes'in r&&(s=r.mergeNodes);var d=r.namer||r.issuer||new ue('_:b'),l={"@default":{}},c;try{for(var u=0,f;u<n.length;++u){f=n[u],f=t.relabelBlankNodes(f,{issuer:new ue('_:b'+u+'-')});var m=s||0===u?l:{"@default":{}};if(w(f,m,'@default',d),m!==l)for(var h in m){var g=m[h];if(!(h in l)){l[h]=g;continue}var b=l[h];for(var y in g)y in b||(b[y]=g[y])}}c=x(l)}catch(t){return o(t)}for(var v=[],_=Object.keys(c).sort(),k=0,C;k<_.length;++k)C=c[_[k]],ee(C)||v.push(C);return null===a?o(null,v):void(r.graph=!0,r.skipExpansion=!0,t.compact(v,a,r,function(t,n){return t?o(new De('Could not compact merged output.','jsonld.MergeError',{cause:t})):void o(null,n)}))}if(1>arguments.length)return t.nextTick(function(){o(new TypeError('Could not merge, too few arguments.'))});if(!W(n))return t.nextTick(function(){o(new TypeError('Could not merge, "docs" must be an array.'))});'function'==typeof r?(o=r,r={}):'function'==typeof a&&(o=a,a=null,r={}),r=r||{};for(var l=[],c=null,u=n.length,f=0,m;f<n.length;++f){for(var h in m={},r)m[h]=r[h];t.expand(n[f],m,s)}},t.relabelBlankNodes=function(t,n){n=n||{};var a=n.namer||n.issuer||new ue('_:b');return c(a,t)},t.prependBase=function(t,n){return B(t,n)},t.documentLoader=function(n,a){var r=new De('Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.','jsonld.LoadDocumentError',{code:'loading document failed'});return u?a(r,{contextUrl:null,documentUrl:n,document:null}):t.promisify(function(t){t(r)})},t.loadDocument=function(n,a){var r=t.documentLoader(n,a);r&&'then'in r&&r.then(a.bind(null,null),a)},t.promises=function(n){n=n||{};var r=Array.prototype.slice,s=t.promisify,d=n.api||{},l=n.version||'jsonld.js';'string'==typeof n.api&&(!n.version&&(l=n.api),d={}),d.expand=function(n){if(1>arguments.length)throw new TypeError('Could not expand, too few arguments.');return s.apply(null,[t.expand].concat(r.call(arguments)))},d.compact=function(n,a){if(2>arguments.length)throw new TypeError('Could not compact, too few arguments.');var o=function(n,a,r,o){'function'==typeof r&&(o=r,r={}),r=r||{},t.compact(n,a,r,function(t,n){o(t,n)})};return s.apply(null,[o].concat(r.call(arguments)))},d.flatten=function(n){if(1>arguments.length)throw new TypeError('Could not flatten, too few arguments.');return s.apply(null,[t.flatten].concat(r.call(arguments)))},d.frame=function(n,a){if(2>arguments.length)throw new TypeError('Could not frame, too few arguments.');return s.apply(null,[t.frame].concat(r.call(arguments)))},d.fromRDF=function(n){if(1>arguments.length)throw new TypeError('Could not convert from RDF, too few arguments.');return s.apply(null,[t.fromRDF].concat(r.call(arguments)))},d.toRDF=function(n){if(1>arguments.length)throw new TypeError('Could not convert to RDF, too few arguments.');return s.apply(null,[t.toRDF].concat(r.call(arguments)))},d.normalize=function(n){if(1>arguments.length)throw new TypeError('Could not normalize, too few arguments.');return s.apply(null,[t.normalize].concat(r.call(arguments)))},'jsonld.js'===l&&(d.link=function(n,a){if(2>arguments.length)throw new TypeError('Could not link, too few arguments.');return s.apply(null,[t.link].concat(r.call(arguments)))},d.objectify=function(n){return s.apply(null,[t.objectify].concat(r.call(arguments)))},d.createNodeMap=function(n){return s.apply(null,[t.createNodeMap].concat(r.call(arguments)))},d.merge=function(n){return s.apply(null,[t.merge].concat(r.call(arguments)))});try{t.Promise=o.Promise||a(135).Promise}catch(t){var c=function(){throw new Error('Unable to find a Promise implementation.')};for(var u in d)d[u]=c}return d},t.promisify=function(n){if(!t.Promise)try{t.Promise=o.Promise||a(135).Promise}catch(t){throw new Error('Unable to find a Promise implementation.')}var r=Array.prototype.slice.call(arguments,1);return new t.Promise(function(t,a){n.apply(null,r.concat(function(n,r){n?a(n):t(r)}))})},t.promises({api:t.promises}),n.prototype=t.promises({version:'json-ld-1.0'}),n.prototype.toString=function(){return this instanceof n?'[object JsonLdProcessor]':'[object JsonLdProcessorPrototype]'},t.JsonLdProcessor=n;var he=!!Object.defineProperty;if(he)try{Object.defineProperty({},'x',{})}catch(t){he=!1}he&&(Object.defineProperty(n,'prototype',{writable:!1,enumerable:!1}),Object.defineProperty(n.prototype,'constructor',{writable:!0,enumerable:!1,configurable:!0,value:n})),f&&'undefined'==typeof o.JsonLdProcessor&&(he?Object.defineProperty(o,'JsonLdProcessor',{writable:!0,enumerable:!1,configurable:!0,value:n}):o.JsonLdProcessor=n);var ge='function'==typeof s&&s,be=ge?function(t){ge(t)}:function(t){setTimeout(t,0)};t.nextTick='object'==typeof r&&'function'==typeof r.nextTick?r.nextTick:be,t.setImmediate=ge?be:t.nextTick,t.parseLinkHeader=function(t){for(var n={},a=t.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g),r=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,o=0,s;o<a.length;++o)if(s=a[o].match(r),!!s){for(var d={target:s[1]},l=s[2],c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;s=c.exec(l);)d[s[1]]=void 0===s[2]?s[3]:s[2];var u=d.rel||'';W(n[u])?n[u].push(d):u in n?n[u]=[n[u],d]:n[u]=d}return n},t.RequestQueue=function(){this._requests={}},t.RequestQueue.prototype.wrapLoader=function(t){return this._loader=t,this._usePromise=1===t.length,this.add.bind(this)},t.RequestQueue.prototype.add=function(n,a){var r=this;if(!a&&!r._usePromise)throw new Error('callback must be specified.');return r._usePromise?new t.Promise(function(t,a){var o=r._requests[n];o||(o=r._requests[n]=r._loader(n).then(function(t){return delete r._requests[n],t}).catch(function(t){throw delete r._requests[n],t})),o.then(function(n){t(n)}).catch(function(t){a(t)})}):void(n in r._requests?r._requests[n].push(a):(r._requests[n]=[a],r._loader(n,function(t,a){var o=r._requests[n];delete r._requests[n];for(var s=0;s<o.length;++s)o[s](t,a)})))},t.DocumentCache=function(t){this.order=[],this.cache={},this.size=t||50,this.expires=30000},t.DocumentCache.prototype.get=function(t){if(t in this.cache){var n=this.cache[t];if(n.expires>=+new Date)return n.ctx;delete this.cache[t],this.order.splice(this.order.indexOf(t),1)}return null},t.DocumentCache.prototype.set=function(t,n){this.order.length===this.size&&delete this.cache[this.order.shift()],this.order.push(t),this.cache[t]={ctx:n,expires:+new Date+this.expires}},t.ActiveContextCache=function(t){this.order=[],this.cache={},this.size=t||100},t.ActiveContextCache.prototype.get=function(t,n){var a=JSON.stringify(t),r=JSON.stringify(n),o=this.cache[a];return o&&r in o?o[r]:null},t.ActiveContextCache.prototype.set=function(t,n,a){if(this.order.length===this.size){var r=this.order.shift();delete this.cache[r.activeCtx][r.localCtx]}var o=JSON.stringify(t),s=JSON.stringify(n);this.order.push({activeCtx:o,localCtx:s}),o in this.cache||(this.cache[o]={}),this.cache[o][s]=ie(a)},t.cache={activeCtx:new t.ActiveContextCache},t.documentLoaders={},t.documentLoaders.jquery=function(n,a){function r(r,o){return 0!==r.indexOf('http:')&&0!==r.indexOf('https:')?o(new De('URL could not be dereferenced; only "http" and "https" URLs are supported.','jsonld.InvalidUrl',{code:'loading document failed',url:r}),{contextUrl:null,documentUrl:r,document:null}):a.secure&&0!==r.indexOf('https')?o(new De('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".','jsonld.InvalidUrl',{code:'loading document failed',url:r}),{contextUrl:null,documentUrl:r,document:null}):void n.ajax({url:r,accepts:{json:'application/ld+json, application/json'},headers:{Accept:'application/ld+json, application/json'},dataType:'json',crossDomain:!0,success:function(n,a,s){var d={contextUrl:null,documentUrl:r,document:n},l=s.getResponseHeader('Content-Type'),c=s.getResponseHeader('Link');if(c&&'application/ld+json'!==l){if(c=t.parseLinkHeader(c)[Pe],W(c))return o(new De('URL could not be dereferenced, it has more than one associated HTTP Link Header.','jsonld.InvalidUrl',{code:'multiple context link headers',url:r}),d);c&&(d.contextUrl=c.target)}o(null,d)},error:function(t,n,a){o(new De('URL could not be dereferenced, an error occurred.','jsonld.LoadDocumentError',{code:'loading document failed',url:r,cause:a}),{contextUrl:null,documentUrl:r,document:null})}})}a=a||{};var o=new t.RequestQueue,s='usePromise'in a?a.usePromise:'undefined'!=typeof Promise;return s?o.wrapLoader(function(n){return t.promisify(r,n)}):o.wrapLoader(r)},t.documentLoaders.node=function(n){function r(a,u,f){function m(n,o,d){if(h={contextUrl:null,documentUrl:a,document:d||null},n)return f(new De('URL could not be dereferenced, an error occurred.','jsonld.LoadDocumentError',{code:'loading document failed',url:a,cause:n}),h);var l=c.STATUS_CODES[o.statusCode];if(400<=o.statusCode)return f(new De('URL could not be dereferenced: '+l,'jsonld.InvalidUrl',{code:'loading document failed',url:a,httpStatusCode:o.statusCode}),h);if(o.headers.link&&'application/ld+json'!==o.headers['content-type']){var m=t.parseLinkHeader(o.headers.link)[Pe];if(W(m))return f(new De('URL could not be dereferenced, it has more than one associated HTTP Link Header.','jsonld.InvalidUrl',{code:'multiple context link headers',url:a}),h);m&&(h.contextUrl=m.target)}return 300<=o.statusCode&&400>o.statusCode&&o.headers.location?u.length===s?f(new De('URL could not be dereferenced; there were too many redirects.','jsonld.TooManyRedirects',{code:'loading document failed',url:a,httpStatusCode:o.statusCode,redirects:u}),h):-1===u.indexOf(a)?(u.push(a),r(o.headers.location,u,f)):f(new De('URL could not be dereferenced; infinite redirection was detected.','jsonld.InfiniteRedirectDetected',{code:'recursive context inclusion',url:a,httpStatusCode:o.statusCode,redirects:u}),h):void(u.push(a),f(n,h))}if(0!==a.indexOf('http:')&&0!==a.indexOf('https:'))return f(new De('URL could not be dereferenced; only "http" and "https" URLs are supported.','jsonld.InvalidUrl',{code:'loading document failed',url:a}),{contextUrl:null,documentUrl:a,document:null});if(n.secure&&0!==a.indexOf('https'))return f(new De('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".','jsonld.InvalidUrl',{code:'loading document failed',url:a}),{contextUrl:null,documentUrl:a,document:null});var h=null;if(null!=h)return f(null,h);var g={Accept:l};for(var b in n.headers)g[b]=n.headers[b];d({url:a,headers:g,strictSSL:o,followRedirect:!1},m)}n=n||{};var o=!('strictSSL'in n)||n.strictSSL,s='maxRedirects'in n?n.maxRedirects:-1,d='request'in n?n.request:a(42),l='application/ld+json, application/json',c=a(42),u=new t.RequestQueue;if(n.usePromise)return u.wrapLoader(function(n){return t.promisify(r,n,[])});var f=n.headers||{};if('Accept'in f||'accept'in f)throw new RangeError('Accept header may not be specified as an option; only "'+l+'" is supported.');return u.wrapLoader(function(t,n){r(t,[],n)})},t.documentLoaders.xhr=function(n){function a(a,o){if(0!==a.indexOf('http:')&&0!==a.indexOf('https:'))return o(new De('URL could not be dereferenced; only "http" and "https" URLs are supported.','jsonld.InvalidUrl',{code:'loading document failed',url:a}),{contextUrl:null,documentUrl:a,document:null});if(n.secure&&0!==a.indexOf('https'))return o(new De('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".','jsonld.InvalidUrl',{code:'loading document failed',url:a}),{contextUrl:null,documentUrl:a,document:null});var s=n.xhr||XMLHttpRequest,d=new s;d.onload=function(){if(400<=d.status)return o(new De('URL could not be dereferenced: '+d.statusText,'jsonld.LoadDocumentError',{code:'loading document failed',url:a,httpStatusCode:d.status}),{contextUrl:null,documentUrl:a,document:null});var n={contextUrl:null,documentUrl:a,document:d.response},s=d.getResponseHeader('Content-Type'),l;if(r.test(d.getAllResponseHeaders())&&(l=d.getResponseHeader('Link')),l&&'application/ld+json'!==s){if(l=t.parseLinkHeader(l)[Pe],W(l))return o(new De('URL could not be dereferenced, it has more than one associated HTTP Link Header.','jsonld.InvalidUrl',{code:'multiple context link headers',url:a}),n);l&&(n.contextUrl=l.target)}o(null,n)},d.onerror=function(){o(new De('URL could not be dereferenced, an error occurred.','jsonld.LoadDocumentError',{code:'loading document failed',url:a}),{contextUrl:null,documentUrl:a,document:null})},d.open('GET',a,!0),d.setRequestHeader('Accept','application/ld+json, application/json'),d.send()}n=n||{};var r=/(^|(\r\n))link:/i,o=new t.RequestQueue,s='usePromise'in n?n.usePromise:'undefined'!=typeof Promise;return s?o.wrapLoader(function(n){return t.promisify(a,n)}):o.wrapLoader(a)},t.useDocumentLoader=function(n){if(!(n in t.documentLoaders))throw new De('Unknown document loader type: "'+n+'"','jsonld.UnknownDocumentLoader',{type:n});t.documentLoader=t.documentLoaders[n].apply(t,Array.prototype.slice.call(arguments,1))},t.processContext=function(n,a){var r={},o=2;3<arguments.length&&(r=arguments[2]||{},o+=1);var s=arguments[o];return'base'in r||(r.base=''),'documentLoader'in r||(r.documentLoader=t.loadDocument),null===a?s(null,q(r)):void(a=ie(a),!(z(a)&&'@context'in a)&&(a={"@context":a}),se(a,r,function(t,a){if(t)return s(t);try{a=new Be().processContext(n,a,r)}catch(t){return s(t)}s(null,a)}))},t.hasProperty=function(t,n){var a=!1;if(n in t){var r=t[n];a=!W(r)||0<r.length}return a},t.hasValue=function(n,a,r){var o=!1;if(t.hasProperty(n,a)){var s=n[a],d=ne(s);if(W(s)||d){d&&(s=s['@list']);for(var l=0;l<s.length;++l)if(t.compareValues(r,s[l])){o=!0;break}}else W(r)||(o=t.compareValues(r,s))}return o},t.addValue=function(n,a,r,o){if(o=o||{},'propertyIsArray'in o||(o.propertyIsArray=!1),'allowDuplicate'in o||(o.allowDuplicate=!0),W(r)){0===r.length&&o.propertyIsArray&&!(a in n)&&(n[a]=[]);for(var s=0;s<r.length;++s)t.addValue(n,a,r[s],o)}else if(a in n){var d=!o.allowDuplicate&&t.hasValue(n,a,r);W(n[a])||d&&!o.propertyIsArray||(n[a]=[n[a]]),d||n[a].push(r)}else n[a]=o.propertyIsArray?[r]:r},t.getValues=function(t,n){var a=t[n]||[];return W(a)||(a=[a]),a},t.removeProperty=function(t,n){delete t[n]},t.removeValue=function(n,a,r,o){o=o||{},'propertyIsArray'in o||(o.propertyIsArray=!1);var s=t.getValues(n,a).filter(function(n){return!t.compareValues(n,r)});0===s.length?t.removeProperty(n,a):1!==s.length||o.propertyIsArray?n[a]=s:n[a]=s[0]},t.compareValues=function(t,n){return t===n||te(t)&&te(n)&&t['@value']===n['@value']&&t['@type']===n['@type']&&t['@language']===n['@language']&&t['@index']===n['@index']||z(t)&&'@id'in t&&z(n)&&'@id'in n&&t['@id']===n['@id']},t.getContextValue=function(t,n,a){var r=null;if(null===n)return r;if('@language'===a&&a in t&&(r=t[a]),t.mappings[n]){var o=t.mappings[n];Y(a)?r=o:a in o&&(r=o[a])}return r};var ye={};if(t.registerRDFParser=function(t,n){ye[t]=n},t.unregisterRDFParser=function(t){delete ye[t]},u){if('undefined'==typeof ve)var ve=null;if('undefined'==typeof we)var we={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var xe='http://www.w3.org/2001/XMLSchema#boolean',_e='http://www.w3.org/2001/XMLSchema#double',ke='http://www.w3.org/2001/XMLSchema#integer',Ce='http://www.w3.org/2001/XMLSchema#string',Te='http://www.w3.org/1999/02/22-rdf-syntax-ns#',Ee=Te+'List',Se=Te+'first',Ae=Te+'rest',Ie=Te+'nil',Ne=Te+'type',je=Te+'PlainLiteral',Re=Te+'XMLLiteral',Le=Te+'object',Oe=Te+'langString',Pe='http://www.w3.org/ns/json-ld#context',Me=10,De=function(t,n,a){u?(Error.call(this),Error.captureStackTrace(this,this.constructor)):'undefined'!=typeof Error&&(this.stack=new Error().stack),this.name=n||'jsonld.Error',this.message=t||'An unspecified JSON-LD error occurred.',this.details=a||{}};u?a(42).inherits(De,Error):'undefined'!=typeof Error&&(De.prototype=new Error);var Be=function(){};Be.prototype.compact=function(n,a,r,o){if(W(r)){for(var s=[],d=0,l;d<r.length;++d)l=this.compact(n,a,r[d],o),null!==l&&s.push(l);if(o.compactArrays&&1===s.length){var c=t.getContextValue(n,a,'@container');null===c&&(s=s[0])}return s}if(z(r)){if(o.link&&'@id'in r&&r['@id']in o.link)for(var u=o.link[r['@id']],d=0;d<u.length;++d)if(u[d].expanded===r)return u[d].compacted;if(te(r)||ee(r)){var s=P(n,a,r);return o.link&&ee(r)&&(!(r['@id']in o.link)&&(o.link[r['@id']]=[]),o.link[r['@id']].push({expanded:r,compacted:s})),s}var f='@reverse'===a,s={};o.link&&'@id'in r&&(!(r['@id']in o.link)&&(o.link[r['@id']]=[]),o.link[r['@id']].push({expanded:r,compacted:s}));for(var m=Object.keys(r).sort(),h=0;h<m.length;++h){var g=m[h],b=r[g];if('@id'===g||'@type'===g){var y;if(G(b))y=O(n,b,null,{vocab:'@type'===g});else{y=[];for(var v=0;v<b.length;++v)y.push(O(n,b[v],null,{vocab:!0}))}var w=O(n,g),x=W(y)&&0===b.length;t.addValue(s,w,y,{propertyIsArray:x});continue}if('@reverse'===g){var y=this.compact(n,'@reverse',b,o);for(var _ in y)if(n.mappings[_]&&n.mappings[_].reverse){var k=y[_],c=t.getContextValue(n,_,'@container'),C='@set'===c||!o.compactArrays;t.addValue(s,_,k,{propertyIsArray:C}),delete y[_]}if(0<Object.keys(y).length){var w=O(n,g);t.addValue(s,w,y)}continue}if('@index'===g){var c=t.getContextValue(n,a,'@container');if('@index'===c)continue;var w=O(n,g);t.addValue(s,w,b);continue}if('@graph'!==g&&'@list'!==g&&F(g)){var w=O(n,g);t.addValue(s,w,b);continue}if(0===b.length){var T=O(n,g,b,{vocab:!0},f);t.addValue(s,T,b,{propertyIsArray:!0})}for(var v=0;v<b.length;++v){var E=b[v],T=O(n,g,E,{vocab:!0},f),c=t.getContextValue(n,T,'@container'),S=ne(E),A=null;S&&(A=E['@list']);var I=this.compact(n,T,S?A:E,o);if(S)if(W(I)||(I=[I]),'@list'!==c){var N={};N[O(n,'@list')]=I,I=N,'@index'in E&&(I[O(n,'@index')]=E['@index'])}else if(T in s)throw new De('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.','jsonld.SyntaxError',{code:'compaction to list of lists'});if('@language'===c||'@index'===c){var j;T in s?j=s[T]:s[T]=j={},'@language'===c&&te(I)&&(I=I['@value']),t.addValue(j,E[c],I)}else{var x=!o.compactArrays||'@set'===c||'@list'===c||W(I)&&0===I.length||'@list'===g||'@graph'===g;t.addValue(s,T,I,{propertyIsArray:x})}}}return s}return r},Be.prototype.expand=function(n,a,r,o,s){var d=this;if(null===r||void 0===r)return null;if(!W(r)&&!z(r))return s||null!==a&&'@graph'!==D(n,a,{vocab:!0})?m(n,a,r):null;if(W(r)){var c=[],u=t.getContextValue(n,a,'@container');s=s||'@list'===u;for(var f=0,h;f<r.length;++f){if(h=d.expand(n,a,r[f],o),s&&(W(h)||ne(h)))throw new De('Invalid JSON-LD syntax; lists of lists are not permitted.','jsonld.SyntaxError',{code:'list of lists'});null!==h&&(W(h)?c=c.concat(h):c.push(h))}return c}'@context'in r&&(n=d.processContext(n,r['@context'],o));for(var g=D(n,a,{vocab:!0}),c={},b=Object.keys(r).sort(),y=0;y<b.length;++y){var v=b[y],w=r[v],x;if('@context'!==v){var _=D(n,v,{vocab:!0});if(null!==_&&(re(_)||F(_))){if(F(_)){if('@reverse'===g)throw new De('Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.','jsonld.SyntaxError',{code:'invalid reverse property map',value:w});if(_ in c)throw new De('Invalid JSON-LD syntax; colliding keywords detected.','jsonld.SyntaxError',{code:'colliding keywords',keyword:_})}if('@id'===_&&!G(w)){if(!o.isFrame)throw new De('Invalid JSON-LD syntax; "@id" value must a string.','jsonld.SyntaxError',{code:'invalid @id value',value:w});if(!z(w))throw new De('Invalid JSON-LD syntax; "@id" value must be a string or an object.','jsonld.SyntaxError',{code:'invalid @id value',value:w})}if('@type'===_&&V(w),'@graph'===_&&!(z(w)||W(w)))throw new De('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.','jsonld.SyntaxError',{code:'invalid @graph value',value:w});if('@value'===_&&(z(w)||W(w)))throw new De('Invalid JSON-LD syntax; "@value" value must not be an object or an array.','jsonld.SyntaxError',{code:'invalid value object value',value:w});if('@language'===_){if(null===w)continue;if(!G(w))throw new De('Invalid JSON-LD syntax; "@language" value must be a string.','jsonld.SyntaxError',{code:'invalid language-tagged string',value:w});w=w.toLowerCase()}if('@index'===_&&!G(w))throw new De('Invalid JSON-LD syntax; "@index" value must be a string.','jsonld.SyntaxError',{code:'invalid @index value',value:w});if('@reverse'===_){if(!z(w))throw new De('Invalid JSON-LD syntax; "@reverse" value must be an object.','jsonld.SyntaxError',{code:'invalid @reverse value',value:w});if(x=d.expand(n,'@reverse',w,o),'@reverse'in x)for(var k in x['@reverse'])t.addValue(c,k,x['@reverse'][k],{propertyIsArray:!0});var C=c['@reverse']||null;for(var k in x)if('@reverse'!=k){null===C&&(C=c['@reverse']={}),t.addValue(C,k,[],{propertyIsArray:!0});for(var T=x[k],E=0,S;E<T.length;++E){if(S=T[E],te(S)||ne(S))throw new De('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.','jsonld.SyntaxError',{code:'invalid reverse property value',value:x});t.addValue(C,k,S,{propertyIsArray:!0})}}continue}var u=t.getContextValue(n,v,'@container');if('@language'===u&&z(w))x=l(w);else if('@index'===u&&z(w))x=function t(a){for(var r=[],s=Object.keys(w).sort(),l=0;l<s.length;++l){var c=s[l],u=w[c];W(u)||(u=[u]),u=d.expand(n,a,u,o,!1);for(var f=0,m;f<u.length;++f)m=u[f],'@index'in m||(m['@index']=c),r.push(m)}return r}(v);else{var A='@list'===_;if(A||'@set'===_){var I=a;if(A&&'@graph'===g&&(I=null),x=d.expand(n,I,w,o,A),A&&ne(x))throw new De('Invalid JSON-LD syntax; lists of lists are not permitted.','jsonld.SyntaxError',{code:'list of lists'})}else x=d.expand(n,v,w,o,!1)}if(null!==x||'@value'===_){if('@list'===_||ne(x)||'@list'!==u||(x=W(x)?x:[x],x={"@list":x}),n.mappings[v]&&n.mappings[v].reverse){var C=c['@reverse']=c['@reverse']||{};W(x)||(x=[x]);for(var E=0,S;E<x.length;++E){if(S=x[E],te(S)||ne(S))throw new De('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.','jsonld.SyntaxError',{code:'invalid reverse property value',value:x});t.addValue(C,_,S,{propertyIsArray:!0})}continue}var N=-1===['@index','@id','@type','@value','@language'].indexOf(_);t.addValue(c,_,x,{propertyIsArray:N})}}}}b=Object.keys(c);var j=b.length;if('@value'in c){if('@type'in c&&'@language'in c)throw new De('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".','jsonld.SyntaxError',{code:'invalid value object',element:c});var R=j-1;if('@type'in c&&(R-=1),'@index'in c&&(R-=1),'@language'in c&&(R-=1),0!=R)throw new De('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".','jsonld.SyntaxError',{code:'invalid value object',element:c});if(null===c['@value'])c=null;else if('@language'in c&&!G(c['@value']))throw new De('Invalid JSON-LD syntax; only strings may be language-tagged.','jsonld.SyntaxError',{code:'invalid language-tagged value',element:c});else if('@type'in c&&(!re(c['@type'])||0===c['@type'].indexOf('_:')))throw new De('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".','jsonld.SyntaxError',{code:'invalid typed value',element:c})}else if('@type'in c&&!W(c['@type']))c['@type']=[c['@type']];else if('@set'in c||'@list'in c){if(1<j&&!(2===j&&'@index'in c))throw new De('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".','jsonld.SyntaxError',{code:'invalid set or list object',element:c});'@set'in c&&(c=c['@set'],b=Object.keys(c),j=b.length)}else 1===j&&'@language'in c&&(c=null);return z(c)&&!o.keepFreeFloatingNodes&&!s&&(null===a||'@graph'===g)&&(0===j||'@value'in c||'@list'in c||1===j&&'@id'in c)&&(c=null),c},Be.prototype.createNodeMap=function(t,n){n=n||{};var a=n.namer||n.issuer||new ue('_:b'),r={"@default":{}};return w(t,r,'@default',a),x(r)},Be.prototype.flatten=function(t){for(var n=this.createNodeMap(t),a=[],r=Object.keys(n).sort(),o=0,s;o<r.length;++o)s=n[r[o]],ee(s)||a.push(s);return a},Be.prototype.frame=function(t,n,a){var r={options:a,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}},o=new ue('_:b');w(t,r.graphs,'@merged',o),r.subjects=r.graphs['@merged'];var s=[];return _(r,Object.keys(r.subjects).sort(),n,s,null),s},Be.prototype.normalize=function(t,n,a){return'URDNA2015'===n.algorithm?new Ue(n).main(t,a):'URGNA2012'===n.algorithm?new qe(n).main(t,a):void a(new Error('Invalid RDF Dataset Normalization algorithm: '+n.algorithm))},Be.prototype.fromRDF=function(n,a,r){var d={},l={"@default":d},c={};for(var u in n){var f=n[u];u in l||(l[u]={}),'@default'==u||u in d||(d[u]={"@id":u});for(var m=l[u],h=0;h<f.length;++h){var g=f[h],b=g.subject.value,v=g.predicate.value,w=g.object;b in m||(m[b]={"@id":b});var o=m[b],x='IRI'===w.type||'blank node'===w.type;if(x&&!(w.value in m)&&(m[w.value]={"@id":w.value}),v===Ne&&!a.useRdfType&&x){t.addValue(o,'@type',w.value,{propertyIsArray:!0});continue}var _=y(w,a.useNativeTypes);if(t.addValue(o,v,_,{propertyIsArray:!0}),x)if(w.value===Ie){var k=m[w.value];'usages'in k||(k.usages=[]),k.usages.push({node:o,property:v,value:_})}else c[w.value]=!(w.value in c)&&{node:o,property:v,value:_}}}for(var u in l){var C=l[u];if(Ie in C){for(var T=C[Ie],E=0;E<T.usages.length;++E){for(var S=T.usages[E],o=S.node,A=S.property,I=S.value,N=[],R=[],L=Object.keys(o).length;A===Ae&&z(c[o['@id']])&&W(o[Se])&&1===o[Se].length&&W(o[Ae])&&1===o[Ae].length&&(3===L||4===L&&W(o['@type'])&&1===o['@type'].length&&o['@type'][0]===Ee)&&(N.push(o[Se][0]),R.push(o['@id']),S=c[o['@id']],o=S.node,A=S.property,I=S.value,L=Object.keys(o).length,0===o['@id'].indexOf('_:')););if(A===Se){if(o['@id']===Ie)continue;I=C[I['@id']][Ae][0],N.pop(),R.pop()}delete I['@id'],I['@list']=N.reverse();for(var O=0;O<R.length;++O)delete C[R[O]]}delete T.usages}}for(var j=[],P=Object.keys(d).sort(),E=0;E<P.length;++E){var M=P[E],o=d[M];if(M in l)for(var f=o['@graph']=[],C=l[M],D=Object.keys(C).sort(),B=0,U;B<D.length;++B)U=C[D[B]],ee(U)||f.push(U);ee(o)||j.push(o)}r(null,j)},Be.prototype.toRDF=function(t,n){var a=new ue('_:b'),r={"@default":{}};w(t,r,'@default',a);for(var o={},s=Object.keys(r).sort(),d=0,l;d<s.length;++d)l=s[d],('@default'===l||re(l))&&(o[l]=h(r[l],a,n));return o},Be.prototype.processContext=function(n,a,r){z(a)&&'@context'in a&&W(a['@context'])&&(a=a['@context']);var o=W(a)?a:[a];if(0===o.length)return n.clone();for(var s=n,d=0,l;d<o.length;++d){if(l=o[d],null===l){s=n=q(r);continue}if(z(l)&&'@context'in l&&(l=l['@context']),!z(l))throw new De('Invalid JSON-LD syntax; @context must be an object.','jsonld.SyntaxError',{code:'invalid local context',context:l});if(t.cache.activeCtx){var c=t.cache.activeCtx.get(n,l);if(c){s=n=c;continue}}n=s,s=s.clone();var u={};if('@base'in l){var f=l['@base'];if(null===f)f=null;else if(!G(f))throw new De('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.','jsonld.SyntaxError',{code:'invalid base IRI',context:l});else if(''!==f&&!re(f))throw new De('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.','jsonld.SyntaxError',{code:'invalid base IRI',context:l});null!==f&&(f=t.url.parse(f||'')),s['@base']=f,u['@base']=!0}if('@vocab'in l){var m=l['@vocab'];if(null===m)delete s['@vocab'];else if(!G(m))throw new De('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.','jsonld.SyntaxError',{code:'invalid vocab mapping',context:l});else if(!re(m))throw new De('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.','jsonld.SyntaxError',{code:'invalid vocab mapping',context:l});else s['@vocab']=m;u['@vocab']=!0}if('@language'in l){var m=l['@language'];if(null===m)delete s['@language'];else if(!G(m))throw new De('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.','jsonld.SyntaxError',{code:'invalid default language',context:l});else s['@language']=m.toLowerCase();u['@language']=!0}for(var h in l)M(s,l,h,u);t.cache.activeCtx&&t.cache.activeCtx.set(n,l,s)}return s};var Ue=function(){var n={subject:'s',object:'o',name:'g'},a=function(t){t=t||{},this.name='URDNA2015',this.options=t,this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new ue('_:c14n'),this.quads=[],this.schedule={},this.schedule.MAX_DEPTH='maxCallStackDepth'in t?t.maxCallStackDepth:500,this.schedule.MAX_TOTAL_DEPTH='maxTotalCallStackDepth'in t?t.maxCallStackDepth:4294967295,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice='timeSlice'in t?t.timeSlice:10};return a.prototype.doWork=function(n,a){var r=this.schedule;return r.totalDepth>=r.MAX_TOTAL_DEPTH?a(new Error('Maximum total call stack depth exceeded; normalization aborting.')):void function o(){if(r.depth===r.MAX_DEPTH)return r.depth=0,r.running=!1,t.nextTick(o);var s=new Date().getTime();return r.running||(r.start=new Date().getTime(),r.deadline=r.start+r.timeSlice),s<r.deadline?(r.running=!0,r.depth++,r.totalDepth++,n(function(t,n){r.depth--,r.totalDepth--,a(t,n)})):void(r.depth=0,r.running=!1,t.setImmediate(o))}()},a.prototype.forEach=function(t,n,a){var r=this,o=0,s,d;if(W(t))d=t.length,s=function(){return o!==d&&(s.value=t[o++],s.key=o,!0)};else{var l=Object.keys(t);d=l.length,s=function(){return o!==d&&(s.key=l[o++],s.value=t[s.key],!0)}}(function t(o,d){return o?a(o):s()?r.doWork(function(){n(s.value,s.key,t)}):void a()})()},a.prototype.waterfall=function(t,n){var a=this;a.forEach(t,function(t,n,r){a.doWork(t,r)},n)},a.prototype.whilst=function(t,n,a){var r=this;(function o(s){return s?a(s):t()?void r.doWork(n,o):a()})()},a.prototype.main=function(t,n){var a=this;a.schedule.start=new Date().getTime();var r;if(a.options.format&&'application/nquads'!==a.options.format)return n(new De('Unknown output format.','jsonld.UnknownFormat',{format:a.options.format}));var o={};a.waterfall([function(n){a.forEach(t,function(t,n,r){'@default'===n&&(n=null),a.forEach(t,function(t,r,s){null!==n&&(0===n.indexOf('_:')?t.name={type:'blank node',value:n}:t.name={type:'IRI',value:n}),a.quads.push(t),a.forEachComponent(t,function(n){if('blank node'===n.type){var r=n.value;r in a.blankNodeInfo?a.blankNodeInfo[r].quads.push(t):(o[r]=!0,a.blankNodeInfo[r]={quads:[t]})}}),s()},r)},n)},function(t){var n=!0;a.whilst(function(){return n},function(t){n=!1,a.hashToBlankNodes={},a.waterfall([function(t){a.forEach(o,function(t,n,r){a.hashFirstDegreeQuads(n,function(t,o){return t?r(t):void(o in a.hashToBlankNodes?a.hashToBlankNodes[o].push(n):a.hashToBlankNodes[o]=[n],r())})},t)},function(t){var r=Object.keys(a.hashToBlankNodes).sort();a.forEach(r,function(t,r,s){var d=a.hashToBlankNodes[t];if(1<d.length)return s();var l=d[0];a.canonicalIssuer.getId(l),delete o[l],delete a.hashToBlankNodes[t],n=!0,s()},t)}],t)},t)},function(t){var n=Object.keys(a.hashToBlankNodes).sort();a.forEach(n,function(t,n,r){var o=[],s=a.hashToBlankNodes[t];a.waterfall([function(t){a.forEach(s,function(t,n,r){if(a.canonicalIssuer.hasId(t))return r();var s=new ue('_:b');s.getId(t),a.hashNDegreeQuads(t,s,function(t,n){return t?r(t):void(o.push(n),r())})},t)},function(t){o.sort(function(t,n){return t.hash<n.hash?-1:t.hash>n.hash?1:0}),a.forEach(o,function(t,n,r){for(var o in t.issuer.existing)a.canonicalIssuer.getId(o);r()},t)}],r)},t)},function(t){var n=[];a.waterfall([function(t){a.forEach(a.quads,function(t,r,o){a.forEachComponent(t,function(t){'blank node'===t.type&&0!==t.value.indexOf(a.canonicalIssuer.prefix)&&(t.value=a.canonicalIssuer.getId(t.value))}),n.push(pe(t)),o()},t)},function(t){return n.sort(),'application/nquads'===a.options.format?(r=n.join(''),t()):void(r=de(n.join('')),t())}],t)}],function(t){n(t,r)})},a.prototype.hashFirstDegreeQuads=function(t,n){var a=this,r=a.blankNodeInfo[t];if('hash'in r)return n(null,r.hash);var o=[],s=r.quads;a.forEach(s,function(n,r,s){var d={predicate:n.predicate};a.forEachComponent(n,function(n,r){d[r]=a.modifyFirstDegreeComponent(t,n,r)}),o.push(pe(d)),s()},function(t){return t?n(t):void(o.sort(),r.hash=ze.hashNQuads(a.name,o),n(null,r.hash))})},a.prototype.modifyFirstDegreeComponent=function(t,n){return'blank node'===n.type?(n=ie(n),n.value=n.value===t?'_:a':'_:z',n):n},a.prototype.hashRelatedBlankNode=function(t,n,a,r,o){var s=this,d;s.waterfall([function(n){return s.canonicalIssuer.hasId(t)?(d=s.canonicalIssuer.getId(t),n()):a.hasId(t)?(d=a.getId(t),n()):void s.hashFirstDegreeQuads(t,function(t,a){return t?n(t):void(d=a,n())})}],function(t){if(t)return o(t);var a=new ze(s.name);return a.update(r),'g'!==r&&a.update(s.getRelatedPredicate(n)),a.update(d),o(null,a.digest())})},a.prototype.getRelatedPredicate=function(t){return'<'+t.predicate.value+'>'},a.prototype.hashNDegreeQuads=function(t,n,a){var r=this,o=new ze(r.name),s;r.waterfall([function(a){r.createHashToRelated(t,n,function(t,n){return t?a(t):void(s=n,a())})},function(t){var a=Object.keys(s).sort();r.forEach(a,function(t,a,d){o.update(t);var l='',c=new Fe(s[t]),u;r.whilst(function(){return c.hasNext()},function(t){var a=c.next(),o=n.clone(),s='',d=[];r.waterfall([function(n){r.forEach(a,function(n,a,c){return r.canonicalIssuer.hasId(n)?s+=r.canonicalIssuer.getId(n):(!o.hasId(n)&&d.push(n),s+=o.getId(n)),0!==l.length&&s.length>=l.length&&s>l?t():void c()},n)},function(n){r.forEach(d,function(n,a,d){r.hashNDegreeQuads(n,o,function(a,r){return a?d(a):(s+=o.getId(n),s+='<'+r.hash+'>',o=r.issuer,0!==l.length&&s.length>=l.length&&s>l?t():void d())})},n)},function(t){(0===l.length||s<l)&&(l=s,u=o),t()}],t)},function(t){return t?d(t):void(o.update(l),n=u,d())})},t)}],function(t){a(t,{hash:o.digest(),issuer:n})})},a.prototype.createHashToRelated=function(t,a,r){var o=this,s={},d=o.blankNodeInfo[t].quads;o.forEach(d,function(r,d,l){o.forEach(r,function(d,l,c){if('predicate'===l||'blank node'!==d.type||d.value===t)return c();var u=d.value,f=n[l];o.hashRelatedBlankNode(u,r,a,f,function(t,n){return t?c(t):void(n in s?s[n].push(u):s[n]=[u],c())})},l)},function(t){r(t,s)})},a.prototype.forEachComponent=function(t,n){for(var a in t)'predicate'!=a&&n(t[a],a,t)},a}(),qe=function(){var t=function(t){Ue.call(this,t),this.name='URGNA2012'};return t.prototype=new Ue,t.prototype.modifyFirstDegreeComponent=function(t,n,a){return'blank node'===n.type?(n=ie(n),n.value='name'===a?'_:g':n.value===t?'_:a':'_:z',n):n},t.prototype.getRelatedPredicate=function(t){return t.predicate.value},t.prototype.createHashToRelated=function(t,n,a){var r=this,o={},s=r.blankNodeInfo[t].quads;r.forEach(s,function(a,s,d){var l,c;if('blank node'===a.subject.type&&a.subject.value!==t)c=a.subject.value,l='p';else if('blank node'===a.object.type&&a.object.value!==t)c=a.object.value,l='r';else return d();r.hashRelatedBlankNode(c,a,n,l,function(t,n){n in o?o[n].push(c):o[n]=[c],d()})},function(t){a(t,o)})},t}();Object.keys||(Object.keys=function(t){if(t!==Object(t))throw new TypeError('Object.keys called on non-object');var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&n.push(a);return n}),t.registerRDFParser('application/nquads',de),t.registerRDFParser('rdfa-api',ce),t.IdentifierIssuer=ue,t.UniqueNamer=ue,ue.prototype.clone=function(){var t=new ue(this.prefix);return t.counter=this.counter,t.existing=ie(this.existing),t},ue.prototype.getId=function(t){if(t&&t in this.existing)return this.existing[t];var n=this.prefix+this.counter;return this.counter+=1,t&&(this.existing[t]=n),n},ue.prototype.getName=ue.prototype.getName,ue.prototype.hasId=function(t){return t in this.existing},ue.prototype.isNamed=ue.prototype.hasId;var Fe=function(t){this.list=t.sort(),this.done=!1,this.left={};for(var n=0;n<t.length;++n)this.left[t[n]]=!0};Fe.prototype.hasNext=function(){return!this.done},Fe.prototype.next=function(){for(var t=this.list.slice(),n=null,a=0,r=this.list.length,o=0;o<r;++o){var s=this.list[o],d=this.left[s];(null==n||s>n)&&(d&&0<o&&s>this.list[o-1]||!d&&o<r-1&&s>this.list[o+1])&&(n=s,a=o)}if(null===n)this.done=!0;else{var l=this.left[n]?a-1:a+1;this.list[a]=this.list[l],this.list[l]=n;for(var o=0;o<r;++o)this.list[o]>n&&(this.left[this.list[o]]=!this.left[this.list[o]])}return t};var ze=function(t){if(!(this instanceof ze))return new ze(t);if(-1===['URDNA2015','URGNA2012'].indexOf(t))throw new Error('Invalid RDF Dataset Normalization algorithm: '+t);ze._init.call(this,t)};if(ze.hashNQuads=function(t,n){for(var a=new ze(t),r=0;r<n.length;++r)a.update(n[r]);return a.digest()},function(t){if(t){var n=a(42);return ze._init=function(t){t='URDNA2015'===t?'sha256':'sha1',this.md=n.createHash(t)},ze.prototype.update=function(t){return this.md.update(t,'utf8')},void(ze.prototype.digest=function(){return this.md.digest('hex')})}ze._init=function(t){t='URDNA2015'===t?new l.Algorithm:new o.Algorithm,this.md=new r(t)},ze.prototype.update=function(t){return this.md.update(t)},ze.prototype.digest=function(){return this.md.digest().toHex()};var r=function(t){if(!(this instanceof r))return new r(t);if(this._algorithm=t,!r._padding||r._padding.length<this._algorithm.blockSize){r._padding='\x80';for(var a='\0',o=64;0<o;)1&o&&(r._padding+=a),o>>>=1,0<o&&(a+=a)}this.start()};r.prototype.start=function(){this.messageLength=0,this.fullMessageLength=[];for(var t=this._algorithm.messageLengthSize/4,n=0;n<t;++n)this.fullMessageLength.push(0);return this._input=new r.ByteBuffer,this.state=this._algorithm.start(),this},r.prototype.update=function(t){t=new r.ByteBuffer(unescape(encodeURIComponent(t))),this.messageLength+=t.length();var n=t.length();n=[n/4294967296>>>0,n>>>0];for(var a=this.fullMessageLength.length-1;0<=a;--a)this.fullMessageLength[a]+=n[1],n[1]=n[0]+(this.fullMessageLength[a]/4294967296>>>0),this.fullMessageLength[a]>>>=0,n[0]=n[1]/4294967296>>>0;for(this._input.putBytes(t.bytes());this._input.length()>=this._algorithm.blockSize;)this.state=this._algorithm.digest(this.state,this._input);return(2048<this._input.read||0===this._input.length())&&this._input.compact(),this},r.prototype.digest=function(){var t=new r.ByteBuffer;t.putBytes(this._input.bytes());var n=this.fullMessageLength[this.fullMessageLength.length-1]+this._algorithm.messageLengthSize,a=n&this._algorithm.blockSize-1;t.putBytes(r._padding.substr(0,this._algorithm.blockSize-a));for(var o=new r.ByteBuffer,s=0;s<this.fullMessageLength.length;++s)o.putInt32(this.fullMessageLength[s]<<3|this.fullMessageLength[s+1]>>>28);this._algorithm.writeMessageLength(t,o);var d=this._algorithm.digest(this.state.copy(),t),l=new r.ByteBuffer;return d.write(l),l},r.ByteBuffer=function(t){this.data='string'==typeof t?t:'',this.read=0},r.ByteBuffer.prototype.putInt32=function(t){this.data+=_StringfromCharCode(255&t>>24)+_StringfromCharCode(255&t>>16)+_StringfromCharCode(255&t>>8)+_StringfromCharCode(255&t)},r.ByteBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},r.ByteBuffer.prototype.putBytes=function(t){this.data+=t},r.ByteBuffer.prototype.bytes=function(){return this.data.slice(this.read)},r.ByteBuffer.prototype.length=function(){return this.data.length-this.read},r.ByteBuffer.prototype.compact=function(){this.data=this.data.slice(this.read),this.read=0},r.ByteBuffer.prototype.toHex=function(){for(var t='',n=this.read,a;n<this.data.length;++n)a=this.data.charCodeAt(n),16>a&&(t+='0'),t+=a.toString(16);return t};var o={_w:null};o.Algorithm=function(){this.name='sha1',this.blockSize=64,this.digestLength=20,this.messageLengthSize=8},o.Algorithm.prototype.start=function(){return o._w||(o._w=Array(80)),o._createState()},o.Algorithm.prototype.writeMessageLength=function(t,n){t.putBytes(n.bytes())},o.Algorithm.prototype.digest=function(n,r){for(var s=r.length(),l=o._w,u,t,a,m,c,d,h,f;64<=s;){for(t=n.h0,a=n.h1,m=n.h2,c=n.h3,d=n.h4,f=0;16>f;++f)u=r.getInt32(),l[f]=u,h=c^a&(m^c),u=(t<<5|t>>>27)+h+d+1518500249+u,d=c,c=m,m=a<<30|a>>>2,a=t,t=u;for(;20>f;++f)u=l[f-3]^l[f-8]^l[f-14]^l[f-16],u=u<<1|u>>>31,l[f]=u,h=c^a&(m^c),u=(t<<5|t>>>27)+h+d+1518500249+u,d=c,c=m,m=a<<30|a>>>2,a=t,t=u;for(;32>f;++f)u=l[f-3]^l[f-8]^l[f-14]^l[f-16],u=u<<1|u>>>31,l[f]=u,h=a^m^c,u=(t<<5|t>>>27)+h+d+1859775393+u,d=c,c=m,m=a<<30|a>>>2,a=t,t=u;for(;40>f;++f)u=l[f-6]^l[f-16]^l[f-28]^l[f-32],u=u<<2|u>>>30,l[f]=u,h=a^m^c,u=(t<<5|t>>>27)+h+d+1859775393+u,d=c,c=m,m=a<<30|a>>>2,a=t,t=u;for(;60>f;++f)u=l[f-6]^l[f-16]^l[f-28]^l[f-32],u=u<<2|u>>>30,l[f]=u,h=a&m|c&(a^m),u=(t<<5|t>>>27)+h+d+2400959708+u,d=c,c=m,m=a<<30|a>>>2,a=t,t=u;for(;80>f;++f)u=l[f-6]^l[f-16]^l[f-28]^l[f-32],u=u<<2|u>>>30,l[f]=u,h=a^m^c,u=(t<<5|t>>>27)+h+d+3395469782+u,d=c,c=m,m=a<<30|a>>>2,a=t,t=u;n.h0=0|n.h0+t,n.h1=0|n.h1+a,n.h2=0|n.h2+m,n.h3=0|n.h3+c,n.h4=0|n.h4+d,s-=64}return n},o._createState=function(){var t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return t.copy=function(){var n=o._createState();return n.h0=t.h0,n.h1=t.h1,n.h2=t.h2,n.h3=t.h3,n.h4=t.h4,n},t.write=function(n){n.putInt32(t.h0),n.putInt32(t.h1),n.putInt32(t.h2),n.putInt32(t.h3),n.putInt32(t.h4)},t};var l={_k:null,_w:null};l.Algorithm=function(){this.name='sha256',this.blockSize=64,this.digestLength=32,this.messageLengthSize=8},l.Algorithm.prototype.start=function(){return l._k||l._init(),l._createState()},l.Algorithm.prototype.writeMessageLength=function(t,n){t.putBytes(n.bytes())},l.Algorithm.prototype.digest=function(t,n){for(var r=n.length(),o=l._k,s=l._w,u,m,y,v,w,x,_,k,a,b,c,d,C,f,g;64<=r;){for(_=0;16>_;++_)s[_]=n.getInt32();for(;64>_;++_)u=s[_-2],u=(u>>>17|u<<15)^(u>>>19|u<<13)^u>>>10,m=s[_-15],m=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3,s[_]=0|u+s[_-7]+m+s[_-16];for(k=t.h0,a=t.h1,b=t.h2,c=t.h3,d=t.h4,C=t.h5,f=t.h6,g=t.h7,_=0;64>_;++_)v=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),w=f^d&(C^f),y=(k>>>2|k<<30)^(k>>>13|k<<19)^(k>>>22|k<<10),x=k&a|b&(k^a),u=g+v+w+o[_]+s[_],m=y+x,g=f,f=C,C=d,d=0|c+u,c=b,b=a,a=k,k=0|u+m;t.h0=0|t.h0+k,t.h1=0|t.h1+a,t.h2=0|t.h2+b,t.h3=0|t.h3+c,t.h4=0|t.h4+d,t.h5=0|t.h5+C,t.h6=0|t.h6+f,t.h7=0|t.h7+g,r-=64}return t},l._createState=function(){var t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return t.copy=function(){var n=l._createState();return n.h0=t.h0,n.h1=t.h1,n.h2=t.h2,n.h3=t.h3,n.h4=t.h4,n.h5=t.h5,n.h6=t.h6,n.h7=t.h7,n},t.write=function(n){n.putInt32(t.h0),n.putInt32(t.h1),n.putInt32(t.h2),n.putInt32(t.h3),n.putInt32(t.h4),n.putInt32(t.h5),n.putInt32(t.h6),n.putInt32(t.h7)},t},l._init=function(){l._k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l._w=Array(64)}}(u),!ve)var He=function(){ve=a(41).XMLSerializer};if(t.url={},t.url.parsers={simple:{keys:['href','scheme','authority','path','query','fragment'],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:['href','protocol','scheme','authority','auth','user','password','hostname','port','path','directory','file','query','fragment'],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.url.parse=function(n,a){for(var r={},s=t.url.parsers[a||'full'],o=s.regex.exec(n),d=s.keys.length;d--;)r[s.keys[d]]=void 0===o[d]?null:o[d];return r.normalizedPath=fe(r.path,!!r.authority),r},u?t.useDocumentLoader('node'):'undefined'!=typeof XMLHttpRequest&&t.useDocumentLoader('xhr'),u){t.use=function(n){switch(n){case'request':t.request=a(42);break;default:throw new De('Unknown extension.','jsonld.UnknownExtension',{extension:n});}};var We={exports:{},filename:d};a(42)(We,'version'),t.version=We.exports.version}return t},h=function(){return m(function(){return h()})};return!u&&a(229)?(l=[],c=function(){return m(h),h}.apply(n,l),!(void 0!==c&&(t.exports=c))):(m(h),'undefined'!=typeof t&&t.exports&&(t.exports=h),f&&('undefined'==typeof jsonld?jsonld=jsonldjs=h:jsonldjs=h)),h})()}).call(n,a(13),a(4),a(48).setImmediate,'/')},function(t,n,a){(function(r,o,s){var d,l;/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.3.0
 */(function(){'use strict';function c(t){return'function'==typeof t||'object'==typeof t&&null!==t}function u(t){return'function'==typeof t}function f(t){return'object'==typeof t&&null!==t}function m(t){le=t}function h(t){te=t}function g(){var t=r.nextTick,n=r.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&'0'===n[1]&&'10'===n[2]&&(t=o),function(){t(x)}}function b(){return function(){de(x)}}function y(){var t=0,n=new re(x),a=document.createTextNode('');return n.observe(a,{characterData:!0}),function(){a.data=t=++t%2}}function v(){var t=new MessageChannel;return t.port1.onmessage=x,function(){t.port2.postMessage(0)}}function w(){return function(){setTimeout(x,1)}}function x(){for(var t=0;t<Q;t+=2){var n=se[t],a=se[t+1];n(a),se[t]=void 0,se[t+1]=void 0}Q=0}function _(){try{var t=d,n=a(228);return de=n.runOnLoop||n.runOnContext,b()}catch(t){return w()}}function k(){}function C(){return new TypeError('You cannot resolve a promise with itself')}function T(){return new TypeError('A promises callback cannot return that same promise.')}function E(t){try{return t.then}catch(t){return fe.error=t,fe}}function S(t,n,a,r){try{t.call(n,a,r)}catch(t){return t}}function A(t,n,a){te(function(t){var r=!1,o=S(a,n,function(a){r||(r=!0,n===a?L(t,a):j(t,a))},function(n){r||(r=!0,O(t,n))},'Settle: '+(t._label||' unknown promise'));!r&&o&&(r=!0,O(t,o))},t)}function I(t,n){n._state===ce?L(t,n._result):n._state===ue?O(t,n._result):P(n,void 0,function(n){j(t,n)},function(n){O(t,n)})}function N(t,n){if(n.constructor===t.constructor)I(t,n);else{var a=E(n);a===fe?O(t,fe.error):a===void 0?L(t,n):u(a)?A(t,n,a):L(t,n)}}function j(t,n){t===n?O(t,C()):c(n)?N(t,n):L(t,n)}function R(t){t._onerror&&t._onerror(t._result),M(t)}function L(t,n){t._state!==ge||(t._result=n,t._state=ce,0!==t._subscribers.length&&te(M,t))}function O(t,n){t._state!==ge||(t._state=ue,t._result=n,te(R,t))}function P(t,n,a,r){var o=t._subscribers,s=o.length;t._onerror=null,o[s]=n,o[s+ce]=a,o[s+ue]=r,0===s&&t._state&&te(M,t)}function M(t){var n=t._subscribers,a=t._state;if(0!==n.length){for(var r=t._result,o=0,s,d;o<n.length;o+=3)s=n[o],d=n[o+a],s?U(a,s,d,r):d(r);t._subscribers.length=0}}function D(){this.error=null}function B(t,n){try{return t(n)}catch(t){return he.error=t,he}}function U(t,n,a,r){var o=u(a),s,d,l,c;if(!o)s=r,l=!0;else if(s=B(a,r),s===he?(c=!0,d=s.error,s=null):l=!0,n===s)return void O(n,T());n._state!==ge||(o&&l?j(n,s):c?O(n,d):t===ce?L(n,s):t===ue&&O(n,s))}function q(t,n){try{n(function n(a){j(t,a)},function n(a){O(t,a)})}catch(n){O(t,n)}}function F(t,n){var a=this;a._instanceConstructor=t,a.promise=new t(k),a._validateInput(n)?(a._input=n,a.length=n.length,a._remaining=n.length,a._init(),0===a.length?L(a.promise,a._result):(a.length=a.length||0,a._enumerate(),0===a._remaining&&L(a.promise,a._result))):O(a.promise,a._validationError())}function z(t){return new be(this,t).promise}function H(t){function n(t){j(o,t)}function a(t){O(o,t)}var r=this,o=new r(k);if(!Y(t))return O(o,new TypeError('You must pass an array to race.')),o;for(var s=t.length,d=0;o._state===ge&&d<s;d++)P(r.resolve(t[d]),void 0,n,a);return o}function W(t){var n=this;if(t&&'object'==typeof t&&t.constructor===n)return t;var a=new n(k);return j(a,t),a}function V(t){var n=this,a=new n(k);return O(a,t),a}function G(){throw new TypeError('You must pass a resolver function as the first argument to the promise constructor')}function J(){throw new TypeError('Failed to construct \'Promise\': Please use the \'new\' operator, this object constructor cannot be called as a function.')}function K(t){this._id=_e++,this._state=void 0,this._result=void 0,this._subscribers=[],k!==t&&(!u(t)&&G(),!(this instanceof K)&&J(),q(this,t))}function X(){var t;if('undefined'!=typeof s)t=s;else if('undefined'!=typeof self)t=self;else try{t=Function('return this')()}catch(t){throw new Error('polyfill failed because global object is unavailable in this environment')}var n=t.Promise;n&&'[object Promise]'===Object.prototype.toString.call(n.resolve())&&!n.cast||(t.Promise=ke)}var Z;Z=Array.isArray?Array.isArray:function(t){return'[object Array]'===Object.prototype.toString.call(t)};var Y=Z,Q=0,ee={}.toString,te=function t(n,a){se[Q]=n,se[Q+1]=a,Q+=2,2==Q&&(le?le(x):pe())},ne='undefined'==typeof window?void 0:window,ae=ne||{},re=ae.MutationObserver||ae.WebKitMutationObserver,ie='undefined'!=typeof r&&'[object process]'==={}.toString.call(r),oe='undefined'!=typeof Uint8ClampedArray&&'undefined'!=typeof importScripts&&'undefined'!=typeof MessageChannel,se=Array(1e3),de,le,pe;pe=ie?g():re?y():oe?v():void 0!==ne||0?w():_();var ce=1,ue=2,fe=new D,he=new D,ge;F.prototype._validateInput=function(t){return Y(t)},F.prototype._validationError=function(){return new Error('Array Methods must be provided an Array')},F.prototype._init=function(){this._result=Array(this.length)};var be=F;F.prototype._enumerate=function(){for(var t=this,n=t.length,a=t.promise,r=t._input,o=0;a._state===ge&&o<n;o++)t._eachEntry(r[o],o)},F.prototype._eachEntry=function(t,n){var a=this,r=a._instanceConstructor;f(t)?t.constructor===r&&t._state!==ge?(t._onerror=null,a._settledAt(t._state,n,t._result)):a._willSettleAt(r.resolve(t),n):(a._remaining--,a._result[n]=t)},F.prototype._settledAt=function(t,n,a){var r=this,o=r.promise;o._state===ge&&(r._remaining--,t===ue?O(o,a):r._result[n]=a),0===r._remaining&&L(o,r._result)},F.prototype._willSettleAt=function(t,n){var a=this;P(t,void 0,function(t){a._settledAt(ce,n,t)},function(t){a._settledAt(ue,n,t)})};var ye=z,ve=H,we=W,xe=V,_e=0,ke=K;K.all=ye,K.race=ve,K.resolve=we,K.reject=xe,K._setScheduler=m,K._setAsap=h,K._asap=te,K.prototype={constructor:K,then:function(t,n){var a=this,r=a._state;if(r===ce&&!t||r===ue&&!n)return this;var o=new this.constructor(k),s=a._result;if(r){var d=arguments[r-1];te(function(){U(r,o,d,s)})}else P(a,o,t,n);return o},catch:function(t){return this.then(null,t)}};var Ce=X,Te={Promise:ke,polyfill:Ce};!0?(l=function(){return Te}.call(n,a,n,t),!(l!==void 0&&(t.exports=l))):'undefined'!=typeof t&&t.exports?t.exports=Te:'undefined'!=typeof this&&(this.ES6Promise=Te),Ce()}).call(this)}).call(n,a(13),a(48).setImmediate,a(4))},function(t,n,a){var r=o,o,o;o=function(){};var n=t.exports={Lexer:o('./lib/N3Lexer'),Parser:o('./lib/N3Parser'),Writer:o('./lib/N3Writer'),Store:o('./lib/N3Store'),StreamParser:o('./lib/N3StreamParser'),StreamWriter:o('./lib/N3StreamWriter'),Util:o('./lib/N3Util')};Object.keys(n).forEach(function(t){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){return delete n[t],n[t]=a(230)('./N3'+t)}})})},function(t,n,a){function r(t,n){return this instanceof r?void(this._size=0,this._graphs=Object.create(null),this._entities=Object.create(null),this._entities['><']=0,this._entityCount=0,this._blankNodeIndex=0,!n&&t&&!t[0]&&(n=t,t=null),this._prefixes=Object.create(null),n&&n.prefixes&&this.addPrefixes(n.prefixes),t&&this.addTriples(t)):new r(t,n)}var o=a(90).expandPrefixedName;r.prototype={get size(){var t=this._size;if(null!==t)return t;var n=this._graphs,a,r;for(var o in n)for(var s in a=n[o].subjects)for(var d in r=a[s])t+=Object.keys(r[d]).length;return this._size=t},_addToIndex:function(t,n,a,r){var o=t[n]||(t[n]={}),s=o[a]||(o[a]={});s[r]=null},_removeFromIndex:function(t,n,a,r){var o=t[n],s=o[a],d;for(d in delete s[r],s)return;for(d in delete o[a],o)return;delete t[n]},_findInIndex:function(t,n,a,r,o,s,d,c){var u=[],f=Object.keys(this._entities),m,h,g;for(var b in n&&((m=t,t={})[n]=m[n]),t){var y=f[b];if(h=t[b])for(var v in a&&((m=h,h={})[a]=m[a]),h){var w=f[v];if(g=h[v])for(var x=r?(r in g)?[r]:[]:Object.keys(g),_=x.length-1,l;0<=_;_--)l={subject:'',predicate:'',object:'',graph:c},l[o]=y,l[s]=w,l[d]=f[x[_]],u.push(l)}}return u},_countInIndex:function(t,n,a,r){var o=0,s,d,l;for(var c in n&&((s=t,t={})[n]=s[n]),t)if(d=t[c])for(var u in a&&((s=d,d={})[a]=s[a]),d)(l=d[u])&&(r?r in l&&o++:o+=Object.keys(l).length);return o},addTriple:function(t,n,a,r){n||(r=t.graph,a=t.object,n=t.predicate,t=t.subject),r=r||'';var o=this._graphs[r];o||(o=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(o));var s=this._entities;t=s[t]||(s[t]=++this._entityCount),n=s[n]||(s[n]=++this._entityCount),a=s[a]||(s[a]=++this._entityCount),this._addToIndex(o.subjects,t,n,a),this._addToIndex(o.predicates,n,a,t),this._addToIndex(o.objects,a,t,n),this._size=null},addTriples:function(t){for(var n=t.length-1;0<=n;n--)this.addTriple(t[n])},addPrefix:function(t,n){this._prefixes[t]=n},addPrefixes:function(t){for(var n in t)this.addPrefix(n,t[n])},removeTriple:function(t,n,a,r){n||(r=t.graph,a=t.object,n=t.predicate,t=t.subject),r=r||'';var o=this._entities,s=this._graphs,d;if((t=o[t])&&(n=o[n])&&(a=o[a])&&(d=s[r])){var l,c;if((l=d.subjects[t])&&(c=l[n])&&a in c){for(t in this._removeFromIndex(d.subjects,t,n,a),this._removeFromIndex(d.predicates,n,a,t),this._removeFromIndex(d.objects,a,t,n),null!==this._size&&this._size--,d.subjects)return;delete s[r]}}},removeTriples:function(t){for(var n=t.length-1;0<=n;n--)this.removeTriple(t[n])},find:function(t,n,a,r){var s=this._prefixes;return this.findByIRI(o(t,s),o(n,s),o(a,s),o(r,s))},findByIRI:function(t,n,a,r){r=r||'';var o=this._graphs[r],s=this._entities;return o?t&&!(t=s[t])?[]:n&&!(n=s[n])?[]:a&&!(a=s[a])?[]:t?a?this._findInIndex(o.objects,a,t,n,'object','subject','predicate',r):this._findInIndex(o.subjects,t,n,null,'subject','predicate','object',r):n?this._findInIndex(o.predicates,n,a,null,'predicate','object','subject',r):a?this._findInIndex(o.objects,a,null,null,'object','subject','predicate',r):this._findInIndex(o.subjects,null,null,null,'subject','predicate','object',r):[]},count:function(t,n,a,r){var s=this._prefixes;return this.countByIRI(o(t,s),o(n,s),o(a,s),o(r,s))},countByIRI:function(t,n,a,r){r=r||'';var o=this._graphs[r],s=this._entities;return o?t&&!(t=s[t])?0:n&&!(n=s[n])?0:a&&!(a=s[a])?0:t?a?this._countInIndex(o.objects,a,t,n):this._countInIndex(o.subjects,t,n,a):n?this._countInIndex(o.predicates,n,a,t):this._countInIndex(o.objects,a,t,n):0},createBlankNode:function(t){var n,a;if(t)for(n=t='_:'+t,a=1;this._entities[n];)n=t+a++;else do n='_:b'+this._blankNodeIndex++;while(this._entities[n]);return this._entities[n]=++this._entityCount,n}},t.exports=r},function(t,n,a){function r(t){if(!(this instanceof r))return new r(t);o.call(this,{decodeStrings:!0}),this._readableState.objectMode=!0;var n=this,a=new d(t);a.parse(function(t,a){a&&n.push(a)||t&&n.emit('error',t)},this.emit.bind(this,'prefix')),this._transform=function(t,n,r){a.addChunk(t),r()},this._flush=function(t){a.end(),t()}}var o=a(43).Transform,s=a(95),d=a(89);s.inherits(r,o),t.exports=r},function(t,n,a){'use strict';(function(n,r){function o(t){return z.from(t)}function s(t){return z.isBuffer(t)||t instanceof H}function d(t,n,a){return'function'==typeof t.prependListener?t.prependListener(n,a):void(t._events&&t._events[n]?D(t._events[n])?t._events[n].unshift(a):t._events[n]=[a,t._events[n]]:t.on(n,a))}function l(t,n){B=B||a(33),t=t||{},this.objectMode=!!t.objectMode,n instanceof B&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=_Mathfloor(this.highWaterMark),this.buffer=new J,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||'utf8',this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(!X&&(X=a(94).StringDecoder),this.decoder=new X(t.encoding),this.encoding=t.encoding)}function c(t){return B=B||a(33),this instanceof c?void(this._readableState=new l(t,this),this.readable=!0,t&&('function'==typeof t.read&&(this._read=t.read),'function'==typeof t.destroy&&(this._destroy=t.destroy)),F.call(this)):new c(t)}function u(t,n,a,r,s){var d=t._readableState;if(null===n)d.reading=!1,y(t,d);else{var l;s||(l=m(d,n)),l?t.emit('error',l):d.objectMode||n&&0<n.length?('string'!=typeof n&&!d.objectMode&&Object.getPrototypeOf(n)!==z.prototype&&(n=o(n)),r?d.endEmitted?t.emit('error',new Error('stream.unshift() after end event')):f(t,d,n,!0):d.ended?t.emit('error',new Error('stream.push() after EOF')):(d.reading=!1,d.decoder&&!a?(n=d.decoder.write(n),d.objectMode||0!==n.length?f(t,d,n,!1):x(t,d)):f(t,d,n,!1))):!r&&(d.reading=!1)}return h(d)}function f(t,n,a,r){n.flowing&&0===n.length&&!n.sync?(t.emit('data',a),t.read(0)):(n.length+=n.objectMode?1:a.length,r?n.buffer.unshift(a):n.buffer.push(a),n.needReadable&&v(t)),x(t,n)}function m(t,n){var a;return s(n)||'string'==typeof n||void 0===n||t.objectMode||(a=new TypeError('Invalid non-string/buffer chunk')),a}function h(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function g(t){return t>=Y?t=Y:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function b(t,n){return 0>=t||0===n.length&&n.ended?0:n.objectMode?1:t===t?(t>n.highWaterMark&&(n.highWaterMark=g(t)),t<=n.length?t:n.ended?n.length:(n.needReadable=!0,0)):n.flowing&&n.length?n.buffer.head.data.length:n.length}function y(t,n){if(!n.ended){if(n.decoder){var a=n.decoder.end();a&&a.length&&(n.buffer.push(a),n.length+=n.objectMode?1:a.length)}n.ended=!0,v(t)}}function v(t){var n=t._readableState;n.needReadable=!1,n.emittedReadable||(G('emitReadable',n.flowing),n.emittedReadable=!0,n.sync?M(w,t):w(t))}function w(t){G('emit readable'),t.emit('readable'),S(t)}function x(t,n){n.readingMore||(n.readingMore=!0,M(_,t,n))}function _(t,n){for(var a=n.length;!n.reading&&!n.flowing&&!n.ended&&n.length<n.highWaterMark&&(G('maybeReadMore read 0'),t.read(0),a!==n.length);)a=n.length;n.readingMore=!1}function k(t){return function(){var n=t._readableState;G('pipeOnDrain',n.awaitDrain),n.awaitDrain&&n.awaitDrain--,0===n.awaitDrain&&q(t,'data')&&(n.flowing=!0,S(t))}}function C(t){G('readable nexttick read 0'),t.read(0)}function T(t,n){n.resumeScheduled||(n.resumeScheduled=!0,M(E,t,n))}function E(t,n){n.reading||(G('resume read 0'),t.read(0)),n.resumeScheduled=!1,n.awaitDrain=0,t.emit('resume'),S(t),n.flowing&&!n.reading&&t.read(0)}function S(t){var n=t._readableState;for(G('flow',n.flowing);n.flowing&&null!==t.read(););}function A(t,a){if(0===a.length)return null;var r;return a.objectMode?r=a.buffer.shift():!t||t>=a.length?(r=a.decoder?a.buffer.join(''):1===a.buffer.length?a.buffer.head.data:a.buffer.concat(a.length),a.buffer.clear()):r=I(t,a.buffer,a.decoder),r}function I(t,n,a){var r;return t<n.head.data.length?(r=n.head.data.slice(0,t),n.head.data=n.head.data.slice(t)):t===n.head.data.length?r=n.shift():r=a?N(t,n):j(t,n),r}function N(t,n){var a=n.head,r=1,o=a.data;for(t-=o.length;a=a.next;){var s=a.data,d=t>s.length?s.length:t;if(o+=d===s.length?s:s.slice(0,t),t-=d,0===t){d===s.length?(++r,n.head=a.next?a.next:n.tail=null):(n.head=a,a.data=s.slice(d));break}++r}return n.length-=r,o}function j(t,n){var a=z.allocUnsafe(t),r=n.head,o=1;for(r.data.copy(a),t-=r.data.length;r=r.next;){var s=r.data,d=t>s.length?s.length:t;if(s.copy(a,a.length-t,0,d),t-=d,0===t){d===s.length?(++o,n.head=r.next?r.next:n.tail=null):(n.head=r,r.data=s.slice(d));break}++o}return n.length-=o,a}function R(t){var n=t._readableState;if(0<n.length)throw new Error('"endReadable()" called on non-empty stream');n.endEmitted||(n.ended=!0,M(L,n,t))}function L(t,n){t.endEmitted||0!==t.length||(t.endEmitted=!0,n.readable=!1,n.emit('end'))}function O(t,n){for(var a=0,r=t.length;a<r;a++)n(t[a],a)}function P(t,n){for(var a=0,r=t.length;a<r;a++)if(t[a]===n)return a;return-1}var M=a(65);t.exports=c;var D=a(140),B;c.ReadableState=l;var U=a(91).EventEmitter,q=function(t,n){return t.listeners(n).length},F=a(141),z=a(3).Buffer,H=n.Uint8Array||function(){},W=a(49);W.inherits=a(2);var V=a(233),G;G=V&&V.debuglog?V.debuglog('stream'):function(){};var J=a(234),K=a(142),X;W.inherits(c,F);var Z=['error','close','destroy','pause','resume'];Object.defineProperty(c.prototype,'destroyed',{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),c.prototype.destroy=K.destroy,c.prototype._undestroy=K.undestroy,c.prototype._destroy=function(t,n){this.push(null),n(t)},c.prototype.push=function(t,n){var a=this._readableState,r;return a.objectMode?r=!0:'string'==typeof t&&(n=n||a.defaultEncoding,n!==a.encoding&&(t=z.from(t,n),n=''),r=!0),u(this,t,n,!1,r)},c.prototype.unshift=function(t){return u(this,t,null,!0,!1)},c.prototype.isPaused=function(){return!1===this._readableState.flowing},c.prototype.setEncoding=function(t){return X||(X=a(94).StringDecoder),this._readableState.decoder=new X(t),this._readableState.encoding=t,this};var Y=8388608;c.prototype.read=function(t){G('read',t),t=parseInt(t,10);var n=this._readableState,a=t;if(0!==t&&(n.emittedReadable=!1),0===t&&n.needReadable&&(n.length>=n.highWaterMark||n.ended))return G('read: emitReadable',n.length,n.ended),0===n.length&&n.ended?R(this):v(this),null;if(t=b(t,n),0===t&&n.ended)return 0===n.length&&R(this),null;var r=n.needReadable;G('need readable',r),(0===n.length||n.length-t<n.highWaterMark)&&(r=!0,G('length less than watermark',r)),n.ended||n.reading?(r=!1,G('reading or ended',r)):r&&(G('do read'),n.reading=!0,n.sync=!0,0===n.length&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,!n.reading&&(t=b(a,n)));var o;return o=0<t?A(t,n):null,null===o?(n.needReadable=!0,t=0):n.length-=t,0===n.length&&(!n.ended&&(n.needReadable=!0),a!==t&&n.ended&&R(this)),null!==o&&this.emit('data',o),o},c.prototype._read=function(t){this.emit('error',new Error('_read() is not implemented'))},c.prototype.pipe=function(t,n){function a(t,n){G('onunpipe'),t===h&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,s())}function o(){G('onend'),t.end()}function s(){G('cleanup'),t.removeListener('close',u),t.removeListener('finish',f),t.removeListener('drain',v),t.removeListener('error',c),t.removeListener('unpipe',a),h.removeListener('end',o),h.removeListener('end',m),h.removeListener('data',l),w=!0,g.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&v()}function l(n){G('ondata'),x=!1;var a=t.write(n);!1!==a||x||((1===g.pipesCount&&g.pipes===t||1<g.pipesCount&&-1!==P(g.pipes,t))&&!w&&(G('false write response, pause',h._readableState.awaitDrain),h._readableState.awaitDrain++,x=!0),h.pause())}function c(n){G('onerror',n),m(),t.removeListener('error',c),0===q(t,'error')&&t.emit('error',n)}function u(){t.removeListener('finish',f),m()}function f(){G('onfinish'),t.removeListener('close',u),m()}function m(){G('unpipe'),h.unpipe(t)}var h=this,g=this._readableState;switch(g.pipesCount){case 0:g.pipes=t;break;case 1:g.pipes=[g.pipes,t];break;default:g.pipes.push(t);}g.pipesCount+=1,G('pipe count=%d opts=%j',g.pipesCount,n);var b=(!n||!1!==n.end)&&t!==r.stdout&&t!==r.stderr,y=b?o:m;g.endEmitted?M(y):h.once('end',y),t.on('unpipe',a);var v=k(h);t.on('drain',v);var w=!1,x=!1;return h.on('data',l),d(t,'error',c),t.once('close',u),t.once('finish',f),t.emit('pipe',h),g.flowing||(G('pipe resume'),h.resume()),t},c.prototype.unpipe=function(t){var n=this._readableState,a={hasUnpiped:!1};if(0===n.pipesCount)return this;if(1===n.pipesCount)return t&&t!==n.pipes?this:(t||(t=n.pipes),n.pipes=null,n.pipesCount=0,n.flowing=!1,t&&t.emit('unpipe',this,a),this);if(!t){var r=n.pipes,o=n.pipesCount;n.pipes=null,n.pipesCount=0,n.flowing=!1;for(var s=0;s<o;s++)r[s].emit('unpipe',this,a);return this}var d=P(n.pipes,t);return-1===d?this:(n.pipes.splice(d,1),n.pipesCount-=1,1===n.pipesCount&&(n.pipes=n.pipes[0]),t.emit('unpipe',this,a),this)},c.prototype.on=function(t,n){var a=F.prototype.on.call(this,t,n);if('data'===t)!1!==this._readableState.flowing&&this.resume();else if('readable'===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&v(this):M(C,this))}return a},c.prototype.addListener=c.prototype.on,c.prototype.resume=function(){var t=this._readableState;return t.flowing||(G('resume'),t.flowing=!0,T(this,t)),this},c.prototype.pause=function(){return G('call pause flowing=%j',this._readableState.flowing),!1!==this._readableState.flowing&&(G('pause'),this._readableState.flowing=!1,this.emit('pause')),this},c.prototype.wrap=function(t){var a=this._readableState,r=!1,o=this;for(var s in t.on('end',function(){if(G('wrapped end'),a.decoder&&!a.ended){var t=a.decoder.end();t&&t.length&&o.push(t)}o.push(null)}),t.on('data',function(n){if((G('wrapped data'),a.decoder&&(n=a.decoder.write(n)),!(a.objectMode&&(null===n||void 0===n)))&&(a.objectMode||n&&n.length)){var s=o.push(n);s||(r=!0,t.pause())}}),t)void 0===this[s]&&'function'==typeof t[s]&&(this[s]=function(n){return function(){return t[n].apply(t,arguments)}}(s));for(var d=0;d<Z.length;d++)t.on(Z[d],o.emit.bind(o,Z[d]));return o._read=function(a){G('wrapped _read',a),r&&(r=!1,t.resume())},o},c._fromList=A}).call(n,a(4),a(13))},function(t,n){var a={}.toString;t.exports=Array.isArray||function(t){return'[object Array]'==a.call(t)}},function(t,n,a){t.exports=a(91).EventEmitter},function(t,n,a){'use strict';function r(t,n){var a=this,r=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return r||o?void(n?n(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&d(s,this,t)):void(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!n&&t?(d(s,a,t),a._writableState&&(a._writableState.errorEmitted=!0)):n&&n(t)}))}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(t,n){t.emit('error',n)}var d=a(65);t.exports={destroy:r,undestroy:o}},function(t,n,a){'use strict';function r(t){this.afterTransform=function(n,a){return o(t,n,a)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function o(t,n,a){var r=t._transformState;r.transforming=!1;var o=r.writecb;if(!o)return t.emit('error',new Error('write callback called multiple times'));r.writechunk=null,r.writecb=null,null!==a&&a!==void 0&&t.push(a),o(n);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);l.call(this,t),this._transformState=new r(this);var n=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&('function'==typeof t.transform&&(this._transform=t.transform),'function'==typeof t.flush&&(this._flush=t.flush)),this.once('prefinish',function(){'function'==typeof this._flush?this._flush(function(t,a){d(n,t,a)}):d(n)})}function d(t,n,a){if(n)return t.emit('error',n);null!==a&&a!==void 0&&t.push(a);var r=t._writableState,o=t._transformState;if(r.length)throw new Error('Calling transform done when ws.length != 0');if(o.transforming)throw new Error('Calling transform done when still transforming');return t.push(null)}t.exports=s;var l=a(33),c=a(49);c.inherits=a(2),c.inherits(s,l),s.prototype.push=function(t,n){return this._transformState.needTransform=!1,l.prototype.push.call(this,t,n)},s.prototype._transform=function(t,n,a){throw new Error('_transform() is not implemented')},s.prototype._write=function(t,n,a){var r=this._transformState;if(r.writecb=a,r.writechunk=t,r.writeencoding=n,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(t){var n=this._transformState;null!==n.writechunk&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0},s.prototype._destroy=function(t,n){var a=this;l.prototype._destroy.call(this,t,function(t){n(t),a.emit('close')})}},function(t,n,a){function r(t){if(!(this instanceof r))return new r(t);o.call(this,{encoding:'utf8'}),this._writableState.objectMode=!0;var n=this,a=new d({write:function(t,a,r){n.push(t),r&&r()},end:function(t){n.push(null),t&&t()}},t);this._transform=function(t,n,r){a.addTriple(t,r)},this._flush=function(t){a.end(t)}}var o=a(43).Transform,s=a(95),d=a(96);s.inherits(r,o),t.exports=r},function(t,n,a){'use strict';function r(t,n,a,r,b){function y(){b&&b(null,n)}function v(t){if('application/ld+json'!==r||'application/nquads'!==r||'application/n-quads'!==r)if(b)b(t,n);else throw new Error('Error trying to parse <'+a+'> as '+r+':\n'+t+':\n'+t.stack)}function w(t,a){t&&b(t,n);try{E.parse(a,x)}catch(t){b(t,n)}}function x(t,a,r){if(t&&b(t,n),a)S.push(a);else{for(var o=0;o<S.length;o++)_(n,S[o]);b(null,n)}}function _(t,n){var a=k(n.subject),r=k(n.predicate),o=k(n.object),s=null;n.graph&&(s=k(n.graph)),t.add(a,r,o,s)}function k(t){var n;if(l.Util.isLiteral(t)){n=l.Util.getLiteralValue(t);var a=l.Util.getLiteralLanguage(t),r=new u(l.Util.getLiteralType(t));return new d(n,a,r)}return l.Util.isIRI(t)?new u(t):l.Util.isBlank(t)?(n=t.substring(2,t.length),new o(n)):null}r=r||'text/turtle';try{if('text/n3'===r||'text/turtle'===r){var C=c(n,n,a,a,null,null,'',null);C.loadBuf(t),y()}else if('application/rdf+xml'===r){var T=new m(n);T.parse(g.parseXML(t),a,n.sym(a)),y()}else if('application/xhtml+xml'===r)f(g.parseXML(t,{contentType:'application/xhtml+xml'}),n,a),y();else if('text/html'===r)f(g.parseXML(t,{contentType:'text/html'}),n,a),y();else if('application/sparql-update'===r)h(t,n,a),y();else if('application/ld+json'===r||'application/nquads'===r||'application/n-quads'===r){var E=l.Parser(),S=[];if('application/ld+json'===r){var A;try{A=JSON.parse(t)}catch(t){return b(t,null)}s.toRDF(A,{format:'application/nquads',base:a},w)}else w(null,t)}else throw new Error('Don\'t know how to parse '+r+' yet')}catch(t){v(t)}}t.exports=r;var o=a(31),s=a(134),d=a(40),l=a(136),c=a(70),u=a(6),f=a(99).parseRDFaDOM,m=a(100),h=a(146),g=a(24)},function(t,n,a){'use strict';function r(t,n,a){var r=['INSERT','DELETE','WHERE'],d=s('http://www.w3.org/ns/pim/patch#'),l=o(n,n,a,a,null,null,'',null),c={},u=function t(n,a,r,o,s){return'Line '+(a+1)+' of <'+n+'>: Bad syntax:\n   '+s+'\n   at: "'+r.slice(o,o+30)+'"'},f,m,h;f=0;var g=n.sym(a+'#query');for(c.query=g;!0;){if(m=l.skipSpace(t,f),0>m)return c;if(';'===t[m]){if(f=l.skipSpace(t,m+1),0>f)return c;m=f}var b=!1;for(h=0;h<r.length;h++){var y=r[h];if(t.slice(m,m+y.length)===y){if(f=l.skipSpace(t,m+y.length),0>f)throw u(l._thisDoc,l.lines,t,m+y.length,'found EOF, needed {...} after '+y);if(('INSERT'===y||'DELETE'===y)&&'DATA'===t.slice(f,f+4)){if(m=l.skipSpace(t,f+4),0>m)throw u(l._thisDoc,l.lines,t,f+4,'needed {...} after INSERT DATA '+y);f=m}var v=[];if(m=l.node(t,f,v),0>m)throw u(l._thisDoc,l.lines,t,f,'bad syntax or EOF in {...} after '+y);c[y.toLowerCase()]=v[0],n.add(g,d(y.toLowerCase()),v[0]),b=!0,f=m}}if(!b&&'@prefix'===t.slice(m,m+7)){if(f=l.directive(t,m),0>f)throw u(l._thisDoc,l.lines,t,f,'bad syntax or EOF after @prefix ');f=l.checkDot(t,f),b=!0}if(!b)throw u(l._thisDoc,l.lines,t,m,'Unknown syntax at start of statememt: \''+t.slice(m).slice(0,20)+'\'')}}t.exports=r;var o=a(70),s=a(50)},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=a(69).namedNode,d=function(){function t(n,a){r(this,t),this.parent=n,this.via=a,this.connected=!1,this.pending={},this.subscribed={},this.socket={};try{this.socket=new WebSocket(a),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onmessage=this.onMessage,this.socket.onerror=this.onError}catch(t){this.onError(t)}}return o(t,[{key:'_decode',value:function t(n){var a,o,s,d,r,l,c;for(o in d={},r=function(){var t,r,o,s;for(o=n.split('&'),s=[],(t=0,r=o.length);t<r;t++)a=o[t],s.push(a.split('='));return s}(),r)a=r[o],l=[decodeURIComponent(a[0]),decodeURIComponent(a[1])],s=l[0],c=l[1],null==d[s]&&(d[s]=[]),d[s].push(c);return d}},{key:'_send',value:function t(n,a,r){var o,s;return s=[n,a,r].join(' '),'function'==typeof(o=this.socket).send?o.send(s):void 0}},{key:'_subscribe',value:function t(n){return this._send('sub',n,''),this.subscribed[n]=!0,this.subscribed[n]}},{key:'onClose',value:function t(n){var a;for(a in this.connected=!1,this.subscribed)this.pending[a]=!0;return this.subscribed={},this.subscribed}},{key:'onError',value:function t(n){throw new Error('onError'+n)}},{key:'onMessage',value:function t(n){var a,r;return(r=n.data.split(' '),'ping'===r[0])?'function'==typeof(a=this.socket).send?a.send('pong '+r.slice(1).join(' ')):void 0:'pub'===r[0]?this.parent.onUpdate(r[1],this._decode(r[2])):void 0}},{key:'onOpen',value:function t(n){var a,r;for(r in this.connected=!0,a=[],this.pending)delete this.pending[r],a.push(this._subscribe(r));return a}},{key:'subscribe',value:function t(n){return this.connected?this._subscribe(n):(this.pending[n]=!0,this.pending[n])}}]),t}(),l=function(){function t(n){r(this,t),this.fetcher=n,this.graph={},this.via={},this.fetcher.addCallback('headers',this.onHeaders)}return o(t,[{key:'onHeaders',value:function t(n){var a,r,o;return null==n.headers||'undefined'==typeof WebSocket||null===WebSocket||(a=n.headers.etag,o=n.headers['updates-via'],r=n.uri,a&&o&&(this.graph[r]={etag:a,via:o},this.register(o,r)),!0)}},{key:'onUpdate',value:function t(n,a){return this.fetcher.refresh(s(n))}},{key:'register',value:function t(n,a){return null==this.via[n]&&(this.via[n]=new d(this,n)),this.via[n].subscribe(a)}}]),t}();t.exports.UpdatesSocket=d,t.exports.UpdatesVia=l},function(t,n,a){'use strict';var r=t.exports={},o={acl:r,icons:a(20),log:a(19),ns:a(7),store:a(14),widgets:a(21)},s=a(23),d=o.store;o.acl.adoptACLDefault=function(t,n,a,r){var s=o.store,d=o.ns.acl,l=o.ns,c='/'===t.uri.slice(-1),u=s.each(void 0,d('defaultForNew'),a,r),f=[];u.map(function(n){f=f.concat(s.statementsMatching(n,d('agent'),void 0,r)).concat(s.statementsMatching(n,d('agentClass'),void 0,r)).concat(s.statementsMatching(n,d('agentGroup'),void 0,r)).concat(s.statementsMatching(n,d('origin'),void 0,r)).concat(s.statementsMatching(n,d('originClass'),void 0,r)).concat(s.statementsMatching(n,d('mode'),void 0,r)),f.push($rdf.st(n,d('accessTo'),t,r)),c&&f.push($rdf.st(n,d('defaultForNew'),t,r))});var m=$rdf.graph();return f.map(function(t){var a=function t(a){var o=r.uri.length;return $rdf.sym(a.uri.slice(0,o)==r.uri?n.uri+a.uri.slice(o):a.uri)};m.add(a(t.subject),a(t.predicate),a(t.object),$rdf.sym(n.uri))}),m},o.acl.readACL=function(t,n,r,a){var r=r||o.store,s=o.ns,d=a?s.acl('defaultForNew'):s.acl('accessTo'),l=o.ns.acl,c={agent:[],agentClass:[],agentGroup:[],origin:[],originClass:[]},u=r.each(void 0,d,t);for(var f in{agent:!0,agentClass:!0,agentGroup:!0,origin:!0,originClass:!0})u.map(function(t){r.each(t,l('mode')).map(function(n){r.each(t,l(f)).map(function(a){c[f][a.uri]||(c[f][a.uri]=[]),c[f][a.uri][n.uri]=t})})});return c},o.acl.sameACL=function(t,n){var a=function t(n,a){for(var r in{agent:!0,agentClass:!0,agentGroup:!0,origin:!0,originClass:!0})if(n[r])for(var o in n[r])for(var s in n[r][o])if(!a[r][o]||!a[r][o][s])return!1;return!0};return a(t,n)&&a(n,t)},o.acl.ACLunion=function(t){for(var n=t[0],r=1,o,a;r<t.length;r++)['agent','agentClass','agentGroup','origin','originClass'].map(function(s){if(o=t[r],o[s])for(a in o[s])for(var d in o[s][a])n[s][a]||(n[s][a]=[]),n[s][a][d]=!0});return n},o.acl.loadUnionACL=function(t,n){var a=[],r=function t(r){if(r.length){var s=r.shift().doc();o.acl.getACLorDefault(s,function(s,d,l,c,u,f){var m=!d;return s?void(a.push(m?o.widgets.readACL(u,f):o.widgets.readACL(l,c)),t(r.slice(1))):n(s,c)})}else n(!0,o.widgets.ACLunion(a))};r(t)},o.acl.ACLbyCombination=function(t){var n=[];return['agent','agentClass','agentGroup','origin','originClass'].map(function(a){for(var r in t[a]){var o=[];for(var s in t[a][r])o.push(s);o.sort(),o=o.join('\n'),n[o]||(n[o]=[]),n[o].push([a,r])}}),n},o.acl.makeACLGraph=function(t,n,a,r){var s=o.acl.ACLbyCombination(a);return o.acl.makeACLGraphbyCombo(t,n,s,r)},o.acl.makeACLGraphbyCombo=function(t,n,r,s,d,l){var c=o.ns.acl;for(var u in r){var f=u.split('\n'),m=f.map(function(t){return t.split('#')[1]}).join('');l&&!d&&(m+='Default');var h=t.sym(s.uri+'#'+m);t.add(h,o.ns.rdf('type'),c('Authorization'),s),d&&t.add(h,c('accessTo'),n,s),l&&t.add(h,c('defaultForNew'),n,s);for(var a=0;a<f.length;a++)t.add(h,c('mode'),t.sym(f[a]),s);var g=r[u];for(a=0;a<g.length;a++){var b=g[a][0],y=g[a][1];t.add(h,c(b),t.sym(y),s)}}},o.acl.ACLToString=function(t){return o.widgets.comboToString(o.widgets.ACLbyCombination(t))},o.acl.comboToString=function(t){var n='';for(var a in t){var r=a.split('\n'),d=r.map(function(t){return t.split('#')[1][0]}).join('');n+=d+':';for(var l=t[a],c=0;c<l.length;c++){var u=l[c][0],f=$rdf.sym(l[c][1]);n+='agent'===u?'@':'',n+=f.sameTerm(o.ns.foaf('Agent'))?'*':s.label(f),c<l.length-1&&(n+=',')}n+=';'}return'{'+n.slice(0,-1)+'}'},o.acl.makeACLString=function(t,n,a){var r=$rdf.graph();return o.widgets.makeACLGraph(r,t,n,a),$rdf.serialize(a,r,a.uri,'text/turtle')},o.acl.putACLObject=function(t,n,a,r,s){var d=o.widgets.ACLbyCombination(a);return o.widgets.putACLbyCombo(t,n,d,r,s)},o.acl.putACLbyCombo=function(t,n,a,r,s){var d=$rdf.graph();o.widgets.makeACLGraphbyCombo(d,n,a,r,!0),t.updater.put(r,d.statementsMatching(void 0,void 0,void 0,r),'text/turtle',function(d,l,c){l?(t.fetcher.unload(r),o.widgets.makeACLGraphbyCombo(t,n,a,r,!0),t.fetcher.requested[r.uri]='done',s(l)):s(l,c)})},o.acl.fixIndividualCardACL=function(t,n,a){var r=o.store.each(void 0,o.ns.vcard('hasMember'),t),s=t.doc();r?o.widgets.fixIndividualACL(t,r,n,a):(n('This card is in no groups'),a(!0))},o.acl.fixIndividualACL=function(t,n,a,r){a=a||console.log;var d=t.doc();o.acl.getACLorDefault(d,function(l,c,u,f,m,h){if(!l)return r(!1,f);var g=c?o.widgets.readACL(u,f):o.widgets.readACL(m,h);o.widgets.loadUnionACL(n,function(n,l){return n?void(o.widgets.sameACL(l,g)?a('Nice - same ACL. no change '+s.label(t)+' '+d):(a('Group ACLs differ for '+s.label(t)+' '+d),o.widgets.putACLObject(o.store,u,l,f,r))):r(!1,l)})})},o.acl.setACL=function(t,n,a){var r=d.any(d.sym(t),d.sym('http://www.iana.org/assignments/link-relations/acl'));r?d.fetcher.webOperation('PUT',r.uri,{data:n,contentType:'text/turtle'}).then(a):fetcher.nowOrWhenFetched(t,void 0,function(r,o){if(!r)return a(r,'Gettting headers for ACL: '+o);var s=d.any(d.sym(t),d.sym('http://www.iana.org/assignments/link-relations/acl'));s?d.fetcher.webOperation('PUT',s.uri,{data:n,contentType:'text/turtle'}).then(a):a(!1,'No Link rel=ACL header for '+t)})},o.acl.getACLorDefault=function(t,n){o.acl.getACL(t,function(r,s,d,l){var c=o.store,u=o.ns.acl,f,m,h,g,b;if(!r)return n(!1,!1,s,l);var a=function a(r){'/'===r.slice(-1)&&(r=r.slice(0,-1));var s=r.lastIndexOf('/'),l=r.indexOf('/',r.indexOf('//')+2);r=r.slice(0,s+1);var f=$rdf.sym(r);o.acl.getACL(f,function(o,m,h){if(!o)return n(!1,!0,m,'( No ACL pointer '+r+' '+m+')'+h);if(403===m)return n(!1,!0,m,'( default ACL file FORBIDDEN. Stop.'+r+')');if(404===m){if(l>=s)return n(!1,!0,499,'Nothing to hold a default');a(r)}else{if(200!==m)return n(!1,!0,m,'Error status \''+m+'\' searching for default for '+f);var g=c.each(void 0,u('defaultForNew'),c.sym(r),h);if(!g.length)a(r);else{var b=c.sym(r);n(!0,!1,t,d,b,h)}}})};if(!r)return n(!1,!1,s,'Error accessing Access Control information for '+t+') '+l);return 404===s?void a(t.uri):403===s?n(!1,!1,s,'(Sharing not available to you)'+l):200===s?n(!0,!0,t,d):n(!1,!1,s,'Error '+s+' accessing Access Control information for '+t+': '+l)})},o.acl.getACL=function(t,n){o.store.fetcher.nowOrWhenFetched(t,void 0,function(a,r){if(!a)return n(a,'Can\'t get headers to find ACL for '+t+': '+r);var s=o.store,d=s.any(t,s.sym('http://www.iana.org/assignments/link-relations/acl'));if(!d)n(!1,900,'No Link rel=ACL header for '+t);else{if(o.store.fetcher.nonexistent[d.uri])return n(!0,404,d,'ACL file '+d+' does not exist.');o.store.fetcher.nowOrWhenFetched(d,void 0,function(t,a,r){t?n(!0,200,d):n(!0,r.status,d,'Can\'t read Access Control File '+d+': '+a)})}})}},function(t,n,a){(function(n){function r(){this.init(),this._w=h,m.call(this,64,56)}function o(t,n,a){return a^t&(n^a)}function s(t,n,a){return t&n|a&(t|n)}function l(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function u(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function c(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}var f=a(2),m=a(45),y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=Array(64);f(r,m),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(t){for(var n=this._w,r=0|this._a,a=0|this._b,m=0|this._c,b=0|this._d,v=0|this._e,w=0|this._f,f=0|this._g,g=0|this._h,h=0;16>h;++h)n[h]=t.readInt32BE(4*h);for(;64>h;++h)n[h]=0|c(n[h-2])+n[h-7]+d(n[h-15])+n[h-16];for(var x=0;64>x;++x){var _=0|g+u(v)+o(v,w,f)+y[x]+n[x],k=0|l(r)+s(r,a,m);g=f,f=w,w=v,v=0|b+_,b=m,m=a,a=r,r=0|_+k}this._a=0|r+this._a,this._b=0|a+this._b,this._c=0|m+this._c,this._d=0|b+this._d,this._e=0|v+this._e,this._f=0|w+this._f,this._g=0|f+this._g,this._h=0|g+this._h},r.prototype._hash=function(){var t=new n(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=r}).call(n,a(0).Buffer)},function(t,n,a){(function(n){function r(){this.init(),this._w=v,b.call(this,128,112)}function o(t,n,a){return a^t&(n^a)}function s(t,n,a){return t&n|a&(t|n)}function d(t,n){return(t>>>28|n<<4)^(n>>>2|t<<30)^(n>>>7|t<<25)}function l(t,n){return(t>>>14|n<<18)^(t>>>18|n<<14)^(n>>>9|t<<23)}function c(t,n){return(t>>>1|n<<31)^(t>>>8|n<<24)^t>>>7}function u(t,n){return(t>>>1|n<<31)^(t>>>8|n<<24)^(t>>>7|n<<25)}function f(t,n){return(t>>>19|n<<13)^(n>>>29|t<<3)^t>>>6}function m(t,n){return(t>>>19|n<<13)^(n>>>29|t<<3)^(t>>>6|n<<26)}function h(t,n){return t>>>0<n>>>0?1:0}var g=a(2),b=a(45),y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],v=Array(160);g(r,b),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(t){for(var n=this._w,a=0|this._ah,r=0|this._bh,g=0|this._ch,b=0|this._dh,v=0|this._eh,w=0|this._fh,x=0|this._gh,_=0|this._hh,k=0|this._al,C=0|this._bl,T=0|this._cl,E=0|this._dl,S=0|this._el,A=0|this._fl,I=0|this._gl,N=0|this._hl,R=0;32>R;R+=2)n[R]=t.readInt32BE(4*R),n[R+1]=t.readInt32BE(4*R+4);for(;160>R;R+=2){var L=n[R-30],O=n[R-30+1],P=c(L,O),M=u(O,L);L=n[R-4],O=n[R-4+1];var D=f(L,O),B=m(O,L),U=n[R-14],q=n[R-14+1],F=n[R-32],z=n[R-32+1],H=0|M+q,W=0|P+U+h(H,M);H=0|H+B,W=0|W+D+h(H,B),H=0|H+z,W=0|W+F+h(H,z),n[R]=W,n[R+1]=H}for(var V=0;160>V;V+=2){W=n[V],H=n[V+1];var j=s(a,r,g),G=s(k,C,T),J=d(a,k),K=d(k,a),X=l(v,S),Z=l(S,v),Y=y[V],Q=y[V+1],ee=o(v,w,x),te=o(S,A,I),ne=0|N+Z,ae=0|_+X+h(ne,N);ne=0|ne+te,ae=0|ae+ee+h(ne,te),ne=0|ne+Q,ae=0|ae+Y+h(ne,Q),ne=0|ne+H,ae=0|ae+W+h(ne,H);var re=0|K+G,ie=0|J+j+h(re,K);_=x,N=I,x=w,I=A,w=v,A=S,S=0|E+ne,v=0|b+ae+h(S,E),b=g,E=T,g=r,T=C,r=a,C=k,k=0|ne+re,a=0|ae+ie+h(k,ne)}this._al=0|this._al+k,this._bl=0|this._bl+C,this._cl=0|this._cl+T,this._dl=0|this._dl+E,this._el=0|this._el+S,this._fl=0|this._fl+A,this._gl=0|this._gl+I,this._hl=0|this._hl+N,this._ah=0|this._ah+a+h(this._al,k),this._bh=0|this._bh+r+h(this._bl,C),this._ch=0|this._ch+g+h(this._cl,T),this._dh=0|this._dh+b+h(this._dl,E),this._eh=0|this._eh+v+h(this._el,S),this._fh=0|this._fh+w+h(this._fl,A),this._gh=0|this._gh+x+h(this._gl,I),this._hh=0|this._hh+_+h(this._hl,N)},r.prototype._hash=function(){function t(t,n,r){a.writeInt32BE(t,r),a.writeInt32BE(n,r+4)}var a=new n(64);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),a},t.exports=r}).call(n,a(0).Buffer)},function(t,n,a){'use strict';function r(t,n){d.call(this,'digest'),'string'==typeof n&&(n=l.from(n));var a='sha512'===t||'sha384'===t?128:64;if(this._alg=t,this._key=n,n.length>a){var r='rmd160'===t?new u:f(t);n=r.update(n).digest()}else n.length<a&&(n=l.concat([n,m],a));for(var o=this._ipad=l.allocUnsafe(a),s=this._opad=l.allocUnsafe(a),c=0;c<a;c++)o[c]=54^n[c],s[c]=92^n[c];this._hash='rmd160'===t?new u:f(t),this._hash.update(o)}var o=a(2),s=a(259),d=a(27),l=a(3).Buffer,c=a(101),u=a(102),f=a(103),m=l.alloc(128);o(r,d),r.prototype._update=function(t){this._hash.update(t)},r.prototype._final=function(){var t=this._hash.digest(),n='rmd160'===this._alg?new u:f(this._alg);return n.update(this._opad).update(t).digest()},t.exports=function t(n,a){return n=n.toLowerCase(),'rmd160'===n||'ripemd160'===n?new r('rmd160',a):'md5'===n?new s(c,a):new r(n,a)}},function(t,n){t.exports={sha224WithRSAEncryption:{sign:'rsa',hash:'sha224',id:'302d300d06096086480165030402040500041c'},"RSA-SHA224":{sign:'ecdsa/rsa',hash:'sha224',id:'302d300d06096086480165030402040500041c'},sha256WithRSAEncryption:{sign:'rsa',hash:'sha256',id:'3031300d060960864801650304020105000420'},"RSA-SHA256":{sign:'ecdsa/rsa',hash:'sha256',id:'3031300d060960864801650304020105000420'},sha384WithRSAEncryption:{sign:'rsa',hash:'sha384',id:'3041300d060960864801650304020205000430'},"RSA-SHA384":{sign:'ecdsa/rsa',hash:'sha384',id:'3041300d060960864801650304020205000430'},sha512WithRSAEncryption:{sign:'rsa',hash:'sha512',id:'3051300d060960864801650304020305000440'},"RSA-SHA512":{sign:'ecdsa/rsa',hash:'sha512',id:'3051300d060960864801650304020305000440'},"RSA-SHA1":{sign:'rsa',hash:'sha1',id:'3021300906052b0e03021a05000414'},"ecdsa-with-SHA1":{sign:'ecdsa',hash:'sha1',id:''},sha256:{sign:'ecdsa',hash:'sha256',id:''},sha224:{sign:'ecdsa',hash:'sha224',id:''},sha384:{sign:'ecdsa',hash:'sha384',id:''},sha512:{sign:'ecdsa',hash:'sha512',id:''},"DSA-SHA":{sign:'dsa',hash:'sha1',id:''},"DSA-SHA1":{sign:'dsa',hash:'sha1',id:''},DSA:{sign:'dsa',hash:'sha1',id:''},"DSA-WITH-SHA224":{sign:'dsa',hash:'sha224',id:''},"DSA-SHA224":{sign:'dsa',hash:'sha224',id:''},"DSA-WITH-SHA256":{sign:'dsa',hash:'sha256',id:''},"DSA-SHA256":{sign:'dsa',hash:'sha256',id:''},"DSA-WITH-SHA384":{sign:'dsa',hash:'sha384',id:''},"DSA-SHA384":{sign:'dsa',hash:'sha384',id:''},"DSA-WITH-SHA512":{sign:'dsa',hash:'sha512',id:''},"DSA-SHA512":{sign:'dsa',hash:'sha512',id:''},"DSA-RIPEMD160":{sign:'dsa',hash:'rmd160',id:''},ripemd160WithRSA:{sign:'rsa',hash:'rmd160',id:'3021300906052b2403020105000414'},"RSA-RIPEMD160":{sign:'rsa',hash:'rmd160',id:'3021300906052b2403020105000414'},md5WithRSAEncryption:{sign:'rsa',hash:'md5',id:'3020300c06082a864886f70d020505000410'},"RSA-MD5":{sign:'rsa',hash:'md5',id:'3020300c06082a864886f70d020505000410'}}},function(t,n,a){n.pbkdf2=a(261),n.pbkdf2Sync=a(156)},function(t,n){var a=1073741823;t.exports=function(t,n){if('number'!=typeof t)throw new TypeError('Iterations not a number');if(0>t)throw new TypeError('Bad iterations');if('number'!=typeof n)throw new TypeError('Key length not a number');if(0>n||n>a||n!==n)throw new TypeError('Bad key length')}},function(t,n,a){(function(n){var a;if(n.browser)a='utf-8';else{var r=parseInt(n.version.split('.')[0].slice(1),10);a=6<=r?'utf-8':'binary'}t.exports=a}).call(n,a(13))},function(t,n,a){function r(t,n,a){var r=o(t),s='sha512'===t||'sha384'===t?128:64;n.length>s?n=r(n):n.length<s&&(n=m.concat([n,h],s));for(var d=m.allocUnsafe(s+g[t]),l=m.allocUnsafe(s+g[t]),c=0;c<s;c++)d[c]=54^n[c],l[c]=92^n[c];var u=m.allocUnsafe(s+a+4);d.copy(u,0,0,s),this.ipad1=u,this.ipad2=d,this.opad=l,this.alg=t,this.blocksize=s,this.hash=r,this.size=g[t]}function o(t){function n(n){return c(t).update(n).digest()}return'rmd160'===t||'ripemd160'===t?l:'md5'===t?d:n}function s(t,n,a,o,s){m.isBuffer(t)||(t=m.from(t,f)),m.isBuffer(n)||(n=m.from(n,f)),u(a,o),s=s||'sha1';var d=new r(s,t,n.length),c=m.allocUnsafe(o),h=m.allocUnsafe(n.length+4);n.copy(h,0,0,n.length);for(var b=0,y=g[s],v=_Mathceil(o/y),l=1;l<=v;l++){h.writeUInt32BE(l,n.length);for(var w=d.run(h,d.ipad1),x=w,_=1;_<a;_++){x=d.run(x,d.ipad2);for(var C=0;C<y;C++)w[C]^=x[C]}w.copy(c,b),b+=y}return c}var d=a(101),l=a(102),c=a(103),u=a(154),f=a(155),m=a(3).Buffer,h=m.alloc(128),g={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};r.prototype.run=function(t,n){t.copy(n,this.blocksize);var a=this.hash(n);return a.copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=s},function(t,n,a){(function(t){function r(t){for(var n=t.length,a;n--;)if(a=t.readUInt8(n),255===a)t.writeUInt8(0,n);else{a++,t.writeUInt8(a,n);break}}function o(t){var n=t._cipher.encryptBlockRaw(t._prev);return r(t._prev),n}var s=a(53),d=16;n.encrypt=function(n,a){var r=_Mathceil(a.length/d),l=n._cache.length;n._cache=t.concat([n._cache,t.allocUnsafe(r*d)]);for(var c=0;c<r;c++){var u=o(n),f=l+c*d;n._cache.writeUInt32BE(u[0],f+0),n._cache.writeUInt32BE(u[1],f+4),n._cache.writeUInt32BE(u[2],f+8),n._cache.writeUInt32BE(u[3],f+12)}var m=n._cache.slice(0,a.length);return n._cache=n._cache.slice(a.length),s(a,m)}}).call(n,a(0).Buffer)},function(t,n){t.exports={"aes-128-ecb":{cipher:'AES',key:128,iv:0,mode:'ECB',type:'block'},"aes-192-ecb":{cipher:'AES',key:192,iv:0,mode:'ECB',type:'block'},"aes-256-ecb":{cipher:'AES',key:256,iv:0,mode:'ECB',type:'block'},"aes-128-cbc":{cipher:'AES',key:128,iv:16,mode:'CBC',type:'block'},"aes-192-cbc":{cipher:'AES',key:192,iv:16,mode:'CBC',type:'block'},"aes-256-cbc":{cipher:'AES',key:256,iv:16,mode:'CBC',type:'block'},aes128:{cipher:'AES',key:128,iv:16,mode:'CBC',type:'block'},aes192:{cipher:'AES',key:192,iv:16,mode:'CBC',type:'block'},aes256:{cipher:'AES',key:256,iv:16,mode:'CBC',type:'block'},"aes-128-cfb":{cipher:'AES',key:128,iv:16,mode:'CFB',type:'stream'},"aes-192-cfb":{cipher:'AES',key:192,iv:16,mode:'CFB',type:'stream'},"aes-256-cfb":{cipher:'AES',key:256,iv:16,mode:'CFB',type:'stream'},"aes-128-cfb8":{cipher:'AES',key:128,iv:16,mode:'CFB8',type:'stream'},"aes-192-cfb8":{cipher:'AES',key:192,iv:16,mode:'CFB8',type:'stream'},"aes-256-cfb8":{cipher:'AES',key:256,iv:16,mode:'CFB8',type:'stream'},"aes-128-cfb1":{cipher:'AES',key:128,iv:16,mode:'CFB1',type:'stream'},"aes-192-cfb1":{cipher:'AES',key:192,iv:16,mode:'CFB1',type:'stream'},"aes-256-cfb1":{cipher:'AES',key:256,iv:16,mode:'CFB1',type:'stream'},"aes-128-ofb":{cipher:'AES',key:128,iv:16,mode:'OFB',type:'stream'},"aes-192-ofb":{cipher:'AES',key:192,iv:16,mode:'OFB',type:'stream'},"aes-256-ofb":{cipher:'AES',key:256,iv:16,mode:'OFB',type:'stream'},"aes-128-ctr":{cipher:'AES',key:128,iv:16,mode:'CTR',type:'stream'},"aes-192-ctr":{cipher:'AES',key:192,iv:16,mode:'CTR',type:'stream'},"aes-256-ctr":{cipher:'AES',key:256,iv:16,mode:'CTR',type:'stream'},"aes-128-gcm":{cipher:'AES',key:128,iv:12,mode:'GCM',type:'auth'},"aes-192-gcm":{cipher:'AES',key:192,iv:12,mode:'GCM',type:'auth'},"aes-256-gcm":{cipher:'AES',key:256,iv:12,mode:'GCM',type:'auth'}}},function(t,n,a){function r(t,n){var a=0;t.length!==n.length&&a++;for(var r=_Mathmin(t.length,n.length),o=0;o<r;++o)a+=t[o]^n[o];return a}function o(t,n,a,r){l.call(this),this._finID=d.concat([a,d.from([0,0,0,1])]),a=d.concat([a,d.from([0,0,0,2])]),this._cipher=new s.AES(n),this._prev=d.from(a),this._cache=d.allocUnsafe(0),this._secCache=d.allocUnsafe(0),this._decrypt=r,this._alen=0,this._len=0,this._mode=t;var o=d.alloc(4,0);this._ghash=new u(this._cipher.encryptBlock(o)),this._authTag=null,this._called=!1}var s=a(72),d=a(3).Buffer,l=a(27),c=a(2),u=a(272),f=a(53);c(o,l),o.prototype._update=function(t){if(!this._called&&this._alen){var n=16-this._alen%16;16>n&&(n=d.alloc(n,0),this._ghash.update(n))}this._called=!0;var a=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(a),this._len+=t.length,a},o.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error('Unsupported state or unable to authenticate data');var t=f(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&r(t,this._authTag))throw new Error('Unsupported state or unable to authenticate data');this._authTag=t,this._cipher.scrub()},o.prototype.getAuthTag=function t(){if(this._decrypt||!d.isBuffer(this._authTag))throw new Error('Attempting to get auth tag in unsupported state');return this._authTag},o.prototype.setAuthTag=function t(n){if(!this._decrypt)throw new Error('Attempting to set auth tag in unsupported state');this._authTag=n},o.prototype.setAAD=function t(n){if(this._called)throw new Error('Attempting to set AAD in unsupported state');this._ghash.update(n),this._alen+=n.length},t.exports=o},function(t,n,a){function r(t,n,a,r){d.call(this),this._cipher=new o.AES(n),this._prev=s.from(a),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=r,this._mode=t}var o=a(72),s=a(3).Buffer,d=a(27),l=a(2);l(r,d),r.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()},t.exports=r},function(t,n,a){function r(){if(null!=E)return E;var t=1048576,n=[];n[0]=2;for(var a=1,r=3,o;r<t;r+=2){o=_Mathceil(Math.sqrt(r));for(var s=0;s<a&&n[s]<=o&&0!=r%n[s];s++);a!==s&&n[s]<=o||(n[a++]=r)}return E=n,n}function o(t){for(var n=r(),a=0;a<n.length;a++)if(0===t.modn(n[a]))return 0===t.cmpn(n[a]);return!0}function s(t){var n=c.mont(t);return 0===g.toRed(n).redPow(t.subn(1)).fromRed().cmpn(1)}function d(t,n){if(16>t)return 2===n||5===n?new c([140,123]):new c([140,39]);n=new c(n);for(var a,r;!0;){for(a=new c(l(_Mathceil(t/8)));a.bitLength()>t;)a.ishrn(1);if(a.isEven()&&a.iadd(h),a.testn(1)||a.iadd(g),!n.cmp(g))for(;a.mod(u).cmp(k);)a.iadd(C);else if(!n.cmp(b))for(;a.mod(w).cmp(x);)a.iadd(C);if(r=a.shrn(1),o(r)&&o(a)&&s(r)&&s(a)&&m.test(r)&&m.test(a))return a}}var l=a(51);t.exports=d,d.simpleSieve=o,d.fermatTest=s;var c=a(162),u=new c(24),f=a(163),m=new f,h=new c(1),g=new c(2),b=new c(5),y=new c(16),v=new c(8),w=new c(10),x=new c(3),_=new c(7),k=new c(11),C=new c(4),T=new c(12),E=null},function(t,n,a){(function(t){(function(t,n){'use strict';function o(t,n){if(!t)throw new Error(n||'Assertion failed')}function r(t,n){t.super_=n;var a=function(){};a.prototype=n.prototype,t.prototype=new a,t.prototype.constructor=t}function d(t,n,a){return d.isBN(t)?t:void(this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(('le'===n||'be'===n)&&(a=n,n=10),this._init(t||0,n||10,a||'be')))}function s(t,n,a){for(var o=0,r=_Mathmin(t.length,a),s=n,d;s<r;s++)d=t.charCodeAt(s)-48,o<<=4,o|=49<=d&&54>=d?d-49+10:17<=d&&22>=d?d-17+10:15&d;return o}function l(t,n,a,o){for(var s=0,r=_Mathmin(t.length,a),d=n,l;d<r;d++)l=t.charCodeAt(d)-48,s*=o,s+=49<=l?l-49+10:17<=l?l-17+10:l;return s}function c(t){for(var n=Array(t.bitLength()),a=0;a<n.length;a++){var r=0|a/26,o=a%26;n[a]=(t.words[r]&1<<o)>>>o}return n}function u(t,n,o){o.negative=n.negative^t.negative;var s=0|t.length+n.length;o.length=s,s=0|s-1;var d=0|t.words[0],a=0|n.words[0],l=d*a,r=67108863&l,c=0|l/67108864;o.words[0]=r;for(var u=1;u<s;u++){for(var f=c>>>26,m=67108863&c,h=_Mathmin(u,n.length-1),g=_Mathmax(0,u-t.length+1),b;g<=h;g++)b=0|u-g,d=0|t.words[b],a=0|n.words[g],l=d*a+m,f+=0|l/67108864,m=67108863&l;o.words[u]=0|m,c=0|f}return 0==c?o.length--:o.words[u]=0|c,o.strip()}function f(t,n,o){o.negative=n.negative^t.negative,o.length=t.length+n.length;for(var s=0,d=0,l=0,c;l<o.length-1;l++){c=d,d=0;for(var u=67108863&s,f=_Mathmin(l,n.length-1),m=_Mathmax(0,l-t.length+1);m<=f;m++){var h=l-m,g=0|t.words[h],a=0|n.words[m],b=g*a,r=67108863&b;c=0|c+(0|b/67108864),r=0|r+u,u=67108863&r,c=0|c+(r>>>26),d+=c>>>26,c&=67108863}o.words[l]=u,s=c,c=d}return 0==s?o.length--:o.words[l]=s,o.strip()}function m(t,n,a){var r=new h;return r.mulp(t,n,a)}function h(t,n){this.x=t,this.y=n}function g(t,n){this.name=t,this.p=new d(n,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function y(){g.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function v(){g.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function w(){g.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var n=d._prime(t);this.m=n.p,this.prime=n}else o(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function _(t){x.call(this,t),this.shift=this.m.bitLength(),0!=this.shift%26&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}'object'==typeof t?t.exports=d:n.BN=d,d.BN=d,d.wordSize=26;var k;try{k=a(282).Buffer}catch(t){}d.isBN=function t(n){return!!(n instanceof d)||null!==n&&'object'==typeof n&&n.constructor.wordSize===d.wordSize&&Array.isArray(n.words)},d.max=function t(n,a){return 0<n.cmp(a)?n:a},d.min=function t(n,a){return 0>n.cmp(a)?n:a},d.prototype._init=function t(n,a,r){if('number'==typeof n)return this._initNumber(n,a,r);if('object'==typeof n)return this._initArray(n,a,r);'hex'===a&&(a=16),o(a===(0|a)&&2<=a&&36>=a),n=n.toString().replace(/\s+/g,'');var s=0;'-'===n[0]&&s++,16===a?this._parseHex(n,s):this._parseBase(n,a,s),'-'===n[0]&&(this.negative=1),this.strip();'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initNumber=function t(n,a,r){0>n&&(this.negative=1,n=-n),67108864>n?(this.words=[67108863&n],this.length=1):4503599627370496>n?(this.words=[67108863&n,67108863&n/67108864],this.length=2):(o(9007199254740992>n),this.words=[67108863&n,67108863&n/67108864,1],this.length=3);'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initArray=function t(n,a,r){if(o('number'==typeof n.length),0>=n.length)return this.words=[0],this.length=1,this;this.length=_Mathceil(n.length/3),this.words=Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var d=0,l,c;if('be'===r)for(s=n.length-1,l=0;0<=s;s-=3)c=n[s]|n[s-1]<<8|n[s-2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);else if('le'===r)for(s=0,l=0;s<n.length;s+=3)c=n[s]|n[s+1]<<8|n[s+2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);return this.strip()},d.prototype._parseHex=function t(n,a){this.length=_Mathceil((n.length-a)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o=0,d,l;for(r=n.length-6,d=0;r>=a;r-=6)l=s(n,r,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o,o+=24,26<=o&&(o-=26,d++);r+6!==a&&(l=s(n,a,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o),this.strip()},d.prototype._parseBase=function t(n,a,r){this.words=[0],this.length=1;for(var o=0,s=1;67108863>=s;s*=a)o++;o--,s=0|s/a;for(var d=n.length-r,c=d%o,u=_Mathmin(d,d-c)+r,f=0,m=r;m<u;m+=o)f=l(n,m,m+o,a),this.imuln(s),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f);if(0!=c){var h=1;for(f=l(n,m,n.length,a),m=0;m<c;m++)h*=a;this.imuln(h),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f)}},d.prototype.copy=function t(n){n.words=Array(this.length);for(var a=0;a<this.length;a++)n.words[a]=this.words[a];n.length=this.length,n.negative=this.negative,n.red=this.red},d.prototype.clone=function t(){var n=new d(null);return this.copy(n),n},d.prototype._expand=function t(n){for(;this.length<n;)this.words[this.length++]=0;return this},d.prototype.strip=function t(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},d.prototype._normSign=function t(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},d.prototype.inspect=function t(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var C=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,10000000,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function t(n,a){n=n||10,a=0|a||1;var s;if(16===n||'hex'===n){s='';for(var d=0,l=0,u=0;u<this.length;u++){var f=this.words[u],m=(16777215&(f<<d|l)).toString(16);l=16777215&f>>>24-d,s=0!=l||u!==this.length-1?C[6-m.length]+m+s:m+s,d+=2,26<=d&&(d-=26,u--)}for(0!=l&&(s=l.toString(16)+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}if(n===(0|n)&&2<=n&&36>=n){var h=T[n],g=E[n];s='';var b=this.clone();for(b.negative=0;!b.isZero();){var c=b.modn(g).toString(n);b=b.idivn(g),s=b.isZero()?c+s:C[h-c.length]+c+s}for(this.isZero()&&(s='0'+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}o(!1,'Base should be between 2 and 36')},d.prototype.toNumber=function t(){var n=this.words[0];return 2===this.length?n+=67108864*this.words[1]:3===this.length&&1===this.words[2]?n+=4503599627370496+67108864*this.words[1]:2<this.length&&o(!1,'Number can only safely store up to 53 bits'),0===this.negative?n:-n},d.prototype.toJSON=function t(){return this.toString(16)},d.prototype.toBuffer=function t(n,a){return o('undefined'!=typeof k),this.toArrayLike(k,n,a)},d.prototype.toArray=function t(n,a){return this.toArrayLike(Array,n,a)},d.prototype.toArrayLike=function t(n,a,r){var s=this.byteLength(),d=r||_Mathmax(1,s);o(s<=d,'byte array longer than desired length'),o(0<d,'Requested array length <= 0'),this.strip();var l='le'===a,c=new n(d),u=this.clone(),f,m;if(!l){for(m=0;m<d-s;m++)c[m]=0;for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[d-m-1]=f}else{for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[m]=f;for(;m<d;m++)c[m]=0}return c},d.prototype._countBits=_Mathclz?function t(n){return 32-_Mathclz(n)}:function n(a){var o=a,t=0;return 4096<=o&&(t+=13,o>>>=13),64<=o&&(t+=7,o>>>=7),8<=o&&(t+=4,o>>>=4),2<=o&&(t+=2,o>>>=2),t+o},d.prototype._zeroBits=function n(a){if(0===a)return 26;var o=a,t=0;return 0==(8191&o)&&(t+=13,o>>>=13),0==(127&o)&&(t+=7,o>>>=7),0==(15&o)&&(t+=4,o>>>=4),0==(3&o)&&(t+=2,o>>>=2),0==(1&o)&&t++,t},d.prototype.bitLength=function t(){var n=this.words[this.length-1],a=this._countBits(n);return 26*(this.length-1)+a},d.prototype.zeroBits=function t(){if(this.isZero())return 0;for(var n=0,a=0,r;a<this.length&&(r=this._zeroBits(this.words[a]),n+=r,26===r);a++);return n},d.prototype.byteLength=function t(){return _Mathceil(this.bitLength()/8)},d.prototype.toTwos=function t(n){return 0===this.negative?this.clone():this.abs().inotn(n).iaddn(1)},d.prototype.fromTwos=function t(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function t(){return 0!==this.negative},d.prototype.neg=function t(){return this.clone().ineg()},d.prototype.ineg=function t(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function t(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var a=0;a<n.length;a++)this.words[a]|=n.words[a];return this.strip()},d.prototype.ior=function t(n){return o(0==(this.negative|n.negative)),this.iuor(n)},d.prototype.or=function t(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},d.prototype.uor=function t(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},d.prototype.iuand=function t(n){var a;a=this.length>n.length?n:this;for(var r=0;r<a.length;r++)this.words[r]&=n.words[r];return this.length=a.length,this.strip()},d.prototype.iand=function t(n){return o(0==(this.negative|n.negative)),this.iuand(n)},d.prototype.and=function t(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},d.prototype.uand=function t(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},d.prototype.iuxor=function t(n){var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var o=0;o<a.length;o++)this.words[o]=r.words[o]^a.words[o];if(this!==r)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=r.length,this.strip()},d.prototype.ixor=function t(n){return o(0==(this.negative|n.negative)),this.iuxor(n)},d.prototype.xor=function t(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},d.prototype.uxor=function t(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},d.prototype.inotn=function t(n){o('number'==typeof n&&0<=n);var a=0|_Mathceil(n/26),r=n%26;this._expand(a),0<r&&a--;for(var s=0;s<a;s++)this.words[s]=67108863&~this.words[s];return 0<r&&(this.words[s]=~this.words[s]&67108863>>26-r),this.strip()},d.prototype.notn=function t(n){return this.clone().inotn(n)},d.prototype.setn=function t(n,a){o('number'==typeof n&&0<=n);var r=0|n/26,s=n%26;return this._expand(r+1),a?this.words[r]|=1<<s:this.words[r]&=~(1<<s),this.strip()},d.prototype.iadd=function t(n){var o;if(0!==this.negative&&0===n.negative)return this.negative=0,o=this.isub(n),this.negative^=1,this._normSign();if(0===this.negative&&0!==n.negative)return n.negative=0,o=this.isub(n),n.negative=1,o._normSign();var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var s=0,d=0;d<a.length;d++)o=(0|r.words[d])+(0|a.words[d])+s,this.words[d]=67108863&o,s=o>>>26;for(;0!=s&&d<r.length;d++)o=(0|r.words[d])+s,this.words[d]=67108863&o,s=o>>>26;if(this.length=r.length,0!=s)this.words[this.length]=s,this.length++;else if(r!==this)for(;d<r.length;d++)this.words[d]=r.words[d];return this},d.prototype.add=function t(n){var a;return 0!==n.negative&&0===this.negative?(n.negative=0,a=this.sub(n),n.negative^=1,a):0===n.negative&&0!==this.negative?(this.negative=0,a=n.sub(this),this.negative=1,a):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},d.prototype.isub=function t(n){if(0!==n.negative){n.negative=0;var o=this.iadd(n);return n.negative=1,o._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var r=this.cmp(n);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var s,a;0<r?(s=this,a=n):(s=n,a=this);for(var d=0,l=0;l<a.length;l++)o=(0|s.words[l])-(0|a.words[l])+d,d=o>>26,this.words[l]=67108863&o;for(;0!=d&&l<s.length;l++)o=(0|s.words[l])+d,d=o>>26,this.words[l]=67108863&o;if(0==d&&l<s.length&&s!==this)for(;l<s.length;l++)this.words[l]=s.words[l];return this.length=_Mathmax(this.length,l),s!==this&&(this.negative=1),this.strip()},d.prototype.sub=function t(n){return this.clone().isub(n)};var S=function t(n,r,s){var d=n.words,a=r.words,l=s.words,o=0,c=0|d[0],u=8191&c,f=c>>>13,m=0|d[1],h=8191&m,g=m>>>13,b=0|d[2],y=8191&b,v=b>>>13,w=0|d[3],x=8191&w,_=w>>>13,k=0|d[4],C=8191&k,T=k>>>13,E=0|d[5],S=8191&E,A=E>>>13,I=0|d[6],N=8191&I,j=I>>>13,R=0|d[7],L=8191&R,O=R>>>13,P=0|d[8],M=8191&P,D=P>>>13,B=0|d[9],U=8191&B,q=B>>>13,F=0|a[0],z=8191&F,H=F>>>13,W=0|a[1],V=8191&W,G=W>>>13,J=0|a[2],K=8191&J,X=J>>>13,Z=0|a[3],Y=8191&Z,Q=Z>>>13,ee=0|a[4],te=8191&ee,ne=ee>>>13,ae=0|a[5],re=8191&ae,ie=ae>>>13,oe=0|a[6],se=8191&oe,de=oe>>>13,le=0|a[7],pe=8191&le,ce=le>>>13,ue=0|a[8],fe=8191&ue,he=ue>>>13,ge=0|a[9],be=8191&ge,ye=ge>>>13,ve,we,xe;s.negative=n.negative^r.negative,s.length=19,ve=_Mathimul(u,z),we=_Mathimul(u,H),we=0|we+_Mathimul(f,z),xe=_Mathimul(f,H);var _e=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(_e>>>26),_e&=67108863,ve=_Mathimul(h,z),we=_Mathimul(h,H),we=0|we+_Mathimul(g,z),xe=_Mathimul(g,H),ve=0|ve+_Mathimul(u,V),we=0|we+_Mathimul(u,G),we=0|we+_Mathimul(f,V),xe=0|xe+_Mathimul(f,G);var ke=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(ke>>>26),ke&=67108863,ve=_Mathimul(y,z),we=_Mathimul(y,H),we=0|we+_Mathimul(v,z),xe=_Mathimul(v,H),ve=0|ve+_Mathimul(h,V),we=0|we+_Mathimul(h,G),we=0|we+_Mathimul(g,V),xe=0|xe+_Mathimul(g,G),ve=0|ve+_Mathimul(u,K),we=0|we+_Mathimul(u,X),we=0|we+_Mathimul(f,K),xe=0|xe+_Mathimul(f,X);var Ce=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ce>>>26),Ce&=67108863,ve=_Mathimul(x,z),we=_Mathimul(x,H),we=0|we+_Mathimul(_,z),xe=_Mathimul(_,H),ve=0|ve+_Mathimul(y,V),we=0|we+_Mathimul(y,G),we=0|we+_Mathimul(v,V),xe=0|xe+_Mathimul(v,G),ve=0|ve+_Mathimul(h,K),we=0|we+_Mathimul(h,X),we=0|we+_Mathimul(g,K),xe=0|xe+_Mathimul(g,X),ve=0|ve+_Mathimul(u,Y),we=0|we+_Mathimul(u,Q),we=0|we+_Mathimul(f,Y),xe=0|xe+_Mathimul(f,Q);var Te=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Te>>>26),Te&=67108863,ve=_Mathimul(C,z),we=_Mathimul(C,H),we=0|we+_Mathimul(T,z),xe=_Mathimul(T,H),ve=0|ve+_Mathimul(x,V),we=0|we+_Mathimul(x,G),we=0|we+_Mathimul(_,V),xe=0|xe+_Mathimul(_,G),ve=0|ve+_Mathimul(y,K),we=0|we+_Mathimul(y,X),we=0|we+_Mathimul(v,K),xe=0|xe+_Mathimul(v,X),ve=0|ve+_Mathimul(h,Y),we=0|we+_Mathimul(h,Q),we=0|we+_Mathimul(g,Y),xe=0|xe+_Mathimul(g,Q),ve=0|ve+_Mathimul(u,te),we=0|we+_Mathimul(u,ne),we=0|we+_Mathimul(f,te),xe=0|xe+_Mathimul(f,ne);var Ee=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ee>>>26),Ee&=67108863,ve=_Mathimul(S,z),we=_Mathimul(S,H),we=0|we+_Mathimul(A,z),xe=_Mathimul(A,H),ve=0|ve+_Mathimul(C,V),we=0|we+_Mathimul(C,G),we=0|we+_Mathimul(T,V),xe=0|xe+_Mathimul(T,G),ve=0|ve+_Mathimul(x,K),we=0|we+_Mathimul(x,X),we=0|we+_Mathimul(_,K),xe=0|xe+_Mathimul(_,X),ve=0|ve+_Mathimul(y,Y),we=0|we+_Mathimul(y,Q),we=0|we+_Mathimul(v,Y),xe=0|xe+_Mathimul(v,Q),ve=0|ve+_Mathimul(h,te),we=0|we+_Mathimul(h,ne),we=0|we+_Mathimul(g,te),xe=0|xe+_Mathimul(g,ne),ve=0|ve+_Mathimul(u,re),we=0|we+_Mathimul(u,ie),we=0|we+_Mathimul(f,re),xe=0|xe+_Mathimul(f,ie);var Se=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Se>>>26),Se&=67108863,ve=_Mathimul(N,z),we=_Mathimul(N,H),we=0|we+_Mathimul(j,z),xe=_Mathimul(j,H),ve=0|ve+_Mathimul(S,V),we=0|we+_Mathimul(S,G),we=0|we+_Mathimul(A,V),xe=0|xe+_Mathimul(A,G),ve=0|ve+_Mathimul(C,K),we=0|we+_Mathimul(C,X),we=0|we+_Mathimul(T,K),xe=0|xe+_Mathimul(T,X),ve=0|ve+_Mathimul(x,Y),we=0|we+_Mathimul(x,Q),we=0|we+_Mathimul(_,Y),xe=0|xe+_Mathimul(_,Q),ve=0|ve+_Mathimul(y,te),we=0|we+_Mathimul(y,ne),we=0|we+_Mathimul(v,te),xe=0|xe+_Mathimul(v,ne),ve=0|ve+_Mathimul(h,re),we=0|we+_Mathimul(h,ie),we=0|we+_Mathimul(g,re),xe=0|xe+_Mathimul(g,ie),ve=0|ve+_Mathimul(u,se),we=0|we+_Mathimul(u,de),we=0|we+_Mathimul(f,se),xe=0|xe+_Mathimul(f,de);var Ae=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ae>>>26),Ae&=67108863,ve=_Mathimul(L,z),we=_Mathimul(L,H),we=0|we+_Mathimul(O,z),xe=_Mathimul(O,H),ve=0|ve+_Mathimul(N,V),we=0|we+_Mathimul(N,G),we=0|we+_Mathimul(j,V),xe=0|xe+_Mathimul(j,G),ve=0|ve+_Mathimul(S,K),we=0|we+_Mathimul(S,X),we=0|we+_Mathimul(A,K),xe=0|xe+_Mathimul(A,X),ve=0|ve+_Mathimul(C,Y),we=0|we+_Mathimul(C,Q),we=0|we+_Mathimul(T,Y),xe=0|xe+_Mathimul(T,Q),ve=0|ve+_Mathimul(x,te),we=0|we+_Mathimul(x,ne),we=0|we+_Mathimul(_,te),xe=0|xe+_Mathimul(_,ne),ve=0|ve+_Mathimul(y,re),we=0|we+_Mathimul(y,ie),we=0|we+_Mathimul(v,re),xe=0|xe+_Mathimul(v,ie),ve=0|ve+_Mathimul(h,se),we=0|we+_Mathimul(h,de),we=0|we+_Mathimul(g,se),xe=0|xe+_Mathimul(g,de),ve=0|ve+_Mathimul(u,pe),we=0|we+_Mathimul(u,ce),we=0|we+_Mathimul(f,pe),xe=0|xe+_Mathimul(f,ce);var Ie=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ie>>>26),Ie&=67108863,ve=_Mathimul(M,z),we=_Mathimul(M,H),we=0|we+_Mathimul(D,z),xe=_Mathimul(D,H),ve=0|ve+_Mathimul(L,V),we=0|we+_Mathimul(L,G),we=0|we+_Mathimul(O,V),xe=0|xe+_Mathimul(O,G),ve=0|ve+_Mathimul(N,K),we=0|we+_Mathimul(N,X),we=0|we+_Mathimul(j,K),xe=0|xe+_Mathimul(j,X),ve=0|ve+_Mathimul(S,Y),we=0|we+_Mathimul(S,Q),we=0|we+_Mathimul(A,Y),xe=0|xe+_Mathimul(A,Q),ve=0|ve+_Mathimul(C,te),we=0|we+_Mathimul(C,ne),we=0|we+_Mathimul(T,te),xe=0|xe+_Mathimul(T,ne),ve=0|ve+_Mathimul(x,re),we=0|we+_Mathimul(x,ie),we=0|we+_Mathimul(_,re),xe=0|xe+_Mathimul(_,ie),ve=0|ve+_Mathimul(y,se),we=0|we+_Mathimul(y,de),we=0|we+_Mathimul(v,se),xe=0|xe+_Mathimul(v,de),ve=0|ve+_Mathimul(h,pe),we=0|we+_Mathimul(h,ce),we=0|we+_Mathimul(g,pe),xe=0|xe+_Mathimul(g,ce),ve=0|ve+_Mathimul(u,fe),we=0|we+_Mathimul(u,he),we=0|we+_Mathimul(f,fe),xe=0|xe+_Mathimul(f,he);var Ne=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ne>>>26),Ne&=67108863,ve=_Mathimul(U,z),we=_Mathimul(U,H),we=0|we+_Mathimul(q,z),xe=_Mathimul(q,H),ve=0|ve+_Mathimul(M,V),we=0|we+_Mathimul(M,G),we=0|we+_Mathimul(D,V),xe=0|xe+_Mathimul(D,G),ve=0|ve+_Mathimul(L,K),we=0|we+_Mathimul(L,X),we=0|we+_Mathimul(O,K),xe=0|xe+_Mathimul(O,X),ve=0|ve+_Mathimul(N,Y),we=0|we+_Mathimul(N,Q),we=0|we+_Mathimul(j,Y),xe=0|xe+_Mathimul(j,Q),ve=0|ve+_Mathimul(S,te),we=0|we+_Mathimul(S,ne),we=0|we+_Mathimul(A,te),xe=0|xe+_Mathimul(A,ne),ve=0|ve+_Mathimul(C,re),we=0|we+_Mathimul(C,ie),we=0|we+_Mathimul(T,re),xe=0|xe+_Mathimul(T,ie),ve=0|ve+_Mathimul(x,se),we=0|we+_Mathimul(x,de),we=0|we+_Mathimul(_,se),xe=0|xe+_Mathimul(_,de),ve=0|ve+_Mathimul(y,pe),we=0|we+_Mathimul(y,ce),we=0|we+_Mathimul(v,pe),xe=0|xe+_Mathimul(v,ce),ve=0|ve+_Mathimul(h,fe),we=0|we+_Mathimul(h,he),we=0|we+_Mathimul(g,fe),xe=0|xe+_Mathimul(g,he),ve=0|ve+_Mathimul(u,be),we=0|we+_Mathimul(u,ye),we=0|we+_Mathimul(f,be),xe=0|xe+_Mathimul(f,ye);var je=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(je>>>26),je&=67108863,ve=_Mathimul(U,V),we=_Mathimul(U,G),we=0|we+_Mathimul(q,V),xe=_Mathimul(q,G),ve=0|ve+_Mathimul(M,K),we=0|we+_Mathimul(M,X),we=0|we+_Mathimul(D,K),xe=0|xe+_Mathimul(D,X),ve=0|ve+_Mathimul(L,Y),we=0|we+_Mathimul(L,Q),we=0|we+_Mathimul(O,Y),xe=0|xe+_Mathimul(O,Q),ve=0|ve+_Mathimul(N,te),we=0|we+_Mathimul(N,ne),we=0|we+_Mathimul(j,te),xe=0|xe+_Mathimul(j,ne),ve=0|ve+_Mathimul(S,re),we=0|we+_Mathimul(S,ie),we=0|we+_Mathimul(A,re),xe=0|xe+_Mathimul(A,ie),ve=0|ve+_Mathimul(C,se),we=0|we+_Mathimul(C,de),we=0|we+_Mathimul(T,se),xe=0|xe+_Mathimul(T,de),ve=0|ve+_Mathimul(x,pe),we=0|we+_Mathimul(x,ce),we=0|we+_Mathimul(_,pe),xe=0|xe+_Mathimul(_,ce),ve=0|ve+_Mathimul(y,fe),we=0|we+_Mathimul(y,he),we=0|we+_Mathimul(v,fe),xe=0|xe+_Mathimul(v,he),ve=0|ve+_Mathimul(h,be),we=0|we+_Mathimul(h,ye),we=0|we+_Mathimul(g,be),xe=0|xe+_Mathimul(g,ye);var Re=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Re>>>26),Re&=67108863,ve=_Mathimul(U,K),we=_Mathimul(U,X),we=0|we+_Mathimul(q,K),xe=_Mathimul(q,X),ve=0|ve+_Mathimul(M,Y),we=0|we+_Mathimul(M,Q),we=0|we+_Mathimul(D,Y),xe=0|xe+_Mathimul(D,Q),ve=0|ve+_Mathimul(L,te),we=0|we+_Mathimul(L,ne),we=0|we+_Mathimul(O,te),xe=0|xe+_Mathimul(O,ne),ve=0|ve+_Mathimul(N,re),we=0|we+_Mathimul(N,ie),we=0|we+_Mathimul(j,re),xe=0|xe+_Mathimul(j,ie),ve=0|ve+_Mathimul(S,se),we=0|we+_Mathimul(S,de),we=0|we+_Mathimul(A,se),xe=0|xe+_Mathimul(A,de),ve=0|ve+_Mathimul(C,pe),we=0|we+_Mathimul(C,ce),we=0|we+_Mathimul(T,pe),xe=0|xe+_Mathimul(T,ce),ve=0|ve+_Mathimul(x,fe),we=0|we+_Mathimul(x,he),we=0|we+_Mathimul(_,fe),xe=0|xe+_Mathimul(_,he),ve=0|ve+_Mathimul(y,be),we=0|we+_Mathimul(y,ye),we=0|we+_Mathimul(v,be),xe=0|xe+_Mathimul(v,ye);var Le=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Le>>>26),Le&=67108863,ve=_Mathimul(U,Y),we=_Mathimul(U,Q),we=0|we+_Mathimul(q,Y),xe=_Mathimul(q,Q),ve=0|ve+_Mathimul(M,te),we=0|we+_Mathimul(M,ne),we=0|we+_Mathimul(D,te),xe=0|xe+_Mathimul(D,ne),ve=0|ve+_Mathimul(L,re),we=0|we+_Mathimul(L,ie),we=0|we+_Mathimul(O,re),xe=0|xe+_Mathimul(O,ie),ve=0|ve+_Mathimul(N,se),we=0|we+_Mathimul(N,de),we=0|we+_Mathimul(j,se),xe=0|xe+_Mathimul(j,de),ve=0|ve+_Mathimul(S,pe),we=0|we+_Mathimul(S,ce),we=0|we+_Mathimul(A,pe),xe=0|xe+_Mathimul(A,ce),ve=0|ve+_Mathimul(C,fe),we=0|we+_Mathimul(C,he),we=0|we+_Mathimul(T,fe),xe=0|xe+_Mathimul(T,he),ve=0|ve+_Mathimul(x,be),we=0|we+_Mathimul(x,ye),we=0|we+_Mathimul(_,be),xe=0|xe+_Mathimul(_,ye);var Oe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Oe>>>26),Oe&=67108863,ve=_Mathimul(U,te),we=_Mathimul(U,ne),we=0|we+_Mathimul(q,te),xe=_Mathimul(q,ne),ve=0|ve+_Mathimul(M,re),we=0|we+_Mathimul(M,ie),we=0|we+_Mathimul(D,re),xe=0|xe+_Mathimul(D,ie),ve=0|ve+_Mathimul(L,se),we=0|we+_Mathimul(L,de),we=0|we+_Mathimul(O,se),xe=0|xe+_Mathimul(O,de),ve=0|ve+_Mathimul(N,pe),we=0|we+_Mathimul(N,ce),we=0|we+_Mathimul(j,pe),xe=0|xe+_Mathimul(j,ce),ve=0|ve+_Mathimul(S,fe),we=0|we+_Mathimul(S,he),we=0|we+_Mathimul(A,fe),xe=0|xe+_Mathimul(A,he),ve=0|ve+_Mathimul(C,be),we=0|we+_Mathimul(C,ye),we=0|we+_Mathimul(T,be),xe=0|xe+_Mathimul(T,ye);var Pe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Pe>>>26),Pe&=67108863,ve=_Mathimul(U,re),we=_Mathimul(U,ie),we=0|we+_Mathimul(q,re),xe=_Mathimul(q,ie),ve=0|ve+_Mathimul(M,se),we=0|we+_Mathimul(M,de),we=0|we+_Mathimul(D,se),xe=0|xe+_Mathimul(D,de),ve=0|ve+_Mathimul(L,pe),we=0|we+_Mathimul(L,ce),we=0|we+_Mathimul(O,pe),xe=0|xe+_Mathimul(O,ce),ve=0|ve+_Mathimul(N,fe),we=0|we+_Mathimul(N,he),we=0|we+_Mathimul(j,fe),xe=0|xe+_Mathimul(j,he),ve=0|ve+_Mathimul(S,be),we=0|we+_Mathimul(S,ye),we=0|we+_Mathimul(A,be),xe=0|xe+_Mathimul(A,ye);var Me=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Me>>>26),Me&=67108863,ve=_Mathimul(U,se),we=_Mathimul(U,de),we=0|we+_Mathimul(q,se),xe=_Mathimul(q,de),ve=0|ve+_Mathimul(M,pe),we=0|we+_Mathimul(M,ce),we=0|we+_Mathimul(D,pe),xe=0|xe+_Mathimul(D,ce),ve=0|ve+_Mathimul(L,fe),we=0|we+_Mathimul(L,he),we=0|we+_Mathimul(O,fe),xe=0|xe+_Mathimul(O,he),ve=0|ve+_Mathimul(N,be),we=0|we+_Mathimul(N,ye),we=0|we+_Mathimul(j,be),xe=0|xe+_Mathimul(j,ye);var De=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(De>>>26),De&=67108863,ve=_Mathimul(U,pe),we=_Mathimul(U,ce),we=0|we+_Mathimul(q,pe),xe=_Mathimul(q,ce),ve=0|ve+_Mathimul(M,fe),we=0|we+_Mathimul(M,he),we=0|we+_Mathimul(D,fe),xe=0|xe+_Mathimul(D,he),ve=0|ve+_Mathimul(L,be),we=0|we+_Mathimul(L,ye),we=0|we+_Mathimul(O,be),xe=0|xe+_Mathimul(O,ye);var Be=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Be>>>26),Be&=67108863,ve=_Mathimul(U,fe),we=_Mathimul(U,he),we=0|we+_Mathimul(q,fe),xe=_Mathimul(q,he),ve=0|ve+_Mathimul(M,be),we=0|we+_Mathimul(M,ye),we=0|we+_Mathimul(D,be),xe=0|xe+_Mathimul(D,ye);var Ue=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ue>>>26),Ue&=67108863,ve=_Mathimul(U,be),we=_Mathimul(U,ye),we=0|we+_Mathimul(q,be),xe=_Mathimul(q,ye);var qe=0|(0|o+ve)+((8191&we)<<13);return o=0|(0|xe+(we>>>13))+(qe>>>26),qe&=67108863,l[0]=_e,l[1]=ke,l[2]=Ce,l[3]=Te,l[4]=Ee,l[5]=Se,l[6]=Ae,l[7]=Ie,l[8]=Ne,l[9]=je,l[10]=Re,l[11]=Le,l[12]=Oe,l[13]=Pe,l[14]=Me,l[15]=De,l[16]=Be,l[17]=Ue,l[18]=qe,0!=o&&(l[19]=o,s.length++),s};_Mathimul||(S=u),d.prototype.mulTo=function t(n,a){var r=this.length+n.length,o;return o=10===this.length&&10===n.length?S(this,n,a):63>r?u(this,n,a):1024>r?f(this,n,a):m(this,n,a),o},h.prototype.makeRBT=function n(a){for(var r=Array(a),t=d.prototype._countBits(a)-1,o=0;o<a;o++)r[o]=this.revBin(o,t,a);return r},h.prototype.revBin=function t(n,a,r){if(0===n||n===r-1)return n;for(var o=0,s=0;s<a;s++)o|=(1&n)<<a-s-1,n>>=1;return o},h.prototype.permute=function t(n,a,r,o,s,d){for(var l=0;l<d;l++)o[l]=a[n[l]],s[l]=r[n[l]]},h.prototype.transform=function t(n,a,r,o,d,c){this.permute(c,n,a,r,o,d);for(var u=1;u<d;u<<=1)for(var s=u<<1,l=_Mathcos(2*_MathPI/s),f=_Mathsin(2*_MathPI/s),m=0;m<d;m+=s)for(var h=l,g=f,b=0;b<u;b++){var y=r[m+b],v=o[m+b],w=r[m+b+u],x=o[m+b+u],_=h*w-g*x;x=h*x+g*w,w=_,r[m+b]=y+w,o[m+b]=v+x,r[m+b+u]=y-w,o[m+b+u]=v-x,b!==s&&(_=l*h-f*g,g=l*g+f*h,h=_)}},h.prototype.guessLen13b=function t(a,n){var r=1|_Mathmax(n,a),o=1&r,s=0;for(r=0|r/2;r;r>>>=1)s++;return 1<<s+1+o},h.prototype.conjugate=function n(a,r,o){if(!(1>=o))for(var s=0,d;s<o/2;s++)d=a[s],a[s]=a[o-s-1],a[o-s-1]=d,d=r[s],r[s]=-r[o-s-1],r[o-s-1]=-d},h.prototype.normalize13b=function t(n,a){for(var r=0,o=0,s;o<a/2;o++)s=8192*_Mathround(n[2*o+1]/a)+_Mathround(n[2*o]/a)+r,n[o]=67108863&s,r=67108864>s?0:0|s/67108864;return n},h.prototype.convert13b=function t(n,a,r,s){for(var d=0,l=0;l<a;l++)d+=0|n[l],r[2*l]=8191&d,d>>>=13,r[2*l+1]=8191&d,d>>>=13;for(l=2*a;l<s;++l)r[l]=0;o(0==d),o(0==(-8192&d))},h.prototype.stub=function t(n){for(var a=Array(n),r=0;r<n;r++)a[r]=0;return a},h.prototype.mulp=function t(n,a,r){var o=2*this.guessLen13b(n.length,a.length),s=this.makeRBT(o),d=this.stub(o),l=Array(o),c=Array(o),u=Array(o),f=Array(o),m=Array(o),h=Array(o),g=r.words;g.length=o,this.convert13b(n.words,n.length,l,o),this.convert13b(a.words,a.length,f,o),this.transform(l,d,c,u,o,s),this.transform(f,d,m,h,o,s);for(var b=0,y;b<o;b++)y=c[b]*m[b]-u[b]*h[b],u[b]=c[b]*h[b]+u[b]*m[b],c[b]=y;return this.conjugate(c,u,o),this.transform(c,u,g,d,o,s),this.conjugate(g,d,o),this.normalize13b(g,o),r.negative=n.negative^a.negative,r.length=n.length+a.length,r.strip()},d.prototype.mul=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),this.mulTo(n,a)},d.prototype.mulf=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),m(this,n,a)},d.prototype.imul=function t(n){return this.clone().mulTo(n,this)},d.prototype.imuln=function t(n){o('number'==typeof n),o(67108864>n);for(var a=0,r=0;r<this.length;r++){var s=(0|this.words[r])*n,d=(67108863&s)+(67108863&a);a>>=26,a+=0|s/67108864,a+=d>>>26,this.words[r]=67108863&d}return 0!=a&&(this.words[r]=a,this.length++),this},d.prototype.muln=function t(n){return this.clone().imuln(n)},d.prototype.sqr=function t(){return this.mul(this)},d.prototype.isqr=function t(){return this.imul(this.clone())},d.prototype.pow=function t(n){var a=c(n);if(0===a.length)return new d(1);for(var r=this,o=0;o<a.length&&!(0!==a[o]);o++,r=r.sqr());if(++o<a.length)for(var s=r.sqr();o<a.length;o++,s=s.sqr())0!==a[o]&&(r=r.mul(s));return r},d.prototype.iushln=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=67108863>>>26-a<<26-a,d;if(0!=a){var l=0;for(d=0;d<this.length;d++){var u=this.words[d]&s,f=(0|this.words[d])-u<<a;this.words[d]=f|l,l=u>>>26-a}l&&(this.words[d]=l,this.length++)}if(0!=r){for(d=this.length-1;0<=d;d--)this.words[d+r]=this.words[d];for(d=0;d<r;d++)this.words[d]=0;this.length+=r}return this.strip()},d.prototype.ishln=function t(n){return o(0===this.negative),this.iushln(n)},d.prototype.iushrn=function t(n,a,d){o('number'==typeof n&&0<=n);var l;l=a?(a-a%26)/26:0;var c=n%26,r=_Mathmin((n-c)/26,this.length),s=67108863^67108863>>>c<<c,u=d;if(l-=r,l=_Mathmax(0,l),u){for(var f=0;f<r;f++)u.words[f]=this.words[f];u.length=r}if(0===r);else if(this.length>r)for(this.length-=r,f=0;f<this.length;f++)this.words[f]=this.words[f+r];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;0<=f&&(0!=m||f>=l);f--){var h=0|this.words[f];this.words[f]=m<<26-c|h>>>c,m=h&s}return u&&0!=m&&(u.words[u.length++]=m),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function t(n,a,r){return o(0===this.negative),this.iushrn(n,a,r)},d.prototype.shln=function t(n){return this.clone().ishln(n)},d.prototype.ushln=function t(n){return this.clone().iushln(n)},d.prototype.shrn=function t(n){return this.clone().ishrn(n)},d.prototype.ushrn=function t(n){return this.clone().iushrn(n)},d.prototype.testn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return!1;var d=this.words[r];return!!(d&s)},d.prototype.imaskn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26;if(o(0===this.negative,'imaskn works only with positive numbers'),this.length<=r)return this;if(0!=a&&r++,this.length=_Mathmin(r,this.length),0!=a){var s=67108863^67108863>>>a<<a;this.words[this.length-1]&=s}return this.strip()},d.prototype.maskn=function t(n){return this.clone().imaskn(n)},d.prototype.iaddn=function t(n){return o('number'==typeof n),o(67108864>n),0>n?this.isubn(-n):0===this.negative?this._iaddn(n):1===this.length&&(0|this.words[0])<n?(this.words[0]=n-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this)},d.prototype._iaddn=function t(n){this.words[0]+=n;for(var a=0;a<this.length&&67108864<=this.words[a];a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=_Mathmax(this.length,a+1),this},d.prototype.isubn=function t(n){if(o('number'==typeof n),o(67108864>n),0>n)return this.iaddn(-n);if(0!==this.negative)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&0>this.words[a];a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},d.prototype.addn=function t(n){return this.clone().iaddn(n)},d.prototype.subn=function t(n){return this.clone().isubn(n)},d.prototype.iabs=function t(){return this.negative=0,this},d.prototype.abs=function t(){return this.clone().iabs()},d.prototype._ishlnsubmul=function t(n,a,r){var s=n.length+r,d;this._expand(s);var l=0,c;for(d=0;d<n.length;d++){c=(0|this.words[d+r])+l;var u=(0|n.words[d])*a;c-=67108863&u,l=(c>>26)-(0|u/67108864),this.words[d+r]=67108863&c}for(;d<this.length-r;d++)c=(0|this.words[d+r])+l,l=c>>26,this.words[d+r]=67108863&c;if(0==l)return this.strip();for(o(-1==l),l=0,d=0;d<this.length;d++)c=-(0|this.words[d])+l,l=c>>26,this.words[d]=67108863&c;return this.negative=1,this.strip()},d.prototype._wordDiv=function t(n,r){var o=this.length-n.length,s=this.clone(),l=n,c=0|l.words[l.length-1],u=this._countBits(c);o=26-u,0!=o&&(l=l.ushln(o),s.iushln(o),c=0|l.words[l.length-1]);var f=s.length-l.length,m;if('mod'!==r){m=new d(null),m.length=f+1,m.words=Array(m.length);for(var h=0;h<m.length;h++)m.words[h]=0}var g=s.clone()._ishlnsubmul(l,1,f);0===g.negative&&(s=g,m&&(m.words[f]=1));for(var b=f-1,y;0<=b;b--){for(y=67108864*(0|s.words[l.length+b])+(0|s.words[l.length+b-1]),y=_Mathmin(0|y/c,67108863),s._ishlnsubmul(l,y,b);0!==s.negative;)y--,s.negative=0,s._ishlnsubmul(l,1,b),s.isZero()||(s.negative^=1);m&&(m.words[b]=y)}return m&&m.strip(),s.strip(),'div'!==r&&0!=o&&s.iushrn(o),{div:m||null,mod:s}},d.prototype.divmod=function t(n,a,r){if(o(!n.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var s,l,c;return 0!==this.negative&&0===n.negative?(c=this.neg().divmod(n,a),'mod'!==a&&(s=c.div.neg()),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.iadd(n)),{div:s,mod:l}):0===this.negative&&0!==n.negative?(c=this.divmod(n.neg(),a),'mod'!==a&&(s=c.div.neg()),{div:s,mod:c.mod}):0==(this.negative&n.negative)?n.length>this.length||0>this.cmp(n)?{div:new d(0),mod:this}:1===n.length?'div'===a?{div:this.divn(n.words[0]),mod:null}:'mod'===a?{div:null,mod:new d(this.modn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new d(this.modn(n.words[0]))}:this._wordDiv(n,a):(c=this.neg().divmod(n.neg(),a),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.isub(n)),{div:c.div,mod:l})},d.prototype.div=function t(n){return this.divmod(n,'div',!1).div},d.prototype.mod=function t(n){return this.divmod(n,'mod',!1).mod},d.prototype.umod=function t(n){return this.divmod(n,'mod',!0).mod},d.prototype.divRound=function t(n){var a=this.divmod(n);if(a.mod.isZero())return a.div;var r=0===a.div.negative?a.mod:a.mod.isub(n),o=n.ushrn(1),s=n.andln(1),d=r.cmp(o);return 0>d||1===s&&0===d?a.div:0===a.div.negative?a.div.iaddn(1):a.div.isubn(1)},d.prototype.modn=function t(n){o(67108863>=n);for(var a=67108864%n,r=0,s=this.length-1;0<=s;s--)r=(a*r+(0|this.words[s]))%n;return r},d.prototype.idivn=function t(n){o(67108863>=n);for(var a=0,r=this.length-1,s;0<=r;r--)s=(0|this.words[r])+67108864*a,this.words[r]=0|s/n,a=s%n;return this.strip()},d.prototype.divn=function t(n){return this.clone().idivn(n)},d.prototype.egcd=function t(n){o(0===n.negative),o(!n.isZero());var a=this,r=n.clone();a=0===a.negative?a.clone():a.umod(n);for(var s=new d(1),l=new d(0),c=new d(0),u=new d(1),f=0;a.isEven()&&r.isEven();)a.iushrn(1),r.iushrn(1),++f;for(var m=r.clone(),h=a.clone();!a.isZero();){for(var g=0,b=1;0==(a.words[0]&b)&&26>g;++g,b<<=1);if(0<g)for(a.iushrn(g);0<g--;)(s.isOdd()||l.isOdd())&&(s.iadd(m),l.isub(h)),s.iushrn(1),l.iushrn(1);for(var y=0,v=1;0==(r.words[0]&v)&&26>y;++y,v<<=1);if(0<y)for(r.iushrn(y);0<y--;)(c.isOdd()||u.isOdd())&&(c.iadd(m),u.isub(h)),c.iushrn(1),u.iushrn(1);0<=a.cmp(r)?(a.isub(r),s.isub(c),l.isub(u)):(r.isub(a),c.isub(s),u.isub(l))}return{a:c,b:u,gcd:r.iushln(f)}},d.prototype._invmp=function t(n){o(0===n.negative),o(!n.isZero());var r=this,a=n.clone();r=0===r.negative?r.clone():r.umod(n);for(var s=new d(1),l=new d(0),c=a.clone();0<r.cmpn(1)&&0<a.cmpn(1);){for(var u=0,f=1;0==(r.words[0]&f)&&26>u;++u,f<<=1);if(0<u)for(r.iushrn(u);0<u--;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var m=0,h=1;0==(a.words[0]&h)&&26>m;++m,h<<=1);if(0<m)for(a.iushrn(m);0<m--;)l.isOdd()&&l.iadd(c),l.iushrn(1);0<=r.cmp(a)?(r.isub(a),s.isub(l)):(a.isub(r),l.isub(s))}var g;return g=0===r.cmpn(1)?s:l,0>g.cmpn(0)&&g.iadd(n),g},d.prototype.gcd=function n(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var s=this.clone(),a=o.clone();s.negative=0,a.negative=0;for(var d=0;s.isEven()&&a.isEven();d++)s.iushrn(1),a.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;a.isEven();)a.iushrn(1);var l=s.cmp(a);if(0>l){var r=s;s=a,a=r}else if(0===l||0===a.cmpn(1))break;s.isub(a)}while(!0);return a.iushln(d)},d.prototype.invm=function t(n){return this.egcd(n).a.umod(n)},d.prototype.isEven=function t(){return 0==(1&this.words[0])},d.prototype.isOdd=function t(){return 1==(1&this.words[0])},d.prototype.andln=function t(n){return this.words[0]&n},d.prototype.bincn=function t(n){o('number'==typeof n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return this._expand(r+1),this.words[r]|=s,this;for(var d=s,l=r,c;0!=d&&l<this.length;l++)c=0|this.words[l],c+=d,d=c>>>26,c&=67108863,this.words[l]=c;return 0!=d&&(this.words[l]=d,this.length++),this},d.prototype.isZero=function t(){return 1===this.length&&0===this.words[0]},d.prototype.cmpn=function t(n){var a=0>n;if(0!==this.negative&&!a)return-1;if(0===this.negative&&a)return 1;this.strip();var r;if(1<this.length)r=1;else{a&&(n=-n),o(67108863>=n,'Number is too big');var s=0|this.words[0];r=s===n?0:s<n?-1:1}return 0===this.negative?r:0|-r},d.prototype.cmp=function t(n){if(0!==this.negative&&0===n.negative)return-1;if(0===this.negative&&0!==n.negative)return 1;var a=this.ucmp(n);return 0===this.negative?a:0|-a},d.prototype.ucmp=function t(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var r=0,o=this.length-1;0<=o;o--){var s=0|this.words[o],a=0|n.words[o];if(s!=a){s<a?r=-1:s>a&&(r=1);break}}return r},d.prototype.gtn=function t(n){return 1===this.cmpn(n)},d.prototype.gt=function t(n){return 1===this.cmp(n)},d.prototype.gten=function t(n){return 0<=this.cmpn(n)},d.prototype.gte=function t(n){return 0<=this.cmp(n)},d.prototype.ltn=function t(n){return-1===this.cmpn(n)},d.prototype.lt=function t(n){return-1===this.cmp(n)},d.prototype.lten=function t(n){return 0>=this.cmpn(n)},d.prototype.lte=function t(n){return 0>=this.cmp(n)},d.prototype.eqn=function t(n){return 0===this.cmpn(n)},d.prototype.eq=function t(n){return 0===this.cmp(n)},d.red=function t(n){return new x(n)},d.prototype.toRed=function t(n){return o(!this.red,'Already a number in reduction context'),o(0===this.negative,'red works only with positives'),n.convertTo(this)._forceRed(n)},d.prototype.fromRed=function t(){return o(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},d.prototype._forceRed=function t(n){return this.red=n,this},d.prototype.forceRed=function t(n){return o(!this.red,'Already a number in reduction context'),this._forceRed(n)},d.prototype.redAdd=function t(n){return o(this.red,'redAdd works only with red numbers'),this.red.add(this,n)},d.prototype.redIAdd=function t(n){return o(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,n)},d.prototype.redSub=function t(n){return o(this.red,'redSub works only with red numbers'),this.red.sub(this,n)},d.prototype.redISub=function t(n){return o(this.red,'redISub works only with red numbers'),this.red.isub(this,n)},d.prototype.redShl=function t(n){return o(this.red,'redShl works only with red numbers'),this.red.shl(this,n)},d.prototype.redMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.mul(this,n)},d.prototype.redIMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.imul(this,n)},d.prototype.redSqr=function t(){return o(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function t(){return o(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function t(){return o(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function t(){return o(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function t(){return o(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function t(n){return o(this.red&&!n.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,n)};var A={k256:null,p224:null,p192:null,p25519:null};g.prototype._tmp=function t(){var n=new d(null);return n.words=Array(_Mathceil(this.n/13)),n},g.prototype.ireduce=function t(n){var a=n,r;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),r=a.bitLength();while(r>this.n);var o=r<this.n?-1:a.ucmp(this.p);return 0===o?(a.words[0]=0,a.length=1):0<o?a.isub(this.p):a.strip(),a},g.prototype.split=function t(n,a){n.iushrn(this.n,0,a)},g.prototype.imulK=function t(n){return n.imul(this.k)},r(b,g),b.prototype.split=function t(n,a){for(var r=4194303,o=_Mathmin(n.length,9),s=0;s<o;s++)a.words[s]=n.words[s];if(a.length=o,9>=n.length)return n.words[0]=0,void(n.length=1);var d=n.words[9];for(a.words[a.length++]=d&r,s=10;s<n.length;s++){var l=0|n.words[s];n.words[s-10]=(l&r)<<4|d>>>22,d=l}d>>>=22,n.words[s-10]=d,n.length-=0===d&&10<n.length?10:9},b.prototype.imulK=function t(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var a=0,r=0,o;r<n.length;r++)o=0|n.words[r],a+=977*o,n.words[r]=67108863&a,a=64*o+(0|a/67108864);return 0===n.words[n.length-1]&&(n.length--,0===n.words[n.length-1]&&n.length--),n},r(y,g),r(v,g),r(w,g),w.prototype.imulK=function t(n){for(var a=0,r=0;r<n.length;r++){var o=19*(0|n.words[r])+a,s=67108863&o;o>>>=26,n.words[r]=s,a=o}return 0!=a&&(n.words[n.length++]=a),n},d._prime=function t(n){if(A[n])return A[n];var t;if('k256'===n)t=new b;else if('p224'===n)t=new y;else if('p192'===n)t=new v;else if('p25519'===n)t=new w;else throw new Error('Unknown prime '+n);return A[n]=t,t},x.prototype._verify1=function t(n){o(0===n.negative,'red works only with positives'),o(n.red,'red works only with red numbers')},x.prototype._verify2=function t(n,a){o(0==(n.negative|a.negative),'red works only with positives'),o(n.red&&n.red===a.red,'red works only with red numbers')},x.prototype.imod=function t(n){return this.prime?this.prime.ireduce(n)._forceRed(this):n.umod(this.m)._forceRed(this)},x.prototype.neg=function t(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},x.prototype.add=function t(n,a){this._verify2(n,a);var r=n.add(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function t(n,a){this._verify2(n,a);var r=n.iadd(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r},x.prototype.sub=function t(n,a){this._verify2(n,a);var r=n.sub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function t(n,a){this._verify2(n,a);var r=n.isub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r},x.prototype.shl=function t(n,a){return this._verify1(n),this.imod(n.ushln(a))},x.prototype.imul=function t(n,a){return this._verify2(n,a),this.imod(n.imul(a))},x.prototype.mul=function t(n,a){return this._verify2(n,a),this.imod(n.mul(a))},x.prototype.isqr=function t(n){return this.imul(n,n.clone())},x.prototype.sqr=function t(n){return this.mul(n,n)},x.prototype.sqrt=function n(l){if(l.isZero())return l.clone();var a=this.m.andln(3);if(o(1==a%2),3===a){var u=this.m.add(new d(1)).iushrn(2);return this.pow(l,u)}for(var f=this.m.subn(1),h=0;!f.isZero()&&0===f.andln(1);)h++,f.iushrn(1);o(!f.isZero());var s=new d(1).toRed(this),g=s.redNeg(),y=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new d(2*v*v).toRed(this);0!==this.pow(v,y).cmp(g);)v.redIAdd(g);for(var w=this.pow(v,f),c=this.pow(l,f.addn(1).iushrn(1)),r=this.pow(l,f),t=h;0!==r.cmp(s);){for(var m=r,x=0;0!==m.cmp(s);x++)m=m.redSqr();o(x<t);var _=this.pow(w,new d(1).iushln(t-x-1));c=c.redMul(_),w=_.redSqr(),r=r.redMul(w),t=x}return c},x.prototype.invm=function t(n){var a=n._invmp(this.m);return 0===a.negative?this.imod(a):(a.negative=0,this.imod(a).redNeg())},x.prototype.pow=function t(n,a){if(a.isZero())return new d(1).toRed(this);if(0===a.cmpn(1))return n.clone();var r=4,o=Array(1<<r);o[0]=new d(1).toRed(this),o[1]=n;for(var s=2;s<o.length;s++)o[s]=this.mul(o[s-1],n);var l=o[0],c=0,u=0,f=a.bitLength()%26;for(0==f&&(f=26),s=a.length-1;0<=s;s--){for(var m=a.words[s],h=f-1,g;0<=h;h--){if(g=1&m>>h,l!==o[0]&&(l=this.sqr(l)),0==g&&0==c){u=0;continue}c<<=1,c|=g,u++,u!=r&&(0!==s||0!==h)||(l=this.mul(l,o[c]),u=0,c=0)}f=26}return l},x.prototype.convertTo=function t(n){var a=n.umod(this.m);return a===n?a.clone():a},x.prototype.convertFrom=function t(n){var a=n.clone();return a.red=null,a},d.mont=function t(n){return new _(n)},r(_,x),_.prototype.convertTo=function t(n){return this.imod(n.ushln(this.shift))},_.prototype.convertFrom=function t(n){var a=this.imod(n.mul(this.rinv));return a.red=null,a},_.prototype.imul=function n(r,a){if(r.isZero()||a.isZero())return r.words[0]=0,r.length=1,r;var o=r.imul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),d=s;return 0<=s.cmp(this.m)?d=s.isub(this.m):0>s.cmpn(0)&&(d=s.iadd(this.m)),d._forceRed(this)},_.prototype.mul=function n(r,a){if(r.isZero()||a.isZero())return new d(0)._forceRed(this);var o=r.mul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),l=s;return 0<=s.cmp(this.m)?l=s.isub(this.m):0>s.cmpn(0)&&(l=s.iadd(this.m)),l._forceRed(this)},_.prototype.invm=function t(n){var a=this.imod(n._invmp(this.m).mul(this.r2));return a._forceRed(this)}})('undefined'==typeof t||t,this)}).call(n,a(10)(t))},function(t,n,a){function r(t){this.rand=t||new s.Rand}var o=a(283),s=a(164);t.exports=r,r.create=function t(n){return new r(n)},r.prototype._rand=function t(a){var n=a.bitLength(),r=this.rand.generate(_Mathceil(n/8));r[0]|=3;var s=7&n;return 0!=s&&(r[r.length-1]>>=7-s),new o(r)},r.prototype.test=function t(r,n,l){var c=r.bitLength(),u=o.mont(r),f=new o(1).toRed(u);n||(n=_Mathmax(1,0|c/48));for(var m=r.subn(1),h=m.subn(1),g=0;!m.testn(g);g++);for(var s=r.shrn(g),d=m.toRed(u),b=!0;0<n;n--){var y=this._rand(h);l&&l(y);var a=y.toRed(u).redPow(s);if(0!==a.cmp(f)&&0!==a.cmp(d)){for(var v=1;v<g;v++){if(a=a.redSqr(),0===a.cmp(f))return!1;if(0===a.cmp(d))break}if(v===g)return!1}}return b},r.prototype.getDivisor=function t(r,n){var l=r.bitLength(),c=o.mont(r),u=new o(1).toRed(c);n||(n=_Mathmax(1,0|l/48));for(var f=r.subn(1),m=f.subn(1),h=0;!f.testn(h);h++);for(var s=r.shrn(h),d=f.toRed(c);0<n;n--){var b=this._rand(m),a=r.gcd(b);if(0!==a.cmpn(1))return a;var g=b.toRed(c).redPow(s);if(0!==g.cmp(u)&&0!==g.cmp(d)){for(var y=1;y<h;y++){if(g=g.redSqr(),0===g.cmp(u))return g.fromRed().subn(1).gcd(r);if(0===g.cmp(d))break}if(y===h)return g=g.redSqr(),g.fromRed().subn(1).gcd(r)}}return!1}},function(t,n,a){function o(t){this.rand=t}var s;if(t.exports=function t(n){return s||(s=new o(null)),s.generate(n)},t.exports.Rand=o,o.prototype.generate=function t(n){return this._rand(n)},o.prototype._rand=function t(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var n=new Uint8Array(a),r=0;r<n.length;r++)n[r]=this.rand.getByte();return n},'object'==typeof self)self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function t(a){var n=new Uint8Array(a);return self.crypto.getRandomValues(n),n}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function t(a){var n=new Uint8Array(a);return self.msCrypto.getRandomValues(n),n}:'object'==typeof window&&(o.prototype._rand=function(){throw new Error('Not implemented yet')});else try{var r=a(285);if('function'!=typeof r.randomBytes)throw new Error('Not supported');o.prototype._rand=function t(a){return r.randomBytes(a)}}catch(t){}},function(t,n,a){'use strict';function r(t,n){if(Array.isArray(t))return t.slice();if(!t)return[];var a=[];if('string'!=typeof t){for(var r=0;r<t.length;r++)a[r]=0|t[r];return a}if('hex'===n){t=t.replace(/[^a-z0-9]+/ig,''),0!=t.length%2&&(t='0'+t);for(var r=0;r<t.length;r+=2)a.push(parseInt(t[r]+t[r+1],16))}else for(var r=0;r<t.length;r++){var o=t.charCodeAt(r),s=o>>8,d=255&o;s?a.push(s,d):a.push(d)}return a}function o(t){return 1===t.length?'0'+t:t}function s(t){for(var n='',a=0;a<t.length;a++)n+=o(t[a].toString(16));return n}var d=n;d.toArray=r,d.zero2=o,d.toHex=s,d.encode=function t(n,a){return'hex'===a?s(n):n}},function(t,n,a){'use strict';function r(t,n,a,r){return 0===t?o(n,a,r):1===t||3===t?l(n,a,r):2===t?d(n,a,r):void 0}function o(t,n,a){return t&n^~t&a}function d(t,n,a){return t&n^t&a^n&a}function l(t,n,a){return t^n^a}function s(t){return h(t,2)^h(t,13)^h(t,22)}function c(t){return h(t,6)^h(t,11)^h(t,25)}function u(t){return h(t,7)^h(t,18)^t>>>3}function f(t){return h(t,17)^h(t,19)^t>>>10}var m=a(22),h=m.rotr32;n.ft_1=r,n.ch32=o,n.maj32=d,n.p32=l,n.s0_256=s,n.s1_256=c,n.g0_256=u,n.g1_256=f},function(t,n,a){'use strict';function r(){return this instanceof r?void(g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=Array(64)):new r}var o=a(22),s=a(54),d=a(166),l=a(15),u=o.sum32,c=o.sum32_4,m=o.sum32_5,y=d.ch32,v=d.maj32,w=d.s0_256,x=d.s1_256,f=d.g0_256,h=d.g1_256,g=s.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];o.inherits(r,g),t.exports=r,r.blockSize=512,r.outSize=256,r.hmacStrength=192,r.padLength=64,r.prototype._update=function t(n,r){for(var o=this.W,s=0;16>s;s++)o[s]=n[r+s];for(;s<o.length;s++)o[s]=c(h(o[s-2]),o[s-7],f(o[s-15]),o[s-16]);var _=this.h[0],a=this.h[1],b=this.h[2],k=this.h[3],d=this.h[4],C=this.h[5],T=this.h[6],g=this.h[7];for(l(this.k.length===o.length),s=0;s<o.length;s++){var E=m(g,x(d),y(d,C,T),this.k[s],o[s]),S=u(w(_),v(_,a,b));g=T,T=C,C=d,d=u(k,E),k=b,b=a,a=_,_=u(E,S)}this.h[0]=u(this.h[0],_),this.h[1]=u(this.h[1],a),this.h[2]=u(this.h[2],b),this.h[3]=u(this.h[3],k),this.h[4]=u(this.h[4],d),this.h[5]=u(this.h[5],C),this.h[6]=u(this.h[6],T),this.h[7]=u(this.h[7],g)},r.prototype._digest=function t(n){return'hex'===n?o.toHex32(this.h,'big'):o.split32(this.h,'big')}},function(t,n,a){'use strict';function r(){return this instanceof r?void(L.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=O,this.W=Array(160)):new r}function o(t,n,a,o,s){var d=t&a^~t&s;return 0>d&&(d+=4294967296),d}function s(t,n,a,o,s,d){var l=n&o^~n&d;return 0>l&&(l+=4294967296),l}function d(t,n,a,o,s){var d=t&a^t&s^a&s;return 0>d&&(d+=4294967296),d}function l(t,n,a,o,s,d){var l=n&o^n&d^o&d;return 0>l&&(l+=4294967296),l}function c(t,n){var a=_(t,n,28),o=_(n,t,2),s=_(n,t,7),d=a^o^s;return 0>d&&(d+=4294967296),d}function u(t,n){var a=k(t,n,28),o=k(n,t,2),s=k(n,t,7),d=a^o^s;return 0>d&&(d+=4294967296),d}function f(t,n){var a=_(t,n,14),o=_(t,n,18),s=_(n,t,9),d=a^o^s;return 0>d&&(d+=4294967296),d}function m(t,n){var a=k(t,n,14),o=k(t,n,18),s=k(n,t,9),d=a^o^s;return 0>d&&(d+=4294967296),d}function h(t,n){var a=_(t,n,1),o=_(t,n,8),s=C(t,n,7),d=a^o^s;return 0>d&&(d+=4294967296),d}function g(t,n){var a=k(t,n,1),o=k(t,n,8),s=T(t,n,7),d=a^o^s;return 0>d&&(d+=4294967296),d}function b(t,n){var a=_(t,n,19),o=_(n,t,29),s=C(t,n,6),d=a^o^s;return 0>d&&(d+=4294967296),d}function y(t,n){var a=k(t,n,19),o=k(n,t,29),s=T(t,n,6),d=a^o^s;return 0>d&&(d+=4294967296),d}var v=a(22),w=a(54),x=a(15),_=v.rotr64_hi,k=v.rotr64_lo,C=v.shr64_hi,T=v.shr64_lo,E=v.sum64,S=v.sum64_hi,A=v.sum64_lo,I=v.sum64_4_hi,N=v.sum64_4_lo,j=v.sum64_5_hi,R=v.sum64_5_lo,L=w.BlockHash,O=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];v.inherits(r,L),t.exports=r,r.blockSize=1024,r.outSize=512,r.hmacStrength=192,r.padLength=128,r.prototype._prepareBlock=function t(n,a){for(var r=this.W,o=0;32>o;o++)r[o]=n[a+o];for(;o<r.length;o+=2){var s=b(r[o-4],r[o-3]),d=y(r[o-4],r[o-3]),l=r[o-14],c=r[o-13],u=h(r[o-30],r[o-29]),f=g(r[o-30],r[o-29]),m=r[o-32],v=r[o-31];r[o]=I(s,d,l,c,u,f,m,v),r[o+1]=N(s,d,l,c,u,f,m,v)}},r.prototype._update=function t(n,a){this._prepareBlock(n,a);var r=this.W,h=this.h[0],g=this.h[1],b=this.h[2],y=this.h[3],v=this.h[4],w=this.h[5],_=this.h[6],k=this.h[7],C=this.h[8],T=this.h[9],I=this.h[10],N=this.h[11],L=this.h[12],O=this.h[13],P=this.h[14],M=this.h[15];x(this.k.length===r.length);for(var D=0;D<r.length;D+=2){var B=P,U=M,q=f(C,T),F=m(C,T),z=o(C,T,I,N,L,O),H=s(C,T,I,N,L,O),W=this.k[D],V=this.k[D+1],G=r[D],J=r[D+1],K=j(B,U,q,F,z,H,W,V,G,J),X=R(B,U,q,F,z,H,W,V,G,J);B=c(h,g),U=u(h,g),q=d(h,g,b,y,v,w),F=l(h,g,b,y,v,w);var Z=S(B,U,q,F),Y=A(B,U,q,F);P=L,M=O,L=I,O=N,I=C,N=T,C=S(_,k,K,X),T=A(k,k,K,X),_=v,k=w,v=b,w=y,b=h,y=g,h=S(K,X,Z,Y),g=A(K,X,Z,Y)}E(this.h,0,h,g),E(this.h,2,b,y),E(this.h,4,v,w),E(this.h,6,_,k),E(this.h,8,C,T),E(this.h,10,I,N),E(this.h,12,L,O),E(this.h,14,P,M)},r.prototype._digest=function t(n){return'hex'===n?v.toHex32(this.h,'big'):v.split32(this.h,'big')}},function(t,n,a){(function(t){(function(t,n){'use strict';function o(t,n){if(!t)throw new Error(n||'Assertion failed')}function r(t,n){t.super_=n;var a=function(){};a.prototype=n.prototype,t.prototype=new a,t.prototype.constructor=t}function d(t,n,a){return d.isBN(t)?t:void(this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(('le'===n||'be'===n)&&(a=n,n=10),this._init(t||0,n||10,a||'be')))}function s(t,n,a){for(var o=0,r=_Mathmin(t.length,a),s=n,d;s<r;s++)d=t.charCodeAt(s)-48,o<<=4,o|=49<=d&&54>=d?d-49+10:17<=d&&22>=d?d-17+10:15&d;return o}function l(t,n,a,o){for(var s=0,r=_Mathmin(t.length,a),d=n,l;d<r;d++)l=t.charCodeAt(d)-48,s*=o,s+=49<=l?l-49+10:17<=l?l-17+10:l;return s}function c(t){for(var n=Array(t.bitLength()),a=0;a<n.length;a++){var r=0|a/26,o=a%26;n[a]=(t.words[r]&1<<o)>>>o}return n}function u(t,n,o){o.negative=n.negative^t.negative;var s=0|t.length+n.length;o.length=s,s=0|s-1;var d=0|t.words[0],a=0|n.words[0],l=d*a,r=67108863&l,c=0|l/67108864;o.words[0]=r;for(var u=1;u<s;u++){for(var f=c>>>26,m=67108863&c,h=_Mathmin(u,n.length-1),g=_Mathmax(0,u-t.length+1),b;g<=h;g++)b=0|u-g,d=0|t.words[b],a=0|n.words[g],l=d*a+m,f+=0|l/67108864,m=67108863&l;o.words[u]=0|m,c=0|f}return 0==c?o.length--:o.words[u]=0|c,o.strip()}function f(t,n,o){o.negative=n.negative^t.negative,o.length=t.length+n.length;for(var s=0,d=0,l=0,c;l<o.length-1;l++){c=d,d=0;for(var u=67108863&s,f=_Mathmin(l,n.length-1),m=_Mathmax(0,l-t.length+1);m<=f;m++){var h=l-m,g=0|t.words[h],a=0|n.words[m],b=g*a,r=67108863&b;c=0|c+(0|b/67108864),r=0|r+u,u=67108863&r,c=0|c+(r>>>26),d+=c>>>26,c&=67108863}o.words[l]=u,s=c,c=d}return 0==s?o.length--:o.words[l]=s,o.strip()}function m(t,n,a){var r=new h;return r.mulp(t,n,a)}function h(t,n){this.x=t,this.y=n}function g(t,n){this.name=t,this.p=new d(n,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function y(){g.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function v(){g.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function w(){g.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var n=d._prime(t);this.m=n.p,this.prime=n}else o(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function _(t){x.call(this,t),this.shift=this.m.bitLength(),0!=this.shift%26&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}'object'==typeof t?t.exports=d:n.BN=d,d.BN=d,d.wordSize=26;var k;try{k=a(314).Buffer}catch(t){}d.isBN=function t(n){return!!(n instanceof d)||null!==n&&'object'==typeof n&&n.constructor.wordSize===d.wordSize&&Array.isArray(n.words)},d.max=function t(n,a){return 0<n.cmp(a)?n:a},d.min=function t(n,a){return 0>n.cmp(a)?n:a},d.prototype._init=function t(n,a,r){if('number'==typeof n)return this._initNumber(n,a,r);if('object'==typeof n)return this._initArray(n,a,r);'hex'===a&&(a=16),o(a===(0|a)&&2<=a&&36>=a),n=n.toString().replace(/\s+/g,'');var s=0;'-'===n[0]&&s++,16===a?this._parseHex(n,s):this._parseBase(n,a,s),'-'===n[0]&&(this.negative=1),this.strip();'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initNumber=function t(n,a,r){0>n&&(this.negative=1,n=-n),67108864>n?(this.words=[67108863&n],this.length=1):4503599627370496>n?(this.words=[67108863&n,67108863&n/67108864],this.length=2):(o(9007199254740992>n),this.words=[67108863&n,67108863&n/67108864,1],this.length=3);'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initArray=function t(n,a,r){if(o('number'==typeof n.length),0>=n.length)return this.words=[0],this.length=1,this;this.length=_Mathceil(n.length/3),this.words=Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var d=0,l,c;if('be'===r)for(s=n.length-1,l=0;0<=s;s-=3)c=n[s]|n[s-1]<<8|n[s-2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);else if('le'===r)for(s=0,l=0;s<n.length;s+=3)c=n[s]|n[s+1]<<8|n[s+2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);return this.strip()},d.prototype._parseHex=function t(n,a){this.length=_Mathceil((n.length-a)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o=0,d,l;for(r=n.length-6,d=0;r>=a;r-=6)l=s(n,r,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o,o+=24,26<=o&&(o-=26,d++);r+6!==a&&(l=s(n,a,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o),this.strip()},d.prototype._parseBase=function t(n,a,r){this.words=[0],this.length=1;for(var o=0,s=1;67108863>=s;s*=a)o++;o--,s=0|s/a;for(var d=n.length-r,c=d%o,u=_Mathmin(d,d-c)+r,f=0,m=r;m<u;m+=o)f=l(n,m,m+o,a),this.imuln(s),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f);if(0!=c){var h=1;for(f=l(n,m,n.length,a),m=0;m<c;m++)h*=a;this.imuln(h),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f)}},d.prototype.copy=function t(n){n.words=Array(this.length);for(var a=0;a<this.length;a++)n.words[a]=this.words[a];n.length=this.length,n.negative=this.negative,n.red=this.red},d.prototype.clone=function t(){var n=new d(null);return this.copy(n),n},d.prototype._expand=function t(n){for(;this.length<n;)this.words[this.length++]=0;return this},d.prototype.strip=function t(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},d.prototype._normSign=function t(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},d.prototype.inspect=function t(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var C=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,10000000,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function t(n,a){n=n||10,a=0|a||1;var s;if(16===n||'hex'===n){s='';for(var d=0,l=0,u=0;u<this.length;u++){var f=this.words[u],m=(16777215&(f<<d|l)).toString(16);l=16777215&f>>>24-d,s=0!=l||u!==this.length-1?C[6-m.length]+m+s:m+s,d+=2,26<=d&&(d-=26,u--)}for(0!=l&&(s=l.toString(16)+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}if(n===(0|n)&&2<=n&&36>=n){var h=T[n],g=E[n];s='';var b=this.clone();for(b.negative=0;!b.isZero();){var c=b.modn(g).toString(n);b=b.idivn(g),s=b.isZero()?c+s:C[h-c.length]+c+s}for(this.isZero()&&(s='0'+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}o(!1,'Base should be between 2 and 36')},d.prototype.toNumber=function t(){var n=this.words[0];return 2===this.length?n+=67108864*this.words[1]:3===this.length&&1===this.words[2]?n+=4503599627370496+67108864*this.words[1]:2<this.length&&o(!1,'Number can only safely store up to 53 bits'),0===this.negative?n:-n},d.prototype.toJSON=function t(){return this.toString(16)},d.prototype.toBuffer=function t(n,a){return o('undefined'!=typeof k),this.toArrayLike(k,n,a)},d.prototype.toArray=function t(n,a){return this.toArrayLike(Array,n,a)},d.prototype.toArrayLike=function t(n,a,r){var s=this.byteLength(),d=r||_Mathmax(1,s);o(s<=d,'byte array longer than desired length'),o(0<d,'Requested array length <= 0'),this.strip();var l='le'===a,c=new n(d),u=this.clone(),f,m;if(!l){for(m=0;m<d-s;m++)c[m]=0;for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[d-m-1]=f}else{for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[m]=f;for(;m<d;m++)c[m]=0}return c},d.prototype._countBits=_Mathclz?function t(n){return 32-_Mathclz(n)}:function n(a){var o=a,t=0;return 4096<=o&&(t+=13,o>>>=13),64<=o&&(t+=7,o>>>=7),8<=o&&(t+=4,o>>>=4),2<=o&&(t+=2,o>>>=2),t+o},d.prototype._zeroBits=function n(a){if(0===a)return 26;var o=a,t=0;return 0==(8191&o)&&(t+=13,o>>>=13),0==(127&o)&&(t+=7,o>>>=7),0==(15&o)&&(t+=4,o>>>=4),0==(3&o)&&(t+=2,o>>>=2),0==(1&o)&&t++,t},d.prototype.bitLength=function t(){var n=this.words[this.length-1],a=this._countBits(n);return 26*(this.length-1)+a},d.prototype.zeroBits=function t(){if(this.isZero())return 0;for(var n=0,a=0,r;a<this.length&&(r=this._zeroBits(this.words[a]),n+=r,26===r);a++);return n},d.prototype.byteLength=function t(){return _Mathceil(this.bitLength()/8)},d.prototype.toTwos=function t(n){return 0===this.negative?this.clone():this.abs().inotn(n).iaddn(1)},d.prototype.fromTwos=function t(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function t(){return 0!==this.negative},d.prototype.neg=function t(){return this.clone().ineg()},d.prototype.ineg=function t(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function t(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var a=0;a<n.length;a++)this.words[a]|=n.words[a];return this.strip()},d.prototype.ior=function t(n){return o(0==(this.negative|n.negative)),this.iuor(n)},d.prototype.or=function t(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},d.prototype.uor=function t(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},d.prototype.iuand=function t(n){var a;a=this.length>n.length?n:this;for(var r=0;r<a.length;r++)this.words[r]&=n.words[r];return this.length=a.length,this.strip()},d.prototype.iand=function t(n){return o(0==(this.negative|n.negative)),this.iuand(n)},d.prototype.and=function t(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},d.prototype.uand=function t(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},d.prototype.iuxor=function t(n){var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var o=0;o<a.length;o++)this.words[o]=r.words[o]^a.words[o];if(this!==r)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=r.length,this.strip()},d.prototype.ixor=function t(n){return o(0==(this.negative|n.negative)),this.iuxor(n)},d.prototype.xor=function t(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},d.prototype.uxor=function t(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},d.prototype.inotn=function t(n){o('number'==typeof n&&0<=n);var a=0|_Mathceil(n/26),r=n%26;this._expand(a),0<r&&a--;for(var s=0;s<a;s++)this.words[s]=67108863&~this.words[s];return 0<r&&(this.words[s]=~this.words[s]&67108863>>26-r),this.strip()},d.prototype.notn=function t(n){return this.clone().inotn(n)},d.prototype.setn=function t(n,a){o('number'==typeof n&&0<=n);var r=0|n/26,s=n%26;return this._expand(r+1),a?this.words[r]|=1<<s:this.words[r]&=~(1<<s),this.strip()},d.prototype.iadd=function t(n){var o;if(0!==this.negative&&0===n.negative)return this.negative=0,o=this.isub(n),this.negative^=1,this._normSign();if(0===this.negative&&0!==n.negative)return n.negative=0,o=this.isub(n),n.negative=1,o._normSign();var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var s=0,d=0;d<a.length;d++)o=(0|r.words[d])+(0|a.words[d])+s,this.words[d]=67108863&o,s=o>>>26;for(;0!=s&&d<r.length;d++)o=(0|r.words[d])+s,this.words[d]=67108863&o,s=o>>>26;if(this.length=r.length,0!=s)this.words[this.length]=s,this.length++;else if(r!==this)for(;d<r.length;d++)this.words[d]=r.words[d];return this},d.prototype.add=function t(n){var a;return 0!==n.negative&&0===this.negative?(n.negative=0,a=this.sub(n),n.negative^=1,a):0===n.negative&&0!==this.negative?(this.negative=0,a=n.sub(this),this.negative=1,a):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},d.prototype.isub=function t(n){if(0!==n.negative){n.negative=0;var o=this.iadd(n);return n.negative=1,o._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var r=this.cmp(n);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var s,a;0<r?(s=this,a=n):(s=n,a=this);for(var d=0,l=0;l<a.length;l++)o=(0|s.words[l])-(0|a.words[l])+d,d=o>>26,this.words[l]=67108863&o;for(;0!=d&&l<s.length;l++)o=(0|s.words[l])+d,d=o>>26,this.words[l]=67108863&o;if(0==d&&l<s.length&&s!==this)for(;l<s.length;l++)this.words[l]=s.words[l];return this.length=_Mathmax(this.length,l),s!==this&&(this.negative=1),this.strip()},d.prototype.sub=function t(n){return this.clone().isub(n)};var S=function t(n,r,s){var d=n.words,a=r.words,l=s.words,o=0,c=0|d[0],u=8191&c,f=c>>>13,m=0|d[1],h=8191&m,g=m>>>13,b=0|d[2],y=8191&b,v=b>>>13,w=0|d[3],x=8191&w,_=w>>>13,k=0|d[4],C=8191&k,T=k>>>13,E=0|d[5],S=8191&E,A=E>>>13,I=0|d[6],N=8191&I,j=I>>>13,R=0|d[7],L=8191&R,O=R>>>13,P=0|d[8],M=8191&P,D=P>>>13,B=0|d[9],U=8191&B,q=B>>>13,F=0|a[0],z=8191&F,H=F>>>13,W=0|a[1],V=8191&W,G=W>>>13,J=0|a[2],K=8191&J,X=J>>>13,Z=0|a[3],Y=8191&Z,Q=Z>>>13,ee=0|a[4],te=8191&ee,ne=ee>>>13,ae=0|a[5],re=8191&ae,ie=ae>>>13,oe=0|a[6],se=8191&oe,de=oe>>>13,le=0|a[7],pe=8191&le,ce=le>>>13,ue=0|a[8],fe=8191&ue,he=ue>>>13,ge=0|a[9],be=8191&ge,ye=ge>>>13,ve,we,xe;s.negative=n.negative^r.negative,s.length=19,ve=_Mathimul(u,z),we=_Mathimul(u,H),we=0|we+_Mathimul(f,z),xe=_Mathimul(f,H);var _e=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(_e>>>26),_e&=67108863,ve=_Mathimul(h,z),we=_Mathimul(h,H),we=0|we+_Mathimul(g,z),xe=_Mathimul(g,H),ve=0|ve+_Mathimul(u,V),we=0|we+_Mathimul(u,G),we=0|we+_Mathimul(f,V),xe=0|xe+_Mathimul(f,G);var ke=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(ke>>>26),ke&=67108863,ve=_Mathimul(y,z),we=_Mathimul(y,H),we=0|we+_Mathimul(v,z),xe=_Mathimul(v,H),ve=0|ve+_Mathimul(h,V),we=0|we+_Mathimul(h,G),we=0|we+_Mathimul(g,V),xe=0|xe+_Mathimul(g,G),ve=0|ve+_Mathimul(u,K),we=0|we+_Mathimul(u,X),we=0|we+_Mathimul(f,K),xe=0|xe+_Mathimul(f,X);var Ce=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ce>>>26),Ce&=67108863,ve=_Mathimul(x,z),we=_Mathimul(x,H),we=0|we+_Mathimul(_,z),xe=_Mathimul(_,H),ve=0|ve+_Mathimul(y,V),we=0|we+_Mathimul(y,G),we=0|we+_Mathimul(v,V),xe=0|xe+_Mathimul(v,G),ve=0|ve+_Mathimul(h,K),we=0|we+_Mathimul(h,X),we=0|we+_Mathimul(g,K),xe=0|xe+_Mathimul(g,X),ve=0|ve+_Mathimul(u,Y),we=0|we+_Mathimul(u,Q),we=0|we+_Mathimul(f,Y),xe=0|xe+_Mathimul(f,Q);var Te=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Te>>>26),Te&=67108863,ve=_Mathimul(C,z),we=_Mathimul(C,H),we=0|we+_Mathimul(T,z),xe=_Mathimul(T,H),ve=0|ve+_Mathimul(x,V),we=0|we+_Mathimul(x,G),we=0|we+_Mathimul(_,V),xe=0|xe+_Mathimul(_,G),ve=0|ve+_Mathimul(y,K),we=0|we+_Mathimul(y,X),we=0|we+_Mathimul(v,K),xe=0|xe+_Mathimul(v,X),ve=0|ve+_Mathimul(h,Y),we=0|we+_Mathimul(h,Q),we=0|we+_Mathimul(g,Y),xe=0|xe+_Mathimul(g,Q),ve=0|ve+_Mathimul(u,te),we=0|we+_Mathimul(u,ne),we=0|we+_Mathimul(f,te),xe=0|xe+_Mathimul(f,ne);var Ee=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ee>>>26),Ee&=67108863,ve=_Mathimul(S,z),we=_Mathimul(S,H),we=0|we+_Mathimul(A,z),xe=_Mathimul(A,H),ve=0|ve+_Mathimul(C,V),we=0|we+_Mathimul(C,G),we=0|we+_Mathimul(T,V),xe=0|xe+_Mathimul(T,G),ve=0|ve+_Mathimul(x,K),we=0|we+_Mathimul(x,X),we=0|we+_Mathimul(_,K),xe=0|xe+_Mathimul(_,X),ve=0|ve+_Mathimul(y,Y),we=0|we+_Mathimul(y,Q),we=0|we+_Mathimul(v,Y),xe=0|xe+_Mathimul(v,Q),ve=0|ve+_Mathimul(h,te),we=0|we+_Mathimul(h,ne),we=0|we+_Mathimul(g,te),xe=0|xe+_Mathimul(g,ne),ve=0|ve+_Mathimul(u,re),we=0|we+_Mathimul(u,ie),we=0|we+_Mathimul(f,re),xe=0|xe+_Mathimul(f,ie);var Se=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Se>>>26),Se&=67108863,ve=_Mathimul(N,z),we=_Mathimul(N,H),we=0|we+_Mathimul(j,z),xe=_Mathimul(j,H),ve=0|ve+_Mathimul(S,V),we=0|we+_Mathimul(S,G),we=0|we+_Mathimul(A,V),xe=0|xe+_Mathimul(A,G),ve=0|ve+_Mathimul(C,K),we=0|we+_Mathimul(C,X),we=0|we+_Mathimul(T,K),xe=0|xe+_Mathimul(T,X),ve=0|ve+_Mathimul(x,Y),we=0|we+_Mathimul(x,Q),we=0|we+_Mathimul(_,Y),xe=0|xe+_Mathimul(_,Q),ve=0|ve+_Mathimul(y,te),we=0|we+_Mathimul(y,ne),we=0|we+_Mathimul(v,te),xe=0|xe+_Mathimul(v,ne),ve=0|ve+_Mathimul(h,re),we=0|we+_Mathimul(h,ie),we=0|we+_Mathimul(g,re),xe=0|xe+_Mathimul(g,ie),ve=0|ve+_Mathimul(u,se),we=0|we+_Mathimul(u,de),we=0|we+_Mathimul(f,se),xe=0|xe+_Mathimul(f,de);var Ae=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ae>>>26),Ae&=67108863,ve=_Mathimul(L,z),we=_Mathimul(L,H),we=0|we+_Mathimul(O,z),xe=_Mathimul(O,H),ve=0|ve+_Mathimul(N,V),we=0|we+_Mathimul(N,G),we=0|we+_Mathimul(j,V),xe=0|xe+_Mathimul(j,G),ve=0|ve+_Mathimul(S,K),we=0|we+_Mathimul(S,X),we=0|we+_Mathimul(A,K),xe=0|xe+_Mathimul(A,X),ve=0|ve+_Mathimul(C,Y),we=0|we+_Mathimul(C,Q),we=0|we+_Mathimul(T,Y),xe=0|xe+_Mathimul(T,Q),ve=0|ve+_Mathimul(x,te),we=0|we+_Mathimul(x,ne),we=0|we+_Mathimul(_,te),xe=0|xe+_Mathimul(_,ne),ve=0|ve+_Mathimul(y,re),we=0|we+_Mathimul(y,ie),we=0|we+_Mathimul(v,re),xe=0|xe+_Mathimul(v,ie),ve=0|ve+_Mathimul(h,se),we=0|we+_Mathimul(h,de),we=0|we+_Mathimul(g,se),xe=0|xe+_Mathimul(g,de),ve=0|ve+_Mathimul(u,pe),we=0|we+_Mathimul(u,ce),we=0|we+_Mathimul(f,pe),xe=0|xe+_Mathimul(f,ce);var Ie=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ie>>>26),Ie&=67108863,ve=_Mathimul(M,z),we=_Mathimul(M,H),we=0|we+_Mathimul(D,z),xe=_Mathimul(D,H),ve=0|ve+_Mathimul(L,V),we=0|we+_Mathimul(L,G),we=0|we+_Mathimul(O,V),xe=0|xe+_Mathimul(O,G),ve=0|ve+_Mathimul(N,K),we=0|we+_Mathimul(N,X),we=0|we+_Mathimul(j,K),xe=0|xe+_Mathimul(j,X),ve=0|ve+_Mathimul(S,Y),we=0|we+_Mathimul(S,Q),we=0|we+_Mathimul(A,Y),xe=0|xe+_Mathimul(A,Q),ve=0|ve+_Mathimul(C,te),we=0|we+_Mathimul(C,ne),we=0|we+_Mathimul(T,te),xe=0|xe+_Mathimul(T,ne),ve=0|ve+_Mathimul(x,re),we=0|we+_Mathimul(x,ie),we=0|we+_Mathimul(_,re),xe=0|xe+_Mathimul(_,ie),ve=0|ve+_Mathimul(y,se),we=0|we+_Mathimul(y,de),we=0|we+_Mathimul(v,se),xe=0|xe+_Mathimul(v,de),ve=0|ve+_Mathimul(h,pe),we=0|we+_Mathimul(h,ce),we=0|we+_Mathimul(g,pe),xe=0|xe+_Mathimul(g,ce),ve=0|ve+_Mathimul(u,fe),we=0|we+_Mathimul(u,he),we=0|we+_Mathimul(f,fe),xe=0|xe+_Mathimul(f,he);var Ne=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ne>>>26),Ne&=67108863,ve=_Mathimul(U,z),we=_Mathimul(U,H),we=0|we+_Mathimul(q,z),xe=_Mathimul(q,H),ve=0|ve+_Mathimul(M,V),we=0|we+_Mathimul(M,G),we=0|we+_Mathimul(D,V),xe=0|xe+_Mathimul(D,G),ve=0|ve+_Mathimul(L,K),we=0|we+_Mathimul(L,X),we=0|we+_Mathimul(O,K),xe=0|xe+_Mathimul(O,X),ve=0|ve+_Mathimul(N,Y),we=0|we+_Mathimul(N,Q),we=0|we+_Mathimul(j,Y),xe=0|xe+_Mathimul(j,Q),ve=0|ve+_Mathimul(S,te),we=0|we+_Mathimul(S,ne),we=0|we+_Mathimul(A,te),xe=0|xe+_Mathimul(A,ne),ve=0|ve+_Mathimul(C,re),we=0|we+_Mathimul(C,ie),we=0|we+_Mathimul(T,re),xe=0|xe+_Mathimul(T,ie),ve=0|ve+_Mathimul(x,se),we=0|we+_Mathimul(x,de),we=0|we+_Mathimul(_,se),xe=0|xe+_Mathimul(_,de),ve=0|ve+_Mathimul(y,pe),we=0|we+_Mathimul(y,ce),we=0|we+_Mathimul(v,pe),xe=0|xe+_Mathimul(v,ce),ve=0|ve+_Mathimul(h,fe),we=0|we+_Mathimul(h,he),we=0|we+_Mathimul(g,fe),xe=0|xe+_Mathimul(g,he),ve=0|ve+_Mathimul(u,be),we=0|we+_Mathimul(u,ye),we=0|we+_Mathimul(f,be),xe=0|xe+_Mathimul(f,ye);var je=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(je>>>26),je&=67108863,ve=_Mathimul(U,V),we=_Mathimul(U,G),we=0|we+_Mathimul(q,V),xe=_Mathimul(q,G),ve=0|ve+_Mathimul(M,K),we=0|we+_Mathimul(M,X),we=0|we+_Mathimul(D,K),xe=0|xe+_Mathimul(D,X),ve=0|ve+_Mathimul(L,Y),we=0|we+_Mathimul(L,Q),we=0|we+_Mathimul(O,Y),xe=0|xe+_Mathimul(O,Q),ve=0|ve+_Mathimul(N,te),we=0|we+_Mathimul(N,ne),we=0|we+_Mathimul(j,te),xe=0|xe+_Mathimul(j,ne),ve=0|ve+_Mathimul(S,re),we=0|we+_Mathimul(S,ie),we=0|we+_Mathimul(A,re),xe=0|xe+_Mathimul(A,ie),ve=0|ve+_Mathimul(C,se),we=0|we+_Mathimul(C,de),we=0|we+_Mathimul(T,se),xe=0|xe+_Mathimul(T,de),ve=0|ve+_Mathimul(x,pe),we=0|we+_Mathimul(x,ce),we=0|we+_Mathimul(_,pe),xe=0|xe+_Mathimul(_,ce),ve=0|ve+_Mathimul(y,fe),we=0|we+_Mathimul(y,he),we=0|we+_Mathimul(v,fe),xe=0|xe+_Mathimul(v,he),ve=0|ve+_Mathimul(h,be),we=0|we+_Mathimul(h,ye),we=0|we+_Mathimul(g,be),xe=0|xe+_Mathimul(g,ye);var Re=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Re>>>26),Re&=67108863,ve=_Mathimul(U,K),we=_Mathimul(U,X),we=0|we+_Mathimul(q,K),xe=_Mathimul(q,X),ve=0|ve+_Mathimul(M,Y),we=0|we+_Mathimul(M,Q),we=0|we+_Mathimul(D,Y),xe=0|xe+_Mathimul(D,Q),ve=0|ve+_Mathimul(L,te),we=0|we+_Mathimul(L,ne),we=0|we+_Mathimul(O,te),xe=0|xe+_Mathimul(O,ne),ve=0|ve+_Mathimul(N,re),we=0|we+_Mathimul(N,ie),we=0|we+_Mathimul(j,re),xe=0|xe+_Mathimul(j,ie),ve=0|ve+_Mathimul(S,se),we=0|we+_Mathimul(S,de),we=0|we+_Mathimul(A,se),xe=0|xe+_Mathimul(A,de),ve=0|ve+_Mathimul(C,pe),we=0|we+_Mathimul(C,ce),we=0|we+_Mathimul(T,pe),xe=0|xe+_Mathimul(T,ce),ve=0|ve+_Mathimul(x,fe),we=0|we+_Mathimul(x,he),we=0|we+_Mathimul(_,fe),xe=0|xe+_Mathimul(_,he),ve=0|ve+_Mathimul(y,be),we=0|we+_Mathimul(y,ye),we=0|we+_Mathimul(v,be),xe=0|xe+_Mathimul(v,ye);var Le=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Le>>>26),Le&=67108863,ve=_Mathimul(U,Y),we=_Mathimul(U,Q),we=0|we+_Mathimul(q,Y),xe=_Mathimul(q,Q),ve=0|ve+_Mathimul(M,te),we=0|we+_Mathimul(M,ne),we=0|we+_Mathimul(D,te),xe=0|xe+_Mathimul(D,ne),ve=0|ve+_Mathimul(L,re),we=0|we+_Mathimul(L,ie),we=0|we+_Mathimul(O,re),xe=0|xe+_Mathimul(O,ie),ve=0|ve+_Mathimul(N,se),we=0|we+_Mathimul(N,de),we=0|we+_Mathimul(j,se),xe=0|xe+_Mathimul(j,de),ve=0|ve+_Mathimul(S,pe),we=0|we+_Mathimul(S,ce),we=0|we+_Mathimul(A,pe),xe=0|xe+_Mathimul(A,ce),ve=0|ve+_Mathimul(C,fe),we=0|we+_Mathimul(C,he),we=0|we+_Mathimul(T,fe),xe=0|xe+_Mathimul(T,he),ve=0|ve+_Mathimul(x,be),we=0|we+_Mathimul(x,ye),we=0|we+_Mathimul(_,be),xe=0|xe+_Mathimul(_,ye);var Oe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Oe>>>26),Oe&=67108863,ve=_Mathimul(U,te),we=_Mathimul(U,ne),we=0|we+_Mathimul(q,te),xe=_Mathimul(q,ne),ve=0|ve+_Mathimul(M,re),we=0|we+_Mathimul(M,ie),we=0|we+_Mathimul(D,re),xe=0|xe+_Mathimul(D,ie),ve=0|ve+_Mathimul(L,se),we=0|we+_Mathimul(L,de),we=0|we+_Mathimul(O,se),xe=0|xe+_Mathimul(O,de),ve=0|ve+_Mathimul(N,pe),we=0|we+_Mathimul(N,ce),we=0|we+_Mathimul(j,pe),xe=0|xe+_Mathimul(j,ce),ve=0|ve+_Mathimul(S,fe),we=0|we+_Mathimul(S,he),we=0|we+_Mathimul(A,fe),xe=0|xe+_Mathimul(A,he),ve=0|ve+_Mathimul(C,be),we=0|we+_Mathimul(C,ye),we=0|we+_Mathimul(T,be),xe=0|xe+_Mathimul(T,ye);var Pe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Pe>>>26),Pe&=67108863,ve=_Mathimul(U,re),we=_Mathimul(U,ie),we=0|we+_Mathimul(q,re),xe=_Mathimul(q,ie),ve=0|ve+_Mathimul(M,se),we=0|we+_Mathimul(M,de),we=0|we+_Mathimul(D,se),xe=0|xe+_Mathimul(D,de),ve=0|ve+_Mathimul(L,pe),we=0|we+_Mathimul(L,ce),we=0|we+_Mathimul(O,pe),xe=0|xe+_Mathimul(O,ce),ve=0|ve+_Mathimul(N,fe),we=0|we+_Mathimul(N,he),we=0|we+_Mathimul(j,fe),xe=0|xe+_Mathimul(j,he),ve=0|ve+_Mathimul(S,be),we=0|we+_Mathimul(S,ye),we=0|we+_Mathimul(A,be),xe=0|xe+_Mathimul(A,ye);var Me=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Me>>>26),Me&=67108863,ve=_Mathimul(U,se),we=_Mathimul(U,de),we=0|we+_Mathimul(q,se),xe=_Mathimul(q,de),ve=0|ve+_Mathimul(M,pe),we=0|we+_Mathimul(M,ce),we=0|we+_Mathimul(D,pe),xe=0|xe+_Mathimul(D,ce),ve=0|ve+_Mathimul(L,fe),we=0|we+_Mathimul(L,he),we=0|we+_Mathimul(O,fe),xe=0|xe+_Mathimul(O,he),ve=0|ve+_Mathimul(N,be),we=0|we+_Mathimul(N,ye),we=0|we+_Mathimul(j,be),xe=0|xe+_Mathimul(j,ye);var De=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(De>>>26),De&=67108863,ve=_Mathimul(U,pe),we=_Mathimul(U,ce),we=0|we+_Mathimul(q,pe),xe=_Mathimul(q,ce),ve=0|ve+_Mathimul(M,fe),we=0|we+_Mathimul(M,he),we=0|we+_Mathimul(D,fe),xe=0|xe+_Mathimul(D,he),ve=0|ve+_Mathimul(L,be),we=0|we+_Mathimul(L,ye),we=0|we+_Mathimul(O,be),xe=0|xe+_Mathimul(O,ye);var Be=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Be>>>26),Be&=67108863,ve=_Mathimul(U,fe),we=_Mathimul(U,he),we=0|we+_Mathimul(q,fe),xe=_Mathimul(q,he),ve=0|ve+_Mathimul(M,be),we=0|we+_Mathimul(M,ye),we=0|we+_Mathimul(D,be),xe=0|xe+_Mathimul(D,ye);var Ue=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ue>>>26),Ue&=67108863,ve=_Mathimul(U,be),we=_Mathimul(U,ye),we=0|we+_Mathimul(q,be),xe=_Mathimul(q,ye);var qe=0|(0|o+ve)+((8191&we)<<13);return o=0|(0|xe+(we>>>13))+(qe>>>26),qe&=67108863,l[0]=_e,l[1]=ke,l[2]=Ce,l[3]=Te,l[4]=Ee,l[5]=Se,l[6]=Ae,l[7]=Ie,l[8]=Ne,l[9]=je,l[10]=Re,l[11]=Le,l[12]=Oe,l[13]=Pe,l[14]=Me,l[15]=De,l[16]=Be,l[17]=Ue,l[18]=qe,0!=o&&(l[19]=o,s.length++),s};_Mathimul||(S=u),d.prototype.mulTo=function t(n,a){var r=this.length+n.length,o;return o=10===this.length&&10===n.length?S(this,n,a):63>r?u(this,n,a):1024>r?f(this,n,a):m(this,n,a),o},h.prototype.makeRBT=function n(a){for(var r=Array(a),t=d.prototype._countBits(a)-1,o=0;o<a;o++)r[o]=this.revBin(o,t,a);return r},h.prototype.revBin=function t(n,a,r){if(0===n||n===r-1)return n;for(var o=0,s=0;s<a;s++)o|=(1&n)<<a-s-1,n>>=1;return o},h.prototype.permute=function t(n,a,r,o,s,d){for(var l=0;l<d;l++)o[l]=a[n[l]],s[l]=r[n[l]]},h.prototype.transform=function t(n,a,r,o,d,c){this.permute(c,n,a,r,o,d);for(var u=1;u<d;u<<=1)for(var s=u<<1,l=_Mathcos(2*_MathPI/s),f=_Mathsin(2*_MathPI/s),m=0;m<d;m+=s)for(var h=l,g=f,b=0;b<u;b++){var y=r[m+b],v=o[m+b],w=r[m+b+u],x=o[m+b+u],_=h*w-g*x;x=h*x+g*w,w=_,r[m+b]=y+w,o[m+b]=v+x,r[m+b+u]=y-w,o[m+b+u]=v-x,b!==s&&(_=l*h-f*g,g=l*g+f*h,h=_)}},h.prototype.guessLen13b=function t(a,n){var r=1|_Mathmax(n,a),o=1&r,s=0;for(r=0|r/2;r;r>>>=1)s++;return 1<<s+1+o},h.prototype.conjugate=function n(a,r,o){if(!(1>=o))for(var s=0,d;s<o/2;s++)d=a[s],a[s]=a[o-s-1],a[o-s-1]=d,d=r[s],r[s]=-r[o-s-1],r[o-s-1]=-d},h.prototype.normalize13b=function t(n,a){for(var r=0,o=0,s;o<a/2;o++)s=8192*_Mathround(n[2*o+1]/a)+_Mathround(n[2*o]/a)+r,n[o]=67108863&s,r=67108864>s?0:0|s/67108864;return n},h.prototype.convert13b=function t(n,a,r,s){for(var d=0,l=0;l<a;l++)d+=0|n[l],r[2*l]=8191&d,d>>>=13,r[2*l+1]=8191&d,d>>>=13;for(l=2*a;l<s;++l)r[l]=0;o(0==d),o(0==(-8192&d))},h.prototype.stub=function t(n){for(var a=Array(n),r=0;r<n;r++)a[r]=0;return a},h.prototype.mulp=function t(n,a,r){var o=2*this.guessLen13b(n.length,a.length),s=this.makeRBT(o),d=this.stub(o),l=Array(o),c=Array(o),u=Array(o),f=Array(o),m=Array(o),h=Array(o),g=r.words;g.length=o,this.convert13b(n.words,n.length,l,o),this.convert13b(a.words,a.length,f,o),this.transform(l,d,c,u,o,s),this.transform(f,d,m,h,o,s);for(var b=0,y;b<o;b++)y=c[b]*m[b]-u[b]*h[b],u[b]=c[b]*h[b]+u[b]*m[b],c[b]=y;return this.conjugate(c,u,o),this.transform(c,u,g,d,o,s),this.conjugate(g,d,o),this.normalize13b(g,o),r.negative=n.negative^a.negative,r.length=n.length+a.length,r.strip()},d.prototype.mul=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),this.mulTo(n,a)},d.prototype.mulf=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),m(this,n,a)},d.prototype.imul=function t(n){return this.clone().mulTo(n,this)},d.prototype.imuln=function t(n){o('number'==typeof n),o(67108864>n);for(var a=0,r=0;r<this.length;r++){var s=(0|this.words[r])*n,d=(67108863&s)+(67108863&a);a>>=26,a+=0|s/67108864,a+=d>>>26,this.words[r]=67108863&d}return 0!=a&&(this.words[r]=a,this.length++),this},d.prototype.muln=function t(n){return this.clone().imuln(n)},d.prototype.sqr=function t(){return this.mul(this)},d.prototype.isqr=function t(){return this.imul(this.clone())},d.prototype.pow=function t(n){var a=c(n);if(0===a.length)return new d(1);for(var r=this,o=0;o<a.length&&!(0!==a[o]);o++,r=r.sqr());if(++o<a.length)for(var s=r.sqr();o<a.length;o++,s=s.sqr())0!==a[o]&&(r=r.mul(s));return r},d.prototype.iushln=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=67108863>>>26-a<<26-a,d;if(0!=a){var l=0;for(d=0;d<this.length;d++){var u=this.words[d]&s,f=(0|this.words[d])-u<<a;this.words[d]=f|l,l=u>>>26-a}l&&(this.words[d]=l,this.length++)}if(0!=r){for(d=this.length-1;0<=d;d--)this.words[d+r]=this.words[d];for(d=0;d<r;d++)this.words[d]=0;this.length+=r}return this.strip()},d.prototype.ishln=function t(n){return o(0===this.negative),this.iushln(n)},d.prototype.iushrn=function t(n,a,d){o('number'==typeof n&&0<=n);var l;l=a?(a-a%26)/26:0;var c=n%26,r=_Mathmin((n-c)/26,this.length),s=67108863^67108863>>>c<<c,u=d;if(l-=r,l=_Mathmax(0,l),u){for(var f=0;f<r;f++)u.words[f]=this.words[f];u.length=r}if(0===r);else if(this.length>r)for(this.length-=r,f=0;f<this.length;f++)this.words[f]=this.words[f+r];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;0<=f&&(0!=m||f>=l);f--){var h=0|this.words[f];this.words[f]=m<<26-c|h>>>c,m=h&s}return u&&0!=m&&(u.words[u.length++]=m),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function t(n,a,r){return o(0===this.negative),this.iushrn(n,a,r)},d.prototype.shln=function t(n){return this.clone().ishln(n)},d.prototype.ushln=function t(n){return this.clone().iushln(n)},d.prototype.shrn=function t(n){return this.clone().ishrn(n)},d.prototype.ushrn=function t(n){return this.clone().iushrn(n)},d.prototype.testn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return!1;var d=this.words[r];return!!(d&s)},d.prototype.imaskn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26;if(o(0===this.negative,'imaskn works only with positive numbers'),this.length<=r)return this;if(0!=a&&r++,this.length=_Mathmin(r,this.length),0!=a){var s=67108863^67108863>>>a<<a;this.words[this.length-1]&=s}return this.strip()},d.prototype.maskn=function t(n){return this.clone().imaskn(n)},d.prototype.iaddn=function t(n){return o('number'==typeof n),o(67108864>n),0>n?this.isubn(-n):0===this.negative?this._iaddn(n):1===this.length&&(0|this.words[0])<n?(this.words[0]=n-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this)},d.prototype._iaddn=function t(n){this.words[0]+=n;for(var a=0;a<this.length&&67108864<=this.words[a];a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=_Mathmax(this.length,a+1),this},d.prototype.isubn=function t(n){if(o('number'==typeof n),o(67108864>n),0>n)return this.iaddn(-n);if(0!==this.negative)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&0>this.words[a];a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},d.prototype.addn=function t(n){return this.clone().iaddn(n)},d.prototype.subn=function t(n){return this.clone().isubn(n)},d.prototype.iabs=function t(){return this.negative=0,this},d.prototype.abs=function t(){return this.clone().iabs()},d.prototype._ishlnsubmul=function t(n,a,r){var s=n.length+r,d;this._expand(s);var l=0,c;for(d=0;d<n.length;d++){c=(0|this.words[d+r])+l;var u=(0|n.words[d])*a;c-=67108863&u,l=(c>>26)-(0|u/67108864),this.words[d+r]=67108863&c}for(;d<this.length-r;d++)c=(0|this.words[d+r])+l,l=c>>26,this.words[d+r]=67108863&c;if(0==l)return this.strip();for(o(-1==l),l=0,d=0;d<this.length;d++)c=-(0|this.words[d])+l,l=c>>26,this.words[d]=67108863&c;return this.negative=1,this.strip()},d.prototype._wordDiv=function t(n,r){var o=this.length-n.length,s=this.clone(),l=n,c=0|l.words[l.length-1],u=this._countBits(c);o=26-u,0!=o&&(l=l.ushln(o),s.iushln(o),c=0|l.words[l.length-1]);var f=s.length-l.length,m;if('mod'!==r){m=new d(null),m.length=f+1,m.words=Array(m.length);for(var h=0;h<m.length;h++)m.words[h]=0}var g=s.clone()._ishlnsubmul(l,1,f);0===g.negative&&(s=g,m&&(m.words[f]=1));for(var b=f-1,y;0<=b;b--){for(y=67108864*(0|s.words[l.length+b])+(0|s.words[l.length+b-1]),y=_Mathmin(0|y/c,67108863),s._ishlnsubmul(l,y,b);0!==s.negative;)y--,s.negative=0,s._ishlnsubmul(l,1,b),s.isZero()||(s.negative^=1);m&&(m.words[b]=y)}return m&&m.strip(),s.strip(),'div'!==r&&0!=o&&s.iushrn(o),{div:m||null,mod:s}},d.prototype.divmod=function t(n,a,r){if(o(!n.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var s,l,c;return 0!==this.negative&&0===n.negative?(c=this.neg().divmod(n,a),'mod'!==a&&(s=c.div.neg()),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.iadd(n)),{div:s,mod:l}):0===this.negative&&0!==n.negative?(c=this.divmod(n.neg(),a),'mod'!==a&&(s=c.div.neg()),{div:s,mod:c.mod}):0==(this.negative&n.negative)?n.length>this.length||0>this.cmp(n)?{div:new d(0),mod:this}:1===n.length?'div'===a?{div:this.divn(n.words[0]),mod:null}:'mod'===a?{div:null,mod:new d(this.modn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new d(this.modn(n.words[0]))}:this._wordDiv(n,a):(c=this.neg().divmod(n.neg(),a),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.isub(n)),{div:c.div,mod:l})},d.prototype.div=function t(n){return this.divmod(n,'div',!1).div},d.prototype.mod=function t(n){return this.divmod(n,'mod',!1).mod},d.prototype.umod=function t(n){return this.divmod(n,'mod',!0).mod},d.prototype.divRound=function t(n){var a=this.divmod(n);if(a.mod.isZero())return a.div;var r=0===a.div.negative?a.mod:a.mod.isub(n),o=n.ushrn(1),s=n.andln(1),d=r.cmp(o);return 0>d||1===s&&0===d?a.div:0===a.div.negative?a.div.iaddn(1):a.div.isubn(1)},d.prototype.modn=function t(n){o(67108863>=n);for(var a=67108864%n,r=0,s=this.length-1;0<=s;s--)r=(a*r+(0|this.words[s]))%n;return r},d.prototype.idivn=function t(n){o(67108863>=n);for(var a=0,r=this.length-1,s;0<=r;r--)s=(0|this.words[r])+67108864*a,this.words[r]=0|s/n,a=s%n;return this.strip()},d.prototype.divn=function t(n){return this.clone().idivn(n)},d.prototype.egcd=function t(n){o(0===n.negative),o(!n.isZero());var a=this,r=n.clone();a=0===a.negative?a.clone():a.umod(n);for(var s=new d(1),l=new d(0),c=new d(0),u=new d(1),f=0;a.isEven()&&r.isEven();)a.iushrn(1),r.iushrn(1),++f;for(var m=r.clone(),h=a.clone();!a.isZero();){for(var g=0,b=1;0==(a.words[0]&b)&&26>g;++g,b<<=1);if(0<g)for(a.iushrn(g);0<g--;)(s.isOdd()||l.isOdd())&&(s.iadd(m),l.isub(h)),s.iushrn(1),l.iushrn(1);for(var y=0,v=1;0==(r.words[0]&v)&&26>y;++y,v<<=1);if(0<y)for(r.iushrn(y);0<y--;)(c.isOdd()||u.isOdd())&&(c.iadd(m),u.isub(h)),c.iushrn(1),u.iushrn(1);0<=a.cmp(r)?(a.isub(r),s.isub(c),l.isub(u)):(r.isub(a),c.isub(s),u.isub(l))}return{a:c,b:u,gcd:r.iushln(f)}},d.prototype._invmp=function t(n){o(0===n.negative),o(!n.isZero());var r=this,a=n.clone();r=0===r.negative?r.clone():r.umod(n);for(var s=new d(1),l=new d(0),c=a.clone();0<r.cmpn(1)&&0<a.cmpn(1);){for(var u=0,f=1;0==(r.words[0]&f)&&26>u;++u,f<<=1);if(0<u)for(r.iushrn(u);0<u--;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var m=0,h=1;0==(a.words[0]&h)&&26>m;++m,h<<=1);if(0<m)for(a.iushrn(m);0<m--;)l.isOdd()&&l.iadd(c),l.iushrn(1);0<=r.cmp(a)?(r.isub(a),s.isub(l)):(a.isub(r),l.isub(s))}var g;return g=0===r.cmpn(1)?s:l,0>g.cmpn(0)&&g.iadd(n),g},d.prototype.gcd=function n(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var s=this.clone(),a=o.clone();s.negative=0,a.negative=0;for(var d=0;s.isEven()&&a.isEven();d++)s.iushrn(1),a.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;a.isEven();)a.iushrn(1);var l=s.cmp(a);if(0>l){var r=s;s=a,a=r}else if(0===l||0===a.cmpn(1))break;s.isub(a)}while(!0);return a.iushln(d)},d.prototype.invm=function t(n){return this.egcd(n).a.umod(n)},d.prototype.isEven=function t(){return 0==(1&this.words[0])},d.prototype.isOdd=function t(){return 1==(1&this.words[0])},d.prototype.andln=function t(n){return this.words[0]&n},d.prototype.bincn=function t(n){o('number'==typeof n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return this._expand(r+1),this.words[r]|=s,this;for(var d=s,l=r,c;0!=d&&l<this.length;l++)c=0|this.words[l],c+=d,d=c>>>26,c&=67108863,this.words[l]=c;return 0!=d&&(this.words[l]=d,this.length++),this},d.prototype.isZero=function t(){return 1===this.length&&0===this.words[0]},d.prototype.cmpn=function t(n){var a=0>n;if(0!==this.negative&&!a)return-1;if(0===this.negative&&a)return 1;this.strip();var r;if(1<this.length)r=1;else{a&&(n=-n),o(67108863>=n,'Number is too big');var s=0|this.words[0];r=s===n?0:s<n?-1:1}return 0===this.negative?r:0|-r},d.prototype.cmp=function t(n){if(0!==this.negative&&0===n.negative)return-1;if(0===this.negative&&0!==n.negative)return 1;var a=this.ucmp(n);return 0===this.negative?a:0|-a},d.prototype.ucmp=function t(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var r=0,o=this.length-1;0<=o;o--){var s=0|this.words[o],a=0|n.words[o];if(s!=a){s<a?r=-1:s>a&&(r=1);break}}return r},d.prototype.gtn=function t(n){return 1===this.cmpn(n)},d.prototype.gt=function t(n){return 1===this.cmp(n)},d.prototype.gten=function t(n){return 0<=this.cmpn(n)},d.prototype.gte=function t(n){return 0<=this.cmp(n)},d.prototype.ltn=function t(n){return-1===this.cmpn(n)},d.prototype.lt=function t(n){return-1===this.cmp(n)},d.prototype.lten=function t(n){return 0>=this.cmpn(n)},d.prototype.lte=function t(n){return 0>=this.cmp(n)},d.prototype.eqn=function t(n){return 0===this.cmpn(n)},d.prototype.eq=function t(n){return 0===this.cmp(n)},d.red=function t(n){return new x(n)},d.prototype.toRed=function t(n){return o(!this.red,'Already a number in reduction context'),o(0===this.negative,'red works only with positives'),n.convertTo(this)._forceRed(n)},d.prototype.fromRed=function t(){return o(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},d.prototype._forceRed=function t(n){return this.red=n,this},d.prototype.forceRed=function t(n){return o(!this.red,'Already a number in reduction context'),this._forceRed(n)},d.prototype.redAdd=function t(n){return o(this.red,'redAdd works only with red numbers'),this.red.add(this,n)},d.prototype.redIAdd=function t(n){return o(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,n)},d.prototype.redSub=function t(n){return o(this.red,'redSub works only with red numbers'),this.red.sub(this,n)},d.prototype.redISub=function t(n){return o(this.red,'redISub works only with red numbers'),this.red.isub(this,n)},d.prototype.redShl=function t(n){return o(this.red,'redShl works only with red numbers'),this.red.shl(this,n)},d.prototype.redMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.mul(this,n)},d.prototype.redIMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.imul(this,n)},d.prototype.redSqr=function t(){return o(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function t(){return o(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function t(){return o(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function t(){return o(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function t(){return o(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function t(n){return o(this.red&&!n.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,n)};var A={k256:null,p224:null,p192:null,p25519:null};g.prototype._tmp=function t(){var n=new d(null);return n.words=Array(_Mathceil(this.n/13)),n},g.prototype.ireduce=function t(n){var a=n,r;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),r=a.bitLength();while(r>this.n);var o=r<this.n?-1:a.ucmp(this.p);return 0===o?(a.words[0]=0,a.length=1):0<o?a.isub(this.p):a.strip(),a},g.prototype.split=function t(n,a){n.iushrn(this.n,0,a)},g.prototype.imulK=function t(n){return n.imul(this.k)},r(b,g),b.prototype.split=function t(n,a){for(var r=4194303,o=_Mathmin(n.length,9),s=0;s<o;s++)a.words[s]=n.words[s];if(a.length=o,9>=n.length)return n.words[0]=0,void(n.length=1);var d=n.words[9];for(a.words[a.length++]=d&r,s=10;s<n.length;s++){var l=0|n.words[s];n.words[s-10]=(l&r)<<4|d>>>22,d=l}d>>>=22,n.words[s-10]=d,n.length-=0===d&&10<n.length?10:9},b.prototype.imulK=function t(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var a=0,r=0,o;r<n.length;r++)o=0|n.words[r],a+=977*o,n.words[r]=67108863&a,a=64*o+(0|a/67108864);return 0===n.words[n.length-1]&&(n.length--,0===n.words[n.length-1]&&n.length--),n},r(y,g),r(v,g),r(w,g),w.prototype.imulK=function t(n){for(var a=0,r=0;r<n.length;r++){var o=19*(0|n.words[r])+a,s=67108863&o;o>>>=26,n.words[r]=s,a=o}return 0!=a&&(n.words[n.length++]=a),n},d._prime=function t(n){if(A[n])return A[n];var t;if('k256'===n)t=new b;else if('p224'===n)t=new y;else if('p192'===n)t=new v;else if('p25519'===n)t=new w;else throw new Error('Unknown prime '+n);return A[n]=t,t},x.prototype._verify1=function t(n){o(0===n.negative,'red works only with positives'),o(n.red,'red works only with red numbers')},x.prototype._verify2=function t(n,a){o(0==(n.negative|a.negative),'red works only with positives'),o(n.red&&n.red===a.red,'red works only with red numbers')},x.prototype.imod=function t(n){return this.prime?this.prime.ireduce(n)._forceRed(this):n.umod(this.m)._forceRed(this)},x.prototype.neg=function t(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},x.prototype.add=function t(n,a){this._verify2(n,a);var r=n.add(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function t(n,a){this._verify2(n,a);var r=n.iadd(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r},x.prototype.sub=function t(n,a){this._verify2(n,a);var r=n.sub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function t(n,a){this._verify2(n,a);var r=n.isub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r},x.prototype.shl=function t(n,a){return this._verify1(n),this.imod(n.ushln(a))},x.prototype.imul=function t(n,a){return this._verify2(n,a),this.imod(n.imul(a))},x.prototype.mul=function t(n,a){return this._verify2(n,a),this.imod(n.mul(a))},x.prototype.isqr=function t(n){return this.imul(n,n.clone())},x.prototype.sqr=function t(n){return this.mul(n,n)},x.prototype.sqrt=function n(l){if(l.isZero())return l.clone();var a=this.m.andln(3);if(o(1==a%2),3===a){var u=this.m.add(new d(1)).iushrn(2);return this.pow(l,u)}for(var f=this.m.subn(1),h=0;!f.isZero()&&0===f.andln(1);)h++,f.iushrn(1);o(!f.isZero());var s=new d(1).toRed(this),g=s.redNeg(),y=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new d(2*v*v).toRed(this);0!==this.pow(v,y).cmp(g);)v.redIAdd(g);for(var w=this.pow(v,f),c=this.pow(l,f.addn(1).iushrn(1)),r=this.pow(l,f),t=h;0!==r.cmp(s);){for(var m=r,x=0;0!==m.cmp(s);x++)m=m.redSqr();o(x<t);var _=this.pow(w,new d(1).iushln(t-x-1));c=c.redMul(_),w=_.redSqr(),r=r.redMul(w),t=x}return c},x.prototype.invm=function t(n){var a=n._invmp(this.m);return 0===a.negative?this.imod(a):(a.negative=0,this.imod(a).redNeg())},x.prototype.pow=function t(n,a){if(a.isZero())return new d(1).toRed(this);if(0===a.cmpn(1))return n.clone();var r=4,o=Array(1<<r);o[0]=new d(1).toRed(this),o[1]=n;for(var s=2;s<o.length;s++)o[s]=this.mul(o[s-1],n);var l=o[0],c=0,u=0,f=a.bitLength()%26;for(0==f&&(f=26),s=a.length-1;0<=s;s--){for(var m=a.words[s],h=f-1,g;0<=h;h--){if(g=1&m>>h,l!==o[0]&&(l=this.sqr(l)),0==g&&0==c){u=0;continue}c<<=1,c|=g,u++,u!=r&&(0!==s||0!==h)||(l=this.mul(l,o[c]),u=0,c=0)}f=26}return l},x.prototype.convertTo=function t(n){var a=n.umod(this.m);return a===n?a.clone():a},x.prototype.convertFrom=function t(n){var a=n.clone();return a.red=null,a},d.mont=function t(n){return new _(n)},r(_,x),_.prototype.convertTo=function t(n){return this.imod(n.ushln(this.shift))},_.prototype.convertFrom=function t(n){var a=this.imod(n.mul(this.rinv));return a.red=null,a},_.prototype.imul=function n(r,a){if(r.isZero()||a.isZero())return r.words[0]=0,r.length=1,r;var o=r.imul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),d=s;return 0<=s.cmp(this.m)?d=s.isub(this.m):0>s.cmpn(0)&&(d=s.iadd(this.m)),d._forceRed(this)},_.prototype.mul=function n(r,a){if(r.isZero()||a.isZero())return new d(0)._forceRed(this);var o=r.mul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),l=s;return 0<=s.cmp(this.m)?l=s.isub(this.m):0>s.cmpn(0)&&(l=s.iadd(this.m)),l._forceRed(this)},_.prototype.invm=function t(n){var a=this.imod(n._invmp(this.m).mul(this.r2));return a._forceRed(this)}})('undefined'==typeof t||t,this)}).call(n,a(10)(t))},function(t,n,a){function r(t,n){return d.call(this,n),l.isBuffer(t)?void(this.base=t,this.offset=0,this.length=t.length):void this.error('Input not Buffer')}function o(t,n){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof o||(t=new o(t,n)),this.length+=t.length,t},this);else if('number'==typeof t){if(!(0<=t&&255>=t))return n.error('non-byte EncoderBuffer value');this.value=t,this.length=1}else if('string'==typeof t)this.value=t,this.length=l.byteLength(t);else if(l.isBuffer(t))this.value=t,this.length=t.length;else return n.error('Unsupported type: '+typeof t)}var s=a(2),d=a(56).Reporter,l=a(0).Buffer;s(r,d),n.DecoderBuffer=r,r.prototype.save=function t(){return{offset:this.offset,reporter:d.prototype.save.call(this)}},r.prototype.restore=function t(n){var a=new r(this.base);return a.offset=n.offset,a.length=this.offset,this.offset=n.offset,d.prototype.restore.call(this,n.reporter),a},r.prototype.isEmpty=function t(){return this.offset===this.length},r.prototype.readUInt8=function t(n){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(n||'DecoderBuffer overrun')},r.prototype.skip=function t(n,a){if(!(this.offset+n<=this.length))return this.error(a||'DecoderBuffer overrun');var o=new r(this.base);return o._reporterState=this._reporterState,o.offset=this.offset,o.length=this.offset+n,this.offset+=n,o},r.prototype.raw=function t(n){return this.base.slice(n?n.offset:this.offset,this.length)},n.EncoderBuffer=o,o.prototype.join=function t(n,a){return(n||(n=new l(this.length)),a||(a=0),0===this.length)?n:(Array.isArray(this.value)?this.value.forEach(function(t){t.join(n,a),a+=t.length}):('number'==typeof this.value?n[a]=this.value:'string'==typeof this.value?n.write(this.value,a):l.isBuffer(this.value)&&this.value.copy(n,a),a+=this.length),n)}},function(t,n,a){var r=n;r._reverse=function t(n){var a={};return Object.keys(n).forEach(function(t){(0|t)==t&&(t|=0);var r=n[t];a[r]=t}),a},r.der=a(323)},function(t,n,a){function r(t){this.enc='der',this.name=t.name,this.entity=t,this.tree=new o,this.tree._init(t.body)}function o(t){u.Node.call(this,'der',t)}function s(t,n){var a=t.readUInt8(n);if(t.isError(a))return a;var r=m.tagClass[a>>6],o=0==(32&a);if(31==(31&a)){var s=a;for(a=0;128==(128&s);){if(s=t.readUInt8(n),t.isError(s))return s;a<<=7,a|=127&s}}else a&=31;var d=m.tag[a];return{cls:r,primitive:o,tag:a,tagStr:d}}function d(t,n,a){var r=t.readUInt8(a);if(t.isError(r))return r;if(!n&&128===r)return null;if(0==(128&r))return r;var o=127&r;if(4<o)return t.error('length octect is too long');r=0;for(var s=0;s<o;s++){r<<=8;var d=t.readUInt8(a);if(t.isError(d))return d;r|=d}return r}var l=a(2),c=a(55),u=c.base,f=c.bignum,m=c.constants.der;;t.exports=r,r.prototype.decode=function t(n,a){return n instanceof u.DecoderBuffer||(n=new u.DecoderBuffer(n,a)),this.tree._decode(n,a)},l(o,u.Node),o.prototype._peekTag=function t(n,a,r){if(n.isEmpty())return!1;var o=n.save(),d=s(n,'Failed to peek tag: "'+a+'"');return n.isError(d)?d:(n.restore(o),d.tag===a||d.tagStr===a||d.tagStr+'of'===a||r)},o.prototype._decodeTag=function t(n,a,r){var o=s(n,'Failed to decode tag of "'+a+'"');if(n.isError(o))return o;var l=d(n,o.primitive,'Failed to get length of "'+a+'"');if(n.isError(l))return l;if(!r&&o.tag!==a&&o.tagStr!==a&&o.tagStr+'of'!==a)return n.error('Failed to match tag: "'+a+'"');if(o.primitive||null!==l)return n.skip(l,'Failed to match body of: "'+a+'"');var c=n.save(),u=this._skipUntilEnd(n,'Failed to skip indefinite length body: "'+this.tag+'"');return n.isError(u)?u:(l=n.offset-c.offset,n.restore(c),n.skip(l,'Failed to match body of: "'+a+'"'))},o.prototype._skipUntilEnd=function t(n,a){for(;!0;){var r=s(n,a);if(n.isError(r))return r;var o=d(n,r.primitive,a);if(n.isError(o))return o;var l;if(l=r.primitive||null!==o?n.skip(o):this._skipUntilEnd(n,a),n.isError(l))return l;if('end'===r.tagStr)break}},o.prototype._decodeList=function t(n,a,r,o){for(var s=[];!n.isEmpty();){var d=this._peekTag(n,'end');if(n.isError(d))return d;var l=r.decode(n,'der',o);if(n.isError(l)&&d)break;s.push(l)}return s},o.prototype._decodeStr=function t(n,a){if('bitstr'===a){var r=n.readUInt8();return n.isError(r)?r:{unused:r,data:n.raw()}}if('bmpstr'===a){var o=n.raw();if(1==o.length%2)return n.error('Decoding of string type: bmpstr length mismatch');for(var s='',d=0;d<o.length/2;d++)s+=_StringfromCharCode(o.readUInt16BE(2*d));return s}if('numstr'===a){var l=n.raw().toString('ascii');return this._isNumstr(l)?l:n.error('Decoding of string type: numstr unsupported characters')}if('octstr'===a)return n.raw();if('objDesc'===a)return n.raw();if('printstr'===a){var c=n.raw().toString('ascii');return this._isPrintstr(c)?c:n.error('Decoding of string type: printstr unsupported characters')}return /str$/.test(a)?n.raw().toString():n.error('Decoding of string type: '+a+' unsupported')},o.prototype._decodeObjid=function t(n,a,r){for(var o=[],s=0,d,l;!n.isEmpty();)l=n.readUInt8(),s<<=7,s|=127&l,0==(128&l)&&(o.push(s),s=0);128&l&&o.push(s);var c=0|o[0]/40,u=o[0]%40;if(d=r?o:[c,u].concat(o.slice(1)),a){var f=a[d.join(' ')];void 0===f&&(f=a[d.join('.')]),void 0!==f&&(d=f)}return d},o.prototype._decodeTime=function t(n,a){var r=n.raw().toString();if('gentime'===a)var o=0|r.slice(0,4),s=0|r.slice(4,6),d=0|r.slice(6,8),l=0|r.slice(8,10),c=0|r.slice(10,12),u=0|r.slice(12,14);else if('utctime'===a){var o=0|r.slice(0,2),s=0|r.slice(2,4),d=0|r.slice(4,6),l=0|r.slice(6,8),c=0|r.slice(8,10),u=0|r.slice(10,12);o=70>o?2e3+o:1900+o}else return n.error('Decoding '+a+' time is not supported yet');return Date.UTC(o,s-1,d,l,c,u,0)},o.prototype._decodeNull=function t(n){return null},o.prototype._decodeBool=function t(n){var a=n.readUInt8();return n.isError(a)?a:0!==a},o.prototype._decodeInt=function t(n,a){var r=n.raw(),o=new f(r);return a&&(o=a[o.toString(10)]||o),o},o.prototype._use=function t(n,a){return'function'==typeof n&&(n=n(a)),n._getDecoder('der').tree}},function(t,n,a){function r(t){this.enc='der',this.name=t.name,this.entity=t,this.tree=new o,this.tree._init(t.body)}function o(t){f.Node.call(this,'der',t)}function s(t){return 10>t?'0'+t:t}function d(t,n,a,r){var o;if('seqof'===t?t='seq':'setof'===t&&(t='set'),m.tagByName.hasOwnProperty(t))o=m.tagByName[t];else if('number'==typeof t&&(0|t)===t)o=t;else return r.error('Unknown tag: '+t);return 31<=o?r.error('Multi-octet tag encoding unsupported'):(n||(o|=32),o|=m.tagClassByName[a||'universal']<<6,o)}var l=a(2),c=a(0).Buffer,u=a(55),f=u.base,m=u.constants.der;;t.exports=r,r.prototype.encode=function t(n,a){return this.tree._encode(n,a).join()},l(o,f.Node),o.prototype._encodeComposite=function t(n,a,r,o){var s=d(n,a,r,this.reporter);if(128>o.length){var l=new c(2);return l[0]=s,l[1]=o.length,this._createEncoderBuffer([l,o])}for(var u=1,f=o.length;256<=f;f>>=8)u++;var l=new c(2+u);l[0]=s,l[1]=128|u;for(var f=1+u,m=o.length;0<m;f--,m>>=8)l[f]=255&m;return this._createEncoderBuffer([l,o])},o.prototype._encodeStr=function t(n,a){if('bitstr'===a)return this._createEncoderBuffer([0|n.unused,n.data]);if('bmpstr'===a){for(var r=new c(2*n.length),o=0;o<n.length;o++)r.writeUInt16BE(n.charCodeAt(o),2*o);return this._createEncoderBuffer(r)}return'numstr'===a?this._isNumstr(n)?this._createEncoderBuffer(n):this.reporter.error('Encoding of string type: numstr supports only digits and space'):'printstr'===a?this._isPrintstr(n)?this._createEncoderBuffer(n):this.reporter.error('Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark'):/str$/.test(a)?this._createEncoderBuffer(n):'objDesc'===a?this._createEncoderBuffer(n):this.reporter.error('Encoding of string type: '+a+' unsupported')},o.prototype._encodeObjid=function t(n,a,r){if('string'==typeof n){if(!a)return this.reporter.error('string objid given, but no values map found');if(!a.hasOwnProperty(n))return this.reporter.error('objid not found in values map');n=a[n].split(/[\s\.]+/g);for(var o=0;o<n.length;o++)n[o]|=0}else if(Array.isArray(n)){n=n.slice();for(var o=0;o<n.length;o++)n[o]|=0}if(!Array.isArray(n))return this.reporter.error('objid() should be either array or string, got: '+JSON.stringify(n));if(!r){if(40<=n[1])return this.reporter.error('Second objid identifier OOB');n.splice(0,2,40*n[0]+n[1])}for(var s=0,o=0,d;o<n.length;o++)for(d=n[o],s++;128<=d;d>>=7)s++;for(var l=new c(s),u=l.length-1,o=n.length-1,d;0<=o;o--)for(d=n[o],l[u--]=127&d;0<(d>>=7);)l[u--]=128|127&d;return this._createEncoderBuffer(l)},o.prototype._encodeTime=function t(n,a){var r=new Date(n),o;return'gentime'===a?o=[s(r.getFullYear()),s(r.getUTCMonth()+1),s(r.getUTCDate()),s(r.getUTCHours()),s(r.getUTCMinutes()),s(r.getUTCSeconds()),'Z'].join(''):'utctime'===a?o=[s(r.getFullYear()%100),s(r.getUTCMonth()+1),s(r.getUTCDate()),s(r.getUTCHours()),s(r.getUTCMinutes()),s(r.getUTCSeconds()),'Z'].join(''):this.reporter.error('Encoding '+a+' time is not supported yet'),this._encodeStr(o,'octstr')},o.prototype._encodeNull=function t(){return this._createEncoderBuffer('')},o.prototype._encodeInt=function t(n,a){if('string'==typeof n){if(!a)return this.reporter.error('String int or enum given, but no values map');if(!a.hasOwnProperty(n))return this.reporter.error('Values map doesn\'t contain: '+JSON.stringify(n));n=a[n]}if('number'!=typeof n&&!c.isBuffer(n)){var r=n.toArray();!n.sign&&128&r[0]&&r.unshift(0),n=new c(r)}if(c.isBuffer(n)){var o=n.length;0===n.length&&o++;var s=new c(o);return n.copy(s),0===n.length&&(s[0]=0),this._createEncoderBuffer(s)}if(128>n)return this._createEncoderBuffer(n);if(256>n)return this._createEncoderBuffer([0,n]);for(var o=1,d=n;256<=d;d>>=8)o++;for(var s=Array(o),d=s.length-1;0<=d;d--)s[d]=255&n,n>>=8;return 128&s[0]&&s.unshift(0),this._createEncoderBuffer(new c(s))},o.prototype._encodeBool=function t(n){return this._createEncoderBuffer(n?255:0)},o.prototype._use=function t(n,a){return'function'==typeof n&&(n=n(a)),n._getEncoder('der').tree},o.prototype._skipDefault=function t(n,a,r){var o=this._baseState,s;if(null===o['default'])return!1;var d=n.join();if(void 0===o.defaultBuffer&&(o.defaultBuffer=this._encodeValue(o['default'],a,r).join()),d.length!==o.defaultBuffer.length)return!1;for(s=0;s<d.length;s++)if(d[s]!==o.defaultBuffer[s])return!1;return!0}},function(t,n){t.exports={"1.3.132.0.10":'secp256k1',"1.3.132.0.33":'p224',"1.2.840.10045.3.1.1":'p192',"1.2.840.10045.3.1.7":'p256',"1.3.132.0.34":'p384',"1.3.132.0.35":'p521'}},function(t,n,a){(function(n){function r(t){var a=new n(4);return a.writeUInt32BE(t,0),a}var o=a(52);t.exports=function(a,s){for(var d=new n(''),t=0,l;d.length<s;)l=r(t++),d=n.concat([d,o('sha1').update(a).update(l).digest()]);return d.slice(0,s)}}).call(n,a(0).Buffer)},function(t,n){t.exports=function t(n,a){for(var r=n.length,o=-1;++o<r;)n[o]^=a[o];return n}},function(t,n,a){(function(n){function r(t,a){return new n(t.toRed(o.mont(a.modulus)).redPow(new o(a.publicExponent)).fromRed().toArray())}var o=a(109);t.exports=r}).call(n,a(0).Buffer)},function(t,n,a){'use strict';function r(t,n,a){var r=function t(n){n.preventDefault(),n.dataTransfer.dropEffect='copy'},o=function t(n){console.log('dragenter event dropEffect: '+n.dataTransfer.dropEffect),this.style.backgroundColor='#ccc',n.dataTransfer.dropEffect='link',console.log('dragenter event dropEffect 2: '+n.dataTransfer.dropEffect)},s=function t(n){console.log('dragleave event dropEffect: '+n.dataTransfer.dropEffect),this.style.backgroundColor='white'},d=function r(o){o.preventDefault&&o.preventDefault(),console.log('Drop event. dropEffect: '+o.dataTransfer.dropEffect),console.log('Drop event. types: '+(o.dataTransfer.types?o.dataTransfer.types.join(', '):'NOPE'));var s=null,d=this,l;if(o.dataTransfer.types){for(var c=0,t;c<o.dataTransfer.types.length;c++)if(t=o.dataTransfer.types[c],'text/uri-list'===t)s=o.dataTransfer.getData(t).split('\n'),console.log('Dropped text/uri-list: '+s);else if('text/plain'===t)l=o.dataTransfer.getData(t);else if('Files'===t&&a){for(var u=o.dataTransfer.files,m=0,h;h=u[m];m++)console.log('Filename: '+h.name+', type: '+(h.type||'n/a')+' size: '+h.size+' bytes, last modified: '+(h.lastModifiedDate?h.lastModifiedDate.toLocaleDateString():'n/a'));a(u)}null===s&&l&&'http'===l.slice(0,4)&&(s=l,console.log('Waring: Poor man\'s drop: using text for URI'))}else s=[o.dataTransfer.getData('Text')],console.log('WARNING non-standard drop event: '+s[0]);return console.log('Dropped URI list (2): '+s),s&&n(s),this.style.backgroundColor='white',!1},l=function t(n){n||console.log('@@@ addTargetListeners: ele '+n),n.addEventListener('dragover',r),n.addEventListener('dragenter',o),n.addEventListener('dragleave',s),n.addEventListener('drop',d)};l(t,n)}function o(t,n){t.setAttribute('draggable','true'),t.addEventListener('dragstart',function(a){t.style.fontWeight='bold',a.dataTransfer.setData('text/uri-list',n.uri),a.dataTransfer.setData('text/plain',n.uri),a.dataTransfer.setData('text/html',t.outerHTML),console.log('Dragstart: '+t+' -> '+n+'de: '+a.dataTransfer.dropEffect)},!1),t.addEventListener('drag',function(t){t.preventDefault(),t.stopPropagation()},!1),t.addEventListener('dragend',function(a){t.style.fontWeight='normal',console.log('Dragend dropeffect: '+a.dataTransfer.dropEffect),console.log('Dragend: '+t+' -> '+n)},!1)}t.exports={makeDropTarget:r,makeDraggable:o}},function(t,n,a){'use strict';function r(t,n){var a=t.uri||t,r=a.indexOf('://');if(0>r)return!1;var o=a.indexOf('/',r+3);if(0>o)return!1;var s=a.slice(0,o+1);return s}function o(t,n){n&&(n.me=I.namedNode(t));var a;return t&&(a=t.uri||t),tabulator.preferences.set('me',a||''),a?I.namedNode(a):null}function s(){var t=w();if(t)return t;var n=tabulator.preferences.get('me');return n?I.sym(n):null}function d(t){var n=s();return n?Promise.resolve({me:n}):new Promise(function(n){var a=T(t.dom,function(a){n({me:o(a,t)})});t.div.appendChild(a)})}function l(t){if(t.publicProfile)return Promise.resolve(t);var n=L.store.fetcher,a;return d(t).then(function(t){var r=t.me;if(!r)throw new Error('Could not log in');return a=r.doc(),n.fetch(a)}).then(function(n){if(!n.ok)throw new Error(n.error);return t.publicProfile=a,t}).catch(function(n){var r='Cannot load profile '+a+' : '+n;return t.div.appendChild(N.errorMessageBlock(t.dom,r)),t})}function c(t){if(t.preferencesFile)return Promise.resolve(t);var n=L.store,a=t.statusArea||t.div||null,r=n.any(t.me,L.ns.space('preferencesFile')),o;return Promise.resolve().then(function(){if(!r){var s='Can\'t find a preferences file for user: '+t.me;throw N.errorMessageBlock(t.dom,s),new Error(s)}return t.preferencesFile=r,a&&(o=N.errorMessageBlock(t.dom,'(loading preferences '+r+')','straw'),a.appendChild(o)),n.fetcher.fetch(r)}).then(function(){return o&&o.parentNode.removeChild(o),t}).catch(function(t){throw new Error('Error loading preferences file. '+t)})}function u(t){var n=L.ns,a=L.store;return l(t).then(c).then(function(t){var r=t.me;t.index=t.index||{},t.index.private=a.each(r,n.solid('privateTypeIndex'),void 0,t.preferencesFile),t.index.public=a.each(r,n.solid('publicTypeIndex'),void 0,t.publicProfile);var o=t.index.private.concat(t.index.public);return 0===o.length?t:a.fetcher.load(o)}).then(function(){return t}).catch(function(n){throw j.complain(t,n),new Error('Error loading type indexes: '+n)})}function f(t){return new Promise(function(n,a){return u(t).then(function(t){var a=L.ns,r=L.store,o=t.me,s=function t(n,s){return new Promise(function(t,d){var c={private:n.preferencesFile,public:n.publicProfile}[s];if(0===n.index[s].length){l=I.sym(n.preferencesFile.dir().uri+s+'TypeIndex.ttl'),console.log('Linking to new fresh type index '+l);var u=[I.st(o,a.solid(s+'TypeIndex'),l,c)];L.store.updater.update([],u,function(a,o,c){return o?(n.index[s].push(l),console.log('Creating new fresh type index '+l),!window.confirm('Creating new list of things  '+l))?d(new Error('Cancelled by user: writing of '+l)):void r.fetcher.webOperation('PUT',l,{data:'# '+new Date+' Blank initial Type index\n'}).then(function(a){t(n)}).catch(function(t){d(new Error('Creating new index file '+t))}):d(new Error('Error saving type index link saving back '+a+': '+c))})}else t(n)})},d=[s(t,'private'),s(t,'public')],l;return Promise.all(d).then(function(){n(t)})})})}function m(t,n){var a=L.store,o=L.ns,s=L.store.fetcher,d=a.each(void 0,o.solid('forClass'),n),l=[],c=[];return u(t).then(function(t){for(var u=0;u<d.length;u++)l=l.concat(a.each(n,o.solid('instance'))),c=c.concat(a.each(n,o.solid('instanceContainer')));return c.length?s.load(c).then(function(){for(var t=0,n;t<c.length;t++)n=c[t],l=l.concat(a.each(n,o.ldp('contains')))}):void 0}).then(function(){return t.instances=l,t.containers=c,t}).catch(function(t){throw new Error('Error looking for instances of '+n+': '+t)})}function h(t,n,a){var o=L.store,s=L.ns,r=t.dom,d=r.createElement('div');return t.div.appendChild(d),f(t).then(function(t){d.innerHTML='<table><tbody><tr></tr><tr></tr></tbody></table>',d.setAttribute('style','font-size: 120%; text-align: right; padding: 1em; border: solid gray 0.05em;');var r=d.children[0].children[0],l=o.bnode(),c=function t(r){var d=o.each(void 0,s.solid('instance'),n).filter(function(t){return o.holds(t,s.solid('forClass'),a)}),l=d.length?d[0]:j.newThing(r);return[I.st(l,s.solid('instance'),n,r),I.st(l,s.solid('forClass'),a,r)]},u,f;return t.index.public&&0<t.index.public.length&&(u=t.index.public[0],f=c(u),r.children[0].appendChild(j.buildCheckboxForm(t.dom,L.store,'Public link to this '+t.noun,null,f,l,u))),t.index.private&&0<t.index.private.length&&(u=t.index.private[0],f=c(u),r.children[1].appendChild(j.buildCheckboxForm(t.dom,L.store,'Personal note of this '+t.noun,null,f,l,u))),t})}function g(t,n){var a=L.store,r=L.ns,o=t.dom,s=o.createElement('div');return t.div.appendChild(s),f(t).then(function(d){s.innerHTML='<table><tbody></tbody></table>',s.setAttribute('style','font-size: 120%; text-align: right; padding: 1em; border: solid #eee 0.5em;');var l=s.firstChild,c=[],u=[],f=['private','public'];f.forEach(function(o){n[o]&&(c=c.concat(t.index[o][0]),u=u.concat(a.statementsMatching(void 0,r.solid('instance'),void 0,t.index[o][0])))});for(var m=0;m<u.length;m++){var h=u[m],g=h.object,b=function t(n){a.updater.update([h],[],function(t,n,a){n?console.log('Removed from index: '+h.subject):console.log('Error: Cannot delete '+h+': '+a)})},y={deleteFunction:b},v=j.personTR(o,r.solid('instance'),g,y);l.appendChild(v)}return t})}function b(t,n,a){var r=L.store,o=r.any(r.sym(t),r.sym('http://www.iana.org/assignments/link-relations/acl'));return Promise.resolve().then(function(){return o?o:y(t).catch(function(n){throw new Error('Error fetching rel=ACL header for '+t+': '+n)})}).then(function(o){var s=v(t,n,o.uri,a);return r.fetcher.webOperation('PUT',o.uri,{data:s,contentType:'text/turtle'}).then(function(t){if(!t.ok)throw new Error('Error writing ACL text: '+t.error);return o})})}function y(t){var n=L.store,a=n.fetcher;return a.fetch(t).then(function(a){if(!a.ok)throw new Error('While fetching:'+a.error);var r=n.any(n.sym(t),n.sym('http://www.iana.org/assignments/link-relations/acl'));if(!r)throw new Error('No Link rel=ACL header for '+t);return r})}function v(t,n,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},s=o.public||[],d=I.graph(),l=I.Namespace('http://www.w3.org/ns/auth/acl#'),c=d.sym(r+'#a1'),a=d.sym(r),u=d.sym(t);if(d.add(c,L.ns.rdf('type'),l('Authorization'),a),d.add(c,l('accessTo'),u,a),o.defaultForNew&&d.add(c,l('defaultForNew'),u,a),d.add(c,l('agent'),n,a),d.add(c,l('mode'),l('Read'),a),d.add(c,l('mode'),l('Write'),a),d.add(c,l('mode'),l('Control'),a),s.length){c=d.sym(r+'#a2'),d.add(c,L.ns.rdf('type'),l('Authorization'),a),d.add(c,l('accessTo'),u,a),d.add(c,l('agentClass'),L.ns.foaf('Agent'),a);for(var f=0;f<s.length;f++)d.add(c,l('mode'),l(s[f]),a)}return I.serialize(a,d,r,'text/turtle')}function w(){if('undefined'!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.username)return console.log('Assuming the user is '+$SolidTestEnvironment.username),I.sym($SolidTestEnvironment.username);if('webapp'===tabulator.mode&&'undefined'!=typeof document&&document.location&&'http://localhost'===(''+document.location).slice(0,16)){var t=document.getElementById('appTarget');if(!t)return null;var n=t.getAttribute('testID');return n?(console.log('Assuming user is '+n),I.sym(n)):null}return null}function x(t,n){var a=t.createElement('div'),r=t.createElement('p');a.appendChild(r),a.className='mildNotice',r.innerHTML='Enter your Web ID or pod uri',console.log('widgets.signInOrSignUpBox');var o=t.createElement('input');a.appendChild(o),o.setAttribute('type','text'),o.setAttribute('id','idpInput'),o.size=40;var s=t.createElement('input');a.appendChild(s),s.setAttribute('type','button'),s.setAttribute('value','Log in (old)'),s.setAttribute('style','padding: 1em; border-radius:0.5em; margin: 2em;'),s.addEventListener('click',function(){var t=w();if(t)return n(t.uri);var a=document.getElementById('idpInput');return a&&''!==a.value?R.login(a.value).then(_).then(function(t){return n(t)}):window&&window.location&&window.location.href?R.login(window.location.href).then(_).then(function(t){return n(t)}):void 0},!1);var d=t.createElement('input');a.appendChild(d),d.setAttribute('type','button'),d.setAttribute('value','Log in'),d.setAttribute('style','padding: 1em; border-radius:0.5em; margin: 2em;'),d.addEventListener('click',function(){var t=w();if(t)return n(t.uri);var a=document.getElementById('idpInput');return R.popupLogin({popupUri:O.popupUri}).then(_).then(n)},!1);var l=t.createElement('input');return a.appendChild(l),l.setAttribute('type','button'),l.setAttribute('value','Sign Up'),l.setAttribute('style','padding: 1em; border-radius:0.5em; margin: 2em;'),l.addEventListener('click',function(t){var a=new A.Signup;a.signup().then(function(t){console.log('signInOrSignUpBox signed up '+t),n(t)})},!1),a}function _(t){var n=t?t.webId:null;return n&&o(n),n}function k(){return C()}function C(t){var n=s();return n?Promise.resolve(t?t(n):n):R.currentSession().then(_).catch(function(t){return console.log('Error fetching currentSession:',t),null}).then(function(n){var a=o(n);return a&&console.log('(Logged in as '+a+' by authentication)'),t?t(a):a})}function T(t,n){var a=s(),r=t.createElement('div'),o=function t(o){if(o){var s=o.uri||o;tabulator.preferences.set('me',s),a=I.sym(s),r.refresh(),n&&n(a.uri)}},d=function t(){tabulator.preferences.set('me','');var o='Your Web ID was '+a+'. It has been forgotten.';a=null;try{L.log.alert(o)}catch(t){try{window.alert(o)}catch(t){}}r.refresh(),n&&n(null)},l=function n(a){var r='Web ID logout';if(a){var o=L.store.any(a,L.ns.foaf('nick'))||L.store.any(a,L.ns.foaf('name'));o&&(r='Logout '+o.value)}var s=t.createElement('input');return s.className='WebIDCancelButton',s.setAttribute('type','button'),s.setAttribute('value',r),s.addEventListener('click',d,!1),s};return r.refresh=function(){var n=s(),a=n?n.uri:'';r.me!==a&&(j.clearElement(r),n?r.appendChild(l(n)):r.appendChild(x(t,o))),r.me=a},r.me='99999',r.refresh(),r}function E(t,n,a){var r=n.noun,o=n.appPathSegment,d=s(),u=L.store,f=t.createElement('div'),m={me:d,dom:t,div:f},h=function n(a){f.appendChild(N.errorMessageBlock(t,a))},g=function t(n){var a=u.any(n,L.ns.space('uriPrefix'));a=a?a.value:n.uri.split('#')[0],'/'!==a.slice(-1)&&(console.log(o+': No / at end of uriPrefix '+a),a+='/');var r=new Date;return a+=o+'/id'+r.getTime()+'/',a},b=function n(o){var s=o.me,d=o.preferencesFile,l=null,c=u.statementsMatching(s,L.ns.space('workspace'),void 0,d).map(function(t){return t.object}),m=u.each(s,L.ns.space('storage'));m.map(function(t){c=c.concat(u.each(t,L.ns.ldp('contains')))}),1===c.length?(h('Workspace used: '+c[0].uri),l=g(c[0])):0===c.length&&h('You don\'t seem to have any workspaces. You have '+m.length+' storages.');var b=t.createElement('table');b.setAttribute('style','border-collapse:separate; border-spacing: 0.5em;'),f.appendChild(b),f.appendChild(t.createElement('hr'));var y=f.appendChild(t.createElement('p'));y.textContent='Where would you like to store the data for the '+r+'?  Give the URL of the directory where you would like the data stored.';var v=f.appendChild(t.createElement('input'));v.setAttribute('type','text'),v.size=80,v.label='base URL',v.autocomplete='on',l&&(v.value=l),o.baseField=v,f.appendChild(t.createElement('br'));var w=f.appendChild(t.createElement('button'));w.textContent='Start new '+r+' at this URI',w.addEventListener('click',function(t){var n=v.value;'/'!==n.slice(-1)&&(n+='/'),a(null,n)}),c=c.filter(function(t){return!u.holds(t,L.ns.rdf('type'),L.ns.space('MasterWorkspace'))});for(var x='height: 3em; margin: 1em; padding: 1em white; border-radius: 0.3em;',_=x+'border: 0px;',k=0,C,T,E,S,A,I,N;k<c.length;k++){if(A=c[k],S=t.createElement('tr'),0===k&&(C=t.createElement('td'),C.setAttribute('rowspan',''+c.length+1),C.textContent='Chose a workspace for this:',C.setAttribute('style','vertical-align:middle;'),S.appendChild(C)),T=t.createElement('td'),I=u.any(A,L.ns.ui('style')),I)I=I.value;else{var j=function t(n){return n.split('').reduce(function(t,n){return t=(t<<5)-t+n.charCodeAt(0),t&t},0)},R='#'+(12632256|16777215&j(A.uri)).toString(16);I='color: black ; background-color: '+R+';'}T.setAttribute('style',_+I),S.target=A.uri;var O=u.any(A,L.ns.rdfs('label'));O||(O=A.uri.split('/').slice(-1)[0]||A.uri.split('/').slice(-2)[0]),T.textContent=O||'???',S.appendChild(T),0===k&&(E=t.createElement('td'),E.setAttribute('rowspan',''+c.length+1),E.setAttribute('style','width:50%;'),S.appendChild(E)),b.appendChild(S);var P=function t(n,a,r,o){n.addEventListener('click',function(t){E.textContent=a,E.setAttribute('style',r),E.appendChild(M(o))},!0)},M=function n(r){var o=t.createElement('button');o.textContent='Continue';var s=g(r);return v.value=s,o.addEventListener('click',function(t){o.disabled=!0,a(r,s),o.textContent='---->'},!0),o};N=u.any(A,L.ns.rdfs('comment')),N=N?N.value:'Use this workspace',P(T,N?N.value:'',_+I,A)}var D=t.createElement('tr');T=t.createElement('td'),T.setAttribute('style',x),T.textContent='+ Make a new workspace',D.appendChild(T),b.appendChild(D)};return l(m).then(c).then(b),f}function S(t,n,a){var r=function t(n,r){a(n,r)},o=t.createElement('div'),s=t.createElement('button');return s.setAttribute('type','button'),o.appendChild(s),s.innerHTML='Make new '+n.noun,s.addEventListener('click',function(a){o.appendChild(E(t,n,r))},!1),o.appendChild(s),o}var A=a(340),I=a(18),N=a(75),j=a(21),R=a(343),L={log:a(19),ns:a(7),store:a(14)},O=$SOLID_GLOBAL_config;t.exports={checkCurrentUser:k,checkUser:C,currentUser:s,findAppInstances:m,findOriginOwner:r,loadTypeIndexes:u,logIn:d,loginStatusBox:T,newAppInstance:S,offlineTestID:w,registrationControl:h,registrationList:g,selectWorkspace:E,setACLUserPublic:b,saveUser:o,solidAuthClient:R}},function(t,n,a){'use strict';t.exports={authEndpoint:'',fallbackAuthEndpoint:'https://databox.me/',signupEndpoint:'https://solid.github.io/solid-idps/',signupWindowHeight:600,signupWindowWidth:1024,key:'',cert:''}},function(t,n,a){t.exports=!a(30)&&!a(58)(function(){return 7!=Object.defineProperty(a(110)('div'),'a',{get:function(){return 7}}).a})},function(t,n,a){var r=a(35),o=a(47),s=a(349)(!1),d=a(115)('IE_PROTO');t.exports=function(t,n){var a=o(t),l=0,c=[],u;for(u in a)u!=d&&r(a,u)&&c.push(u);for(;n.length>l;)r(a,u=n[l++])&&(~s(c,u)||c.push(u));return c}},function(t,n,a){var r=a(60);t.exports=Object('z').propertyIsEnumerable(0)?Object:function(t){return'String'==r(t)?t.split(''):Object(t)}},function(t,n){},function(t,n,a){'use strict';var r=a(82),o=a(28),s=a(186),d=a(34),l=a(35),c=a(61),u=a(355),f=a(83),m=a(357),h=a(9)('iterator'),g=!([].keys&&'next'in[].keys()),b='@@iterator',y='keys',v='values',w=function(){return this};t.exports=function(t,n,a,x,_,k,C){u(a,n,x);var T=function(t){return!g&&t in I?I[t]:t===y?function n(){return new a(this,t)}:t===v?function n(){return new a(this,t)}:function n(){return new a(this,t)}},E=n+' Iterator',S=_==v,A=!1,I=t.prototype,N=I[h]||I[b]||_&&I[_],j=N||T(_),R=_?S?T('entries'):j:void 0,L='Array'==n?I.entries||N:N,O,P,M;if(L&&(M=m(L.call(new t)),M!==Object.prototype&&M.next&&(f(M,E,!0),!r&&!l(M,h)&&d(M,h,w))),S&&N&&N.name!==v&&(A=!0,j=function t(){return N.call(this)}),(!r||C)&&(g||A||!I[h])&&d(I,h,j),c[n]=j,c[E]=w,_)if(O={values:S?j:T(v),keys:k?j:T(y),entries:R},C)for(P in O)P in I||s(I,P,O[P]);else o(o.P+o.F*(g||A),n,O);return O}},function(t,n,a){t.exports=a(34)},function(t,n,a){var r=a(29),o=a(356),s=a(117),d=a(115)('IE_PROTO'),l=function(){},c='prototype',u=function(){var t=a(110)('iframe'),n=s.length,r='<',o='>',d;for(t.style.display='none',a(188).appendChild(t),t.src='javascript:',d=t.contentWindow.document,d.open(),d.write(r+'script'+o+'document.F=Object'+r+'/script'+o),d.close(),u=d.F;n--;)delete u[c][s[n]];return u()};t.exports=Object.create||function t(n,a){var s;return null===n?s=u():(l[c]=r(n),s=new l,l[c]=null,s[d]=n),void 0===a?s:o(s,a)}},function(t,n,a){var r=a(8).document;t.exports=r&&r.documentElement},function(t,n,a){a(358);for(var r=a(8),o=a(34),s=a(61),d=a(9)('toStringTag'),l='CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList'.split(','),c=0;c<l.length;c++){var u=l[c],f=r[u],m=f&&f.prototype;m&&!m[d]&&o(m,d,u),s[u]=s.Array}},function(t,n,a){var r=a(60),o=a(9)('toStringTag'),s='Arguments'==r(function(){return arguments}()),d=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,a,l;return t===void 0?'Undefined':null===t?'Null':'string'==typeof(a=d(n=Object(t),o))?a:s?r(n):'Object'==(l=r(n))&&'function'==typeof n.callee?'Arguments':l}},function(t,n,a){var r=a(29);t.exports=function(t,n,a,o){try{return o?n(r(a)[0],a[1]):n(a)}catch(n){var s=t['return'];throw void 0!==s&&r(s.call(t)),n}}},function(t,n,a){var r=a(61),o=a(9)('iterator'),s=Array.prototype;t.exports=function(t){return t!==void 0&&(r.Array===t||s[o]===t)}},function(t,n,a){var r=a(190),o=a(9)('iterator'),s=a(61);t.exports=a(16).getIteratorMethod=function(t){if(t!=void 0)return t[o]||t['@@iterator']||s[r(t)]}},function(t,n,a){var r=a(29),o=a(77),s=a(9)('species');t.exports=function(t,n){var a=r(t).constructor,d;return a===void 0||(d=r(a)[s])==void 0?n:o(d)}},function(t,n,a){var r=a(57),o=a(364),s=a(188),d=a(110),l=a(8),c=l.process,u=l.setImmediate,f=l.clearImmediate,m=l.MessageChannel,h=l.Dispatch,g=0,b={},y='onreadystatechange',v=function(){var t=+this;if(b.hasOwnProperty(t)){var n=b[t];delete b[t],n()}},w=function(t){v.call(t.data)},x,_,k;u&&f||(u=function t(n){for(var a=[],r=1;arguments.length>r;)a.push(arguments[r++]);return b[++g]=function(){o('function'==typeof n?n:Function(n),a)},x(g),g},f=function t(n){delete b[n]},'process'==a(60)(c)?x=function(t){c.nextTick(r(v,t,1))}:h&&h.now?x=function(t){h.now(r(v,t,1))}:m?(_=new m,k=_.port2,_.port1.onmessage=w,x=r(k.postMessage,k,1)):l.addEventListener&&'function'==typeof postMessage&&!l.importScripts?(x=function(t){l.postMessage(t+'','*')},l.addEventListener('message',w,!1)):y in d('script')?x=function(t){s.appendChild(d('script'))[y]=function(){s.removeChild(this),v.call(t)}}:x=function(t){setTimeout(r(v,t,1),0)}),t.exports={set:u,clear:f}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,a){var r=a(29),o=a(46),s=a(121);t.exports=function(t,n){if(r(t),o(n)&&n.constructor===t)return n;var a=s.f(t),d=a.resolve;return d(n),a.promise}},function(t,n,a){var r=a(9)('iterator'),o=!1;try{var s=[7][r]();s['return']=function(){o=!0},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var a=!1;try{var s=[7],d=s[r]();d.next=function(){return{done:a=!0}},s[r]=function(){return d},t(s)}catch(t){}return a}},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=a(372),s=r(o);n.default=function(t,n,a){return n in t?(0,s.default)(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,'__esModule',{value:!0}),n.combineHandlers=n.server=n.client=void 0;var o=a(36),s=r(o),d=a(37),l=r(d),c=a(81),u=r(c),f=a(377),m=r(f),h=a(199),g=r(h),b=a(390),y=r(b),v='solid-auth-client',w=function t(n){return(0,g.default)({},v,n)},x=function t(n){if(!n||'object'!==('undefined'==typeof n?'undefined':(0,m.default)(n)))return null;var a=n[v];return a&&'object'===('undefined'==typeof a?'undefined':(0,m.default)(a))?a:null},_=function t(n){var a=x(n);if(!a)return null;var r=a.id,o=a.ret;return null!=r&&'string'==typeof r&&a.hasOwnProperty('ret')?{id:r,ret:o}:null},k=function t(n){var a=x(n);if(!a)return null;var r=a.id,o=a.method,s=a.args;return null!=r&&'string'==typeof r&&'string'==typeof o&&Array.isArray(s)?{id:r,method:o,args:s}:null},C=n.client=function t(n,a){return function(t){return new u.default(function(r,o){var s=(0,y.default)(),d=function t(n){var o=n.data,d=n.origin,l=_(o);('*'===a||d===a)&&l&&l.id===s&&(r(l.ret),window.removeEventListener('message',t))};window.addEventListener('message',d),n.postMessage({"solid-auth-client":{id:s,method:t.method,args:t.args}},a)})}},T=n.server=function t(n,a){return function(t){var r=function(){var r=(0,l.default)(s.default.mark(function r(o){var d,l,c,u;return s.default.wrap(function r(s){for(;1;)switch(s.prev=s.next){case 0:if(d=o.data,l=o.origin,c=k(d),c){s.next=4;break}return s.abrupt('return');case 4:if(l===a){s.next=7;break}return console.warn('SECURITY WARNING: solid-auth-client is listening for messages from '+a+', '+('but received a message from '+l+'.  Ignoring the message.')),s.abrupt('return');case 7:return s.next=9,t(c);case 9:u=s.sent,u&&n.postMessage(w(u),a);case 11:case'end':return s.stop();}},r,void 0)}));return function t(n){return r.apply(this,arguments)}}(),o={start:function t(){return window.addEventListener('message',r),o},stop:function t(){return window.removeEventListener('message',r),o}};return o}},E=n.combineHandlers=function t(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return function(t){return a.map(function(n){return n(t)}).find(function(t){return null!==t})}}},function(t,n,a){var r=a(182),o=a(117).concat('length','prototype');n.f=Object.getOwnPropertyNames||function t(n){return r(n,o)}},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,'__esModule',{value:!0}),n.parse=n.format=void 0;var o=a(393),s=r(o),d=a(394),l=r(d);n.format=s.default,n.parse=l.default},function(t,n,a){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var r=/^[^\u0000-\u001F\u007F()<>@,;:\\"/?={}\[\]\u0020\u0009]+$/,o=n.isToken=function t(n){return'string'==typeof n&&r.test(n)},s=n.isScheme=o,d=n.quote=function t(n){return'"'+n.replace(/"/g,'\\"')+'"'},l=n.unquote=function t(n){return n.substr(1,n.length-2).replace(/\\"/g,'"')}},function(t,n,a){(function(n){const r=a(126),o=a(44),{URL:s}=a(41),d=o.Headers?o.Headers:n.Headers,{JSONDocument:l}=a(17),{JWKSet:c}=a(62),u=a(410),f=a(411),m=a(415),h=a(221);class g extends l{static get schema(){return m}static from(t){let n=new g(t),a=n.validate();if(!a.valid)return Promise.reject(new Error(JSON.stringify(a)));let r=n.provider.jwks;return r?c.importKeys(r).then((t)=>(n.provider.jwks=t,n)):n.jwks().then(()=>n)}static register(t,n,a){let r=new g({provider:{url:t},defaults:Object.assign({},a.defaults),store:a.store});return Promise.resolve().then(()=>r.discover()).then(()=>r.jwks()).then(()=>r.register(n)).then(()=>r)}discover(){try{let t=this.provider.url;r(t,'RelyingParty provider must define "url"');let n=new s(t);return n.pathname='.well-known/openid-configuration',o(n.toString()).then(h('Error fetching openid configuration')).then((t)=>t.json().then((t)=>this.provider.configuration=t))}catch(t){return Promise.reject(t)}}register(t){try{let n=this.provider.configuration;r(n,'OpenID Configuration is not initialized.'),r(n.registration_endpoint,'OpenID Configuration is missing registration_endpoint.');let a=n.registration_endpoint,s='post',l=new d({"Content-Type":'application/json'}),c=this.defaults.register,u=JSON.stringify(Object.assign({},c,t));return o(a,{method:s,headers:l,body:u}).then(h('Error registering client')).then((t)=>t.json().then((t)=>this.registration=t))}catch(t){return Promise.reject(t)}}serialize(){return JSON.stringify(this)}jwks(){try{let t=this.provider.configuration;r(t,'OpenID Configuration is not initialized.'),r(t.jwks_uri,'OpenID Configuration is missing jwks_uri.');let n=t.jwks_uri;return o(n).then(h('Error resolving provider keys')).then((t)=>t.json().then((t)=>c.importKeys(t)).then((t)=>this.provider.jwks=t))}catch(t){return Promise.reject(t)}}createRequest(t,n){return u.create(this,t,n||this.store)}validateResponse(t,n){return n=n||this.store,t=t.match(/^http(s?):\/\//)?{rp:this,redirect:t,session:n}:{rp:this,body:t,session:n},f.validateResponse(t)}userinfo(){try{let t=this.provider.configuration;r(t,'OpenID Configuration is not initialized.'),r(t.userinfo_endpoint,'OpenID Configuration is missing userinfo_endpoint.');let n=t.userinfo_endpoint,a=this.store.access_token;r(a,'Missing access token.');let s=new d({"Content-Type":'application/json',Authorization:`Bearer ${a}`});return o(n,{headers:s}).then(h('Error fetching userinfo')).then((t)=>t.json())}catch(t){return Promise.reject(t)}}logout(){let t;try{r(this.provider,'OpenID Configuration is not initialized.'),t=this.provider.configuration,r(t,'OpenID Configuration is not initialized.'),r(t.end_session_endpoint,'OpenID Configuration is missing end_session_endpoint.')}catch(t){return Promise.reject(t)}this.clearSession();let n=t.end_session_endpoint,a='get';return o(n,{method:a}).then(h('Error logging out'))}clearSession(){let t=this.store;t&&delete t[b]}popTokenFor(t,n){return PoPToken.issueFor(t,n,this)}}const b='oidc.session.privateKey';g.SESSION_PRIVATE_KEY=b,t.exports=g}).call(n,a(4))},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,d=/^(?:[a-z][a-z0-9+-.]*)?(?:\:|\/)\/?[^\s]*$/i,l=/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,c=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,u=/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,f=/^[a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?(\.[a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?)*$/i,m=function(){function t(){r(this,t)}return o(t,[{key:'register',value:function t(n,a){if('string'!=typeof n)throw new Error('Format name must be a string');return'string'==typeof a&&(a=new RegExp(a)),this[n]=a}},{key:'resolve',value:function t(n){var a=this[n];if(!a)throw new Error('Unknown JSON Schema format.');return a}},{key:'test',value:function t(n,a){var r=this.resolve(n);return r.test(a)}}],[{key:'initialize',value:function n(){var a=new t;return a.register('date-time',s),a.register('uri',d),a.register('email',l),a.register('ipv4',c),a.register('ipv6',u),a.register('hostname',f),a}}]),t}();t.exports=m.initialize()},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t},s=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),d=function(){function t(n,a){r(this,t),Object.assign(this,a||{}),this.root=this.root||this,this.root.depth=this.root.depth||1,this.level>this.root.depth&&(this.root.depth=this.level),this.level=this.level||0,this.schema=n}return s(t,[{key:'compile',value:function t(){var n=this.root,a=this.depth,r=this.level,o='',s='';if(s+=this.default(),s+=this.properties(),s+=this.items(),s+=this.member(),s+=this.item(),n===this){for(var d=1;d<=this.root.depth;d++)o+=this.declaration(d);return'\n        options = options || {}\n\n        if (options.filter === false) {\n          Object.assign(target, JSON.parse(JSON.stringify(source)))\n        }\n\n        '+o+'\n        '+s+'\n      '}return s}},{key:'declaration',value:function t(n){return'\n      var target'+n+'\n      var source'+n+'\n      var count'+n+'\n    '}},{key:'default',value:function t(){var n=this.schema,a=this.level,r=this.key,o=this.index,s=n.default,d='';return n.hasOwnProperty('default')&&(r&&(d+='\n          target'+a+'[\''+r+'\'] = '+JSON.stringify(s)+'\n        '),o&&(d+='\n          target'+a+'['+o+'] = '+JSON.stringify(s)+'\n        '),1<a&&(d+='\n          count'+a+'++\n        '),d='\n        if (options.defaults !== false) {\n          '+d+'\n        }\n      '),d}},{key:'member',value:function t(){var n=this.schema,a=this.root,r=this.level,o=this.key,s=n.properties,d=n.additionalProperties,l=n.items,c=n.additionalItems,u='';return!o||s||d||l||c||(u+='\n        target'+r+'[\''+o+'\'] = source'+r+'[\''+o+'\']\n      ',1<r&&(u+='\n          count'+r+'++\n        '),u='\n        if (source'+r+'.hasOwnProperty(\''+o+'\')) {\n          '+u+'\n        }\n      '),u}},{key:'item',value:function t(){var n=this.schema,a=this.root,r=this.level,o=this.index,s=n.properties,d=n.additionalProperties,l=n.items,c=n.additionalItems,u='';return!o||s||d||l||c||(u+='\n        target'+r+'['+o+'] = source'+r+'['+o+']\n      ',1<r&&(u+='\n          count'+r+'++\n        '),u='\n        if ('+o+' < len) {\n          '+u+'\n        }\n      '),u}},{key:'properties',value:function n(){var a=this.schema,r=this.root,o=this.level,s=this.key,d=this.index,n=a.properties,l='';return n&&(Object.keys(n).forEach(function(a){var s=n[a],d=new t(s,{key:a,root:r,level:o+1});l+=d.compile()}),r===this?l='\n          if (typeof source === \'object\' && source !== null && !Array.isArray(source)) {\n            if (typeof target !== \'object\') {\n              throw new Error(\'?\')\n            }\n\n            source1 = source\n            target1 = target\n            count1 = 0\n\n            '+l+'\n          }\n        ':(d&&(l='\n            if ('+d+' < source'+o+'.length || typeof source'+o+'['+d+'] === \'object\') {\n\n              source'+(o+1)+' = source'+o+'['+d+'] || {}\n              count'+(o+1)+' = 0\n\n              if ('+d+' < target'+o+'.length || typeof target'+o+'['+d+'] !== \'object\') {\n                target'+(o+1)+' = {}\n                if ('+d+' < source'+o+'.length) {\n                  count'+(o+1)+'++\n                }\n              } else {\n                target'+(o+1)+' = target'+o+'['+d+']\n              }\n\n              '+l+'\n\n              if (count'+(o+1)+' > 0) {\n                target'+o+'['+d+'] = target'+(o+1)+'\n                count'+o+'++\n              }\n\n            } else {\n              target'+o+'['+d+'] = source'+o+'['+d+']\n              count'+o+'++\n            }\n          '),s&&(l='\n            if ((typeof source'+o+'[\''+s+'\'] === \'object\'\n                  && source'+o+'[\''+s+'\'] !== null\n                  && !Array.isArray(source'+o+'[\''+s+'\']))\n                || !source'+o+'.hasOwnProperty(\''+s+'\')) {\n\n              source'+(o+1)+' = source'+o+'[\''+s+'\'] || {}\n              count'+(o+1)+' = 0\n\n              if (!target'+o+'.hasOwnProperty(\''+s+'\')\n                  || typeof target'+o+'[\''+s+'\'] !== \'object\'\n                  || target'+o+'[\''+s+'\'] === null\n                  || Array.isArray(target'+o+'[\''+s+'\'])) {\n                target'+(o+1)+' = {}\n                if (source'+o+'.hasOwnProperty(\''+s+'\')) {\n                  count'+(o+1)+'++\n                }\n              } else {\n                target'+(o+1)+' = target'+o+'[\''+s+'\']\n                count'+(o+1)+'++\n              }\n\n              '+l+'\n\n              if (count'+(o+1)+' > 0) {\n                target'+o+'[\''+s+'\'] = target'+(o+1)+'\n                count'+o+'++\n              }\n\n            } else {\n              target'+o+'[\''+s+'\'] = source'+o+'[\''+s+'\']\n              count'+o+'++\n            }\n          '))),l}},{key:'additionalProperties',value:function t(){}},{key:'items',value:function n(){var a=this.schema,r=this.root,s=this.level,d=this.key,l=this.index,n=a.items,c='';if(n){if(Array.isArray(n));else if('object'===('undefined'==typeof n?'undefined':o(n))&&null!==n){var u='i'+(s+1),f=new t(n,{index:u,root:r,level:s+1});c+='\n          var sLen = source'+(s+1)+'.length || 0\n          var tLen = target'+(s+1)+'.length || 0\n          var len = 0\n\n          if (sLen > len) { len = sLen }\n          // THIS IS WRONG, CAUSED SIMPLE ARRAY INIT TO FAIL (OVERWRITE\n          // EXISTING TARGET VALUES WITH UNDEFINED WHEN SOURCE IS SHORTER THAN\n          // TARGET). LEAVING HERE UNTIL WE FINISH TESTING AND SEE WHY IT MIGHT\n          // HAVE BEEN HERE IN THE FIRST PLACE.\n          //\n          // if (tLen > len) { len = tLen }\n\n          for (var '+u+' = 0; '+u+' < len; '+u+'++) {\n            '+f.compile()+'\n          }\n        '}c=r===this?'\n          if (Array.isArray(source)) {\n            if (!Array.isArray(target)) {\n              throw new Error(\'?\')\n            }\n\n            source1 = source\n            target1 = target\n\n            '+c+'\n          }\n        ':'\n          if (Array.isArray(source'+s+'[\''+d+'\']) || !source'+s+'.hasOwnProperty(\''+d+'\')) {\n\n            source'+(s+1)+' = source'+s+'[\''+d+'\'] || []\n            count'+(s+1)+' = 0\n\n            if (!target'+s+'.hasOwnProperty(\''+d+'\') || !Array.isArray(target'+s+'[\''+d+'\'])) {\n              target'+(s+1)+' = []\n                if (source'+s+'.hasOwnProperty(\''+d+'\')) {\n                  count'+(s+1)+'++\n                }\n\n            } else {\n              target'+(s+1)+' = target'+s+'[\''+d+'\']\n              count'+(s+1)+'++\n            }\n\n            '+c+'\n\n            if (count'+(s+1)+' > 0) {\n              target'+s+'[\''+d+'\'] = target'+(s+1)+'\n              count'+s+'++\n            }\n\n          } else {\n            target'+s+'[\''+d+'\'] = source'+s+'[\''+d+'\']\n            count'+s+'++\n          }\n        '}return c}},{key:'additionalItems',value:function t(){}}],[{key:'compile',value:function n(a){var r=new t(a),o=r.compile();try{return new Function('target','source','options',o)}catch(t){console.log(t,t.stack)}}}]),t}();t.exports=d},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t},s=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),d=a(127),l=0,c=1,u=2,f=['add','remove','replace','move','copy','test'],m=function(){function t(n){r(this,t),this.ops=n||[]}return s(t,[{key:'apply',value:function t(n){var a=this;this.ops.forEach(function(t){var r=t.op;if(!r)throw new Error('Missing "op" in JSON Patch operation');if(-1===f.indexOf(r))throw new Error('Invalid "op" in JSON Patch operation');if(!t.path)throw new Error('Missing "path" in JSON Patch operation');a[r](t,n)})}},{key:'add',value:function t(n,a){if(void 0===n.value)throw new Error('Missing "value" in JSON Patch add operation');var r=new d(n.path,u);r.add(a,n.value)}},{key:'remove',value:function t(n,a){var r=new d(n.path);r.remove(a)}},{key:'replace',value:function t(n,a){if(void 0===n.value)throw new Error('Missing "value" in JSON Patch replace operation');var r=new d(n.path);r.replace(a,n.value)}},{key:'move',value:function t(n,a){if(void 0===n.from)throw new Error('Missing "from" in JSON Patch move operation');if(n.path.match(new RegExp('^'+n.from)))throw new Error('Invalid "from" in JSON Patch move operation');var r=new d(n.path),o=new d(n.from),s=o.get(a);o.remove(a),r.add(a,s)}},{key:'copy',value:function t(n,a){if(void 0===n.from)throw new Error('Missing "from" in JSON Patch copy operation');var r=new d(n.path),o=new d(n.from),s=o.get(a);r.add(a,s)}},{key:'test',value:function t(n,a){if(void 0===n.value)throw new Error('Missing "value" in JSON Patch test operation');var r=new d(n.path),s=r.get(a);switch(o(n.value)){default:if(s!==n.value)throw new Error('Mismatching JSON Patch test value');}}}]),t}();t.exports=m},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t},s=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),d=a(205),l=0,c=function(){function t(n){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.schema=n,Object.assign(this,a),this.address||(this.address=''),!0!==this.require&&(this.require=!1)}return s(t,null,[{key:'compile',value:function n(a){var r=new t(a),o='\n      // "cursor"\n      let value = data\n      let container\n      let stack = []\n      let top = -1\n\n      // error state\n      let valid = true\n      let errors = []\n\n      // complex schema state\n      let initialValidity\n      let anyValid\n      let notValid\n      let countOfValid\n      let initialErrorCount\n      let accumulatedErrorCount\n\n      // validation code\n      '+r.compile()+'\n\n      // validation result\n      return {\n        valid,\n        errors\n      }\n    ';return new Function('data',o)}},{key:'counter',get:function t(){return l++}}]),s(t,[{key:'compile',value:function t(){var n='';return this.require&&(n+=this.required()),n+=this.type(),n+=this.array(),n+=this.number(),n+=this.object(),n+=this.string(),n+=this.enum(),n+=this.anyOf(),n+=this.allOf(),n+=this.not(),n+=this.oneOf(),n}},{key:'push',value:function t(){return'\n      stack.push(value)\n      container = value\n      top++\n    '}},{key:'pop',value:function t(){return'\n      if (stack.length > 1) {\n        top--\n        stack.pop()\n      }\n\n      value = container = stack[top]\n    '}},{key:'type',value:function t(){var t=this.schema.type,n=this.address,a='';if(t){var r=Array.isArray(t)?t:[t],o=r.map(function(t){return'array'===t?'!Array.isArray(value)':'boolean'===t?'typeof value !== \'boolean\'':'integer'===t?'!Number.isInteger(value)':'null'===t?'value !== null':'number'===t?'typeof value !== \'number\'':'object'===t?'(typeof value !== \'object\' || Array.isArray(value) || value === null)':'string'===t?'typeof value !== \'string\'':void 0}).join(' && ');a+='\n      // '+n+' type checking\n      if (value !== undefined && '+o+') {\n        valid = false\n        errors.push({\n          keyword: \'type\',\n          message: \'invalid type\'\n        })\n      }\n      '}return a}},{key:'array',value:function t(){var n=['additionalItems','items','minItems','maxItems','uniqueItems'],a=this.validations(n),r='';return 0<a.length&&(r+='\n      /**\n       * Array validations\n       */\n      if (Array.isArray(value)) {\n      '+a+'\n      }\n      '),r}},{key:'number',value:function t(){var n=['minimum','maximum','multipleOf'],a=this.validations(n),r='';return 0<a.length&&(r+='\n      /**\n       * Number validations\n       */\n      if (typeof value === \'number\') {\n      '+a+'\n      }\n      '),r}},{key:'object',value:function t(){var n=['maxProperties','minProperties','additionalProperties','properties','patternProperties','dependencies','schemaDependencies','propertyDependencies'],a=this.validations(n),r='';return 0<a.length&&(r+='\n      /**\n       * Object validations\n       */\n      if (typeof value === \'object\' && value !== null && !Array.isArray(value)) {\n      '+a+'\n      }\n      '),r}},{key:'string',value:function t(){var n=['maxLength','minLength','pattern','format'],a=this.validations(n),r='';return 0<a.length&&(r+='\n      /**\n       * String validations\n       */\n      if (typeof value === \'string\') {\n      '+a+'\n      }\n      '),r}},{key:'validations',value:function t(n){var a=this,r=this.schema,o='',s=Object.keys(r).filter(function(t){return-1!==n.indexOf(t)});return s.forEach(function(t){o+=a[t]()}),o}},{key:'enum',value:function t(){var n=this.schema.enum,a=this.address,r=['value !== undefined'],s='';return n&&(n.forEach(function(t){switch('undefined'==typeof t?'undefined':o(t)){case'boolean':r.push('value !== '+t);break;case'number':r.push('value !== '+t);break;case'string':r.push('value !== "'+t+'"');break;case'object':null===t?r.push('value !== null'):r.push('\''+JSON.stringify(t)+'\' !== JSON.stringify(value)');break;default:throw new Error('Things are not well in the land of enum');}}),s+='\n      /**\n       * Validate "'+a+'" enum\n       */\n      if ('+r.join(' && ')+') {\n        valid = false\n        errors.push({\n          keyword: \'enum\',\n          message: JSON.stringify(value) + \' is not an enumerated value\'\n        })\n      }\n      '),s}},{key:'anyOf',value:function n(){var n=this.schema.anyOf,a=this.address,r='';return Array.isArray(n)&&(r+='\n        initialValidity = valid\n        initialErrorCount = errors.length\n        anyValid = false\n      ',n.forEach(function(n){var o=new t(n,{address:a});r+='\n        accumulatedErrorCount = errors.length\n        '+o.compile()+'\n        if (accumulatedErrorCount === errors.length) {\n          anyValid = true\n        }\n        '}),r+='\n          if (anyValid === true) {\n            valid = initialValidity\n            errors = errors.slice(0, initialErrorCount)\n          }\n      '),r}},{key:'allOf',value:function n(){var n=this.schema.allOf,a=this.address,r='';return Array.isArray(n)&&n.forEach(function(n){var o=new t(n,{address:a});r+='\n        '+o.compile()+'\n        '}),r}},{key:'oneOf',value:function n(){var n=this.schema.oneOf,a=this.address,r='';return Array.isArray(n)&&(r+='\n        /**\n         * Validate '+a+' oneOf\n         */\n        initialValidity = valid\n        initialErrorCount = errors.length\n        countOfValid = 0\n      ',n.forEach(function(n){var o=new t(n,{address:a});r+='\n        accumulatedErrorCount = errors.length\n        '+o.compile()+'\n        if (accumulatedErrorCount === errors.length) {\n          countOfValid += 1\n        }\n        '}),r+='\n          if (countOfValid === 1) {\n            valid = initialValidity\n            errors = errors.slice(0, initialErrorCount)\n          } else {\n            valid = false\n            errors.push({\n              keyword: \'oneOf\',\n              message: \'what is a reasonable error message for this case?\'\n            })\n          }\n      '),r}},{key:'not',value:function n(){var n=this.schema.not,a=this.address,r='';if('object'===('undefined'==typeof n?'undefined':o(n))&&null!==n&&!Array.isArray(n)){var s=n,d=new t(s,{address:a});r+='\n        /**\n         * NOT\n         */\n        if (value !== undefined) {\n          initialValidity = valid\n          initialErrorCount = errors.length\n          notValid = true\n\n          accumulatedErrorCount = errors.length\n\n          '+d.compile()+'\n\n          if (accumulatedErrorCount === errors.length) {\n            notValid = false\n          }\n\n          if (notValid === true) {\n            valid = initialValidity\n            errors = errors.slice(0, initialErrorCount)\n          } else {\n            valid = false\n            errors = errors.slice(0, initialErrorCount)\n            errors.push({\n              keyword: \'not\',\n              message: \'hmm...\'\n            })\n          }\n        }\n      '}return r}},{key:'properties',value:function n(){var a=this.schema,r=this.address,n=a.properties,s=a.required,d=this.push();return s=Array.isArray(s)?s:[],'object'===('undefined'==typeof n?'undefined':o(n))&&Object.keys(n).forEach(function(a){var o=n[a],l=-1!==s.indexOf(a),c=[r,a].filter(function(t){return!!t}).join('.'),u=new t(o,{address:c,require:l});d+='\n        value = container[\''+a+'\']\n        ',d+=u.compile()}),d+=this.pop(),d}},{key:'otherProperties',value:function t(){return'\n      /**\n       * Validate Other Properties\n       */\n      '+this.push()+'\n\n      for (let key in container) {\n        value = container[key]\n        matched = false\n\n        '+this.patternValidations()+'\n        '+this.additionalValidations()+'\n      }\n\n      '+this.pop()+'\n    '}},{key:'patternValidations',value:function n(){var a=this.schema.patternProperties,r='';return'object'===('undefined'==typeof a?'undefined':o(a))&&Object.keys(a).forEach(function(n){var o=a[n],s=new t(o);r+='\n          if (key.match(\''+n+'\')) {\n            matched = true\n            '+s.compile()+'\n          }\n        '}),r}},{key:'additionalValidations',value:function n(){var a=this.schema,r=a.properties,s=a.additionalProperties,d=this.address,l='',c='',u=['matched !== true'];if(Object.keys(r||{}).forEach(function(t){u.push('key !== \''+t+'\'')}),'object'===('undefined'==typeof s?'undefined':o(s))){var f=s,m=new t(f,{address:d+'[APKey]'});c+='\n        // validate additional properties\n        if ('+u.join(' && ')+') {\n          '+m.compile()+'\n        }\n      '}return!1===s&&(c+='\n        // validate non-presence of additional properties\n        if ('+u.join(' && ')+') {\n          valid = false\n          errors.push({\n            keyword: \'additionalProperties\',\n            message: key + \' is not a defined property\'\n          })\n        }\n      '),c}},{key:'patternProperties',value:function t(){var n='';return this.otherPropertiesCalled||(this.otherPropertiesCalled=!0,n+=this.otherProperties()),n}},{key:'additionalProperties',value:function t(){var n='';return this.otherPropertiesCalled||(this.otherPropertiesCalled=!0,n+=this.otherProperties()),n}},{key:'minProperties',value:function t(){var t=this.schema.minProperties,n=this.address;return'\n        // '+n+' min properties\n        if (Object.keys(value).length < '+t+') {\n          valid = false\n          errors.push({\n            keyword: \'minProperties\',\n            message: \'too few properties\'\n          })\n        }\n    '}},{key:'maxProperties',value:function t(){var t=this.schema.maxProperties,n=this.address;return'\n        // '+n+' max properties\n        if (Object.keys(value).length > '+t+') {\n          valid = false\n          errors.push({\n            keyword: \'maxProperties\',\n            message: \'too many properties\'\n          })\n        }\n    '}},{key:'dependencies',value:function n(){var n=this.schema.dependencies,a=this.address,r=this.push();return'object'===('undefined'==typeof n?'undefined':o(n))&&Object.keys(n).forEach(function(s){var d=n[s],l=[];if(Array.isArray(d))d.forEach(function(t){l.push('container[\''+t+'\'] === undefined')}),r+='\n            if (container[\''+s+'\'] !== undefined && ('+l.join(' || ')+')) {\n              valid = false\n              errors.push({\n                keyword: \'dependencies\',\n                message: \'unmet dependencies\'\n              })\n            }\n          ';else if('object'===('undefined'==typeof d?'undefined':o(d))){var c=d,u=new t(c,{address:a});r+='\n            if (container[\''+s+'\'] !== undefined) {\n              '+u.compile()+'\n            }\n          '}}),r+=this.pop(),r}},{key:'required',value:function t(){var n=this.schema.properties,a=this.address,r='';return r+='\n      // validate '+a+' presence\n      if (value === undefined) {\n        valid = false\n        errors.push({\n          keyword: \'required\',\n          message: \'is required\'\n        })\n      }\n    ',r}},{key:'additionalItems',value:function n(){var a=this.schema,r=a.items,n=a.additionalItems,s=this.address,d='';if(!1===n&&Array.isArray(r)&&(d+='\n        // don\'t allow additional items\n        if (value.length > '+r.length+') {\n          valid = false\n          errors.push({\n            keyword: \'additionalItems\',\n            message: \'additional items not allowed\'\n          })\n        }\n      '),'object'===('undefined'==typeof n?'undefined':o(n))&&null!==n&&Array.isArray(r)){var l=n,c=new t(l),u=t.counter;d+='\n        // additional items\n        '+this.push()+'\n\n        for (var i'+u+' = '+r.length+'; i'+u+' <= container.length; i'+u+'++) {\n          value = container[i'+u+']\n          '+c.compile()+'\n        }\n\n        '+this.pop()+'\n      '}return d}},{key:'items',value:function n(){var n=this.schema.items,a=this.address,r='';if(Array.isArray(n))r+=this.push(),n.forEach(function(n,o){var s=n,d=new t(s,{address:a+'['+o+']'});r+='\n          // item #'+o+'\n          value = container['+o+']\n          '+d.compile()+'\n        '}),r+=this.pop();else if('object'===('undefined'==typeof n?'undefined':o(n))&&null!==n){var s=n,d=new t(s),l=t.counter;r+='\n        // items\n        '+this.push()+'\n\n        for (var i'+l+' = 0; i'+l+' < container.length; i'+l+'++) {\n          // read array element\n          value = container[i'+l+']\n          '+d.compile()+'\n        }\n\n        '+this.pop()+'\n      '}return r}},{key:'minItems',value:function t(){var t=this.schema.minItems,n=this.address;return'\n        // '+n+' min items\n        if (value.length < '+t+') {\n          valid = false\n          errors.push({\n            keyword: \'minItems\',\n            message: \'too few properties\'\n          })\n        }\n    '}},{key:'maxItems',value:function t(){var t=this.schema.maxItems,n=this.address;return'\n        // '+n+' max items\n        if (value.length > '+t+') {\n          valid = false\n          errors.push({\n            keyword: \'maxItems\',\n            message: \'too many properties\'\n          })\n        }\n    '}},{key:'uniqueItems',value:function t(){var t=this.schema.uniqueItems,n=this.address,a='';return!0===t&&(a+='\n        // validate '+n+' unique items\n        let values = value.map(v => JSON.stringify(v)) // TODO: optimize\n        let set = new Set(values)\n        if (values.length !== set.size) {\n          valid = false\n          errors.push({\n            keyword: \'uniqueItems\',\n            message: \'items must be unique\'\n          })\n        }\n      '),a}},{key:'minLength',value:function t(){var t=this.schema.minLength,n=this.address;return'\n        // '+n+' validate minLength\n        if (Array.from(value).length < '+t+') {\n          valid = false\n          errors.push({\n            keyword: \'minLength\',\n            message: \'too short\'\n          })\n        }\n    '}},{key:'maxLength',value:function t(){var t=this.schema.maxLength,n=this.address;return'\n        // '+n+' validate maxLength\n        if (Array.from(value).length > '+t+') {\n          valid = false\n          errors.push({\n            keyword: \'maxLength\',\n            message: \'too long\'\n          })\n        }\n    '}},{key:'pattern',value:function t(){var t=this.schema.pattern,n=this.address;if(t)return'\n          // '+n+' validate pattern\n          if (!value.match(new RegExp(\''+t+'\'))) {\n            valid = false\n            errors.push({\n              keyword: \'pattern\',\n              message: \'does not match the required pattern\'\n            })\n          }\n      '}},{key:'format',value:function t(){var t=this.schema.format,n=this.address,a=d.resolve(t);if(a)return'\n      // '+n+' validate format\n      if (!value.match('+a+')) {\n        valid = false\n        errors.push({\n          keyword: \'format\',\n          message: \'is not "'+t+'" format\'\n        })\n      }\n      '}},{key:'minimum',value:function t(){var n=this.schema,t=n.minimum,a=n.exclusiveMinimum,r=this.address,o=!0===a?'<=':'<';return'\n        // '+r+' validate minimum\n        if (value '+o+' '+t+') {\n          valid = false\n          errors.push({\n            keyword: \'minimum\',\n            message: \'too small\'\n          })\n        }\n    '}},{key:'maximum',value:function t(){var n=this.schema,t=n.maximum,a=n.exclusiveMaximum,r=this.address,o=!0===a?'>=':'>';return'\n        // '+r+' validate maximum\n        if (value '+o+' '+t+') {\n          valid = false\n          errors.push({\n            keyword: \'maximum\',\n            message: \'too large\'\n          })\n        }\n    '}},{key:'multipleOf',value:function t(){var t=this.schema.multipleOf,n='';if('number'==typeof t){var a=t.toString().length,r=a-t.toFixed(0).length-1,o=0<r?_Mathpow(10,r):1,s;s=0<r?'(value * '+o+') % '+t*o+' !== 0':'value % '+t+' !== 0',n+='\n        if ('+s+') {\n          valid = false\n          errors.push({\n            keyword: \'multipleOf\',\n            message: \'must be a multiple of '+t+'\'\n          })\n        }\n      '}return n}}]),t}();t.exports=c},function(t,n,a){'use strict';(function(n){var r=n.TextEncoder?n.TextEncoder:a(404).TextEncoder;t.exports=r}).call(n,a(4))},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(t){function n(t){r(this,n);var a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return a.message=t+' is not a supported algorithm',a}return s(n,t),n}(Error);t.exports=d},function(t,n,a){'use strict';t.exports={DataError:a(212),NotSupportedError:a(210)}},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(t){function n(t){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return s(n,t),n}(Error);t.exports=d},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(17),c=l.JSONDocument,u=a(86),f=a(128),m=function(t){function n(){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),d(n,null,[{key:'importKey',value:function t(n){return f.importKey(n)}},{key:'schema',get:function t(){return u}}]),n}(c);t.exports=m},function(t,n,a){'use strict';var r=a(17),o=r.JSONSchema,s=a(86),d=new o({type:'object',properties:{keys:{type:'array',items:s}}});t.exports=d},function(t,n,a){'use strict';var r=a(216),o=a(217),s=a(218),d=a(17),l=d.JSONSchema,c=new l({type:'object',properties:{type:{type:'string',enum:['JWS','JWE']},segments:{type:'array'},header:s,protected:s,unprotected:s,iv:r,aad:r,ciphertext:r,tag:r,recipients:{type:'array',items:{type:'object',properties:{header:s,encrypted_key:r}}},payload:o,signatures:{type:'array',items:{type:'object',properties:{protected:s,header:s,signature:r,key:{type:'object'}}}},signature:r,verified:{type:'boolean',default:!1},key:{type:'object'},serialization:{type:'string',enum:['compact','json','flattened'],default:'compact'}}});t.exports=c},function(t,n,a){'use strict';var r=a(17),o=r.JSONSchema,s=new o({type:'string',format:'base64url'});t.exports=s},function(t,n,a){'use strict';var r=a(17),o=r.JSONSchema,s=new o({properties:{iss:{type:'string',format:'StringOrURI'},sub:{type:'string',format:'StringOrURI'},aud:{type:['array','string'],format:'StringOrURI',items:{format:'StringOrURI'}},exp:{type:'number',format:'NumericDate'},nbf:{type:'number',format:'NumericDate'},iat:{type:'number',format:'NumericDate'},jti:{type:'string'}}});t.exports=s},function(t,n,a){'use strict';var r=a(86),o=a(17),s=o.JSONSchema,d=new s({type:'object',properties:{typ:{type:'string'},cty:{type:'string',enum:['JWT']},alg:{type:'string',format:'StringOrURI'},jku:{type:'string',format:'URI'},kid:{type:'string'},x5u:{type:'string',format:'URI'},x5c:{type:'array',items:{type:'string',format:'base64'}},x5t:{type:'string',format:'base64url'},crit:{type:'array',items:{type:'string'},minItems:1},enc:{type:'string',format:'StringOrURI'},zip:{type:'string'}}});t.exports=d},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){var a=[],r=!0,o=!1,s;try{for(var d=t[Symbol.iterator](),l;!(r=(l=d.next()).done)&&(a.push(l.value),!(n&&a.length===n));r=!0);}catch(t){o=!0,s=t}finally{try{!r&&d['return']&&d['return']()}finally{if(o)throw s}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),s=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),d=a(38),l=a(128),c=a(211),u=c.DataError,f=function(){function t(){r(this,t)}return s(t,null,[{key:'sign',value:function t(n){var a=d(JSON.stringify(n.payload));if('compact'===n.serialization){var r=n.key,o=n.header.alg,s=d(JSON.stringify(n.header)),c=s+'.'+a;return l.sign(o,r,c).then(function(t){return c+'.'+t})}return'json'===n.serialization,'flattened'===n.serialization,Promise.reject(new u('Unsupported serialization'))}},{key:'verify',value:function t(n){n.signatures;var a=n.key,r=n.signature,s=n.header.alg;if(n.signature){var d=o(n.segments,2),c=d[0],f=d[1],m=c+'.'+f;return'none'===s?Promise.reject(new u('Signature provided to verify with alg: none')):l.verify(s,a,r,m).then(function(t){return n.verified=t,t})}if('none'===s){if(!a&&!r)return n.verified=!0,Promise.resolve(!0);if(a)return Promise.reject(new u('Key provided to verify signature with alg: none'))}return Promise.reject(new u('Missing signature(s)'))}}]),t}();t.exports=f},function(t,n){class a{static encode(t){let n=[];return Object.keys(t).forEach(function(a){n.push(encodeURIComponent(a)+'='+encodeURIComponent(t[a]))}),n.join('&')}static decode(t){let n={};return t.split('&').forEach(function(t){let a=t.split('='),r=decodeURIComponent(a[0]),o=decodeURIComponent(a[1]);n[r]=o}),n}}t.exports=a},function(t,n,a){'use strict';function r(t='fetch error'){return(n)=>{if(200<=n.status&&300>n.status)return n;let a=`${t}: ${n.status} ${n.statusText}`,r=new Error(a);throw r.response=n,r.statusCode=n.status,r}}t.exports=r},function(t,n,a){'use strict';function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n.default=t,n}Object.defineProperty(n,'__esModule',{value:!0}),n.requiresAuth=n.login=void 0,a(44);var o=a(202),s=r(o),d=n.login=function t(n){return fetch(n,{method:'HEAD',credentials:'include'}).then(function(t){return t.headers.get('user')}).then(function(t){return t?{authType:'WebID-TLS',idp:n,webId:t}:null})},l=n.requiresAuth=function t(n){if(401!==n.status)return!1;var a=n.headers.get('www-authenticate');if(!a)return!1;var r=s.parse(a);return'WebID-TLS'===r.scheme}},function(t,n,a){'use strict';(function(n){var r=a(430),o=a(431),s=a(432),d=a(1);t.exports=function(t){function a(){function t(a){var r=a.statements.length,n,o,s;for(n=0;n<r;n++)o=a.statements[n],s=o.tr,'undefined'!=typeof s&&(s.AJAR_pattern=null,s.AJAR_variable=null);for(var d in a.optional)t(a.optional[d])}var a=tabulator.qs,r=new d.rdf.Query,o=Q.length,n,s,l,c;for(n=0;n<o;n++)s=Q[n],c=s.parentNode,l=c.AJAR_statement,d.log.debug('Statement '+l),0<=s.getAttribute('class').indexOf('pred')&&(d.log.info('   We have a predicate'),d.utils.makeQueryRow(r,c)),0<=s.getAttribute('class').indexOf('obj')&&(d.log.info('   We have an object'),d.utils.makeQueryRow(r,c,!0));return a.addQuery(r),t(r.pat),r}function l(t){for(var n=[],a=arguments.length-1;0<a;a--)n[a-1]=arguments[a];var r=new Date().getTime(),o=t.apply(t,n),s=new Date().getTime();return d.log.info('BENCHMARK: kb delta: '+(ee.statements.length-l.lastkbsize)+', time elapsed for '+t+' was '+(s-r)+'ms'),l.lastkbsize=ee.statements.length,o}function c(t,n,a){var r=d.utils.AJARImage(o.src.icon_remove_node,'remove',void 0,G);return r.addEventListener('click',j),r.node=a,r.setAttribute('about',n.toNT()),r.style.marginLeft='5px',r.style.marginRight='10px',t.appendChild(r),r}function u(n,t,a){var r=G.createElement('tr');r.setAttribute('class','hoverControl');var o=r.appendChild(G.createElement('td'));o.setAttribute('style','margin: 0.2em; border: none; padding: 0; vertical-align: top;'),o.setAttribute('notSelectable','false'),o.setAttribute('about',n.toNT()),o.setAttribute('colspan','2');var s=o.appendChild(d.utils.AJARImage(d.icons.originalIconBase+'tbl-collapse.png','collapse',void 0,G));s.addEventListener('click',S);var l=o.appendChild(G.createElement('strong'));l.appendChild(G.createTextNode(d.utils.label(n))),d.widgets.makeDraggable(l,n),r.firstPane=null;var c=0,u=[],m=[];t&&(r.firstPane=t);;for(var h=0;h<d.panes.list.length;h++){var g=d.panes.list[h],b=g.label(n,G);b&&(u.push(g),g==t&&(c=u.length-1),m.push(b),!r.firstPane&&g.shouldGetFocus&&g.shouldGetFocus(n)&&(r.firstPane=g,c=u.length-1,d.log.info('the '+h+'th pane steals the focus')))}if(u.length||u.push(d.panes.internalPane),r.firstPane=r.firstPane||u[0],1!=u.length)for(var h=0;h<u.length;h++){var g=u[h],y=d.utils.AJARImage(g.icon,m[h],m[h],G);y.style.maxWidth='24px',y.style.maxHeight='24px';var v=function t(r,s){r.addEventListener('click',function(l){for(var c=o;c.parentNode&&'TABLE'!=c.nodeName;c=c.parentNode);if('TABLE'!=c.nodeName)throw'outline: internal error: ';var t=function t(n){for(var a=c.firstChild;a;a=a.nextSibling)'undefined'!=typeof a.pane&&(n&&a.pane!==n||(a.paneButton&&a.paneButton.setAttribute('class','paneHidden'),f(a),a.pane.requireQueryButton&&c.parentNode.className&&1==h&&G.getElementById('queryButton')&&G.getElementById('queryButton').setAttribute('style','display:none;')))},u=function t(o){var s;if(d.log.info('outline: Rendering pane (2): '+o.name),d.no_catch_pane_errors)s=o.render(n,G,a);else try{s=o.render(n,G,a)}catch(t){s=G.createElement('div'),s.setAttribute('class','exceptionPane');var l=G.createElement('pre');s.appendChild(l),l.appendChild(G.createTextNode(d.utils.stackString(t)))}o.requireQueryButton&&G.getElementById('queryButton')&&G.getElementById('queryButton').removeAttribute('style');var u=c.firstChild.nextSibling;u?c.insertBefore(s,u):c.appendChild(s),s.pane=o,s.paneButton=r},m=r.getAttribute('class');'paneHidden'===m?(!l.shiftKey&&t(),u(s),r.setAttribute('class','paneShown')):(t(s),r.setAttribute('class','paneHidden'));for(var m='paneShown',h=0,g=c.firstChild;g;g=g.nextSibling)g.pane&&g.pane.requireQueryButton&&h++},!1)};v(y,g),y.setAttribute('class',h==c?'paneShown':'paneHidden'),h===c&&(r.paneButton=y),r.firstChild.childNodes[1].appendChild(y)}return r.firstChild.tabulatorSelect=function(){C(this,!0)},r.firstChild.tabulatorDeselect=function(){C(this,!1)},r}function f(t){var n=t.parentNode,a=n.parentNode,r=G.createElement('table');a.replaceChild(r,n),n.removeChild(t),a.replaceChild(n,r)}function m(t,n,a){var r=t.createElement('TR');r.AJAR_statement=n,r.AJAR_inverse=a,r.setAttribute('predTR','true');var o=Y.outline_predicateTD(n.predicate,r,a);return r.appendChild(o),r}function h(t,n,a,r){if(d.log.debug('Property list length = '+n.length),0===n.length)return'';var o;a?(o=function t(n){return n.subject},n=n.sort(d.utils.RDFComparePredicateSubject)):(o=function t(n){return n.object},n=n.sort(d.utils.RDFComparePredicateObject));var l=n.length,c;for(c=0;c<l;c++){var u=n[c];if(!r||r(u.predicate,a)){var s=0,f=0,h=0,g;for(g=0;g+c<l&&n[c+g].predicate.sameTerm(u.predicate);g++)0<g&&o(n[c+g]).sameTerm(o(n[c+g-1]))&&s++,o(n[c+g]).lang&&'undefined'!=typeof tabulator&&tabulator.lb&&tabulator.lb.LanguagePreference&&(f+=1,0<=o(n[c+g]).lang.indexOf(tabulator.lb.LanguagePreference)&&h++);var b=m(G,u,a);t.appendChild(b);var y=b.firstChild,v=de.defaults[u.predicate.uri];if(0<h&&f==s+1){for(g=c;g<=c+s;g++)if('undefined'!=typeof tabulator&&tabulator.lb&&tabulator.lb.LanguagePreference&&0<=o(n[g]).lang.indexOf(tabulator.lb.LanguagePreference)){b.appendChild(Y.outline_objectTD(o(n[g]),v,void 0,u));break}c+=s;continue}b.appendChild(Y.outline_objectTD(o(u),v,void 0,u)),b.showNobj=function(r){var f=g-s,m=2*r<f?r:f,h=[];if(1!=f){y.setAttribute('rowspan',m==f?f:r+1);var b;m<f&&1==m&&y.setAttribute('rowspan',2);var l=0;for(b=1;b<g;b++)if(!ee.canon(o(n[c+b])).sameTerm(ee.canon(o(n[c+b-1])))){l++,u=n[c+b],v=de.defaults[u.predicate.uri];var w=G.createElement('tr');w.style.colspan='1',w.appendChild(Y.outline_objectTD(o(n[c+b]),v,void 0,u)),w.AJAR_statement=u,w.AJAR_inverse=a,t.appendChild(w),l>=m&&(w.style.display='none',h.push(w))}else d.log.info('there are duplicates here: %s',n[c+b-1]);m==f&&y.setAttribute('rowspan',l+1)}if(m<f){var x=G.createElement('tr'),_=x.appendChild(G.createElement('td'));if(_.setAttribute('style','margin: 0.2em; border: none; padding: 0; vertical-align: top;'),_.setAttribute('notSelectable','false'),f>r){var k=G.createElement('a');_.appendChild(k);var C=function(t){return t(y,g,s,r)}(function(t,a,r,o){return function(n){k.innerHTML='','none'==n?(k.appendChild(d.utils.AJARImage(d.icons.originalIconBase+'tbl-more-trans.png','more','See all',G)),k.appendChild(G.createTextNode(f-o+' more...')),t.setAttribute('rowspan',o+1)):(k.appendChild(d.utils.AJARImage(d.icons.originalIconBase+'tbl-shrink.png','(less)',void 0,G)),t.setAttribute('rowspan',f+1));for(var a=0,r;a<h.length;a++)r=h[a],r.style.display=n}}),T='none',E=function t(n){return C(T),T='none'==T?'':'none',n&&n.stopPropagation(),!1};E(),k.addEventListener('click',E,!1)}t.appendChild(x)}},b.showAllobj=function(){b.showNobj(g-s)},b.showNobj(10),c+=g-1}}}function g(){this.pat=ee.formula(),this.vars=[]}function b(){oe.push(oe[0]);var t=G.getElementById('queryChoices'),n=G.createElement('option'),a=G.createElement('input'),r=oe.length-1;a.setAttribute('type','checkBox'),a.setAttribute('value',r),t.appendChild(a),t.appendChild(G.createTextNode('Saved query #'+r)),t.appendChild(G.createElement('br')),n.setAttribute('value',r),n.appendChild(G.createTextNode('Saved query #'+r)),G.getElementById('queryJump').appendChild(n)}function y(){function t(a){var r=a.statements.length,n,o,s;for(n=0;n<r;n++)o=a.statements[n],s=o.tr,'undefined'!=typeof s&&(delete s.AJAR_pattern,delete s.AJAR_variable);for(var d in a.optional)t(a.optional[d])}t(se.pat),d.utils.clearVariableNames(),oe[0]=se=new g}function v(t,n){d.log.debug('Button callbacks for '+n+' added');var a=function a(r){return function a(s){return(0<=s.indexOf('#')&&console.log('@@ makeIconCallback: Not expecting # in URI whose state changed: '+s),!!t)&&!!Z.ancestor(t,'DIV')&&(s==n&&(t.src=r,t.title=o.tooltips[r]),!0)}};te.addCallback('request',a(o.src.icon_requested)),te.addCallback('done',a(o.src.icon_fetched)),te.addCallback('fail',a(o.src.icon_failed))}function w(t){var n=t.getAttribute('class');return n&&0<=n.indexOf('selected')}function x(t){var n=Y.targetOf(t),a=n.parentNode;ie.replaceIcon(a.parentNode,o.termWidgets.optOn,o.termWidgets.optOff,_),a.parentNode.parentNode.removeAttribute('optional')}function _(t){var n=Y.targetOf(t),a=n.parentNode;ie.replaceIcon(a.parentNode,o.termWidgets.optOff,o.termWidgets.optOn,x),a.parentNode.parentNode.setAttribute('optional','true')}function k(t,a){for(var r=o.termWidgets.optOn,s=o.termWidgets.optOff,d=t;d.parentNode;d=d.parentNode)for(;!0;)if(d.getAttribute('predTR')){var n=d.getAttribute('parentOfSelected');n=n?parseInt(n):0,0==n&&0<a&&ie.addIcon(d.childNodes[0],d.getAttribute('optional')?r:s,d.getAttribute('optional')?x:_),n+=a,d.setAttribute('parentOfSelected',n),0==n&&(d.removeAttribute('parentOfSelected'),ie.removeIcon(d.childNodes[0],d.getAttribute('optional')?r:s));break}else if(d.previousSibling&&'TR'==d.previousSibling.nodeName)d=d.previousSibling;else break}function C(t,n){if('TD'!=t.nodeName)throw d.log.debug('down'+t.nodeName),'Expected TD in setSelected: '+t.nodeName+t.textContent;d.log.debug('pass');var a=t.getAttribute('class');if(a||(a=''),n){a+=' selected',(0<=a.indexOf('pred')||0<=a.indexOf('obj'))&&k(t,1),Q.push(t);var r=d.utils.getTerm(t);Y.showURI(r);var s=t.AJAR_statement;if('undefined'==typeof s&&(s=t.parentNode.AJAR_statement),s){var l=s.why,c=s.why,u=d.store.updater.editable(l.uri,ee);u||(c=t.parentNode.AJAR_inverse?s.object:s.subject),u&&0<=a.indexOf('pred')&&ie.addIcon(t,o.termWidgets.addTri)}}else d.log.debug('cla=$'+a+'$'),'selected'==a&&(a=''),a=a.replace(' selected',''),(0<=a.indexOf('pred')||0<=a.indexOf('obj'))&&k(t,-1),0<=a.indexOf('pred')&&ie.removeIcon(t,o.termWidgets.addTri),Q=Q.filter(function(n){return n==t}),d.log.info('Deselecting '+t.textContent);'undefined'!=typeof sourceWidget&&Y.showSource(),t.setAttribute('class',a)}function T(){var t=Q.length,n;for(n=t-1;0<=n;n--)C(Q[n],!1);Q=[]}function E(t){var n=Y.targetOf(t),a=n.parentNode,r=d.utils.getAbout(ee,n),o=t.altKey?d.panes.internalPane:void 0;t.shiftKey?M(a,r,o):t.altKey?O(a,r,{pane:d.panes.internalPane,immediate:!0}):O(a,r)}function S(t){var n=Y.targetOf(t),a=d.utils.getAbout(ee,n),r=t.altKey?d.panes.internalPane:void 0,o=n.parentNode;P(o,a,r)}function A(t){var n=Y.targetOf(t),a=n.getAttribute('uri');t.altKey?te.fetch(d.rdf.uri.docpart(a),{force:!0}):te.refresh(ee.sym(d.rdf.uri.docpart(a)))}function I(t){var n=Y.targetOf(t),a=n.getAttribute('uri');t.altKey?te.fetch(d.rdf.uri.docpart(a),{force:!0}):te.refresh(ee.sym(d.rdf.uri.docpart(a)))}function N(t){var n=Y.targetOf(t),a=n.getAttribute('uri');te.fetch(d.rdf.uri.docpart(a))}function j(t){var n=Y.targetOf(t),a=n.node;1<a.childNodes.length&&(a=n.parentNode),f(a)}function R(t){if(Y.UserInput._tabulatorMode)return Y.UserInput.Click(t);var n=Y.targetOf(t),a=n.parentNode,r;for(r=d.utils.ancestor(n,'TD');r&&'false'!==r.getAttribute('notSelectable');r=d.utils.ancestor(r.parentNode,'TD'));if(r){var o=w(r),s=r.getAttribute('class');if(d.log.debug('Was node selected before: '+o),t.altKey)C(r,!w(r));else if(t.shiftKey)C(r,!0);else{if(T(),Y.UserInput.clearInputAndSave(t),C(r,!0),2==t.detail)return void t.stopPropagation();var l=r.parentNode.AJAR_statement;if(!l)return;var n=l.why,c=d.store.updater.editable(n.uri,ee);o&&c&&Y.UserInput.Click(t,Q[0])}d.log.debug('Was node selected after: '+w(r)+', count='+Q.length);var u=r.parentNode;if(u.AJAR_statement)var f=u.AJAR_statement.why;t.stopPropagation()}}function L(t){d.log.info('@TabulatorMousedown, dom.location is now '+G.location);var n=Y.targetOf(t);if(n){var a=n.tagName,r=n.parentNode,s=d.utils.getAbout(ee,n),l=null;'INPUT'==a||'TEXTAREA'==a||(Y.UserInput.clearMenu(),Y.UserInput.lastModified&&Y.UserInput.lastModified.parentNode.nextSibling&&Y.UserInput.backOut(),(!n.src||n.src.slice(n.src.indexOf('/icons/')+1)!=o.src.icon_show_choices&&n.src.slice(n.src.indexOf('/icons/')+1)!=o.src.icon_add_triple)&&Y.UserInput.clearInputAndSave(t),(!n.src||n.src.slice(n.src.indexOf('/icons/')+1)!=o.src.icon_show_choices)&&Y.UserInput.clearMenu(),t&&t.stopPropagation())}}function O(t,n,a){function o(){if(f=ee.canon(f),!t||!t.parentNode||!t.parentNode.parentNode)return!1;var n;if(d.log.info('@@ REPAINTING '),!c)n=re(f,void 0,l,a);else{for(d.log.info(' ... p is  '+t),n=t.firstChild;n.nextSibling&&(d.log.info(' ... checking node '+n),'table'!=n.nodeName);n=n.nextSibling);n=re(f,n,l,a)}c=!0,n.style.backgroundColor=d.utils.ancestor(t,'TABLE')&&'white'==d.utils.ancestor(t,'TABLE').style.backgroundColor?'#eee':'white';try{r.util.Event.off&&r.util.Event.off(t,'mousedown','dragMouseDown')}catch(t){console.log('YAHOO '+t)}d.utils.emptyNode(t).appendChild(n),Y.focusTd=t,d.log.debug('expand: Node for '+f+' expanded');for(var o=ee.each(f,d.ns.rdfs('seeAlso')),s=0;s<o.length;s++)25==s&&d.log.warn('expand: Warning: many ('+o.length+') seeAlso links for '+f),te.lookUpThing(o[s],f)}function s(t){if(arguments[3])return!0;var n=ee.canon(f);d.log.info('@@ expand: relevant subject='+n+', uri='+t+', already='+c);var a=ee.sym(t),r=ee.sym(d.rdf.uri.docpart(t));if(0<=t.indexOf('#'))throw'Internal error: hash in '+t;var s=function a(){if(!n.uri)return!0;var o=ee.uris(n);if(!o)return!1;for(var s=0;s<o.length;s++)for(var l=d.rdf.uri.docpart(o[s]);l;l=ee.HTTPRedirects[l])if(t==l)return!0;return!!ee.anyStatementMatching(n,void 0,void 0,r)};return!s()||(d.log.success('@@ expand OK: relevant subject='+n+', uri='+t+', source='+c),o(),!1)}a=a||{};var l=a.pane,c=!!a.already,u=a.immediate;d.log.info('@outline_expand, dom is now '+G.location),te.removeCallback('done','expand'),te.removeCallback('fail','expand');var f=ee.canon(n),m=f.uri?ee.sym(d.rdf.uri.docpart(f.uri)):f;a.solo&&(G.title=d.utils.label(f)),d.log.debug('outline_expand: dereferencing '+f);var h=G.createElement('span');t.appendChild(h),te.addCallback('done',s),te.addCallback('fail',s);var g=[];if(f.uri&&'rdf'==f.uri.split(':')[0])return void o();for(var b=0;b<g.length;b++){var y;if(y=g[b](f))return o(),d.log.debug('outline 1815'),void(y[1]&&ne.removeChild(ne.lastChild))}!f.uri||u||d.widgets.isAudio(f)||d.widgets.isVideo(f)||ee.holds(f,d.ns.rdf('type'),$rdf.Util.mediaTypeClass('application/pdf'))?o():te.nowOrWhenFetched(f.doc(),void 0,function(n,r){if(n)te.lookUpThing(f),o(),a.solo&&(G.title=d.utils.label(f));else{var s=G.createElement('pre');s.textContent=r,s.setAttribute('style','background-color: #fee;'),s.textContent='Unable to fetch '+f.doc()+': '+r,t.appendChild(s)}});;}function P(t,n){var a=d.utils.ancestor(t,'TR');if(a=d.utils.ancestor(a.parentNode,'TR'),a)var r=a.AJAR_statement;var o;for(o=t.parentNode;'TD'!=o.tagName;o=o.parentNode)if('undefined'==typeof o)return void alert('Not enclosed in TD!');d.log.debug('Collapsing subject '+n);var s;if(r&&(d.log.debug('looking up pred '+r.predicate.uri+'in defaults'),s=de.defaults[r.predicate.uri]),d.log.debug('view= '+s),'outline'==o.parentNode.parentNode.id)var l=o.parentNode;Y.replaceTD(Y.outline_objectTD(n,s,l,r),o)}function M(t,n){if(tabulator.isExtension&&'symbol'==n.termType&&0>n.uri.indexOf('#'))return void X.selectedBrowser.loadURI(n.uri);for(var a=null,r=t.parentNode;r;r=r.parentNode)d.log.debug('level '+r.tagName),'TD'==r.tagName&&(a=r);d.utils.emptyNode(a).appendChild(re(n)),G.title=d.utils.label(n),a.setAttribute('about',n.toNT())}function D(t,n){function a(t,n){}}function B(t){var n=ee.sym(t);this.GotoSubject(n,!0)}function U(t,n,a){de.properties[t]||(de.properties[t]=[]),de.properties[t].push(n),a&&(de.defaults[t]=n)}function q(t){var n;if('Literal'==t.termType){var a={integer:'text-align: right;',decimal:'text-align: \'.\';',double:'text-align: \'.\';'};n=G.createElement('span'),n.textContent=t.value;var r='';if(t.datatype&&t.datatype.uri){var s=d.ns.xsd('').uri;t.datatype.uri.slice(0,s.length)==s&&(r=a[t.datatype.uri.slice(s.length)])}n.setAttribute('style',r?r:'white-space: pre-wrap;')}else if('NamedNode'==t.termType||'BlankNode'==t.termType){if(n=G.createElement('span'),n.setAttribute('about',t.toNT()),Y.appendAccessIcons(ee,n,t),'NamedNode'!=t.termType)n.appendChild(G.createTextNode(d.utils.label(t)));else if('tel:'==t.uri.slice(0,4)){var l=t.uri.slice(4),c=G.createElement('a');n.appendChild(G.createTextNode(l)),c.setAttribute('href',t.uri),c.appendChild(d.utils.AJARImage(o.src.icon_telephone,'phone','phone '+l,G)),n.appendChild(c),c.firstChild.setAttribute('class','phoneIcon')}else n.appendChild(G.createTextNode(d.utils.label(t))),d.widgets.makeDraggable(n,t);}else if('Collection'==t.termType){n=G.createElement('table'),n.setAttribute('about',t.toNT());for(var u=0;u<t.elements.length;u++){var f=t.elements[u],m=n.appendChild(G.createElement('tr')),h=m.appendChild(G.createElement('td'));h.setAttribute('style','margin: 0.2em; border: none; padding: 0; vertical-align: top;'),h.setAttribute('notSelectable','false'),h.setAttribute('about',t.toNT()),h.innerHTML=u+1+')',m.appendChild(Y.outline_objectTD(f))}}else'Graph'==t.termType?(n=d.panes.dataContentPane.statementsAsTables(t.statements,G),n.setAttribute('class','nestedFormula')):(d.log.error('Object '+t+' has unknown term type: '+t.termType),n=G.createTextNode('[unknownTermType:'+t.termType+']'));return d.log.debug('contents: '+n.innerHTML),n}function F(t){var n=d.utils.AJARImage(t.uri,d.utils.label(t),d.utils.label(t),G);return n.setAttribute('class','outlineImage'),n}function z(t){var n=G.createElement('a'),a='NamedNode'==t.termType?t.uri:t.value;if(!a)return q(t);var r=a.indexOf('mailto:');return a=0<=r?a.slice(r+7):a,n.setAttribute('href','mailto:'+a),n.appendChild(G.createTextNode(a)),n}function H(t){var a=pe(),n=t+a;return r.namespace(n),a}function W(t){var n=G.getElementById(t);n.style.display='none'==n.style.display?'block':'none'}function V(t){var n='cal',o=n+H(n),s=o+'Container',l=G.createElement('table'),c=G.createElement('a');c.innerHTML='<small>mm-dd: '+t.value+'[toggle]</small>',c.onclick=function(){W(s)},l.appendChild(c);var a=t.value.split('-'),u=a[0],f=a[1],d=2<a.length?a[2]:new Date().getFullYear();G.getElementById('divCal').appendChild(l);var m=l.appendChild(G.createElement('DIV'));return m.setAttribute('id',s),m.style.display='none',m.setAttribute('tag','calendar'),r[o]=new r.widget.Calendar('YAHOO.'+o,s,u+'/'+d),r[o].addRenderer(u+'/'+f,ce),r[o].render(),l}var G;if('undefined'!=typeof tabulator&&tabulator.isExtension){var J=Components.classes['@mozilla.org/appshell/window-mediator;1'].getService(Components.interfaces.nsIWindowMediator),K=J.getMostRecentWindow('navigator:browser'),X=K.getBrowser();G=t||K.document}else G=t;this.document=t,this.outlineIcons=o;var Z=this,Y=this,Q=[];this.selection=Q,this.ancestor=d.utils.ancestor,this.sparql=d.rdf.UpdateManager,this.kb=d.store;var ee=d.store,te=d.store.fetcher;G.outline=this,this.focusTd,this.UserInput=new s(this),this.clipboardAddress='tabulator:clipboard',this.UserInput.clipboardInit(this.clipboardAddress);var ne=this.outlineElement;this.init=function(){var t=G.getElementById('outline');t.outline=this},this.viewAndSaveQuery=function(){var t=tabulator.qs;d.log.info('outline.doucment is now '+Z.document.location);var n=a();if(tabulator.isExtension)tabulator.drawInBestView(n);else{var r;for(r=0;r<t.listeners.length;r++)t.listeners[r].getActiveView().view.drawQuery(n),t.listeners[r].updateQueryControls(t.listeners[r].getActiveView())}},l.lastkbsize=0,this.appendAccessIcons=function(t,n,a){if('NamedNode'==a.termType){var r=t.uris(a);r.sort();for(var o=null,s=0;s<r.length;s++)r[s]!=o&&(o=r[s],Y.appendAccessIcon(n,o))}},this.appendAccessIcon=function(t,n){if(!n)return'';var a=d.rdf.uri.docpart(n);if('http:'!=a.slice(0,5))return'';var r=te.getState(a),s,l,c;'unrequested'===r?(s=o.src.icon_unrequested,l='fetch',c=N):'requested'===r?(s=o.src.icon_requested,l='fetching',c=A):'fetched'===r?(s=o.src.icon_fetched,c=I,l='loaded'):'failed'===r?(s=o.src.icon_failed,l='failed',c=A):'unpermitted'===r?(s=o.src.icon_failed,c=A,l='no perm'):'unfetchable'===r?(s=o.src.icon_failed,c=A,l='cannot fetch'):d.log.error('?? state = '+r);var u=d.utils.AJARImage(s,l,o.tooltips[s].replace(/[Tt]his resource/,a),G);return u.setAttribute('uri',n),u.addEventListener('click',c),v(u,a),t.appendChild(u),u},tabulator.options={},tabulator.options.references=[];var ae;this.openCheckBox=function(){ae=K.open(' ','NewWin','menubar=0,location=no,status=no,directories=no,toolbar=no,scrollbars=yes,height=200,width=200'),ae.tabulator=tabulator,tabulator.options.names=['BY-NC-ND','BY-NC-SA','BY-NC','BY-ND','BY-SA','BY'];for(var t='<font face=\'arial\' size=\'2\'><form name =\'checkboxes\'>',n=tabulator.options.checkedLicenses,a=0;a<n.length;a++)t+='<input type=\'checkbox\' name = \'n'+a+'\' onClick = \'tabulator.options.submit()\''+(n[a]?'CHECKED':'')+' />CC: '+tabulator.options.names[a]+'<br />';t+='<br /> <a onclick=\'tabulator.options.selectAll()\'>[Select All] </a>',t+='<a onclick=\'tabulator.options.deselectAll()\'> [Deselect All]</a>',t+='</form></font>',ae.document.write(t),ae.document.close();var r;for(r=0;6>r;r++)tabulator.options.references[r]=ae.document.checkboxes.elements[r]},tabulator.options.checkedLicenses=[],tabulator.options.selectAll=function(){var t;for(t=0;6>t;t++)ae.document.checkboxes.elements[t].checked=!0,tabulator.options.references[t].checked=!0,tabulator.options.checkedLicenses[t]=!0},tabulator.options.deselectAll=function(){var t;for(t=0;6>t;t++)ae.document.checkboxes.elements[t].checked=!1,tabulator.options.references[t].checked=!1,tabulator.options.checkedLicenses[t]=!1},tabulator.options.submit=function(){alert('tabulator.options.submit: checked='+tabulator.options.references[0].checked);for(var t=0;6>t;t++)tabulator.options.checkedLicenses[t]=!!tabulator.options.references[t].checked},this.outline_objectTD=function t(n,a,s,l){var u=G.createElement('td');u.setAttribute('style','margin: 0.2em; border: none; padding: 0; vertical-align: top;'),u.setAttribute('notSelectable','false');var f='obj';if(l){var m=ee.each(l.why,ee.sym('http://creativecommons.org/ns#license'));d.log.info('licenses:'+l.why+': '+m);for(var h=['http://creativecommons.org/licenses/by-nc-nd/3.0/','http://creativecommons.org/licenses/by-nc-sa/3.0/','http://creativecommons.org/licenses/by-nc/3.0/','http://creativecommons.org/licenses/by-nd/3.0/','http://creativecommons.org/licenses/by-sa/3.0/','http://creativecommons.org/licenses/by/3.0/'],g=0;g<m.length;g++)for(var b=0;b<tabulator.options.checkedLicenses.length;b++)if(tabulator.options.checkedLicenses[b]&&m[g].uri==h[b]){f+=' licOkay';break}}('NamedNode'==n.termType||'BlankNode'==n.termType||'Literal'==n.termType&&n.value.slice&&('ftp://'==n.value.slice(0,6)||'https://'==n.value.slice(0,8)||'http://'==n.value.slice(0,7)))&&(u.setAttribute('about',n.toNT()),u.appendChild(d.utils.AJARImage(d.icons.originalIconBase+'tbl-expand-trans.png','expand',void 0,G)).addEventListener('click',E)),u.setAttribute('class',f),ee.whether(n,d.ns.rdf('type'),d.ns.link('Request'))&&(u.className='undetermined'),a||(a=q),u.appendChild(a(n)),s&&c(u,n,s);try{new r.util.DDExternalProxy(u)}catch(t){d.log.error('YAHOO Drag and drop not supported:\n'+t)}if(u.tabulatorSelect=function(){C(this,!0)},u.tabulatorDeselect=function(){C(this,!1)},l){var y=new d.rdf.IndexedFormula;y.statements.push(l);var v=ee.each(y,ee.sym('http://dig.csail.mit.edu/TAMI/2007/amord/tms#justification'));if(v.length){var w=G.createElement('span');1<v.length&&(w.innerHTML=' &times; '+v.length),w.setAttribute('class','inquiry'),w.insertBefore(d.utils.AJARImage(o.src.icon_display_reasons,'explain',void 0,G),w.firstChild),u.appendChild(w)}}return u.addEventListener('click',R),u},this.outline_predicateTD=function t(n,a,s,l){var c=G.createElement('TD');switch(c.setAttribute('about',n.toNT()),c.setAttribute('class',l?'pred internal':'pred'),n.termType){case'BlankNode':c.className='undetermined';case'NamedNode':var u=d.utils.predicateLabelForXML(n,s);break;case'Collection':u=d.utils.predicateLabelForXML(n.elements[0],s);}u=u.slice(0,1).toUpperCase()+u.slice(1);var f=G.createElement('TD');for(var m in f.setAttribute('style','margin: 0.2em; border: none; padding: 0; vertical-align: top;'),f.setAttribute('notSelectable','true'),f.appendChild(G.createTextNode(u)),c.appendChild(f),f.style.width='100%',c.appendChild(ie.construct(G)),o.termWidgets){if(!a||!a.AJAR_statement)break;o.termWidgets[m].filter&&o.termWidgets[m].filter(a.AJAR_statement,'pred',s)&&ie.addIcon(c,o.termWidgets[m])}try{new r.util.DDExternalProxy(c)}catch(t){d.log.error('drag and drop not supported')}return c.tabulatorSelect=function(){C(this,!0)},c.tabulatorDeselect=function(){C(this,!1)},c.addEventListener('click',R),c};var re=this.propertyTable=function t(n,a,r,o){if(d.log.debug('Property table for: '+n),n=ee.canon(n),!a){var a=G.createElement('table'),s=u(n,r,o);if(a.appendChild(s),s.firstPane){'undefined'==typeof tabulator&&alert('tabulator undefined');var l;try{d.log.info('outline: Rendering pane (1): '+s.firstPane.name),l=s.firstPane.render(n,G,o)}catch(t){l=G.createElement('div'),l.setAttribute('class','exceptionPane');var c=G.createElement('pre');l.appendChild(c),c.appendChild(G.createTextNode(d.utils.stackString(t)))}s.firstPane.requireQueryButton&&G.getElementById('queryButton')&&G.getElementById('queryButton').removeAttribute('style'),a.appendChild(l),l.pane=s.firstPane,l.paneButton=s.paneButton}return a}return d.log.info('Re-expand: '+a),a};this.propertyTR=m,this.appendPropertyTRs=h;var ie={};n.termWidget=ie,ie.construct=function(t){t=t||document;var n=t.createElement('TD');return n.setAttribute('style','margin: 0.2em; border: none; padding: 0; vertical-align: top;'),n.setAttribute('class','iconTD'),n.setAttribute('notSelectable','true'),n.style.width='0px',n},ie.addIcon=function(t,n,a){var r=t.childNodes[1];if(r){var o=r.style.width,s=d.utils.AJARImage(n.src,n.alt,n.tooltip,G);o=parseInt(o),o+=n.width,r.style.width=o+'px',r.appendChild(s),a&&s.addEventListener('click',a)}},ie.removeIcon=function(t,n){var a=t.childNodes[1];if(a){var r=a.style.width;r=parseInt(r),r-=n.width,a.style.width=r+'px';for(var o=0;o<a.childNodes.length;o++){var s=a.childNodes[o],l=s.src;try{var c=G.location.href.split('?')[0]}catch(t){console.log(t);var c=''}var u=d.rdf.uri.join(n.src,c);l==u&&a.removeChild(s)}}},ie.replaceIcon=function(t,n,a,r){ie.removeIcon(t,n),ie.addIcon(t,a,r)};var oe=[],se=oe[0]=new g;this.statusBarClick=function(t){var n=d.utils.getTarget(t);n.label&&(K.content.location=n.label)},this.showURI=function t(n){if(n&&G.getElementById('UserURI'))G.getElementById('UserURI').value='NamedNode'==n.termType?n.uri:'';else if(n&&tabulator.isExtension){var a=X.ownerDocument.getElementById('tabulator-display');a.setAttribute('style','display:block'),a.label='NamedNode'==n.termType?n.uri:'',''==a.label?a.setAttribute('style','display:none'):a.addEventListener('click',this.statusBarClick,!1)}},this.showSource=function t(){if('undefined'!=typeof sourceWidget){for(var n in sourceWidget.sources)sourceWidget.sources[n].setAttribute('class','');for(var a=0;a<Q.length;a++){if(!Q[a].parentNode){console.log('showSource: EH? no parentNode? '+Q[a]+'\n');continue}var r=Q[a].parentNode.AJAR_statement;if(r){var o=r.why;o&&o.uri?sourceWidget.highlight(o,!0):tabulator.isExtension&&'BlankNode'==o.termType&&sourceWidget.highlight(ee.sym(tabulator.sourceURI),!0)}}}},this.getSelection=function t(){return Q},this.targetOf=function(t){var n;if(!t)var t=K.event;if(t.target)n=t.target;else if(t.srcElement)n=t.srcElement;else return d.log.error('can\'t get target for event '+t),!1;return 3==n.nodeType&&(n=n.parentNode),n},this.walk=function t(n,a){var r=a||Q[0],o;switch(n){case'down':try{o=r.parentNode.nextSibling.lastChild}catch(t){return void this.walk('up')}T(),C(o,!0);break;case'up':try{o=r.parentNode.previousSibling.lastChild}catch(t){return}T(),C(o,!0);break;case'right':if(T(),r.nextSibling||'strong'==r.lastChild.tagName)C(r.nextSibling,!0);else{var s=G.evaluate('table/div/tr/td[2]',r,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;C(s,!0)}break;case'left':if(T(),r.previousSibling&&'undetermined'==r.previousSibling.className)return C(r.previousSibling,!0),!0;C(d.utils.ancestor(r.parentNode,'TD'),!0);break;case'moveTo':T(),C(a,!0);}'down'!=n&&'up'!=n||o.tabulatorSelect||this.walk(n)},this.OutlinerKeypressPanel=function t(n){function a(t){t&&G.getElementById('UserURI')&&(G.getElementById('UserURI').value='NamedNode'==t.termType?t.uri:'')}if((d.log.info('Key '+n.keyCode+' pressed'),'TEXTAREA'!=d.utils.getTarget(n).tagName)&&'UserURI'!=d.utils.getTarget(n).id&&!(1<Q.length)){if(0==Q.length)return void((13==n.keyCode||38==n.keyCode||40==n.keyCode||37==n.keyCode||39==n.keyCode)&&(this.walk('right',Y.focusTd),a(d.utils.getAbout(ee,Q[0]))));var r=Q[0];switch(te.removeCallback('done','setSelectedAfterward'),te.removeCallback('fail','setSelectedAfterward'),n.keyCode){case 13:if('HTML'==d.utils.getTarget(n).tagName){var o=d.utils.getAbout(ee,r),s=r.parentNode.AJAR_statement.why,l=d.store.updater.editable(s.uri,ee);o?Z.GotoSubject(o,!0):l&&Y.UserInput.Enter(r)}else{this.UserInput.Keypress(n);var c=this.walk('down');n.stopPropagation()}return;case 38:this.walk('up'),n.stopPropagation(),n.preventDefault();break;case 40:this.walk('down'),n.stopPropagation(),n.preventDefault();}if('INPUT'!=d.utils.getTarget(n).tagName){switch(n.keyCode){case 46:case 8:var s=r.parentNode.AJAR_statement.why,l=d.store.updater.editable(s.uri,ee);l&&(n.preventDefault(),this.UserInput.Delete(r));break;case 37:if(this.walk('left'))return;var u=d.utils.ancestor(r.parentNode,'TD');P(r,d.utils.getAbout(ee,u));break;case 39:var f=d.utils.getAbout(ee,r);if(f){var m=function t(n){return!!arguments[3]||(h('right',r),a(d.utils.getAbout(ee,Q[0])),!0)},h=this.walk;if(r.nextSibling)return void this.walk('right');'TABLE'!=r.firstChild.tagName&&(te.addCallback('done',m),te.addCallback('fail',m),O(r,f,{pane:d.panes.defaultPane})),m()}break;case 38:case 40:break;default:switch(n.charCode){case 99:if(n.ctrlKey){Y.UserInput.copyToClipboard(Y.clipboardAddress,r);break}case 118:case 112:if(n.ctrlKey){Y.UserInput.pasteFromClipboard(Y.clipboardAddress,r);break}default:'HTML'==d.utils.getTarget(n).tagName;}}if(a(d.utils.getAbout(ee,Q[0])),Q[0]){var g=d.utils.findPos(Q[0])[1];g+Q[0].clientHeight>K.scrollY+K.innerHeight&&d.utils.getEyeFocus(Q[0],!0,!0,K),g<K.scrollY+54&&d.utils.getEyeFocus(Q[0],!0,void 0,K)}}}},this.OutlinerMouseclickPanel=function(t){switch(Y.UserInput._tabulatorMode){case 0:L(t);break;case 1:Y.UserInput.Click(t);break;default:}},this.replaceTD=function t(n,a){var r;w(a)&&(r=!0);for(var o=Q.length-1;-1<o;o--)for(var s=Q[o];s.parentNode;s=s.parentNode)s===a&&C(Q[o],!1);a.parentNode.replaceChild(n,a),r&&C(n,!0)},Z.outline_refocus=M,this.GotoFormURI_enterKey=function(t){13==t.keyCode&&Z.GotoFormURI(t)},this.GotoFormURI=function(t){B(G.getElementById('UserURI').value)},this.GotoURIinit=function(t){var n=ee.sym(t);this.GotoSubject(n)},this.GotoSubject=function(t,n,a,r,o,s){function l(){var n=G.createElement('TR');n.style.verticalAlign='top',s.appendChild(n);var a=Y.outline_objectTD(t,void 0,n);return n.appendChild(a),a}if(s||(s=G.getElementById('outline')),r&&d.utils.emptyNode(s),tabulator.isExtension)var c=function t(n){var a='@mozilla.org/network/simple-uri;1',r=Components.interfaces.nsIURI,o=Components.classes[a].createInstance(r);return o.spec=n,o};var u=l();if(r&&(G.title=d.utils.label(t)),n){O(u,t,{pane:a,solo:r});var f=u.parentNode;d.utils.getEyeFocus(f,!1,void 0,K)}if(r&&tabulator.isExtension){var m=Components.classes['@mozilla.org/browser/global-history;2'].getService(Components.interfaces.nsIGlobalHistory2);m.addURI(c(t.uri),!1,!0,o)}return t},this.GotoURIAndOpen=function(t){var n=B(t)};var de={properties:[],defaults:[],classes:[]},le=d.ns;U(le.foaf('depiction').uri,F,!0),U(le.foaf('img').uri,F,!0),U(le.foaf('thumbnail').uri,F,!0),U(le.foaf('logo').uri,F,!0),U(le.foaf('mbox').uri,z,!0);var Y=this,pe=function(){var t=0;return function(){return t+=1,t}}(),ce=function t(n,a){r.util.Dom.addClass(a,'holiday')};return this.createTabURI=function(){G.getElementById('UserURI').value=G.URL+'?uri='+G.getElementById('UserURI').value},this.UserInput.setSelected=C,this.UserInput.deselectAll=T,this.UserInput.views=de,this.outline_expand=O,tabulator.isExtension&&(K.addEventListener('unload',function(){var t=X.ownerDocument.getElementById('tabulator-display');t.label='',t.setAttribute('style','display:none')},!0),X.mPanelContainer.addEventListener('select',function(){var t=X.ownerDocument.getElementById('tabulator-display');t.label='',t.setAttribute('style','display:none')},!0)),this}}).call(n,a(4))},function(t,n,a){t.exports=a(225)},function(t,n,a){'use strict';(function(n){function r(t){console.log(t.slice(0,-1))}if(n.dump=r,'undefined'==typeof o){var o={isExtension:!1};o.mode='webapp',o.preferences={value:[],get:function t(n){return this.value[n]},set:function t(n,a){if('string'!=typeof a)throw console.log('Non-string value of preference '+n+': '+a),new Error('Non-string value of preference '+n+': '+a);this.value[n]=a}},n.tabulator=o}var s=a(1),d=s.rdf;if(n.$rdf=d,'undefined'!=typeof window&&(window.UI=s),d.log=s.log,s.panes=a(429),s.OutlineObject=a(223),'undefined'!=typeof window){var l=window.document;l.outline=s.outline=new s.OutlineObject(l)}n.require=function t(n){if('mashlib'===n)return s;throw new Error('Cannot require (this is a Mashlib-specific require stub)')},t.exports=s}).call(n,a(4))},function(t,n,a){(function(a,r){var o,s;/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */(function(){function d(t){var n=!1;return function(){if(n)throw new Error('Callback was already called.');n=!0,t.apply(c,arguments)}}var l={},c,u;c=this,null!=c&&(u=c.async),l.noConflict=function(){return c.async=u,l};var f=Object.prototype.toString,m=Array.isArray||function(t){return'[object Array]'===f.call(t)},h=function(t,n){for(var a=0;a<t.length;a+=1)n(t[a],a,t)},g=function(t,n){if(t.map)return t.map(n);var r=[];return h(t,function(t,o,s){r.push(n(t,o,s))}),r},b=function(t,n,r){return t.reduce?t.reduce(n,r):(h(t,function(t,o,s){r=n(r,t,o,s)}),r)},y=function(t){if(Object.keys)return Object.keys(t);var n=[];for(var a in t)t.hasOwnProperty(a)&&n.push(a);return n};'undefined'!=typeof a&&a.nextTick?(l.nextTick=a.nextTick,l.setImmediate='undefined'==typeof r?l.nextTick:function(t){r(t)}):'function'==typeof r?(l.nextTick=function(t){r(t)},l.setImmediate=l.nextTick):(l.nextTick=function(t){setTimeout(t,0)},l.setImmediate=l.nextTick),l.each=function(t,n,a){function r(n){n?(a(n),a=function(){}):(o+=1,o>=t.length&&a())}if(a=a||function(){},!t.length)return a();var o=0;h(t,function(t){n(t,d(r))})},l.forEach=l.each,l.eachSeries=function(t,n,a){if(a=a||function(){},!t.length)return a();var r=0,o=function(){n(t[r],function(n){n?(a(n),a=function(){}):(r+=1,r>=t.length?a():o())})};o()},l.forEachSeries=l.eachSeries,l.eachLimit=function(t,n,a,r){var o=v(n);o.apply(null,[t,a,r])},l.forEachLimit=l.eachLimit;var v=function(t){return function(n,a,r){if(r=r||function(){},!n.length||0>=t)return r();var o=0,s=0,d=0;(function l(){if(o>=n.length)return r();for(;d<t&&s<n.length;)s+=1,d+=1,a(n[s-1],function(t){t?(r(t),r=function(){}):(o+=1,d-=1,o>=n.length?r():l())})})()}},w=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[l.each].concat(n))}},x=function(t,n){return function(){var a=Array.prototype.slice.call(arguments);return n.apply(null,[v(t)].concat(a))}},_=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[l.eachSeries].concat(n))}},k=function(t,n,a,r){if(n=g(n,function(t,n){return{index:n,value:t}}),!r)t(n,function(t,n){a(t.value,function(t){n(t)})});else{var o=[];t(n,function(t,n){a(t.value,function(a,r){o[t.index]=r,n(a)})},function(t){r(t,o)})}};l.map=w(k),l.mapSeries=_(k),l.mapLimit=function(t,n,a,r){return C(n)(t,a,r)};var C=function(t){return x(t,k)};l.reduce=function(t,n,a,r){l.eachSeries(t,function(t,r){a(n,t,function(t,a){n=a,r(t)})},function(t){r(t,n)})},l.inject=l.reduce,l.foldl=l.reduce,l.reduceRight=function(t,n,a,r){var o=g(t,function(t){return t}).reverse();l.reduce(o,n,a,r)},l.foldr=l.reduceRight;var T=function(t,n,a,r){var o=[];n=g(n,function(t,n){return{index:n,value:t}}),t(n,function(t,n){a(t.value,function(a){a&&o.push(t),n()})},function(t){r(g(o.sort(function(t,n){return t.index-n.index}),function(t){return t.value}))})};l.filter=w(T),l.filterSeries=_(T),l.select=l.filter,l.selectSeries=l.filterSeries;var E=function(t,n,a,r){var o=[];n=g(n,function(t,n){return{index:n,value:t}}),t(n,function(t,n){a(t.value,function(a){a||o.push(t),n()})},function(t){r(g(o.sort(function(t,n){return t.index-n.index}),function(t){return t.value}))})};l.reject=w(E),l.rejectSeries=_(E);var S=function(t,n,a,r){t(n,function(t,n){a(t,function(a){a?(r(t),r=function(){}):n()})},function(t){r()})};l.detect=w(S),l.detectSeries=_(S),l.some=function(t,n,a){l.each(t,function(t,r){n(t,function(t){t&&(a(!0),a=function(){}),r()})},function(t){a(!1)})},l.any=l.some,l.every=function(t,n,a){l.each(t,function(t,r){n(t,function(t){t||(a(!1),a=function(){}),r()})},function(t){a(!0)})},l.all=l.every,l.sortBy=function(t,n,a){l.map(t,function(t,a){n(t,function(n,r){n?a(n):a(null,{value:t,criteria:r})})},function(t,n){if(t)return a(t);var r=function(t,n){var r=t.criteria,a=n.criteria;return r<a?-1:r>a?1:0};a(null,g(n.sort(r),function(t){return t.value}))})},l.auto=function(t,n){n=n||function(){};var a=y(t),r=a.length;if(!r)return n();var o={},s=[],d=function(t){s.unshift(t)},c=function(t){for(var n=0;n<s.length;n+=1)if(s[n]===t)return void s.splice(n,1)},u=function(){r--,h(s.slice(0),function(t){t()})};d(function(){if(!r){var t=n;n=function(){},t(null,o)}}),h(a,function(a){var r=m(t[a])?t[a]:[t[a]],s=function(t){var r=Array.prototype.slice.call(arguments,1);if(1>=r.length&&(r=r[0]),t){var s={};h(y(o),function(t){s[t]=o[t]}),s[a]=r,n(t,s),n=function(){}}else o[a]=r,l.setImmediate(u)},f=r.slice(0,_Mathabs(r.length-1))||[],g=function(){return b(f,function(t,n){return t&&o.hasOwnProperty(n)},!0)&&!o.hasOwnProperty(a)};if(g())r[r.length-1](s,o);else{var v=function(){g()&&(c(v),r[r.length-1](s,o))};d(v)}})},l.retry=function(t,n,a){var r=5,o=[];'function'==typeof t&&(a=n,n=t,t=r),t=parseInt(t,10)||r;var s=function(r,s){for(var d=function(t,n){return function(a){t(function(t,r){a(!t||n,{err:t,result:r})},s)}};t;)o.push(d(n,!(t-=1)));l.series(o,function(t,n){n=n[n.length-1],(r||a)(n.err,n.result)})};return a?s():s},l.waterfall=function(t,n){if(n=n||function(){},!m(t)){var a=new Error('First argument to waterfall must be an array of functions');return n(a)}if(!t.length)return n();var r=function(t){return function(a){if(a)n.apply(null,arguments),n=function(){};else{var o=Array.prototype.slice.call(arguments,1),s=t.next();s?o.push(r(s)):o.push(n),l.setImmediate(function(){t.apply(null,o)})}}};r(l.iterator(t))()};var A=function(t,n,a){if(a=a||function(){},m(n))t.map(n,function(t,n){t&&t(function(t){var a=Array.prototype.slice.call(arguments,1);1>=a.length&&(a=a[0]),n.call(null,t,a)})},a);else{var r={};t.each(y(n),function(t,a){n[t](function(n){var o=Array.prototype.slice.call(arguments,1);1>=o.length&&(o=o[0]),r[t]=o,a(n)})},function(t){a(t,r)})}};l.parallel=function(t,n){A({map:l.map,each:l.each},t,n)},l.parallelLimit=function(t,n,a){A({map:C(n),each:v(n)},t,a)},l.series=function(t,n){if(n=n||function(){},m(t))l.mapSeries(t,function(t,n){t&&t(function(t){var a=Array.prototype.slice.call(arguments,1);1>=a.length&&(a=a[0]),n.call(null,t,a)})},n);else{var a={};l.eachSeries(y(t),function(n,r){t[n](function(t){var o=Array.prototype.slice.call(arguments,1);1>=o.length&&(o=o[0]),a[n]=o,r(t)})},function(t){n(t,a)})}},l.iterator=function(t){var n=function(a){var r=function(){return t.length&&t[a].apply(null,arguments),r.next()};return r.next=function(){return a<t.length-1?n(a+1):null},r};return n(0)},l.apply=function(t){var n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,n.concat(Array.prototype.slice.call(arguments)))}};var I=function(t,n,a,o){var s=[];t(n,function(t,n){a(t,function(t,a){s=s.concat(a||[]),n(t)})},function(t){o(t,s)})};l.concat=w(I),l.concatSeries=_(I),l.whilst=function(t,n,a){t()?n(function(r){return r?a(r):void l.whilst(t,n,a)}):a()},l.doWhilst=function(t,n,a){t(function(r){if(r)return a(r);var o=Array.prototype.slice.call(arguments,1);n.apply(null,o)?l.doWhilst(t,n,a):a()})},l.until=function(t,n,a){t()?a():n(function(r){return r?a(r):void l.until(t,n,a)})},l.doUntil=function(t,n,a){t(function(r){if(r)return a(r);var o=Array.prototype.slice.call(arguments,1);n.apply(null,o)?a():l.doUntil(t,n,a)})},l.queue=function(t,n){function a(t,n,a,r){return t.started||(t.started=!0),m(n)||(n=[n]),0==n.length?l.setImmediate(function(){t.drain&&t.drain()}):void h(n,function(n){var o={data:n,callback:'function'==typeof r?r:null};a?t.tasks.unshift(o):t.tasks.push(o),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),l.setImmediate(t.process)})}n===void 0&&(n=1);var r=0,o={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,n){a(o,t,!1,n)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,n){a(o,t,!0,n)},process:function(){if(!o.paused&&r<o.concurrency&&o.tasks.length){var n=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),r+=1;var a=function(){r-=1,n.callback&&n.callback.apply(n,arguments),o.drain&&0===o.tasks.length+r&&o.drain(),o.process()},s=d(a);t(n.data,s)}},length:function(){return o.tasks.length},running:function(){return r},idle:function(){return 0===o.tasks.length+r},pause:function(){!0===o.paused||(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)l.setImmediate(o.process)}}};return o},l.priorityQueue=function(t,n){function a(t,n){return t.priority-n.priority}function r(t,n,a){for(var r=-1,o=t.length-1,s;r<o;)s=r+(o-r+1>>>1),0<=a(n,t[s])?r=s:o=s-1;return r}function o(t,n,o,s){return t.started||(t.started=!0),m(n)||(n=[n]),0==n.length?l.setImmediate(function(){t.drain&&t.drain()}):void h(n,function(n){var d={data:n,priority:o,callback:'function'==typeof s?s:null};t.tasks.splice(r(t.tasks,d,a)+1,0,d),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),l.setImmediate(t.process)})};var s=l.queue(t,n);return s.push=function(t,n,a){o(s,t,n,a)},delete s.unshift,s},l.cargo=function(t,n){var a=!1,r=[],o={tasks:r,payload:n,saturated:null,empty:null,drain:null,drained:!0,push:function(t,a){m(t)||(t=[t]),h(t,function(t){r.push({data:t,callback:'function'==typeof a?a:null}),o.drained=!1,o.saturated&&r.length===n&&o.saturated()}),l.setImmediate(o.process)},process:function s(){if(!a){if(0===r.length)return o.drain&&!o.drained&&o.drain(),void(o.drained=!0);var d='number'==typeof n?r.splice(0,n):r.splice(0,r.length),l=g(d,function(t){return t.data});o.empty&&o.empty(),a=!0,t(l,function(){a=!1;var t=arguments;h(d,function(n){n.callback&&n.callback.apply(null,t)}),s()})}},length:function(){return r.length},running:function(){return a}};return o};var N=function(t){return function(n){var a=Array.prototype.slice.call(arguments,1);n.apply(null,a.concat([function(n){var a=Array.prototype.slice.call(arguments,1);'undefined'!=typeof console&&(n?console.error&&console.error(n):console[t]&&h(a,function(n){console[t](n)}))}]))}};l.log=N('log'),l.dir=N('dir'),l.memoize=function(t,n){var a={},r={};n=n||function(t){return t};var o=function(){var o=Array.prototype.slice.call(arguments),s=o.pop(),d=n.apply(null,o);d in a?l.nextTick(function(){s.apply(null,a[d])}):d in r?r[d].push(s):(r[d]=[s],t.apply(null,o.concat([function(){a[d]=arguments;var t=r[d];delete r[d];for(var n=0,o=t.length;n<o;n++)t[n].apply(null,arguments)}])))};return o.memo=a,o.unmemoized=t,o},l.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},l.times=function(t,n,a){for(var r=[],o=0;o<t;o++)r.push(o);return l.map(r,n,a)},l.timesSeries=function(t,n,a){for(var r=[],o=0;o<t;o++)r.push(o);return l.mapSeries(r,n,a)},l.seq=function(){var t=arguments;return function(){var n=this,a=Array.prototype.slice.call(arguments),r=a.pop();l.reduce(t,a,function(t,a,r){a.apply(n,t.concat([function(){var t=arguments[0],n=Array.prototype.slice.call(arguments,1);r(t,n)}]))},function(t,a){r.apply(n,[t].concat(a))})}},l.compose=function(){return l.seq.apply(null,Array.prototype.reverse.call(arguments))};var j=function(t,n){var a=function(){var a=this,r=Array.prototype.slice.call(arguments),o=r.pop();return t(n,function(t,n){t.apply(a,r.concat([n]))},o)};if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return a.apply(this,r)}return a};l.applyEach=w(j),l.applyEachSeries=_(j),l.forever=function(t,n){function a(r){if(r){if(n)return n(r);throw r}t(a)}a()},'undefined'!=typeof t&&t.exports?t.exports=l:!0?(o=[],s=function(){return l}.apply(n,o),!(s!==void 0&&(t.exports=s))):c.async=l})()}).call(n,a(13),a(48).setImmediate)},function(t,n,a){(function(t,n){(function(t,a){'use strict';function r(t){'function'!=typeof t&&(t=new Function(''+t));for(var n=Array(arguments.length-1),a=0;a<n.length;a++)n[a]=arguments[a+1];var r={callback:t,args:n};return b[g]=r,x(g),g++}function o(t){delete b[t]}function s(t){var n=t.callback,a=t.args;switch(a.length){case 0:n();break;case 1:n(a[0]);break;case 2:n(a[0],a[1]);break;case 3:n(a[0],a[1],a[2]);break;default:n.apply(void 0,a);}}function d(t){if(y)setTimeout(d,0,t);else{var n=b[t];if(n){y=!0;try{s(n)}finally{o(t),y=!1}}}}function l(){x=function(t){n.nextTick(function(){d(t)})}}function c(){if(t.postMessage&&!t.importScripts){var n=!0,a=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage('','*'),t.onmessage=a,n}}function u(){var n='setImmediate$'+Math.random()+'$',a=function(a){a.source===t&&'string'==typeof a.data&&0===a.data.indexOf(n)&&d(+a.data.slice(n.length))};t.addEventListener?t.addEventListener('message',a,!1):t.attachEvent('onmessage',a),x=function(a){t.postMessage(n+a,'*')}}function f(){var t=new MessageChannel;t.port1.onmessage=function(t){var n=t.data;d(n)},x=function(n){t.port2.postMessage(n)}}function m(){var t=v.documentElement;x=function(n){var a=v.createElement('script');a.onreadystatechange=function(){d(n),a.onreadystatechange=null,t.removeChild(a),a=null},t.appendChild(a)}}function h(){x=function(t){setTimeout(d,0,t)}}if(!t.setImmediate){var g=1,b={},y=!1,v=t.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(t),x;w=w&&w.setTimeout?w:t,'[object process]'==={}.toString.call(t.process)?l():c()?u():t.MessageChannel?f():v&&'onreadystatechange'in v.createElement('script')?m():h(),w.setImmediate=r,w.clearImmediate=o}})('undefined'==typeof self?'undefined'==typeof t?this:t:self)}).call(n,a(4),a(13))},function(t,n){},function(t,n){(function(n){t.exports=n}).call(n,{})},function(t,n,a){function r(t){return a(o(t))}function o(t){var n=s[t];if(!(n+1))throw new Error('Cannot find module \''+t+'\'.');return n}var s={"./N3Lexer":88,"./N3Lexer.js":88,"./N3Parser":89,"./N3Parser.js":89,"./N3Store":137,"./N3Store.js":137,"./N3StreamParser":138,"./N3StreamParser.js":138,"./N3StreamWriter":144,"./N3StreamWriter.js":144,"./N3Util":90,"./N3Util.js":90,"./N3Writer":96,"./N3Writer.js":96};;;r.keys=function t(){return Object.keys(s)},r.resolve=o,t.exports=r,r.id=230},function(t,n,a){'use strict';function r(t){var n=t.length;if(0<n%4)throw new Error('Invalid string. Length must be a multiple of 4');return'='===t[n-2]?2:'='===t[n-1]?1:0}function o(t){return 3*t.length/4-r(t)}function s(t){var n=t.length,a,o,s,d,l;d=r(t),l=new m(3*n/4-d),o=0<d?n-4:n;var c=0;for(a=0;a<o;a+=4)s=f[t.charCodeAt(a)]<<18|f[t.charCodeAt(a+1)]<<12|f[t.charCodeAt(a+2)]<<6|f[t.charCodeAt(a+3)],l[c++]=255&s>>16,l[c++]=255&s>>8,l[c++]=255&s;return 2===d?(s=f[t.charCodeAt(a)]<<2|f[t.charCodeAt(a+1)]>>4,l[c++]=255&s):1===d&&(s=f[t.charCodeAt(a)]<<10|f[t.charCodeAt(a+1)]<<4|f[t.charCodeAt(a+2)]>>2,l[c++]=255&s>>8,l[c++]=255&s),l}function d(t){return u[63&t>>18]+u[63&t>>12]+u[63&t>>6]+u[63&t]}function l(t,n,a){for(var r=[],o=n,s;o<a;o+=3)s=(t[o]<<16)+(t[o+1]<<8)+t[o+2],r.push(d(s));return r.join('')}function c(t){for(var n=t.length,a=n%3,r='',o=[],s=16383,d=0,c=n-a,f;d<c;d+=s)o.push(l(t,d,d+s>c?c:d+s));return 1==a?(f=t[n-1],r+=u[f>>2],r+=u[63&f<<4],r+='=='):2==a&&(f=(t[n-2]<<8)+t[n-1],r+=u[f>>10],r+=u[63&f>>4],r+=u[63&f<<2],r+='='),o.push(r),o.join('')}n.byteLength=o,n.toByteArray=s,n.fromByteArray=c;for(var u=[],f=[],m='undefined'==typeof Uint8Array?Array:Uint8Array,h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',g=0,b=h.length;g<b;++g)u[g]=h[g],f[h.charCodeAt(g)]=g;f[45]=62,f[95]=63},function(t,n){n.read=function(t,n,a,r,o){var l=8*o-r-1,c=(1<<l)-1,u=c>>1,f=-7,h=a?o-1:0,g=a?-1:1,d=t[n+h],s,b;for(h+=g,s=d&(1<<-f)-1,d>>=-f,f+=l;0<f;s=256*s+t[n+h],h+=g,f-=8);for(b=s&(1<<-f)-1,s>>=-f,f+=r;0<f;b=256*b+t[n+h],h+=g,f-=8);if(0===s)s=1-u;else{if(s===c)return b?NaN:(d?-1:1)*Infinity;b+=_Mathpow(2,r),s-=u}return(d?-1:1)*b*_Mathpow(2,s-r)},n.write=function(t,n,a,r,o,l){var u=8*l-o-1,f=(1<<u)-1,h=f>>1,g=23===o?5.960464477539063e-8-6.617444900424222e-24:0,b=r?0:l-1,y=r?1:-1,d=0>n||0===n&&0>1/n?1:0,s,v,m;for(n=_Mathabs(n),isNaN(n)||n===Infinity?(v=isNaN(n)?1:0,s=f):(s=_Mathfloor(_Mathlog(n)/_MathLN),1>n*(m=_Mathpow(2,-s))&&(s--,m*=2),n+=1<=s+h?g/m:g*_Mathpow(2,1-h),2<=n*m&&(s++,m/=2),s+h>=f?(v=0,s=f):1<=s+h?(v=(n*m-1)*_Mathpow(2,o),s+=h):(v=n*_Mathpow(2,h-1)*_Mathpow(2,o),s=0));8<=o;t[a+b]=255&v,b+=y,v/=256,o-=8);for(s=s<<o|v,u+=o;0<u;t[a+b]=255&s,b+=y,s/=256,u-=8);t[a+b-y]|=128*d}},function(t,n){},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n,a){t.copy(n,a)}var s=a(3).Buffer;t.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function t(n){var a={data:n,next:null};0<this.length?this.tail.next=a:this.head=a,this.tail=a,++this.length},t.prototype.unshift=function t(n){var a={data:n,next:this.head};0===this.length&&(this.tail=a),this.head=a,++this.length},t.prototype.shift=function t(){if(0!==this.length){var n=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,n}},t.prototype.clear=function t(){this.head=this.tail=null,this.length=0},t.prototype.join=function t(n){if(0===this.length)return'';for(var a=this.head,r=''+a.data;a=a.next;)r+=n+a.data;return r},t.prototype.concat=function t(a){if(0===this.length)return s.alloc(0);if(1===this.length)return this.head.data;for(var n=s.allocUnsafe(a>>>0),r=this.head,d=0;r;)o(r.data,n,d),d+=r.data.length,r=r.next;return n},t}()},function(t,n,a){(function(n){function a(t,n){function a(){if(!o){if(r('throwDeprecation'))throw new Error(n);else r('traceDeprecation')?console.trace(n):console.warn(n);o=!0}return t.apply(this,arguments)}if(r('noDeprecation'))return t;var o=!1;return a}function r(t){try{if(!n.localStorage)return!1}catch(t){return!1}var a=n.localStorage[t];return null!=a&&'true'===(a+'').toLowerCase()}t.exports=a}).call(n,a(4))},function(t,n,a){'use strict';function r(t){return this instanceof r?void o.call(this,t):new r(t)}t.exports=r;var o=a(143),s=a(49);s.inherits=a(2),s.inherits(r,o),r.prototype._transform=function(t,n,a){a(null,t)}},function(t,n,a){t.exports=a(93)},function(t,n,a){t.exports=a(33)},function(t,n,a){t.exports=a(92).Transform},function(t,n,a){t.exports=a(92).PassThrough},function(t,n){t.exports=function t(n){return n&&'object'==typeof n&&'function'==typeof n.copy&&'function'==typeof n.fill&&'function'==typeof n.readUInt8}},function(t,n){t.exports='function'==typeof Object.create?function t(n,a){n.super_=a,n.prototype=Object.create(a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function t(n,a){n.super_=a;var r=function(){};r.prototype=a.prototype,n.prototype=new r,n.prototype.constructor=n}},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(12),c=function(t){function n(){r(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.termType='DefaultGraph',t.value='',t}return s(n,t),d(n,[{key:'toCanonical',value:function t(){return this.value}}]),n}(l);t.exports=c},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(12),c=function(t){function n(){r(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.termType=n.termType,t}return s(n,t),d(n,[{key:'toString',value:function t(){return'()'}}]),n}(l);c.termType='empty',t.exports=c},function(t,n,a){'use strict';var r=function(){return{parseJSON:function t(n,a,r){var o={},s=r.sym(a),d,l,c;for(var u in n){0===u.indexOf('_:')?o[u]?d=o[u]:(d=r.bnode(u),o[u]=d):d=r.sym(u);var f=n[u];for(var m in f){var h=f[m];for(var g in l=r.sym(m),h){var b=h[g];if('uri'===b.type)c=r.sym(b.value),r.add(d,l,c,s);else if('BlankNode'===b.type)o[b.value]?c=o[b.value]:(c=r.bnode(b.value),o[b.value]=c),r.add(d,l,c,s);else if('Literal'===b.type)c=b.datatype?r.literal(b.value,void 0,r.sym(b.datatype)):b.lang?r.literal(b.value,b.lang):r.literal(b.value),r.add(d,l,c,s);else throw new Error('error: unexpected termtype: '+g.type)}}}}}}();t.exports=r},function(t,n,a){'use strict';function r(t){function n(t){for(var n=l()+'SELECT ',a=0;a<t.vars.length;a++)n+=t.vars[a]+' ';return n+='\n',n}function a(t){var n='',a=t.statements;for(var r in a)o.debug('Found statement: '+a),n+=l()+a[r]+'\n';return n}function r(t){var n='';for(var a in t.constraints){var r=t.constraints[a];n+=l()+'FILTER ( '+r.describe(a)+' ) \n'}return n}function s(t){for(var n='',d=0;d<t.optional.length;d++)o.debug('Found optional query'),n+=l()+'OPTIONAL { \n',u++,n+=a(t.optional[d]),n+=r(t.optional[d]),n+=s(t.optional[d]),u--,n+=l()+'}\n';return n}function d(t){var n=l()+'WHERE \n{ \n';return u++,n+=a(t),n+=r(t),n+=s(t),u--,n+='}',n}function l(){for(var t='',n=0;n<u;n++)t+='    ';return t}function c(t){return n(t)+d(t.pat)}var u=0;return c(t)}var o=a(32);t.exports=r},function(t,n,a){'use strict';function r(t,n,r){function a(t){if(B[t])return B[t];var n=r.variable(t);return B[t]=n,n}function d(t){return'string'==typeof t&&t.match(/[^ \n\t]/)}function l(t){return'string'==typeof t&&t.match(/^[\?\$]/)}function c(t){return'string'==typeof t?t.replace(/^&lt;/,'<').replace(/&gt;$/,'>'):t}function u(t){return'string'==typeof t&&t.match(/^<[^>]*>$/)}function f(t){return'string'==typeof t&&(t.match(/^_:/)||t.match(/^$/))}function m(t){return'string'==typeof t&&t.match(/:$/)}function h(t){return'string'==typeof t&&t.match(/^:|^[^_][^:]*:/)}function g(t){var n=t.split(':');return n[0]}function b(t){var n=t.split(':');return n[1]}function y(t){return u(t)?t.slice(1,t.length-1):t}function v(t){var n=-1===t.indexOf('\'')?null:t.indexOf('\''),s=-1===t.indexOf('"')?null:t.indexOf('"');if(!n&&!s){var d=[,];return d[0]=t,d}var a=[,,],l,c;if(!n||s&&s<n)l='"',c=s;else if(!s||n&&n<s)l='\'',c=n;else return o.error('SQARQL QUERY OOPS!'),a;a[0]=t.slice(0,c);var u=t.slice(c+1).indexOf(l);if(-1===u)return o.error('SPARQL parsing error: no matching parentheses in literal '+t),t;var f;return t.slice(u+c+2).match(/^\^\^/)?(f=t.slice(u+c+2).indexOf(' '),a[1]=r.literal(t.slice(c+1,c+1+u),'',r.sym(y(t.slice(c+4+u,c+2+u+f)))),a=a.concat(v(t.slice(u+c+3+f)))):t.slice(u+c+2).match(/^@/)?(f=t.slice(u+c+2).indexOf(' '),a[1]=r.literal(t.slice(c+1,c+1+u),t.slice(c+3+u,c+2+u+f),null),a=a.concat(v(t.slice(u+c+2+f)))):(a[1]=r.literal(t.slice(c+1,c+1+u),'',null),o.info('Literal found: '+a[1]),a=a.concat(v(t.slice(u+c+2)))),a}function w(t){t=t.replace(/\(/g,' ( ').replace(/\)/g,' ) ').replace(/</g,' <').replace(/>/g,'> ').replace(/{/g,' { ').replace(/}/g,' } ').replace(/[\t\n\r]/g,' ').replace(/; /g,' ; ').replace(/\. /g,' . ').replace(/, /g,' , '),o.info('New str into spaceDelimit: \n'+t);var n=[],a=t.split(' ');for(var r in a)d(a[r])&&(n=n.concat(a[r]));return n}function _(t){for(var n=t,a=0;a<n.length;a++)if('a'===n[a]&&(n[a]='<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>'),'is'===n[a]&&'of'===n[a+2]){n.splice(a,1),n.splice(a+1,1);var r=n[a-1];n[a-1]=n[a+1],n[a+1]=r}return n}function k(t){for(var n=[],s=0;s<t.length;s++){if('string'!=typeof t[s]){n[s]=t[s];continue}t[s]=c(t[s]),l(t[s])?n[s]=a(t[s].slice(1)):f(t[s])?(o.info(t[s]+' was identified as a bnode.'),n[s]=r.bnode()):u(t[s])?(o.info(t[s]+' was identified as a symbol.'),n[s]=r.sym(y(t[s]))):h(t[s])?(o.info(t[s]+' was identified as a prefixed symbol'),F[g(t[s])]?n[s]=r.sym(t[s]=F[g(t[s])]+b(t[s])):(o.error('SPARQL error: '+t[s]+' with prefix '+g(t[s])+' does not have a correct prefix entry.'),n[s]=t[s])):n[s]=t[s]}return n}function C(t){var n=v(t),a=[];for(var r in n)a='string'==typeof n[r]?a.concat(w(n[r])):a.concat(n[r]);return a=_(a),o.info('SPARQL Tokens: '+a),a}function T(t,n){for(var a=0;a<n.length;a++)if('string'==typeof n[a]&&n[a].toLowerCase()===t.toLowerCase())return a;return null}function E(t,n){for(var a=[],r=0;r<n.length;r++)'string'==typeof n[r]&&n[r].toLowerCase()===t.toLowerCase()&&a.push(r);return a}function S(t,n){for(var r in o.info('SPARQL vars: '+t),t)if(l(t[r])){o.info('Added '+t[r]+' to query variables from SPARQL');var s=a(t[r].slice(1));n.vars.push(s),s.label=t[r].slice(1)}else o.warn('Incorrect SPARQL variable in SELECT: '+t[r])}function A(t){var n=E('PREFIX',t),r=[];for(var s in n){var d=t[n[s]+1],a=t[n[s]+2];if(!m(d))o.error('Invalid SPARQL prefix: '+d);else if(!u(a))o.error('Invalid SPARQL symbol: '+a);else{o.info('Prefix found: '+d+' -> '+a);var l=g(d),c=y(a);r[l]=c}}return r}function I(t,n,a){o.info('Looking for a close bracket of type '+a+' in '+t);for(var r=0,s=0;s<t.length;s++)if(t[s]===n&&r++,t[s]===a&&r--,0>r)return s;return o.error('Statement had no close parenthesis in SPARQL query'),0}function N(t){return this.describe=function(n){return n+' > '+t.toNT()},this.test=function(n){return n.value.match(/[0-9]+(\.[0-9]+)?([eE][+-]?[0-9]+)?/)?parseFloat(n.value)>parseFloat(t):n.toNT()>t.toNT()},this}function j(t){return this.describe=function(n){return n+' < '+t.toNT()},this.test=function(n){return n.value.match(/[0-9]+(\.[0-9]+)?([eE][+-]?[0-9]+)?/)?parseFloat(n.value)<parseFloat(t):n.toNT()<t.toNT()},this}function R(t){return this.describe=function(n){return n+' = '+t.toNT()},this.test=function(n){return t.sameTerm(n)},this}function L(t){this.describe=function(n){return'REGEXP( \''+t+'\' , '+n+' )'},this.test=function(n){var a=t,r=new RegExp(a);return!!n.value&&r.test(n.value)}}function O(t,n){3===t.length&&'Variable'===t[0].termType&&('NamedNode'===t[2].termType||'Literal'===t[2].termType)?'='===t[1]?(o.debug('Constraint added: '+t),n.constraints[t[0]]=new R(t[2])):'>'===t[1]?(o.debug('Constraint added: '+t),n.constraints[t[0]]=new R(t[2])):'<'===t[1]?(o.debug('Constraint added: '+t),n.constraints[t[0]]=new R(t[2])):o.warn('I don\'t know how to handle the constraint: '+t):6===t.length&&'string'==typeof t[0]&&'regexp'===t[0].toLowerCase()&&'('===t[1]&&')'===t[5]&&','===t[3]&&'Variable'===t[4].termType&&'Literal'===t[2].termType&&(o.debug('Constraint added: '+t),n.constraints[t[4]]=new L(t[2].value))}function P(t,n){o.debug('Optional query: '+t+' not yet implemented.');var a=r.formula();M(t,a),n.optional.push(a)}function M(t,n){var a=k(t),r;o.debug('WHERE: '+a);for(var s;T('OPTIONAL',a);)s=T('OPTIONAL',a),o.debug('OPT: '+s+' '+a[s]+' in '+a),'{'!==a[s+1]&&o.warn('Bad optional opening bracket in word '+s),r=I(a.slice(s+2),'{','}'),-1===r?o.error('No matching bracket in word '+s):(P(a.slice(s+2,s+2+r),n),s=T('OPTIONAL',a),r=I(a.slice(s+2),'{','}'),a.splice(s,r+3));for(o.debug('WHERE after optionals: '+a);T('FILTER',a);){var d=T('FILTER',a);'('!==a[d+1]&&o.warn('Bad filter opening bracket in word '+d),r=I(a.slice(d+2),'(',')'),-1===r?o.error('No matching bracket in word '+d):(O(a.slice(d+2,d+2+r),n),d=T('FILTER',a),r=I(a.slice(d+2),'(',')'),a.splice(d,r+3))}o.debug('WHERE after filters and optionals: '+a),D(a,n)}function D(t,n){var a=[,];a[0]=-1;for(var r=a.concat(E('.',t)),s=[],d=0;d<r.length-1;d++)s[d]=t.slice(r[d]+1,r[d+1]);for(d in s){o.info('s+p+o '+d+' = '+s[d]);var l=s[d][0];s[d].splice(0,1);var c=a.concat(E(';',s[d]));c.push(s[d].length);for(var u=[],f=0;f<c.length-1;f++)u[f]=s[d].slice(c[f]+1,c[f+1]);for(d in u){o.info('p+o '+d+' = '+s[d]);var m=u[d][0];u[d].splice(0,1);var h=a.concat(E(',',u[d]));h.push(u[d].length);var g=[];for(f=0;f<h.length-1;f++)g[f]=u[d].slice(h[f]+1,h[f+1]);for(d in g){var b=g[d][0];o.info('Subj='+l+' Pred='+m+' Obj='+b),n.add(l,m,b)}}}}var B=[];o.info('SPARQL input: \n'+t);var U=new s,q=C(t),F=A(q);F.rdf||(F.rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#'),F.rdfs||(F.rdfs='http://www.w3.org/2000/01/rdf-schema#');var z=T('SELECT',q),H=T('WHERE',q);if(0>z||0>H||z>H)return o.error('Invalid or nonexistent SELECT and WHERE tags in SPARQL query'),!1;if(S(q.slice(z+1,H),U),M(q.slice(H+2,q.length-1),U.pat),n)return U;for(var W in U.pat.statements){var x=U.pat.statements[W];'NamedNode'===x.subject.termType&&r.fetcher&&r.fetcher.lookUpThing(x.subject,'sparql:'+x.subject),'NamedNode'===x.object.termType&&r.fetcher&&r.fetcher.lookUpThing(x.object,'sparql:'+x.object)}return U}var o=a(32),s=a(68).Query;t.exports=r},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var s='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t},d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(63),c=r(l),u=a(11).docpart,f=a(98),m=a(69).namedNode,h=a(50),g=a(97),b=a(11).join,y=a(24),v=function(){function t(n){if(o(this,t),this.store=n,n.updater)throw new Error('You can\'t have two UpdateManagers for the same store');n.fetcher||(n.fetcher=new f(n)),n.updater=this,this.ifps={},this.fps={},this.ns={},this.ns.link=h('http://www.w3.org/2007/ont/link#'),this.ns.http=h('http://www.w3.org/2007/ont/http#'),this.ns.httph=h('http://www.w3.org/2007/ont/httph#'),this.ns.ldp=h('http://www.w3.org/ns/ldp#'),this.ns.rdf=h('http://www.w3.org/1999/02/22-rdf-syntax-ns#'),this.ns.rdfs=h('http://www.w3.org/2000/01/rdf-schema#'),this.ns.rdf=h('http://www.w3.org/1999/02/22-rdf-syntax-ns#'),this.ns.owl=h('http://www.w3.org/2002/07/owl#'),this.patchControl=[]}return d(t,[{key:'patchControlFor',value:function t(n){return this.patchControl[n.uri]||(this.patchControl[n.uri]=[]),this.patchControl[n.uri]}},{key:'editable',value:function t(n,a){if(!n)return!1;if(a||(a=this.store),'file:///'===n.slice(0,8)){if(a.holds(a.sym(n),m('http://www.w3.org/1999/02/22-rdf-syntax-ns#type'),m('http://www.w3.org/2007/ont/link#MachineEditableDocument')))return'LOCALFILE';var o=a.statementsMatching(a.sym(n));return console.log('sparql.editable: Not MachineEditableDocument file '+n+'\n'),console.log(o.map(function(t){return t.toNT()}).join('\n')),!1}var s=!1,d=a.each(void 0,this.ns.link('requestedURI'),u(n)),l;if(a.holds(m(n),this.ns.rdf('type'),this.ns.ldp('Resource')))return'SPARQL';for(var c=0,r,f;c<d.length;c++)if(l=d[c],void 0!==l){var h=a.any(l,this.ns.link('response'));if(void 0!==l){var g=a.each(h,this.ns.httph('accept-patch'));if(g.length)for(r=0;r<g.length;r++)if(f=g[r].value.trim(),0<=f.indexOf('application/sparql-update'))return'SPARQL';var b=a.each(h,this.ns.httph('ms-author-via'));if(b.length)for(r=0;r<b.length;r++){if(f=b[r].value.trim(),0<=f.indexOf('SPARQL'))return'SPARQL';if(0<=f.indexOf('DAV'))return'DAV'}var y=a.each(h,this.ns.http('status'));if(y.length)for(r=0;r<y.length;r++)(200===y[r]||404===y[r])&&(s=!0)}else console.log('sparql.editable: No response for '+n+'\n')}if(0===d.length)console.log('sparql.editable: No request for '+n+'\n');else if(s)return!1;console.log('sparql.editable: inconclusive for '+n+'\n')}},{key:'anonymize',value:function t(n){return'_:'===n.toNT().substr(0,2)&&this.mentioned(n)?'?'+n.toNT().substr(2):n.toNT()}},{key:'anonymizeNT',value:function t(n){return this.anonymize(n.subject)+' '+this.anonymize(n.predicate)+' '+this.anonymize(n.object)+' .'}},{key:'statementBnodes',value:function t(n){return[n.subject,n.predicate,n.object].filter(function(t){return t.isBlank})}},{key:'statementArrayBnodes',value:function t(n){for(var a=[],r=0;r<n.length;r++)a=a.concat(this.statementBnodes(n[r]));a.sort();for(var o=[],s=0;s<a.length;s++)0!==s&&a[s].sameTerm(a[s-1])||o.push(a[s]);return o}},{key:'cacheIfps',value:function t(){this.ifps={};for(var n=this.store.each(void 0,this.ns.rdf('type'),this.ns.owl('InverseFunctionalProperty')),a=0;a<n.length;a++)this.ifps[n[a].uri]=!0;for(this.fps={},n=this.store.each(void 0,this.ns.rdf('type'),this.ns.owl('FunctionalProperty')),a=0;a<n.length;a++)this.fps[n[a].uri]=!0}},{key:'bnodeContext2',value:function t(n,a,r){for(var o=this.store.statementsMatching(void 0,void 0,n,a),s=0,d,l;s<o.length;s++)if(this.fps[o[s].predicate.uri]){if(d=o[s].subject,!d.isBlank)return[o[s]];if(r&&(l=this.bnodeContext2(d,a,r-1),l))return l.concat([o[s]])}for(o=this.store.statementsMatching(n,void 0,void 0,a),s=0;s<o.length;s++)if(this.ifps[o[s].predicate.uri]){if(d=o[s].object,!d.isBlank)return[o[s]];if(r&&(l=this.bnodeContext2(d,a,r-1),l))return l.concat([o[s]])}return null}},{key:'bnodeContext1',value:function t(n,a){for(var r=0,o;3>r;r++)if(o=this.bnodeContext2(n,a,r),null!==o)return o;return this.store.connectedStatements(n,a)}},{key:'mentioned',value:function t(n){return 0!==this.store.statementsMatching(n).length||0!==this.store.statementsMatching(void 0,n).length||0!==this.store.statementsMatching(void 0,void 0,n).length}},{key:'bnodeContext',value:function t(n,a){var r=[];if(n.length){this.cacheIfps();for(var o=0,s;o<n.length;o++)s=n[o],this.mentioned(s)&&(r=r.concat(this.bnodeContext1(s,a)))}return r}},{key:'statementContext',value:function t(n){var a=this.statementBnodes(n);return this.bnodeContext(a,n.why)}},{key:'contextWhere',value:function t(n){var a=this;return n&&0!==n.length?'WHERE { '+n.map(function(t){return a.anonymizeNT(t)}).join('\n')+' }\n':''}},{key:'fire',value:function t(n,a,r){var o=this;return Promise.resolve().then(function(){if(!n)throw new Error('No URI given for remote editing operation: '+a);console.log('sparql: sending update to <'+n+'>');var t={noMeta:!0,contentType:'application/sparql-update',body:a};return o.store.fetcher.webOperation('PATCH',n,t)}).then(function(t){if(!t.ok){var o='sparql: update failed for <'+n+'> status='+t.status+', '+t.statusText+'\n   for query: '+a;throw console.log(o),new Error(o)}console.log('sparql: update Ok for <'+n+'>'),r(n,t.ok,t.responseText,t)}).catch(function(t){r(n,!1,t.message,t)})}},{key:'update_statement',value:function t(n){if(!n||n.why){var a=this,r=this.statementContext(n);return{statement:n?[n.subject,n.predicate,n.object,n.why]:void 0,statementNT:n?this.anonymizeNT(n):void 0,where:a.contextWhere(r),set_object:function t(n,r){var o=this.where;o+='DELETE DATA { '+this.statementNT+' } ;\n',o+='INSERT DATA { '+this.anonymize(this.statement[0])+' '+this.anonymize(this.statement[1])+' '+this.anonymize(n)+'  . }\n',a.fire(this.statement[3].uri,o,r)}}}}},{key:'insert_statement',value:function t(n,a){var r=n instanceof Array?n[0]:n,o=this.contextWhere(this.statementContext(r));if(n instanceof Array){for(var s='',d=0;d<n.length;d++)s+=n[d]+'\n';o+='INSERT DATA { '+s+' }\n'}else o+='INSERT DATA { '+this.anonymize(n.subject)+' '+this.anonymize(n.predicate)+' '+this.anonymize(n.object)+'  . }\n';this.fire(r.why.uri,o,a)}},{key:'delete_statement',value:function t(n,a){var r=n instanceof Array?n[0]:n,o=this.contextWhere(this.statementContext(r));if(n instanceof Array){for(var s='',d=0;d<n.length;d++)s+=n[d]+'\n';o+='DELETE DATA { '+s+' }\n'}else o+='DELETE DATA { '+this.anonymize(n.subject)+' '+this.anonymize(n.predicate)+' '+this.anonymize(n.object)+'  . }\n';this.fire(r.why.uri,o,a)}},{key:'requestDownstreamAction',value:function t(n,a){var r=this.patchControlFor(n);if(!r.pendingUpstream)a(n);else if(!r.downstreamAction)r.downstreamAction=a;else if(''+r.downstreamAction!=''+a)throw new Error('Can\'t wait for > 1 different downstream actions')}},{key:'clearUpstreamCount',value:function t(n){var a=this.patchControlFor(n);a.upstreamCount=0}},{key:'getUpdatesVia',value:function t(n){var a=this.store.fetcher.getHeader(n,'updates-via');return a&&a.length?a[0].trim():null}},{key:'addDownstreamChangeListener',value:function t(n,a){var r=this,o=this.patchControlFor(n);o.downstreamChangeListeners||(o.downstreamChangeListeners=[]),o.downstreamChangeListeners.push(a),this.setRefreshHandler(n,function(t){r.reloadAndSync(t)})}},{key:'reloadAndSync',value:function t(n){var a=this.patchControlFor(n),r=this;if(a.reloading)return void console.log('   Already reloading - stop');a.reloading=!0;var o=1e3,s=function t(){console.log('try reload - timeout = '+o),r.reload(r.store,n,function(r,s,d){if(a.reloading=!1,!r)0===d.status?(console.log('Network error refreshing the data. Retrying in '+o/1e3),a.reloading=!0,o*=2,setTimeout(t,o)):console.log('Error '+d.status+'refreshing the data:'+s+'. Stopped'+n);else if(a.downstreamChangeListeners)for(var l=0;l<a.downstreamChangeListeners.length;l++)console.log('        Calling downstream listener '+l),a.downstreamChangeListeners[l]()})};s()}},{key:'setRefreshHandler',value:function t(n,a){var r=this.getUpdatesVia(n),o=a,s=this,d=this,l=1500,c=0;if(!r)return console.log('Server doies not support live updates thoughUpdates-Via :-('),!1;r=b(r,n.uri),r=r.replace(/^http:/,'ws:').replace(/^https:/,'wss:'),console.log('Web socket URI '+r);var u=function t(){var a;if('undefined'!=typeof WebSocket)a=new WebSocket(r);else if('undefined'!=typeof Services)a=Services.wm.getMostRecentWindow('navigator:browser').WebSocket(r);else if('undefined'!=typeof window&&window.WebSocket)a=window.WebSocket(r);else return void console.log('Live update disabled, as WebSocket not supported by platform :-(');a.onopen=function(){console.log('    websocket open'),l=1500,this.send('sub '+n.uri),c&&(console.log('Web socket has been down, better check for any news.'),d.requestDownstreamAction(n,o))};var u=s.patchControlFor(n);u.upstreamCount=0,a.onerror=function t(n){console.log('Error on Websocket:',n)},a.onclose=function(n){console.log('*** Websocket closed with code '+n.code+', reason \''+n.reason+'\' clean = '+n.clean),l*=2,c+=1,console.log('Retrying in '+l+'ms'),setTimeout(function(){console.log('Trying websocket again'),t()},l)},a.onmessage=function(t){if(t.data&&'pub'===t.data.slice(0,3)){if('upstreamCount'in u&&(u.upstreamCount-=1,0<=u.upstreamCount))return void console.log('just an echo: '+u.upstreamCount);console.log('Assume a real downstream change: '+u.upstreamCount+' -> 0'),u.upstreamCount=0,s.requestDownstreamAction(n,o)}}};return u(),!0}},{key:'update',value:function t(n,a,r){try{var o=this.store,d=n?n instanceof c.default?n.statements:n instanceof Array?n:[n]:[],l=a?a instanceof c.default?a.statements:a instanceof Array?a:[a]:[];if(!(d instanceof Array))throw new Error('Type Error '+('undefined'==typeof d?'undefined':s(d))+': '+d);if(!(l instanceof Array))throw new Error('Type Error '+('undefined'==typeof l?'undefined':s(l))+': '+l);if(0===d.length&&0===l.length)return r(null,!0);var u=d.length?d[0].why:l[0].why;if(!u){var f='Error patching: statement does not specify which document to patch:'+d[0]+', '+l[0];throw console.log(f),new Error(f)}var m=this.patchControlFor(u),h=Date.now(),g=['subject','predicate','object','why'],b=['insert','delete'],y={delete:d,insert:l};b.map(function(t){y[t].map(function(t){if(!u.sameTerm(t.why))throw new Error('update: destination '+u+' inconsistent with delete quad '+t.why);g.map(function(n){if('undefined'==typeof t[n])throw new Error('update: undefined '+n+' of statement.')})})});var v=this.editable(u.uri,o);if(!v)throw new Error('Can\'t make changes in uneditable '+u);var w;if(0<=v.indexOf('SPARQL')){var x=[];d.length&&(x=this.statementArrayBnodes(d)),l.length&&(x=x.concat(this.statementArrayBnodes(l)));var _=this.bnodeContext(x,u),k=this.contextWhere(_),C='';if(k.length){if(d.length){for(C+='DELETE { ',w=0;w<d.length;w++)C+=this.anonymizeNT(d[w])+'\n';C+=' }\n'}if(l.length){for(C+='INSERT { ',w=0;w<l.length;w++)C+=this.anonymizeNT(l[w])+'\n';C+=' }\n'}C+=k}else{if(d.length){for(C+='DELETE DATA { ',w=0;w<d.length;w++)C+=this.anonymizeNT(d[w])+'\n';C+=' } \n'}if(l.length){for(d.length&&(C+=' ; '),C+='INSERT DATA { ',w=0;w<l.length;w++)C+=this.anonymizeNT(l[w])+'\n';C+=' }\n'}}m.pendingUpstream=m.pendingUpstream?m.pendingUpstream+1:1,'upstreamCount'in m&&(m.upstreamCount+=1,console.log('upstream count up to : '+m.upstreamCount)),this.fire(u.uri,C,function(t,n,a,s){if(s.elapsedTimeMs=Date.now()-h,console.log(0?'FAILURE '+s.status+' elapsed '+s.elapsedTimeMs+'ms':'success'),n){try{o.remove(d)}catch(t){n=!1,a='Remote Ok BUT error deleting '+d.length+' from store!!! '+t}for(var c=0;c<l.length;c++)o.add(l[c].subject,l[c].predicate,l[c].object,u)}if(r(t,n,a,s),m.pendingUpstream-=1,0===m.pendingUpstream&&m.downstreamAction){var f=m.downstreamAction;delete m.downstreamAction,console.log('delayed downstream action:'),f(u)}})}else if(0<=v.indexOf('DAV'))this.updateDav(u,d,l,r);else if(0<=v.indexOf('LOCALFILE'))try{this.updateLocalFile(u,d,l,r)}catch(t){r(u.uri,!1,'Exception trying to write back file <'+u.uri+'>\n')}else throw new Error('Unhandled edit method: \''+v+'\' for '+u)}catch(t){r(void 0,!1,'Exception in update: '+t+'\n'+$rdf.Util.stackString(t))}}},{key:'updateDav',value:function t(n,a,r,o){var s=this.store,d=s.any(n,this.ns.link('request'));if(!d)throw new Error('No record of our HTTP GET request for document: '+n);var l=s.any(d,this.ns.link('response'));if(!l)return null;var c=s.the(l,this.ns.httph('content-type')).value,u=s.statementsMatching(void 0,void 0,void 0,n).slice(),f;for(f=0;f<a.length;f++)y.RDFArrayRemove(u,a[f]);for(f=0;f<r.length;f++)u.push(r[f]);var m=this.serialize(n.uri,u,c),h=s.the(l,this.ns.httph('content-location')),g;h&&(g=b(h.value,g));var v={contentType:c,noMeta:!0,body:m};return s.fetcher.webOperation('PUT',g,v).then(function(t){if(!t.ok)throw new Error(t.error);for(var d=0;d<a.length;d++)s.remove(a[d]);for(d=0;d<r.length;d++)s.add(r[d].subject,r[d].predicate,r[d].object,n);o(n.uri,t.ok,t.responseText,t)}).catch(function(t){o(n.uri,!1,t.message,t)})}},{key:'updateLocalFile',value:function t(n,a,r,o){var s=this.store;console.log('Writing back to local file\n');var d=s.statementsMatching(void 0,void 0,void 0,n).slice(),l;for(l=0;l<a.length;l++)y.RDFArrayRemove(d,a[l]);for(l=0;l<r.length;l++)d.push(r[l]);var c=n.uri.lastIndexOf('.');if(1>c)throw new Error('Rewriting file: No filename extension: '+n.uri);var u=n.uri.slice(c+1),m=f.CONTENT_TYPE_BY_EXT[u];if(!m)throw new Error('File extension .'+u+' not supported for data write');var h=this.serialize(n.uri,d,m);console.log('Writing back: <<<'+h+'>>>');var g=n.uri.slice(7),b=Components.classes['@mozilla.org/file/local;1'].createInstance(Components.interfaces.nsILocalFile);if(b.initWithPath(g),!b.exists())throw new Error('Rewriting file <'+n.uri+'> but it does not exist!');var v=Components.classes['@mozilla.org/network/file-output-stream;1'].createInstance(Components.interfaces.nsIFileOutputStream);for(v.init(b,42,parseInt('0666',8),0),v.write(h,h.length),v.close(),l=0;l<a.length;l++)s.remove(a[l]);for(l=0;l<r.length;l++)s.add(r[l].subject,r[l].predicate,r[l].object,n);o(n.uri,!0,'')}},{key:'serialize',value:function t(n,a,r){var o=this.store,s;if('string'==typeof a)return a;var d=g(o);switch(d.suggestNamespaces(o.namespaces),d.setBase(n),r){case'text/xml':case'application/rdf+xml':s=d.statementsToXML(a);break;case'text/n3':case'text/turtle':case'application/x-turtle':case'application/n3':s=d.statementsToN3(a);break;default:throw new Error('Content-type '+r+' not supported for data serialization');}return s}},{key:'put',value:function t(n,a,r,o){var s=this,d=this.store,l;return Promise.resolve().then(function(){return l=s.serialize(n.uri,a,r),d.fetcher.webOperation('PUT',n.uri,{contentType:r,body:l})}).then(function(t){return t.ok?void(delete d.fetcher.nonexistent[n.uri],delete d.fetcher.requested[n.uri],'string'!=typeof a&&a.map(function(t){d.addStatement(t)}),o(n.uri,t.ok,'',t)):o(n.uri,t.ok,t.error,t)}).catch(function(t){o(n.uri,!1,t.message)})}},{key:'reload',value:function t(n,a,r){var o=Date.now(),s={force:!0,noMeta:!0,clearPreviousData:!0};n.fetcher.nowOrWhenFetched(a.uri,s,function(t,n,s){if(!t)console.log('    ERROR reloading data: '+n),r(!1,'Error reloading data: '+n,s);else if(s.onErrorWasCalled||200!==s.status)console.log('    Non-HTTP error reloading data! onErrorWasCalled='+s.onErrorWasCalled+' status: '+s.status),r(!1,'Non-HTTP error reloading data: '+n,s);else{var d=Date.now()-o;a.reloadTimeTotal||(a.reloadTimeTotal=0),a.reloadTimeCount||(a.reloadTimeCount=0),a.reloadTimeTotal+=d,a.reloadTimeCount+=1,console.log('    Fetch took '+d+'ms, av. of '+a.reloadTimeCount+' = '+a.reloadTimeTotal/a.reloadTimeCount+'ms.'),r(!0)}})}}]),t}();t.exports=v},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function s(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function d(t,n,a){var r=E.default.any(t,n);return r?r.value:a}function l(t,n){var a=n.toDel,r=n.toIns;return new Promise(function(t,n){E.default.updater.update(a,r,function(a,r,o){return r?void t():n(new Error('PATCH failed for resource <'+a+'>: '+o))})})}function c(t){return{groupIndex:E.default.any(t,C.default.vcard('groupIndex')),groupContainer:E.default.sym(t.dir().uri+'Group/')}}Object.defineProperty(n,'__esModule',{value:!0}),n.GroupBuilder=n.Group=n.GroupPicker=n.PeoplePicker=void 0;var u=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),f=o(['\n        To add someone to this group, drag and drop their WebID URL onto the box.\n      '],['\n        To add someone to this group, drag and drop their WebID URL onto the box.\n      ']),m=a(250),h=r(m),g=a(251),b=r(g),y=a(18),v=r(y),w=a(178),x=a(75),_=a(20),k=a(7),C=r(k),T=a(14),E=r(T),S=n.PeoplePicker=function(){function t(n,a,r,o){s(this,t),this.options=o||{},this.element=n,this.typeIndex=a,this.groupPickedCb=r,this.selectedgroup=this.options.selectedgroup,this.onSelectGroup=this.onSelectGroup.bind(this)}return u(t,[{key:'render',value:function t(){var n=this,a=document.createElement('div');if(a.style.maxWidth='350px',a.style.minHeight='200px',a.style.outline='1px solid black',a.style.display='flex',this.selectedgroup){a.style.flexDirection='column';var r=document.createElement('div');new I(r,this.selectedgroup).render();var o=document.createElement('button');o.textContent=(0,h.default)('Change group'),o.addEventListener('click',function(t){n.selectedgroup=null,n.render()}),a.appendChild(r),a.appendChild(o)}else this.findAddressBook(this.typeIndex).then(function(t){var r=t.book,o=document.createElement('button');o.textContent=(0,h.default)('Pick an existing group'),o.style.margin='auto',o.addEventListener('click',function(t){new A(a,r,n.onSelectGroup).render()});var s=document.createElement('button');s.textContent=(0,h.default)('Create a new group'),s.style.margin='auto',s.addEventListener('click',function(t){n.createNewGroup(r).then(function(t){var a=t.group;new N(n.element,r,a,n.onSelectGroup).render()}).catch(function(t){n.element.appendChild((0,x.errorMessageBlock)(document,(0,h.default)('Error creating a new group. ('+t+')')))})}),a.appendChild(o),a.appendChild(s),n.element.innerHTML='',n.element.appendChild(a)}).catch(function(t){n.element.appendChild((0,x.errorMessageBlock)(document,(0,h.default)('Could find your groups. ('+t+')')))});return this.element.innerHTML='',this.element.appendChild(a),this}},{key:'findAddressBook',value:function t(n){return new Promise(function(t,a){E.default.fetcher.nowOrWhenFetched(n,function(r,o){if(!r)return a(o);var s=E.default.any(null,C.default.solid('forClass'),C.default.vcard('AddressBook'));if(!s)return a(new Error('no address book registered in the solid type index '+n));var d=E.default.any(s,C.default.solid('instance'));return d?void E.default.fetcher.load(d).then(function(n){return t({book:d})}).catch(function(t){return a(new Error('Could not load address book '+t))}):a(new Error('incomplete address book registration'))})})}},{key:'createNewGroup',value:function t(n){var a=c(n),r=a.groupIndex,o=a.groupContainer,s=v.default.sym(''+o.uri+b.default.v4().slice(0,8)+'.ttl#this'),d=this.options.defaultNewGroupName||'Untitled Group',u=[s.doc(),r].map(function(t){var a=v.default.st(s,C.default.rdf('type'),C.default.vcard('Group'),t),o=v.default.st(s,C.default.vcard('fn'),d,s.doc(),t),c=v.default.st(n,C.default.vcard('includesGroup'),s,t),u=t.equals(r)?[a,o,c]:[a,o];return l(t.uri,{toIns:u}).then(function(){u.forEach(function(t){E.default.add(t)})})});return Promise.all(u).then(function(){return{group:s}}).catch(function(t){throw console.log('Could not create new group.  PATCH failed '+t),new Error('Couldn\'t create new group.  PATCH failed for ('+(t.xhr?t.xhr.responseURL:'')+')')})}},{key:'onSelectGroup',value:function t(n){this.selectedgroup=n,this.groupPickedCb(n),this.render()}}]),t}(),A=n.GroupPicker=function(){function t(n,a,r){s(this,t),this.element=n,this.book=a,this.onSelectGroup=r}return u(t,[{key:'render',value:function t(){var n=this;return this.loadGroups().then(function(t){var a=document.createElement('div');a.style.display='flex',a.style.flexDirection='column',t.forEach(function(t){var r=document.createElement('button');r.addEventListener('click',n.handleClickGroup(t)),new I(r,t).render(),a.appendChild(r)}),n.element.innerHTML='',n.element.appendChild(a)}).catch(function(t){n.element.appendChild((0,x.errorMessageBlock)(document,(0,h.default)('There was an error loading your groups. ('+t+')')))}),this}},{key:'loadGroups',value:function t(){var n=this;return new Promise(function(t,a){var r=c(n.book),o=r.groupIndex;E.default.fetcher.nowOrWhenFetched(o,function(r,o){if(!r)return a(o);var s=E.default.each(n.book,C.default.vcard('includesGroup'));return t(s)})})}},{key:'handleClickGroup',value:function t(n){var a=this;return function(t){a.onSelectGroup(n)}}}]),t}(),I=n.Group=function(){function t(n,a){s(this,t),this.element=n,this.group=a}return u(t,[{key:'render',value:function t(){var n=document.createElement('div');return n.textContent=(0,h.default)(d(this.group,C.default.vcard('fn'),'['+this.group.value+']')),this.element.innerHTML='',this.element.appendChild(n),this}}]),t}(),N=n.GroupBuilder=function(){function t(n,a,r,o,d){s(this,t),this.element=n,this.book=a,this.group=r,this.onGroupChanged=function(t,n,a){d&&d(t,n,a)},this.groupChangedCb=d,this.doneBuildingCb=o}return u(t,[{key:'refresh',value:function t(){}},{key:'render',value:function t(){var n=this,a=document.createElement('div');a.style.maxWidth='350px',a.style.minHeight='200px',a.style.outline='1px solid black',a.style.display='flex',a.style.flexDirection='column',(0,w.makeDropTarget)(a,function(t){t.map(function(t){n.add(t).catch(function(t){n.element.appendChild((0,x.errorMessageBlock)(document,(0,h.default)('Could not add the given WebId. ('+t+')')))})})});var r=document.createElement('input');r.type='text',r.value=d(this.group,C.default.vcard('fn'),'Untitled Group'),r.addEventListener('change',function(t){n.setGroupName(t.target.value).catch(function(t){n.element.appendChild((0,x.errorMessageBlock)(document,'Error changing group name. ('+t+')'))})});var o=document.createElement('label');if(o.textContent=(0,h.default)('Group Name:'),o.appendChild(r),a.appendChild(o),E.default.any(this.group,C.default.vcard('hasMember')))E.default.match(this.group,C.default.vcard('hasMember')).forEach(function(t){var r=t.object,o=document.createElement('div');new j(o,r,n.handleRemove(r)).render(),a.appendChild(o)});else{var s=document.createElement('p');s.textContent=(0,h.default)(f),a.appendChild(s)}var l=document.createElement('button');return l.textContent=(0,h.default)('Done'),l.addEventListener('click',function(t){n.doneBuildingCb(n.group)}),a.appendChild(l),this.element.innerHTML='',this.element.appendChild(a),this}},{key:'add',value:function t(n){var a=this;return new Promise(function(t,r){E.default.fetcher.nowOrWhenFetched(n,function(o,s){if(!o)return a.onGroupChanged(s),r(s);var d=v.default.namedNode(n),l=E.default.any(d,C.default.rdf('type'));return l&&l.equals(C.default.foaf('Person'))?t(d):r(new Error('Only people supported right now. (tried to add something of type '+l.value+')'))})}).then(function(t){var n=v.default.st(a.group,C.default.vcard('hasMember'),t);return E.default.holdsStatement(n)?t:l(a.group.doc().uri,{toIns:[n]}).then(function(){n.why=a.group.doc(),E.default.add(n),a.onGroupChanged(null,'added',t),a.render()})})}},{key:'handleRemove',value:function t(n){var a=this;return function(t){var r=v.default.st(a.group,C.default.vcard('hasMember'),n);return l(a.group.doc().uri,{toDel:[r]}).then(function(){return E.default.remove(r),a.onGroupChanged(null,'removed',n),a.render(),!0}).catch(function(t){var a=E.default.any(n,C.default.foaf('name')),r=a&&a.value?'Could not remove '+a.value+'. ('+t+')':'Could not remove '+n.value+'. ('+t+')';throw new Error(r)})}}},{key:'setGroupName',value:function t(n){var a=this,r=c(this.book),o=r.groupIndex,s=[this.group.doc(),o].map(function(t){var r=E.default.match(a.group,C.default.vcard('fn'),null,t),o=v.default.st(a.group,C.default.vcard('fn'),v.default.literal(n));return l(t.value,{toDel:r,toIns:[o]}).then(function(n){E.default.removeStatements(r),o.why=t,E.default.add(o)})});return Promise.all(s)}}]),t}(),j=function(){function t(n,a,r){s(this,t),this.webIdNode=a,this.element=n,this.handleRemove=r}return u(t,[{key:'render',value:function t(){var n=this,a=document.createElement('div');a.style.display='flex';var r=d(this.webIdNode,C.default.foaf('img'),_.iconBase+'noun_15059.svg'),o=document.createElement('img');o.src=(0,h.default)(r),o.width='50',o.height='50',o.style.margin='5px';var s=d(this.webIdNode,C.default.foaf('name'),'['+this.webIdNode+']'),l=document.createElement('span');l.innerHTML=(0,h.default)(s),l.style.flexGrow='1',l.style.margin='auto 0';var c=document.createElement('button');return c.textContent='Remove',c.addEventListener('click',function(t){return n.handleRemove().catch(function(t){n.element.appendChild((0,x.errorMessageBlock)(document,(0,h.default)(''+t)))})}),c.style.margin='5px',a.appendChild(o),a.appendChild(l),a.appendChild(c),this.element.innerHTML='',this.element.appendChild(a),this}}]),t}()},function(t,n,a){'use strict';/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */function r(t){var n=''+t,a=o.exec(n);if(!a)return n;var r='',s=0,d=0,l;for(s=a.index;s<n.length;s++){switch(n.charCodeAt(s)){case 34:l='&quot;';break;case 38:l='&amp;';break;case 39:l='&#39;';break;case 60:l='&lt;';break;case 62:l='&gt;';break;default:continue;}d!==s&&(r+=n.substring(d,s)),d=s+1,r+=l}return d===s?r:r+n.substring(d,s)}var o=/["'&<>]/;t.exports=r},function(t,n,a){(function(r){var o;(function(s){'use strict';function d(){var t=s.crypto||s.msCrypto;if(!h&&t&&t.getRandomValues)try{var n=new Uint8Array(16);y=h=function a(){return t.getRandomValues(n),n},h()}catch(t){}if(!h){var a=Array(16);g=h=function(){for(var t=0,n;16>t;t++)0==(3&t)&&(n=4294967296*Math.random()),a[t]=255&n>>>((3&t)<<3);return a},'undefined'!=typeof console&&console.warn&&console.warn('[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()')}}function l(){if(!0)try{var t=a(252).randomBytes;b=h=t&&function(){return t(16)},h()}catch(t){}}function c(t,n,a){var r=n&&a||0,o=0;for(n=n||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>o&&(n[r+o++]=_[t])});16>o;)n[r+o++]=0;return n}function u(t,n){var a=n||0,r=x;return r[t[a++]]+r[t[a++]]+r[t[a++]]+r[t[a++]]+'-'+r[t[a++]]+r[t[a++]]+'-'+r[t[a++]]+r[t[a++]]+'-'+r[t[a++]]+r[t[a++]]+'-'+r[t[a++]]+r[t[a++]]+r[t[a++]]+r[t[a++]]+r[t[a++]]+r[t[a++]]}function f(t,a,r){var o=a&&r||0,s=a||[];t=t||{};var d=null==t.clockseq?E:t.clockseq,l=null==t.msecs?new Date().getTime():t.msecs,c=null==t.nsecs?A+1:t.nsecs,f=l-S+(c-A)/1e4;if(0>f&&null==t.clockseq&&(d=16383&d+1),(0>f||l>S)&&null==t.nsecs&&(c=0),1e4<=c)throw new Error('uuid.v1(): Can\'t create more than 10M uuids/sec');S=l,A=c,E=d,l+=1.22192928e13;var m=(1e4*(268435455&l)+c)%4294967296;s[o++]=255&m>>>24,s[o++]=255&m>>>16,s[o++]=255&m>>>8,s[o++]=255&m;var h=268435455&1e4*(l/4294967296);s[o++]=255&h>>>8,s[o++]=255&h,s[o++]=16|15&h>>>24,s[o++]=255&h>>>16,s[o++]=128|d>>>8,s[o++]=255&d;for(var g=t.node||T,b=0;6>b;b++)s[o+b]=g[b];return a?a:u(s)}function m(t,n,a){var r=n&&a||0;'string'==typeof t&&(n='binary'===t?new w(16):null,t=null),t=t||{};var o=t.random||(t.rng||h)();if(o[6]=64|15&o[6],o[8]=128|63&o[8],n)for(var s=0;16>s;s++)n[r+s]=o[s];return n||u(o)}var h,g,b,y,v;s?d():l();for(var w='function'==typeof r?r:Array,x=[],_={},k=0;256>k;k++)x[k]=(k+256).toString(16).substr(1),_[x[k]]=k;var C=h(),T=[1|C[0],C[1],C[2],C[3],C[4],C[5]],E=16383&(C[6]<<8|C[7]),S=0,A=0,I=m;I.v1=f,I.v4=m,I.parse=c,I.unparse=u,I.BufferClass=w,I._rng=h,I._mathRNG=g,I._nodeRNG=b,I._whatwgRNG=y,'undefined'!=typeof t&&t.exports?t.exports=I:!0?(o=function(){return I}.call(n,a,n,t),!(o!==void 0&&(t.exports=o))):(v=s.uuid,I.noConflict=function(){return s.uuid=v,I},s.uuid=I)})('undefined'==typeof window?null:window)}).call(n,a(0).Buffer)},function(t,n,a){'use strict';n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=a(51),n.createHash=n.Hash=a(52),n.createHmac=n.Hmac=a(151);var r=a(260),o=Object.keys(r),s=['sha1','sha224','sha256','sha384','sha512','md5','rmd160'].concat(o);n.getHashes=function(){return s};var d=a(153);n.pbkdf2=d.pbkdf2,n.pbkdf2Sync=d.pbkdf2Sync;var l=a(262);n.Cipher=l.Cipher,n.createCipher=l.createCipher,n.Cipheriv=l.Cipheriv,n.createCipheriv=l.createCipheriv,n.Decipher=l.Decipher,n.createDecipher=l.createDecipher,n.Decipheriv=l.Decipheriv,n.createDecipheriv=l.createDecipheriv,n.getCiphers=l.getCiphers,n.listCiphers=l.listCiphers;var c=a(281);n.DiffieHellmanGroup=c.DiffieHellmanGroup,n.createDiffieHellmanGroup=c.createDiffieHellmanGroup,n.getDiffieHellman=c.getDiffieHellman,n.createDiffieHellman=c.createDiffieHellman,n.DiffieHellman=c.DiffieHellman;var u=a(288);n.createSign=u.createSign,n.Sign=u.Sign,n.createVerify=u.createVerify,n.Verify=u.Verify,n.createECDH=a(332);var f=a(335);n.publicEncrypt=f.publicEncrypt,n.privateEncrypt=f.privateEncrypt,n.publicDecrypt=f.publicDecrypt,n.privateDecrypt=f.privateDecrypt,n.createCredentials=function(){throw new Error('sorry, createCredentials is not implemented yet\nwe accept pull requests\nhttps://github.com/crypto-browserify/crypto-browserify')},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,n,a){'use strict';(function(n){function a(t){if(0!=t.length%r){var a=t.length+(r-t.length%r);t=n.concat([t,o],a)}for(var s=Array(t.length>>>2),d=0,l=0;d<t.length;d+=r,l++)s[l]=t.readInt32LE(d);return s}var r=4,o=new n(r);o.fill(0);var s=8,d=16;t.exports=function t(r,o){var l=o(a(r),r.length*s);r=new n(d);for(var c=0;c<l.length;c++)r.writeInt32LE(l[c],c<<2,!0);return r}}).call(n,a(0).Buffer)},function(t,n,a){'use strict';(function(n){function r(t){o.call(this),this._block=new n(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var o=a(43).Transform,s=a(2);s(r,o),r.prototype._transform=function(t,a,r){var o=null;try{'buffer'!==a&&(t=new n(t,a)),this.update(t)}catch(t){o=t}r(o)},r.prototype._flush=function(t){var n=null;try{this.push(this._digest())}catch(t){n=t}t(n)},r.prototype.update=function(t,a){if(!n.isBuffer(t)&&'string'!=typeof t)throw new TypeError('Data must be a string or a buffer');if(this._finalized)throw new Error('Digest already called');n.isBuffer(t)||(t=new n(t,a||'binary'));for(var r=this._block,o=0;this._blockOffset+t.length-o>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=t[o++];this._update(),this._blockOffset=0}for(;o<t.length;)r[this._blockOffset++]=t[o++];for(var d=0,l=8*t.length;0<l;++d)this._length[d]+=l,l=0|this._length[d]/4294967296,0<l&&(this._length[d]-=4294967296*l);return this},r.prototype._update=function(t){throw new Error('_update is not implemented')},r.prototype.digest=function(t){if(this._finalized)throw new Error('Digest already called');this._finalized=!0;var n=this._digest();return void 0!==t&&(n=n.toString(t)),n},r.prototype._digest=function(){throw new Error('_digest is not implemented')},t.exports=r}).call(n,a(0).Buffer)},function(t,n,a){(function(n){function r(){this.init(),this._w=c,d.call(this,64,56)}function o(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function u(t,n,a,r){return 0===t?n&a|~n&r:2===t?n&a|n&r|a&r:n^a^r}var s=a(2),d=a(45),f=[1518500249,1859775393,-1894007588,-899497514],c=Array(80);s(r,d),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(n){for(var r=this._w,m=0|this._a,a=0|this._b,h=0|this._c,c=0|this._d,d=0|this._e,g=0;16>g;++g)r[g]=n.readInt32BE(4*g);for(;80>g;++g)r[g]=r[g-3]^r[g-8]^r[g-14]^r[g-16];for(var b=0;80>b;++b){var y=~~(b/20),s=0|o(m)+u(y,a,h,c)+d+r[b]+f[y];d=c,c=h,h=l(a),a=m,m=s}this._a=0|m+this._a,this._b=0|a+this._b,this._c=0|h+this._c,this._d=0|c+this._d,this._e=0|d+this._e},r.prototype._hash=function(){var t=new n(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r}).call(n,a(0).Buffer)},function(t,n,a){(function(n){function r(){this.init(),this._w=c,d.call(this,64,56)}function o(t){return t<<1|t>>>31}function l(t){return t<<5|t>>>27}function u(t){return t<<30|t>>>2}function f(t,n,a,r){return 0===t?n&a|~n&r:2===t?n&a|n&r|a&r:n^a^r}var s=a(2),d=a(45),m=[1518500249,1859775393,-1894007588,-899497514],c=Array(80);s(r,d),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(n){for(var r=this._w,h=0|this._a,a=0|this._b,g=0|this._c,c=0|this._d,d=0|this._e,b=0;16>b;++b)r[b]=n.readInt32BE(4*b);for(;80>b;++b)r[b]=o(r[b-3]^r[b-8]^r[b-14]^r[b-16]);for(var y=0;80>y;++y){var v=~~(y/20),s=0|l(h)+f(v,a,g,c)+d+r[y]+m[v];d=c,c=g,g=u(a),a=h,h=s}this._a=0|h+this._a,this._b=0|a+this._b,this._c=0|g+this._c,this._d=0|c+this._d,this._e=0|d+this._e},r.prototype._hash=function(){var t=new n(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r}).call(n,a(0).Buffer)},function(t,n,a){(function(n){function r(){this.init(),this._w=l,d.call(this,64,56)}var o=a(2),s=a(149),d=a(45),l=Array(64);o(r,s),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var t=new n(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=r}).call(n,a(0).Buffer)},function(t,n,a){(function(n){function r(){this.init(),this._w=l,d.call(this,128,112)}var o=a(2),s=a(150),d=a(45),l=Array(160);o(r,s),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){function t(t,n,r){a.writeInt32BE(t,r),a.writeInt32BE(n,r+4)}var a=new n(48);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),a},t.exports=r}).call(n,a(0).Buffer)},function(t,n,a){'use strict';function r(t,n){d.call(this,'digest'),'string'==typeof n&&(n=s.from(n)),this._alg=t,this._key=n,n.length>c?n=t(n):n.length<c&&(n=s.concat([n,l],c));for(var a=this._ipad=s.allocUnsafe(c),r=this._opad=s.allocUnsafe(c),o=0;o<c;o++)a[o]=54^n[o],r[o]=92^n[o];this._hash=[a]}var o=a(2),s=a(3).Buffer,d=a(27),l=s.alloc(128),c=64;o(r,d),r.prototype._update=function(t){this._hash.push(t)},r.prototype._final=function(){var t=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,t]))},t.exports=r},function(t,n,a){t.exports=a(152)},function(t,n,a){(function(n,r){function o(t){if(n.process&&!n.process.browser)return Promise.resolve(!1);if(!m||!m.importKey||!m.deriveBits)return Promise.resolve(!1);if(void 0!==g[t])return g[t];b=b||f.alloc(8);var a=s(b,b,10,128,t).then(function(){return!0}).catch(function(){return!1});return g[t]=a,a}function s(t,n,a,r,o){return m.importKey('raw',t,{name:'PBKDF2'},!1,['deriveBits']).then(function(t){return m.deriveBits({name:'PBKDF2',salt:n,iterations:a,hash:{name:o}},t,r<<3)}).then(function(t){return f.from(t)})}function d(t,n){t.then(function(t){r.nextTick(function(){n(null,t)})},function(t){r.nextTick(function(){n(t)})})}var l=a(154),c=a(155),u=a(156),f=a(3).Buffer,m=n.crypto&&n.crypto.subtle,h={sha:'SHA-1',"sha-1":'SHA-1',sha1:'SHA-1',sha256:'SHA-256',"sha-256":'SHA-256',sha384:'SHA-384',"sha-384":'SHA-384',"sha-512":'SHA-512',sha512:'SHA-512'},g=[],b;t.exports=function(t,a,m,g,b,y){if(f.isBuffer(t)||(t=f.from(t,c)),f.isBuffer(a)||(a=f.from(a,c)),l(m,g),'function'==typeof b&&(y=b,b=void 0),'function'!=typeof y)throw new Error('No callback provided to pbkdf2');b=b||'sha1';var v=h[b.toLowerCase()];return v&&'function'==typeof n.Promise?void d(o(v).then(function(n){return n?s(t,a,m,g,v):u(t,a,m,g,b)}),y):r.nextTick(function(){var n;try{n=u(t,a,m,g,b)}catch(t){return y(t)}y(null,n)})}}).call(n,a(4),a(13))},function(t,n,a){function r(t,n){var a,r;if(t=t.toLowerCase(),h[t])a=h[t].key,r=h[t].iv;else if(m[t])a=8*m[t].key,r=m[t].iv;else throw new TypeError('invalid suite type');var o=c(n,!1,a,r);return s(t,o.key,o.iv)}function o(t,n){var a,r;if(t=t.toLowerCase(),h[t])a=h[t].key,r=h[t].iv;else if(m[t])a=8*m[t].key,r=m[t].iv;else throw new TypeError('invalid suite type');var o=c(n,!1,a,r);return d(t,o.key,o.iv)}function s(t,n,a){if(t=t.toLowerCase(),h[t])return u.createCipheriv(t,n,a);if(m[t])return new f({key:n,iv:a,mode:t});throw new TypeError('invalid suite type')}function d(t,n,a){if(t=t.toLowerCase(),h[t])return u.createDecipheriv(t,n,a);if(m[t])return new f({key:n,iv:a,mode:t,decrypt:!0});throw new TypeError('invalid suite type')}function l(){return Object.keys(m).concat(u.getCiphers())}var c=a(71),u=a(104),f=a(274),m=a(280),h=a(105);n.createCipher=n.Cipher=r,n.createCipheriv=n.Cipheriv=s,n.createDecipher=n.Decipher=o,n.createDecipheriv=n.Decipheriv=d,n.listCiphers=n.getCiphers=l},function(t,n,a){'use strict';(function(n){function r(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function o(t,a){return t<<a|t>>>32-a}function s(t,n,a,r,d,l,c){return 0|o(0|t+(n&a|~n&r)+d+l,c)+n}function l(t,n,a,r,l,c,u){return 0|o(0|t+(n&r|a&~r)+l+c,u)+n}function u(t,n,a,r,d,l,c){return 0|o(0|t+(n^a^r)+d+l,c)+n}function f(t,n,a,r,l,c,u){return 0|o(0|t+(a^(n|~r))+l+c,u)+n}var d=a(2),c=a(264),m=Array(16);d(r,c),r.prototype._update=function(){for(var t=m,n=0;16>n;++n)t[n]=this._block.readInt32LE(4*n);var r=this._a,a=this._b,o=this._c,c=this._d;r=s(r,a,o,c,t[0],3614090360,7),c=s(c,r,a,o,t[1],3905402710,12),o=s(o,c,r,a,t[2],606105819,17),a=s(a,o,c,r,t[3],3250441966,22),r=s(r,a,o,c,t[4],4118548399,7),c=s(c,r,a,o,t[5],1200080426,12),o=s(o,c,r,a,t[6],2821735955,17),a=s(a,o,c,r,t[7],4249261313,22),r=s(r,a,o,c,t[8],1770035416,7),c=s(c,r,a,o,t[9],2336552879,12),o=s(o,c,r,a,t[10],4294925233,17),a=s(a,o,c,r,t[11],2304563134,22),r=s(r,a,o,c,t[12],1804603682,7),c=s(c,r,a,o,t[13],4254626195,12),o=s(o,c,r,a,t[14],2792965006,17),a=s(a,o,c,r,t[15],1236535329,22),r=l(r,a,o,c,t[1],4129170786,5),c=l(c,r,a,o,t[6],3225465664,9),o=l(o,c,r,a,t[11],643717713,14),a=l(a,o,c,r,t[0],3921069994,20),r=l(r,a,o,c,t[5],3593408605,5),c=l(c,r,a,o,t[10],38016083,9),o=l(o,c,r,a,t[15],3634488961,14),a=l(a,o,c,r,t[4],3889429448,20),r=l(r,a,o,c,t[9],568446438,5),c=l(c,r,a,o,t[14],3275163606,9),o=l(o,c,r,a,t[3],4107603335,14),a=l(a,o,c,r,t[8],1163531501,20),r=l(r,a,o,c,t[13],2850285829,5),c=l(c,r,a,o,t[2],4243563512,9),o=l(o,c,r,a,t[7],1735328473,14),a=l(a,o,c,r,t[12],2368359562,20),r=u(r,a,o,c,t[5],4294588738,4),c=u(c,r,a,o,t[8],2272392833,11),o=u(o,c,r,a,t[11],1839030562,16),a=u(a,o,c,r,t[14],4259657740,23),r=u(r,a,o,c,t[1],2763975236,4),c=u(c,r,a,o,t[4],1272893353,11),o=u(o,c,r,a,t[7],4139469664,16),a=u(a,o,c,r,t[10],3200236656,23),r=u(r,a,o,c,t[13],681279174,4),c=u(c,r,a,o,t[0],3936430074,11),o=u(o,c,r,a,t[3],3572445317,16),a=u(a,o,c,r,t[6],76029189,23),r=u(r,a,o,c,t[9],3654602809,4),c=u(c,r,a,o,t[12],3873151461,11),o=u(o,c,r,a,t[15],530742520,16),a=u(a,o,c,r,t[2],3299628645,23),r=f(r,a,o,c,t[0],4096336452,6),c=f(c,r,a,o,t[7],1126891415,10),o=f(o,c,r,a,t[14],2878612391,15),a=f(a,o,c,r,t[5],4237533241,21),r=f(r,a,o,c,t[12],1700485571,6),c=f(c,r,a,o,t[3],2399980690,10),o=f(o,c,r,a,t[10],4293915773,15),a=f(a,o,c,r,t[1],2240044497,21),r=f(r,a,o,c,t[8],1873313359,6),c=f(c,r,a,o,t[15],4264355552,10),o=f(o,c,r,a,t[6],2734768916,15),a=f(a,o,c,r,t[13],1309151649,21),r=f(r,a,o,c,t[4],4149444226,6),c=f(c,r,a,o,t[11],3174756917,10),o=f(o,c,r,a,t[2],718787259,15),a=f(a,o,c,r,t[9],3951481745,21),this._a=0|this._a+r,this._b=0|this._b+a,this._c=0|this._c+o,this._d=0|this._d+c},r.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new n(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=r}).call(n,a(0).Buffer)},function(t,n,a){'use strict';function r(t,n){if(!s.isBuffer(t)&&'string'!=typeof t)throw new TypeError(n+' must be a string or a buffer')}function o(t){d.call(this),this._block=s.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var s=a(3).Buffer,d=a(43).Transform,l=a(2);l(o,d),o.prototype._transform=function(t,n,a){var r=null;try{this.update(t,n)}catch(t){r=t}a(r)},o.prototype._flush=function(t){var n=null;try{this.push(this.digest())}catch(t){n=t}t(n)},o.prototype.update=function(t,n){if(r(t,'Data'),this._finalized)throw new Error('Digest already called');s.isBuffer(t)||(t=s.from(t,n));for(var a=this._block,o=0;this._blockOffset+t.length-o>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)a[d++]=t[o++];this._update(),this._blockOffset=0}for(;o<t.length;)a[this._blockOffset++]=t[o++];for(var l=0,c=8*t.length;0<c;++l)this._length[l]+=c,c=0|this._length[l]/4294967296,0<c&&(this._length[l]-=4294967296*c);return this},o.prototype._update=function(){throw new Error('_update is not implemented')},o.prototype.digest=function(t){if(this._finalized)throw new Error('Digest already called');this._finalized=!0;var n=this._digest();t!==void 0&&(n=n.toString(t)),this._block.fill(0),this._blockOffset=0;for(var a=0;4>a;++a)this._length[a]=0;return n},o.prototype._digest=function(){throw new Error('_digest is not implemented')},t.exports=o},function(t,n,a){function r(t,n,a){m.call(this),this._cache=new o,this._cipher=new h.AES(n),this._prev=u.from(a),this._mode=t,this._autopadding=!0}function o(){this.cache=u.allocUnsafe(0)}function s(t,n,a){var o=l[t.toLowerCase()];if(!o)throw new TypeError('invalid suite type');if('string'==typeof n&&(n=u.from(n)),n.length!==o.key/8)throw new TypeError('invalid key length '+n.length);if('string'==typeof a&&(a=u.from(a)),a.length!==o.iv)throw new TypeError('invalid iv length '+a.length);return'stream'===o.type?new f(o.module,n,a):'auth'===o.type?new c(o.module,n,a):new r(o.module,n,a)}function d(t,n){var a=l[t.toLowerCase()];if(!a)throw new TypeError('invalid suite type');var r=g(n,!1,a.key,a.iv);return s(t,r.key,r.iv)}var l=a(105),c=a(159),u=a(3).Buffer,f=a(160),m=a(27),h=a(72),g=a(71),b=a(2);b(r,m),r.prototype._update=function(t){this._cache.add(t);for(var n=[],a,r;a=this._cache.get();)r=this._mode.encrypt(this,a),n.push(r);return u.concat(n)};var y=u.alloc(16,16);r.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(y))throw this._cipher.scrub(),new Error('data not multiple of block length')},r.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},o.prototype.add=function(t){this.cache=u.concat([this.cache,t])},o.prototype.get=function(){if(15<this.cache.length){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},o.prototype.flush=function(){for(var t=16-this.cache.length,n=u.allocUnsafe(t),a=-1;++a<t;)n.writeUInt8(t,a);return u.concat([this.cache,n])},n.createCipheriv=s,n.createCipher=d},function(t,n){n.encrypt=function(t,n){return t._cipher.encryptBlock(n)},n.decrypt=function(t,n){return t._cipher.decryptBlock(n)}},function(t,n,a){var r=a(53);n.encrypt=function(t,n){var a=r(n,t._prev);return t._prev=t._cipher.encryptBlock(a),t._prev},n.decrypt=function(t,n){var a=t._prev;t._prev=n;var o=t._cipher.decryptBlock(n);return r(o,a)}},function(t,n,a){function r(t,n,a){var r=n.length,d=s(n,t._cache);return t._cache=t._cache.slice(r),t._prev=o.concat([t._prev,a?n:d]),d}var o=a(3).Buffer,s=a(53);n.encrypt=function(t,n,a){for(var s=o.allocUnsafe(0),d;n.length;)if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=o.allocUnsafe(0)),t._cache.length<=n.length)d=t._cache.length,s=o.concat([s,r(t,n.slice(0,d),a)]),n=n.slice(d);else{s=o.concat([s,r(t,n,a)]);break}return s}},function(t,n,a){(function(t){function a(n,a,r){var o=n._cipher.encryptBlock(n._prev),s=o[0]^a;return n._prev=t.concat([n._prev.slice(1),t.from([r?a:s])]),s}n.encrypt=function(n,r,o){for(var s=r.length,d=t.allocUnsafe(s),l=-1;++l<s;)d[l]=a(n,r[l],o);return d}}).call(n,a(0).Buffer)},function(t,n,a){function r(t,n,a){for(var r=-1,s=8,d=0,l,c,u;++r<s;)l=t._cipher.encryptBlock(t._prev),c=n&1<<7-r?128:0,u=l[0]^c,d+=(128&u)>>r%8,t._prev=o(t._prev,a?c:u);return d}function o(t,n){var a=t.length,r=-1,o=s.allocUnsafe(t.length);for(t=s.concat([t,s.from([n])]);++r<a;)o[r]=t[r]<<1|t[r+1]>>7;return o}var s=a(3).Buffer;n.encrypt=function(t,n,a){for(var o=n.length,d=s.allocUnsafe(o),l=-1;++l<o;)d[l]=r(t,n[l],a);return d}},function(t,n,a){(function(t){function r(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}var o=a(53);n.encrypt=function(n,a){for(;n._cache.length<a.length;)n._cache=t.concat([n._cache,r(n)]);var s=n._cache.slice(0,a.length);return n._cache=n._cache.slice(a.length),o(a,s)}}).call(n,a(0).Buffer)},function(t,n,a){function r(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function o(t){var n=d.allocUnsafe(16);return n.writeUInt32BE(t[0]>>>0,0),n.writeUInt32BE(t[1]>>>0,4),n.writeUInt32BE(t[2]>>>0,8),n.writeUInt32BE(t[3]>>>0,12),n}function s(t){this.h=t,this.state=d.alloc(16,0),this.cache=d.allocUnsafe(0)}var d=a(3).Buffer,l=d.alloc(16,0);s.prototype.ghash=function(t){for(var n=-1;++n<t.length;)this.state[n]^=t[n];this._multiply()},s.prototype._multiply=function(){for(var t=r(this.h),n=[0,0,0,0],a=-1,s,d,l;128>++a;){for(d=0!=(this.state[~~(a/8)]&1<<7-a%8),d&&(n[0]^=t[0],n[1]^=t[1],n[2]^=t[2],n[3]^=t[3]),l=0!=(1&t[3]),s=3;0<s;s--)t[s]=t[s]>>>1|(1&t[s-1])<<31;t[0]>>>=1,l&&(t[0]^=-520093696)}this.state=o(n)},s.prototype.update=function(t){this.cache=d.concat([this.cache,t]);for(var n;16<=this.cache.length;)n=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(n)},s.prototype.final=function(t,n){return this.cache.length&&this.ghash(d.concat([this.cache,l],16)),this.ghash(o([0,t,0,n])),this.state},t.exports=s},function(t,n,a){function r(t,n,a){h.call(this),this._cache=new o,this._last=void 0,this._cipher=new g.AES(n),this._prev=u.from(a),this._mode=t,this._autopadding=!0}function o(){this.cache=u.allocUnsafe(0)}function s(t){for(var n=t[15],a=-1;++a<n;)if(t[a+(16-n)]!==n)throw new Error('unable to decrypt data');return 16===n?void 0:t.slice(0,16-n)}function d(t,n,a){var o=f[t.toLowerCase()];if(!o)throw new TypeError('invalid suite type');if('string'==typeof a&&(a=u.from(a)),a.length!==o.iv)throw new TypeError('invalid iv length '+a.length);if('string'==typeof n&&(n=u.from(n)),n.length!==o.key/8)throw new TypeError('invalid key length '+n.length);return'stream'===o.type?new m(o.module,n,a,!0):'auth'===o.type?new c(o.module,n,a,!0):new r(o.module,n,a)}function l(t,n){var a=f[t.toLowerCase()];if(!a)throw new TypeError('invalid suite type');var r=b(n,!1,a.key,a.iv);return d(t,r.key,r.iv)}var c=a(159),u=a(3).Buffer,f=a(105),m=a(160),h=a(27),g=a(72),b=a(71),y=a(2);y(r,h),r.prototype._update=function(t){this._cache.add(t);for(var n=[],a,r;a=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,a),n.push(r);return u.concat(n)},r.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return s(this._mode.decrypt(this,t));if(t)throw new Error('data not multiple of block length')},r.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},o.prototype.add=function(t){this.cache=u.concat([this.cache,t])},o.prototype.get=function(t){var n;if(t){if(16<this.cache.length)return n=this.cache.slice(0,16),this.cache=this.cache.slice(16),n;}else if(16<=this.cache.length)return n=this.cache.slice(0,16),this.cache=this.cache.slice(16),n;return null},o.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=l,n.createDecipheriv=d},function(t,n,a){(function(n){function r(t){o.call(this);var a=t.mode.toLowerCase(),r=l[a],s;s=t.decrypt?'decrypt':'encrypt';var d=t.key;('des-ede'===a||'des-ede-cbc'===a)&&(d=n.concat([d,d.slice(0,8)]));var c=t.iv;this._des=r.create({key:d,iv:c,type:s})}var o=a(27),s=a(106),d=a(2),l={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};l.des=l['des-cbc'],l.des3=l['des-ede3-cbc'],t.exports=r,d(r,o),r.prototype._update=function(t){return new n(this._des.update(t))},r.prototype._final=function(){return new n(this._des.final())}}).call(n,a(0).Buffer)},function(t,n,a){'use strict';n.readUInt32BE=function t(n,a){var r=n[0+a]<<24|n[1+a]<<16|n[2+a]<<8|n[3+a];return r>>>0},n.writeUInt32BE=function t(n,a,r){n[0+r]=a>>>24,n[1+r]=255&a>>>16,n[2+r]=255&a>>>8,n[3+r]=255&a},n.ip=function t(n,a,r,o){for(var s=0,d=0,l=6;0<=l;l-=2){for(var c=0;24>=c;c+=8)s<<=1,s|=1&a>>>c+l;for(var c=0;24>=c;c+=8)s<<=1,s|=1&n>>>c+l}for(var l=6;0<=l;l-=2){for(var c=1;25>=c;c+=8)d<<=1,d|=1&a>>>c+l;for(var c=1;25>=c;c+=8)d<<=1,d|=1&n>>>c+l}r[o+0]=s>>>0,r[o+1]=d>>>0},n.rip=function t(n,a,r,o){for(var s=0,d=0,l=0;4>l;l++)for(var c=24;0<=c;c-=8)s<<=1,s|=1&a>>>c+l,s<<=1,s|=1&n>>>c+l;for(var l=4;8>l;l++)for(var c=24;0<=c;c-=8)d<<=1,d|=1&a>>>c+l,d<<=1,d|=1&n>>>c+l;r[o+0]=s>>>0,r[o+1]=d>>>0},n.pc1=function t(n,a,r,o){for(var s=0,d=0,l=7;5<=l;l--){for(var c=0;24>=c;c+=8)s<<=1,s|=1&a>>c+l;for(var c=0;24>=c;c+=8)s<<=1,s|=1&n>>c+l}for(var c=0;24>=c;c+=8)s<<=1,s|=1&a>>c+l;for(var l=1;3>=l;l++){for(var c=0;24>=c;c+=8)d<<=1,d|=1&a>>c+l;for(var c=0;24>=c;c+=8)d<<=1,d|=1&n>>c+l}for(var c=0;24>=c;c+=8)d<<=1,d|=1&n>>c+l;r[o+0]=s>>>0,r[o+1]=d>>>0},n.r28shl=function t(n,a){return 268435455&n<<a|n>>>28-a};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function t(n,a,o,s){for(var d=0,l=0,c=r.length>>>1,u=0;u<c;u++)d<<=1,d|=1&n>>>r[u];for(var u=c;u<r.length;u++)l<<=1,l|=1&a>>>r[u];o[s+0]=d>>>0,o[s+1]=l>>>0},n.expand=function t(n,a,r){var o=0,s=0;o=(1&n)<<5|n>>>27;for(var d=23;15<=d;d-=4)o<<=6,o|=63&n>>>d;for(var d=11;3<=d;d-=4)s|=63&n>>>d,s<<=6;s|=(31&n)<<1|n>>>31,a[r+0]=o>>>0,a[r+1]=s>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function t(n,a){for(var r=0,s=0;4>s;s++){var d=63&n>>>18-6*s,l=o[64*s+d];r<<=4,r|=l}for(var s=0;4>s;s++){var d=63&a>>>18-6*s,l=o[256+64*s+d];r<<=4,r|=l}return r>>>0};var s=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function t(n){for(var a=0,r=0;r<s.length;r++)a<<=1,a|=1&n>>>s[r];return a>>>0},n.padSplit=function t(n,a,r){for(var o=n.toString(2);o.length<a;)o='0'+o;for(var s=[],d=0;d<a;d+=r)s.push(o.slice(d,d+r));return s.join(' ')}},function(t,n,a){'use strict';function r(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0}var o=a(15);t.exports=r,r.prototype._init=function t(){},r.prototype.update=function t(n){return 0===n.length?[]:'decrypt'===this.type?this._updateDecrypt(n):this._updateEncrypt(n)},r.prototype._buffer=function t(n,a){for(var r=_Mathmin(this.buffer.length-this.bufferOff,n.length-a),o=0;o<r;o++)this.buffer[this.bufferOff+o]=n[a+o];return this.bufferOff+=r,r},r.prototype._flushBuffer=function t(n,a){return this._update(this.buffer,0,n,a),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function t(n){var a=0,r=0,o=0|(this.bufferOff+n.length)/this.blockSize,s=Array(o*this.blockSize);0!==this.bufferOff&&(a+=this._buffer(n,a),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(s,r)));for(var d=n.length-(n.length-a)%this.blockSize;a<d;a+=this.blockSize)this._update(n,a,s,r),r+=this.blockSize;for(;a<n.length;a++,this.bufferOff++)this.buffer[this.bufferOff]=n[a];return s},r.prototype._updateDecrypt=function t(n){for(var a=0,r=0,o=_Mathceil((this.bufferOff+n.length)/this.blockSize)-1,s=Array(o*this.blockSize);0<o;o--)a+=this._buffer(n,a),r+=this._flushBuffer(s,r);return a+=this._buffer(n,a),s},r.prototype.final=function t(n){var a;n&&(a=this.update(n));var r;return r='encrypt'===this.type?this._finalEncrypt():this._finalDecrypt(),a?a.concat(r):r},r.prototype._pad=function t(n,a){if(0===a)return!1;for(;a<n.length;)n[a++]=0;return!0},r.prototype._finalEncrypt=function t(){if(!this._pad(this.buffer,this.bufferOff))return[];var n=Array(this.blockSize);return this._update(this.buffer,0,n,0),n},r.prototype._unpad=function t(n){return n},r.prototype._finalDecrypt=function t(){o.equal(this.bufferOff,this.blockSize,'Not enough data to decrypt');var n=Array(this.blockSize);return this._flushBuffer(n,0),this._unpad(n)}},function(t,n,a){'use strict';function r(){this.tmp=[,,],this.keys=null}function o(t){u.call(this,t);var n=new r;this._desState=n,this.deriveKeys(n,t.key)}var s=a(15),d=a(2),l=a(106),c=l.utils,u=l.Cipher;d(o,u),t.exports=o,o.create=function t(n){return new o(n)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];o.prototype.deriveKeys=function t(n,a){n.keys=Array(32),s.equal(a.length,this.blockSize,'Invalid key length');var r=c.readUInt32BE(a,0),o=c.readUInt32BE(a,4);c.pc1(r,o,n.tmp,0),r=n.tmp[0],o=n.tmp[1];for(var d=0,l;d<n.keys.length;d+=2)l=f[d>>>1],r=c.r28shl(r,l),o=c.r28shl(o,l),c.pc2(r,o,n.keys,d)},o.prototype._update=function t(n,a,o,s){var d=this._desState,u=c.readUInt32BE(n,a),l=c.readUInt32BE(n,a+4);c.ip(u,l,d.tmp,0),u=d.tmp[0],l=d.tmp[1],'encrypt'===this.type?this._encrypt(d,u,l,d.tmp,0):this._decrypt(d,u,l,d.tmp,0),u=d.tmp[0],l=d.tmp[1],c.writeUInt32BE(o,u,s),c.writeUInt32BE(o,l,s+4)},o.prototype._pad=function t(n,a){for(var r=n.length-a,o=a;o<n.length;o++)n[o]=r;return!0},o.prototype._unpad=function t(n){for(var a=n[n.length-1],r=n.length-a;r<n.length;r++)s.equal(n[r],a);return n.slice(0,n.length-a)},o.prototype._encrypt=function n(a,o,d,u,m){for(var h=o,l=d,r=0;r<a.keys.length;r+=2){var g=a.keys[r],b=a.keys[r+1];c.expand(l,a.tmp,0),g^=a.tmp[0],b^=a.tmp[1];var y=c.substitute(g,b),s=c.permute(y),f=l;l=(h^s)>>>0,h=f}c.rip(l,h,u,m)},o.prototype._decrypt=function n(a,o,d,u,m){for(var h=d,l=o,r=a.keys.length-2;0<=r;r-=2){var g=a.keys[r],b=a.keys[r+1];c.expand(h,a.tmp,0),g^=a.tmp[0],b^=a.tmp[1];var y=c.substitute(g,b),s=c.permute(y),f=h;h=(l^s)>>>0,l=f}c.rip(h,l,u,m)}},function(t,n,a){'use strict';function r(t){s.equal(t.length,8,'Invalid IV length'),this.iv=Array(8);for(var n=0;n<this.iv.length;n++)this.iv[n]=t[n]}function o(t){function n(n){t.call(this,n),this._cbcInit()}d(n,t);for(var a=Object.keys(l),r=0,o;r<a.length;r++)o=a[r],n.prototype[o]=l[o];return n.create=function t(a){return new n(a)},n}var s=a(15),d=a(2),l={};n.instantiate=o,l._cbcInit=function t(){var n=new r(this.options.iv);this._cbcState=n},l._update=function t(n,a,r,o){var s=this._cbcState,d=this.constructor.super_.prototype,l=s.iv;if('encrypt'===this.type){for(var c=0;c<this.blockSize;c++)l[c]^=n[a+c];d._update.call(this,l,0,r,o);for(var c=0;c<this.blockSize;c++)l[c]=r[o+c]}else{d._update.call(this,n,a,r,o);for(var c=0;c<this.blockSize;c++)r[o+c]^=l[c];for(var c=0;c<this.blockSize;c++)l[c]=n[a+c]}}},function(t,n,a){'use strict';function r(t,n){s.equal(n.length,24,'Invalid key length');var a=n.slice(0,8),r=n.slice(8,16),o=n.slice(16,24);this.ciphers='encrypt'===t?[u.create({type:'encrypt',key:a}),u.create({type:'decrypt',key:r}),u.create({type:'encrypt',key:o})]:[u.create({type:'decrypt',key:o}),u.create({type:'encrypt',key:r}),u.create({type:'decrypt',key:a})]}function o(t){c.call(this,t);var n=new r(this.type,this.options.key);this._edeState=n}var s=a(15),d=a(2),l=a(106),c=l.Cipher,u=l.DES;d(o,c),t.exports=o,o.create=function t(n){return new o(n)},o.prototype._update=function t(n,a,r,o){var s=this._edeState;s.ciphers[0]._update(n,a,r,o),s.ciphers[1]._update(r,o,r,o),s.ciphers[2]._update(r,o,r,o)},o.prototype._pad=u.prototype._pad,o.prototype._unpad=u.prototype._unpad},function(t,n){n['des-ecb']={key:8,iv:0},n['des-cbc']=n.des={key:8,iv:8},n['des-ede3-cbc']=n.des3={key:24,iv:8},n['des-ede3']={key:24,iv:0},n['des-ede-cbc']={key:16,iv:8},n['des-ede']={key:16,iv:0}},function(t,n,a){(function(t){function r(n){var a=new t(d[n].prime,'hex'),r=new t(d[n].gen,'hex');return new l(a,r)}function o(n,a,r,d){return t.isBuffer(a)||void 0===c[a]?o(n,'binary',a,r):(a=a||'binary',d=d||'binary',r=r||new t([2]),t.isBuffer(r)||(r=new t(r,d)),'number'==typeof n)?new l(s(n,r),r,!0):(t.isBuffer(n)||(n=new t(n,a)),new l(n,r,!0))}var s=a(161),d=a(286),l=a(287),c={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=r,n.createDiffieHellman=n.DiffieHellman=o}).call(n,a(0).Buffer)},function(t,n){},function(t,n,a){(function(t){(function(t,n){'use strict';function o(t,n){if(!t)throw new Error(n||'Assertion failed')}function r(t,n){t.super_=n;var a=function(){};a.prototype=n.prototype,t.prototype=new a,t.prototype.constructor=t}function d(t,n,a){return d.isBN(t)?t:void(this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(('le'===n||'be'===n)&&(a=n,n=10),this._init(t||0,n||10,a||'be')))}function s(t,n,a){for(var o=0,r=_Mathmin(t.length,a),s=n,d;s<r;s++)d=t.charCodeAt(s)-48,o<<=4,o|=49<=d&&54>=d?d-49+10:17<=d&&22>=d?d-17+10:15&d;return o}function l(t,n,a,o){for(var s=0,r=_Mathmin(t.length,a),d=n,l;d<r;d++)l=t.charCodeAt(d)-48,s*=o,s+=49<=l?l-49+10:17<=l?l-17+10:l;return s}function c(t){for(var n=Array(t.bitLength()),a=0;a<n.length;a++){var r=0|a/26,o=a%26;n[a]=(t.words[r]&1<<o)>>>o}return n}function u(t,n,o){o.negative=n.negative^t.negative;var s=0|t.length+n.length;o.length=s,s=0|s-1;var d=0|t.words[0],a=0|n.words[0],l=d*a,r=67108863&l,c=0|l/67108864;o.words[0]=r;for(var u=1;u<s;u++){for(var f=c>>>26,m=67108863&c,h=_Mathmin(u,n.length-1),g=_Mathmax(0,u-t.length+1),b;g<=h;g++)b=0|u-g,d=0|t.words[b],a=0|n.words[g],l=d*a+m,f+=0|l/67108864,m=67108863&l;o.words[u]=0|m,c=0|f}return 0==c?o.length--:o.words[u]=0|c,o.strip()}function f(t,n,o){o.negative=n.negative^t.negative,o.length=t.length+n.length;for(var s=0,d=0,l=0,c;l<o.length-1;l++){c=d,d=0;for(var u=67108863&s,f=_Mathmin(l,n.length-1),m=_Mathmax(0,l-t.length+1);m<=f;m++){var h=l-m,g=0|t.words[h],a=0|n.words[m],b=g*a,r=67108863&b;c=0|c+(0|b/67108864),r=0|r+u,u=67108863&r,c=0|c+(r>>>26),d+=c>>>26,c&=67108863}o.words[l]=u,s=c,c=d}return 0==s?o.length--:o.words[l]=s,o.strip()}function m(t,n,a){var r=new h;return r.mulp(t,n,a)}function h(t,n){this.x=t,this.y=n}function g(t,n){this.name=t,this.p=new d(n,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function y(){g.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function v(){g.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function w(){g.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var n=d._prime(t);this.m=n.p,this.prime=n}else o(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function _(t){x.call(this,t),this.shift=this.m.bitLength(),0!=this.shift%26&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}'object'==typeof t?t.exports=d:n.BN=d,d.BN=d,d.wordSize=26;var k;try{k=a(284).Buffer}catch(t){}d.isBN=function t(n){return!!(n instanceof d)||null!==n&&'object'==typeof n&&n.constructor.wordSize===d.wordSize&&Array.isArray(n.words)},d.max=function t(n,a){return 0<n.cmp(a)?n:a},d.min=function t(n,a){return 0>n.cmp(a)?n:a},d.prototype._init=function t(n,a,r){if('number'==typeof n)return this._initNumber(n,a,r);if('object'==typeof n)return this._initArray(n,a,r);'hex'===a&&(a=16),o(a===(0|a)&&2<=a&&36>=a),n=n.toString().replace(/\s+/g,'');var s=0;'-'===n[0]&&s++,16===a?this._parseHex(n,s):this._parseBase(n,a,s),'-'===n[0]&&(this.negative=1),this.strip();'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initNumber=function t(n,a,r){0>n&&(this.negative=1,n=-n),67108864>n?(this.words=[67108863&n],this.length=1):4503599627370496>n?(this.words=[67108863&n,67108863&n/67108864],this.length=2):(o(9007199254740992>n),this.words=[67108863&n,67108863&n/67108864,1],this.length=3);'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initArray=function t(n,a,r){if(o('number'==typeof n.length),0>=n.length)return this.words=[0],this.length=1,this;this.length=_Mathceil(n.length/3),this.words=Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var d=0,l,c;if('be'===r)for(s=n.length-1,l=0;0<=s;s-=3)c=n[s]|n[s-1]<<8|n[s-2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);else if('le'===r)for(s=0,l=0;s<n.length;s+=3)c=n[s]|n[s+1]<<8|n[s+2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);return this.strip()},d.prototype._parseHex=function t(n,a){this.length=_Mathceil((n.length-a)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o=0,d,l;for(r=n.length-6,d=0;r>=a;r-=6)l=s(n,r,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o,o+=24,26<=o&&(o-=26,d++);r+6!==a&&(l=s(n,a,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o),this.strip()},d.prototype._parseBase=function t(n,a,r){this.words=[0],this.length=1;for(var o=0,s=1;67108863>=s;s*=a)o++;o--,s=0|s/a;for(var d=n.length-r,c=d%o,u=_Mathmin(d,d-c)+r,f=0,m=r;m<u;m+=o)f=l(n,m,m+o,a),this.imuln(s),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f);if(0!=c){var h=1;for(f=l(n,m,n.length,a),m=0;m<c;m++)h*=a;this.imuln(h),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f)}},d.prototype.copy=function t(n){n.words=Array(this.length);for(var a=0;a<this.length;a++)n.words[a]=this.words[a];n.length=this.length,n.negative=this.negative,n.red=this.red},d.prototype.clone=function t(){var n=new d(null);return this.copy(n),n},d.prototype._expand=function t(n){for(;this.length<n;)this.words[this.length++]=0;return this},d.prototype.strip=function t(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},d.prototype._normSign=function t(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},d.prototype.inspect=function t(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var C=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,10000000,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function t(n,a){n=n||10,a=0|a||1;var s;if(16===n||'hex'===n){s='';for(var d=0,l=0,u=0;u<this.length;u++){var f=this.words[u],m=(16777215&(f<<d|l)).toString(16);l=16777215&f>>>24-d,s=0!=l||u!==this.length-1?C[6-m.length]+m+s:m+s,d+=2,26<=d&&(d-=26,u--)}for(0!=l&&(s=l.toString(16)+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}if(n===(0|n)&&2<=n&&36>=n){var h=T[n],g=E[n];s='';var b=this.clone();for(b.negative=0;!b.isZero();){var c=b.modn(g).toString(n);b=b.idivn(g),s=b.isZero()?c+s:C[h-c.length]+c+s}for(this.isZero()&&(s='0'+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}o(!1,'Base should be between 2 and 36')},d.prototype.toNumber=function t(){var n=this.words[0];return 2===this.length?n+=67108864*this.words[1]:3===this.length&&1===this.words[2]?n+=4503599627370496+67108864*this.words[1]:2<this.length&&o(!1,'Number can only safely store up to 53 bits'),0===this.negative?n:-n},d.prototype.toJSON=function t(){return this.toString(16)},d.prototype.toBuffer=function t(n,a){return o('undefined'!=typeof k),this.toArrayLike(k,n,a)},d.prototype.toArray=function t(n,a){return this.toArrayLike(Array,n,a)},d.prototype.toArrayLike=function t(n,a,r){var s=this.byteLength(),d=r||_Mathmax(1,s);o(s<=d,'byte array longer than desired length'),o(0<d,'Requested array length <= 0'),this.strip();var l='le'===a,c=new n(d),u=this.clone(),f,m;if(!l){for(m=0;m<d-s;m++)c[m]=0;for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[d-m-1]=f}else{for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[m]=f;for(;m<d;m++)c[m]=0}return c},d.prototype._countBits=_Mathclz?function t(n){return 32-_Mathclz(n)}:function n(a){var o=a,t=0;return 4096<=o&&(t+=13,o>>>=13),64<=o&&(t+=7,o>>>=7),8<=o&&(t+=4,o>>>=4),2<=o&&(t+=2,o>>>=2),t+o},d.prototype._zeroBits=function n(a){if(0===a)return 26;var o=a,t=0;return 0==(8191&o)&&(t+=13,o>>>=13),0==(127&o)&&(t+=7,o>>>=7),0==(15&o)&&(t+=4,o>>>=4),0==(3&o)&&(t+=2,o>>>=2),0==(1&o)&&t++,t},d.prototype.bitLength=function t(){var n=this.words[this.length-1],a=this._countBits(n);return 26*(this.length-1)+a},d.prototype.zeroBits=function t(){if(this.isZero())return 0;for(var n=0,a=0,r;a<this.length&&(r=this._zeroBits(this.words[a]),n+=r,26===r);a++);return n},d.prototype.byteLength=function t(){return _Mathceil(this.bitLength()/8)},d.prototype.toTwos=function t(n){return 0===this.negative?this.clone():this.abs().inotn(n).iaddn(1)},d.prototype.fromTwos=function t(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function t(){return 0!==this.negative},d.prototype.neg=function t(){return this.clone().ineg()},d.prototype.ineg=function t(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function t(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var a=0;a<n.length;a++)this.words[a]|=n.words[a];return this.strip()},d.prototype.ior=function t(n){return o(0==(this.negative|n.negative)),this.iuor(n)},d.prototype.or=function t(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},d.prototype.uor=function t(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},d.prototype.iuand=function t(n){var a;a=this.length>n.length?n:this;for(var r=0;r<a.length;r++)this.words[r]&=n.words[r];return this.length=a.length,this.strip()},d.prototype.iand=function t(n){return o(0==(this.negative|n.negative)),this.iuand(n)},d.prototype.and=function t(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},d.prototype.uand=function t(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},d.prototype.iuxor=function t(n){var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var o=0;o<a.length;o++)this.words[o]=r.words[o]^a.words[o];if(this!==r)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=r.length,this.strip()},d.prototype.ixor=function t(n){return o(0==(this.negative|n.negative)),this.iuxor(n)},d.prototype.xor=function t(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},d.prototype.uxor=function t(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},d.prototype.inotn=function t(n){o('number'==typeof n&&0<=n);var a=0|_Mathceil(n/26),r=n%26;this._expand(a),0<r&&a--;for(var s=0;s<a;s++)this.words[s]=67108863&~this.words[s];return 0<r&&(this.words[s]=~this.words[s]&67108863>>26-r),this.strip()},d.prototype.notn=function t(n){return this.clone().inotn(n)},d.prototype.setn=function t(n,a){o('number'==typeof n&&0<=n);var r=0|n/26,s=n%26;return this._expand(r+1),a?this.words[r]|=1<<s:this.words[r]&=~(1<<s),this.strip()},d.prototype.iadd=function t(n){var o;if(0!==this.negative&&0===n.negative)return this.negative=0,o=this.isub(n),this.negative^=1,this._normSign();if(0===this.negative&&0!==n.negative)return n.negative=0,o=this.isub(n),n.negative=1,o._normSign();var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var s=0,d=0;d<a.length;d++)o=(0|r.words[d])+(0|a.words[d])+s,this.words[d]=67108863&o,s=o>>>26;for(;0!=s&&d<r.length;d++)o=(0|r.words[d])+s,this.words[d]=67108863&o,s=o>>>26;if(this.length=r.length,0!=s)this.words[this.length]=s,this.length++;else if(r!==this)for(;d<r.length;d++)this.words[d]=r.words[d];return this},d.prototype.add=function t(n){var a;return 0!==n.negative&&0===this.negative?(n.negative=0,a=this.sub(n),n.negative^=1,a):0===n.negative&&0!==this.negative?(this.negative=0,a=n.sub(this),this.negative=1,a):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},d.prototype.isub=function t(n){if(0!==n.negative){n.negative=0;var o=this.iadd(n);return n.negative=1,o._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var r=this.cmp(n);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var s,a;0<r?(s=this,a=n):(s=n,a=this);for(var d=0,l=0;l<a.length;l++)o=(0|s.words[l])-(0|a.words[l])+d,d=o>>26,this.words[l]=67108863&o;for(;0!=d&&l<s.length;l++)o=(0|s.words[l])+d,d=o>>26,this.words[l]=67108863&o;if(0==d&&l<s.length&&s!==this)for(;l<s.length;l++)this.words[l]=s.words[l];return this.length=_Mathmax(this.length,l),s!==this&&(this.negative=1),this.strip()},d.prototype.sub=function t(n){return this.clone().isub(n)};var S=function t(n,r,s){var d=n.words,a=r.words,l=s.words,o=0,c=0|d[0],u=8191&c,f=c>>>13,m=0|d[1],h=8191&m,g=m>>>13,b=0|d[2],y=8191&b,v=b>>>13,w=0|d[3],x=8191&w,_=w>>>13,k=0|d[4],C=8191&k,T=k>>>13,E=0|d[5],S=8191&E,A=E>>>13,I=0|d[6],N=8191&I,j=I>>>13,R=0|d[7],L=8191&R,O=R>>>13,P=0|d[8],M=8191&P,D=P>>>13,B=0|d[9],U=8191&B,q=B>>>13,F=0|a[0],z=8191&F,H=F>>>13,W=0|a[1],V=8191&W,G=W>>>13,J=0|a[2],K=8191&J,X=J>>>13,Z=0|a[3],Y=8191&Z,Q=Z>>>13,ee=0|a[4],te=8191&ee,ne=ee>>>13,ae=0|a[5],re=8191&ae,ie=ae>>>13,oe=0|a[6],se=8191&oe,de=oe>>>13,le=0|a[7],pe=8191&le,ce=le>>>13,ue=0|a[8],fe=8191&ue,he=ue>>>13,ge=0|a[9],be=8191&ge,ye=ge>>>13,ve,we,xe;s.negative=n.negative^r.negative,s.length=19,ve=_Mathimul(u,z),we=_Mathimul(u,H),we=0|we+_Mathimul(f,z),xe=_Mathimul(f,H);var _e=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(_e>>>26),_e&=67108863,ve=_Mathimul(h,z),we=_Mathimul(h,H),we=0|we+_Mathimul(g,z),xe=_Mathimul(g,H),ve=0|ve+_Mathimul(u,V),we=0|we+_Mathimul(u,G),we=0|we+_Mathimul(f,V),xe=0|xe+_Mathimul(f,G);var ke=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(ke>>>26),ke&=67108863,ve=_Mathimul(y,z),we=_Mathimul(y,H),we=0|we+_Mathimul(v,z),xe=_Mathimul(v,H),ve=0|ve+_Mathimul(h,V),we=0|we+_Mathimul(h,G),we=0|we+_Mathimul(g,V),xe=0|xe+_Mathimul(g,G),ve=0|ve+_Mathimul(u,K),we=0|we+_Mathimul(u,X),we=0|we+_Mathimul(f,K),xe=0|xe+_Mathimul(f,X);var Ce=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ce>>>26),Ce&=67108863,ve=_Mathimul(x,z),we=_Mathimul(x,H),we=0|we+_Mathimul(_,z),xe=_Mathimul(_,H),ve=0|ve+_Mathimul(y,V),we=0|we+_Mathimul(y,G),we=0|we+_Mathimul(v,V),xe=0|xe+_Mathimul(v,G),ve=0|ve+_Mathimul(h,K),we=0|we+_Mathimul(h,X),we=0|we+_Mathimul(g,K),xe=0|xe+_Mathimul(g,X),ve=0|ve+_Mathimul(u,Y),we=0|we+_Mathimul(u,Q),we=0|we+_Mathimul(f,Y),xe=0|xe+_Mathimul(f,Q);var Te=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Te>>>26),Te&=67108863,ve=_Mathimul(C,z),we=_Mathimul(C,H),we=0|we+_Mathimul(T,z),xe=_Mathimul(T,H),ve=0|ve+_Mathimul(x,V),we=0|we+_Mathimul(x,G),we=0|we+_Mathimul(_,V),xe=0|xe+_Mathimul(_,G),ve=0|ve+_Mathimul(y,K),we=0|we+_Mathimul(y,X),we=0|we+_Mathimul(v,K),xe=0|xe+_Mathimul(v,X),ve=0|ve+_Mathimul(h,Y),we=0|we+_Mathimul(h,Q),we=0|we+_Mathimul(g,Y),xe=0|xe+_Mathimul(g,Q),ve=0|ve+_Mathimul(u,te),we=0|we+_Mathimul(u,ne),we=0|we+_Mathimul(f,te),xe=0|xe+_Mathimul(f,ne);var Ee=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ee>>>26),Ee&=67108863,ve=_Mathimul(S,z),we=_Mathimul(S,H),we=0|we+_Mathimul(A,z),xe=_Mathimul(A,H),ve=0|ve+_Mathimul(C,V),we=0|we+_Mathimul(C,G),we=0|we+_Mathimul(T,V),xe=0|xe+_Mathimul(T,G),ve=0|ve+_Mathimul(x,K),we=0|we+_Mathimul(x,X),we=0|we+_Mathimul(_,K),xe=0|xe+_Mathimul(_,X),ve=0|ve+_Mathimul(y,Y),we=0|we+_Mathimul(y,Q),we=0|we+_Mathimul(v,Y),xe=0|xe+_Mathimul(v,Q),ve=0|ve+_Mathimul(h,te),we=0|we+_Mathimul(h,ne),we=0|we+_Mathimul(g,te),xe=0|xe+_Mathimul(g,ne),ve=0|ve+_Mathimul(u,re),we=0|we+_Mathimul(u,ie),we=0|we+_Mathimul(f,re),xe=0|xe+_Mathimul(f,ie);var Se=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Se>>>26),Se&=67108863,ve=_Mathimul(N,z),we=_Mathimul(N,H),we=0|we+_Mathimul(j,z),xe=_Mathimul(j,H),ve=0|ve+_Mathimul(S,V),we=0|we+_Mathimul(S,G),we=0|we+_Mathimul(A,V),xe=0|xe+_Mathimul(A,G),ve=0|ve+_Mathimul(C,K),we=0|we+_Mathimul(C,X),we=0|we+_Mathimul(T,K),xe=0|xe+_Mathimul(T,X),ve=0|ve+_Mathimul(x,Y),we=0|we+_Mathimul(x,Q),we=0|we+_Mathimul(_,Y),xe=0|xe+_Mathimul(_,Q),ve=0|ve+_Mathimul(y,te),we=0|we+_Mathimul(y,ne),we=0|we+_Mathimul(v,te),xe=0|xe+_Mathimul(v,ne),ve=0|ve+_Mathimul(h,re),we=0|we+_Mathimul(h,ie),we=0|we+_Mathimul(g,re),xe=0|xe+_Mathimul(g,ie),ve=0|ve+_Mathimul(u,se),we=0|we+_Mathimul(u,de),we=0|we+_Mathimul(f,se),xe=0|xe+_Mathimul(f,de);var Ae=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ae>>>26),Ae&=67108863,ve=_Mathimul(L,z),we=_Mathimul(L,H),we=0|we+_Mathimul(O,z),xe=_Mathimul(O,H),ve=0|ve+_Mathimul(N,V),we=0|we+_Mathimul(N,G),we=0|we+_Mathimul(j,V),xe=0|xe+_Mathimul(j,G),ve=0|ve+_Mathimul(S,K),we=0|we+_Mathimul(S,X),we=0|we+_Mathimul(A,K),xe=0|xe+_Mathimul(A,X),ve=0|ve+_Mathimul(C,Y),we=0|we+_Mathimul(C,Q),we=0|we+_Mathimul(T,Y),xe=0|xe+_Mathimul(T,Q),ve=0|ve+_Mathimul(x,te),we=0|we+_Mathimul(x,ne),we=0|we+_Mathimul(_,te),xe=0|xe+_Mathimul(_,ne),ve=0|ve+_Mathimul(y,re),we=0|we+_Mathimul(y,ie),we=0|we+_Mathimul(v,re),xe=0|xe+_Mathimul(v,ie),ve=0|ve+_Mathimul(h,se),we=0|we+_Mathimul(h,de),we=0|we+_Mathimul(g,se),xe=0|xe+_Mathimul(g,de),ve=0|ve+_Mathimul(u,pe),we=0|we+_Mathimul(u,ce),we=0|we+_Mathimul(f,pe),xe=0|xe+_Mathimul(f,ce);var Ie=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ie>>>26),Ie&=67108863,ve=_Mathimul(M,z),we=_Mathimul(M,H),we=0|we+_Mathimul(D,z),xe=_Mathimul(D,H),ve=0|ve+_Mathimul(L,V),we=0|we+_Mathimul(L,G),we=0|we+_Mathimul(O,V),xe=0|xe+_Mathimul(O,G),ve=0|ve+_Mathimul(N,K),we=0|we+_Mathimul(N,X),we=0|we+_Mathimul(j,K),xe=0|xe+_Mathimul(j,X),ve=0|ve+_Mathimul(S,Y),we=0|we+_Mathimul(S,Q),we=0|we+_Mathimul(A,Y),xe=0|xe+_Mathimul(A,Q),ve=0|ve+_Mathimul(C,te),we=0|we+_Mathimul(C,ne),we=0|we+_Mathimul(T,te),xe=0|xe+_Mathimul(T,ne),ve=0|ve+_Mathimul(x,re),we=0|we+_Mathimul(x,ie),we=0|we+_Mathimul(_,re),xe=0|xe+_Mathimul(_,ie),ve=0|ve+_Mathimul(y,se),we=0|we+_Mathimul(y,de),we=0|we+_Mathimul(v,se),xe=0|xe+_Mathimul(v,de),ve=0|ve+_Mathimul(h,pe),we=0|we+_Mathimul(h,ce),we=0|we+_Mathimul(g,pe),xe=0|xe+_Mathimul(g,ce),ve=0|ve+_Mathimul(u,fe),we=0|we+_Mathimul(u,he),we=0|we+_Mathimul(f,fe),xe=0|xe+_Mathimul(f,he);var Ne=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ne>>>26),Ne&=67108863,ve=_Mathimul(U,z),we=_Mathimul(U,H),we=0|we+_Mathimul(q,z),xe=_Mathimul(q,H),ve=0|ve+_Mathimul(M,V),we=0|we+_Mathimul(M,G),we=0|we+_Mathimul(D,V),xe=0|xe+_Mathimul(D,G),ve=0|ve+_Mathimul(L,K),we=0|we+_Mathimul(L,X),we=0|we+_Mathimul(O,K),xe=0|xe+_Mathimul(O,X),ve=0|ve+_Mathimul(N,Y),we=0|we+_Mathimul(N,Q),we=0|we+_Mathimul(j,Y),xe=0|xe+_Mathimul(j,Q),ve=0|ve+_Mathimul(S,te),we=0|we+_Mathimul(S,ne),we=0|we+_Mathimul(A,te),xe=0|xe+_Mathimul(A,ne),ve=0|ve+_Mathimul(C,re),we=0|we+_Mathimul(C,ie),we=0|we+_Mathimul(T,re),xe=0|xe+_Mathimul(T,ie),ve=0|ve+_Mathimul(x,se),we=0|we+_Mathimul(x,de),we=0|we+_Mathimul(_,se),xe=0|xe+_Mathimul(_,de),ve=0|ve+_Mathimul(y,pe),we=0|we+_Mathimul(y,ce),we=0|we+_Mathimul(v,pe),xe=0|xe+_Mathimul(v,ce),ve=0|ve+_Mathimul(h,fe),we=0|we+_Mathimul(h,he),we=0|we+_Mathimul(g,fe),xe=0|xe+_Mathimul(g,he),ve=0|ve+_Mathimul(u,be),we=0|we+_Mathimul(u,ye),we=0|we+_Mathimul(f,be),xe=0|xe+_Mathimul(f,ye);var je=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(je>>>26),je&=67108863,ve=_Mathimul(U,V),we=_Mathimul(U,G),we=0|we+_Mathimul(q,V),xe=_Mathimul(q,G),ve=0|ve+_Mathimul(M,K),we=0|we+_Mathimul(M,X),we=0|we+_Mathimul(D,K),xe=0|xe+_Mathimul(D,X),ve=0|ve+_Mathimul(L,Y),we=0|we+_Mathimul(L,Q),we=0|we+_Mathimul(O,Y),xe=0|xe+_Mathimul(O,Q),ve=0|ve+_Mathimul(N,te),we=0|we+_Mathimul(N,ne),we=0|we+_Mathimul(j,te),xe=0|xe+_Mathimul(j,ne),ve=0|ve+_Mathimul(S,re),we=0|we+_Mathimul(S,ie),we=0|we+_Mathimul(A,re),xe=0|xe+_Mathimul(A,ie),ve=0|ve+_Mathimul(C,se),we=0|we+_Mathimul(C,de),we=0|we+_Mathimul(T,se),xe=0|xe+_Mathimul(T,de),ve=0|ve+_Mathimul(x,pe),we=0|we+_Mathimul(x,ce),we=0|we+_Mathimul(_,pe),xe=0|xe+_Mathimul(_,ce),ve=0|ve+_Mathimul(y,fe),we=0|we+_Mathimul(y,he),we=0|we+_Mathimul(v,fe),xe=0|xe+_Mathimul(v,he),ve=0|ve+_Mathimul(h,be),we=0|we+_Mathimul(h,ye),we=0|we+_Mathimul(g,be),xe=0|xe+_Mathimul(g,ye);var Re=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Re>>>26),Re&=67108863,ve=_Mathimul(U,K),we=_Mathimul(U,X),we=0|we+_Mathimul(q,K),xe=_Mathimul(q,X),ve=0|ve+_Mathimul(M,Y),we=0|we+_Mathimul(M,Q),we=0|we+_Mathimul(D,Y),xe=0|xe+_Mathimul(D,Q),ve=0|ve+_Mathimul(L,te),we=0|we+_Mathimul(L,ne),we=0|we+_Mathimul(O,te),xe=0|xe+_Mathimul(O,ne),ve=0|ve+_Mathimul(N,re),we=0|we+_Mathimul(N,ie),we=0|we+_Mathimul(j,re),xe=0|xe+_Mathimul(j,ie),ve=0|ve+_Mathimul(S,se),we=0|we+_Mathimul(S,de),we=0|we+_Mathimul(A,se),xe=0|xe+_Mathimul(A,de),ve=0|ve+_Mathimul(C,pe),we=0|we+_Mathimul(C,ce),we=0|we+_Mathimul(T,pe),xe=0|xe+_Mathimul(T,ce),ve=0|ve+_Mathimul(x,fe),we=0|we+_Mathimul(x,he),we=0|we+_Mathimul(_,fe),xe=0|xe+_Mathimul(_,he),ve=0|ve+_Mathimul(y,be),we=0|we+_Mathimul(y,ye),we=0|we+_Mathimul(v,be),xe=0|xe+_Mathimul(v,ye);var Le=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Le>>>26),Le&=67108863,ve=_Mathimul(U,Y),we=_Mathimul(U,Q),we=0|we+_Mathimul(q,Y),xe=_Mathimul(q,Q),ve=0|ve+_Mathimul(M,te),we=0|we+_Mathimul(M,ne),we=0|we+_Mathimul(D,te),xe=0|xe+_Mathimul(D,ne),ve=0|ve+_Mathimul(L,re),we=0|we+_Mathimul(L,ie),we=0|we+_Mathimul(O,re),xe=0|xe+_Mathimul(O,ie),ve=0|ve+_Mathimul(N,se),we=0|we+_Mathimul(N,de),we=0|we+_Mathimul(j,se),xe=0|xe+_Mathimul(j,de),ve=0|ve+_Mathimul(S,pe),we=0|we+_Mathimul(S,ce),we=0|we+_Mathimul(A,pe),xe=0|xe+_Mathimul(A,ce),ve=0|ve+_Mathimul(C,fe),we=0|we+_Mathimul(C,he),we=0|we+_Mathimul(T,fe),xe=0|xe+_Mathimul(T,he),ve=0|ve+_Mathimul(x,be),we=0|we+_Mathimul(x,ye),we=0|we+_Mathimul(_,be),xe=0|xe+_Mathimul(_,ye);var Oe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Oe>>>26),Oe&=67108863,ve=_Mathimul(U,te),we=_Mathimul(U,ne),we=0|we+_Mathimul(q,te),xe=_Mathimul(q,ne),ve=0|ve+_Mathimul(M,re),we=0|we+_Mathimul(M,ie),we=0|we+_Mathimul(D,re),xe=0|xe+_Mathimul(D,ie),ve=0|ve+_Mathimul(L,se),we=0|we+_Mathimul(L,de),we=0|we+_Mathimul(O,se),xe=0|xe+_Mathimul(O,de),ve=0|ve+_Mathimul(N,pe),we=0|we+_Mathimul(N,ce),we=0|we+_Mathimul(j,pe),xe=0|xe+_Mathimul(j,ce),ve=0|ve+_Mathimul(S,fe),we=0|we+_Mathimul(S,he),we=0|we+_Mathimul(A,fe),xe=0|xe+_Mathimul(A,he),ve=0|ve+_Mathimul(C,be),we=0|we+_Mathimul(C,ye),we=0|we+_Mathimul(T,be),xe=0|xe+_Mathimul(T,ye);var Pe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Pe>>>26),Pe&=67108863,ve=_Mathimul(U,re),we=_Mathimul(U,ie),we=0|we+_Mathimul(q,re),xe=_Mathimul(q,ie),ve=0|ve+_Mathimul(M,se),we=0|we+_Mathimul(M,de),we=0|we+_Mathimul(D,se),xe=0|xe+_Mathimul(D,de),ve=0|ve+_Mathimul(L,pe),we=0|we+_Mathimul(L,ce),we=0|we+_Mathimul(O,pe),xe=0|xe+_Mathimul(O,ce),ve=0|ve+_Mathimul(N,fe),we=0|we+_Mathimul(N,he),we=0|we+_Mathimul(j,fe),xe=0|xe+_Mathimul(j,he),ve=0|ve+_Mathimul(S,be),we=0|we+_Mathimul(S,ye),we=0|we+_Mathimul(A,be),xe=0|xe+_Mathimul(A,ye);var Me=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Me>>>26),Me&=67108863,ve=_Mathimul(U,se),we=_Mathimul(U,de),we=0|we+_Mathimul(q,se),xe=_Mathimul(q,de),ve=0|ve+_Mathimul(M,pe),we=0|we+_Mathimul(M,ce),we=0|we+_Mathimul(D,pe),xe=0|xe+_Mathimul(D,ce),ve=0|ve+_Mathimul(L,fe),we=0|we+_Mathimul(L,he),we=0|we+_Mathimul(O,fe),xe=0|xe+_Mathimul(O,he),ve=0|ve+_Mathimul(N,be),we=0|we+_Mathimul(N,ye),we=0|we+_Mathimul(j,be),xe=0|xe+_Mathimul(j,ye);var De=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(De>>>26),De&=67108863,ve=_Mathimul(U,pe),we=_Mathimul(U,ce),we=0|we+_Mathimul(q,pe),xe=_Mathimul(q,ce),ve=0|ve+_Mathimul(M,fe),we=0|we+_Mathimul(M,he),we=0|we+_Mathimul(D,fe),xe=0|xe+_Mathimul(D,he),ve=0|ve+_Mathimul(L,be),we=0|we+_Mathimul(L,ye),we=0|we+_Mathimul(O,be),xe=0|xe+_Mathimul(O,ye);var Be=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Be>>>26),Be&=67108863,ve=_Mathimul(U,fe),we=_Mathimul(U,he),we=0|we+_Mathimul(q,fe),xe=_Mathimul(q,he),ve=0|ve+_Mathimul(M,be),we=0|we+_Mathimul(M,ye),we=0|we+_Mathimul(D,be),xe=0|xe+_Mathimul(D,ye);var Ue=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ue>>>26),Ue&=67108863,ve=_Mathimul(U,be),we=_Mathimul(U,ye),we=0|we+_Mathimul(q,be),xe=_Mathimul(q,ye);var qe=0|(0|o+ve)+((8191&we)<<13);return o=0|(0|xe+(we>>>13))+(qe>>>26),qe&=67108863,l[0]=_e,l[1]=ke,l[2]=Ce,l[3]=Te,l[4]=Ee,l[5]=Se,l[6]=Ae,l[7]=Ie,l[8]=Ne,l[9]=je,l[10]=Re,l[11]=Le,l[12]=Oe,l[13]=Pe,l[14]=Me,l[15]=De,l[16]=Be,l[17]=Ue,l[18]=qe,0!=o&&(l[19]=o,s.length++),s};_Mathimul||(S=u),d.prototype.mulTo=function t(n,a){var r=this.length+n.length,o;return o=10===this.length&&10===n.length?S(this,n,a):63>r?u(this,n,a):1024>r?f(this,n,a):m(this,n,a),o},h.prototype.makeRBT=function n(a){for(var r=Array(a),t=d.prototype._countBits(a)-1,o=0;o<a;o++)r[o]=this.revBin(o,t,a);return r},h.prototype.revBin=function t(n,a,r){if(0===n||n===r-1)return n;for(var o=0,s=0;s<a;s++)o|=(1&n)<<a-s-1,n>>=1;return o},h.prototype.permute=function t(n,a,r,o,s,d){for(var l=0;l<d;l++)o[l]=a[n[l]],s[l]=r[n[l]]},h.prototype.transform=function t(n,a,r,o,d,c){this.permute(c,n,a,r,o,d);for(var u=1;u<d;u<<=1)for(var s=u<<1,l=_Mathcos(2*_MathPI/s),f=_Mathsin(2*_MathPI/s),m=0;m<d;m+=s)for(var h=l,g=f,b=0;b<u;b++){var y=r[m+b],v=o[m+b],w=r[m+b+u],x=o[m+b+u],_=h*w-g*x;x=h*x+g*w,w=_,r[m+b]=y+w,o[m+b]=v+x,r[m+b+u]=y-w,o[m+b+u]=v-x,b!==s&&(_=l*h-f*g,g=l*g+f*h,h=_)}},h.prototype.guessLen13b=function t(a,n){var r=1|_Mathmax(n,a),o=1&r,s=0;for(r=0|r/2;r;r>>>=1)s++;return 1<<s+1+o},h.prototype.conjugate=function n(a,r,o){if(!(1>=o))for(var s=0,d;s<o/2;s++)d=a[s],a[s]=a[o-s-1],a[o-s-1]=d,d=r[s],r[s]=-r[o-s-1],r[o-s-1]=-d},h.prototype.normalize13b=function t(n,a){for(var r=0,o=0,s;o<a/2;o++)s=8192*_Mathround(n[2*o+1]/a)+_Mathround(n[2*o]/a)+r,n[o]=67108863&s,r=67108864>s?0:0|s/67108864;return n},h.prototype.convert13b=function t(n,a,r,s){for(var d=0,l=0;l<a;l++)d+=0|n[l],r[2*l]=8191&d,d>>>=13,r[2*l+1]=8191&d,d>>>=13;for(l=2*a;l<s;++l)r[l]=0;o(0==d),o(0==(-8192&d))},h.prototype.stub=function t(n){for(var a=Array(n),r=0;r<n;r++)a[r]=0;return a},h.prototype.mulp=function t(n,a,r){var o=2*this.guessLen13b(n.length,a.length),s=this.makeRBT(o),d=this.stub(o),l=Array(o),c=Array(o),u=Array(o),f=Array(o),m=Array(o),h=Array(o),g=r.words;g.length=o,this.convert13b(n.words,n.length,l,o),this.convert13b(a.words,a.length,f,o),this.transform(l,d,c,u,o,s),this.transform(f,d,m,h,o,s);for(var b=0,y;b<o;b++)y=c[b]*m[b]-u[b]*h[b],u[b]=c[b]*h[b]+u[b]*m[b],c[b]=y;return this.conjugate(c,u,o),this.transform(c,u,g,d,o,s),this.conjugate(g,d,o),this.normalize13b(g,o),r.negative=n.negative^a.negative,r.length=n.length+a.length,r.strip()},d.prototype.mul=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),this.mulTo(n,a)},d.prototype.mulf=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),m(this,n,a)},d.prototype.imul=function t(n){return this.clone().mulTo(n,this)},d.prototype.imuln=function t(n){o('number'==typeof n),o(67108864>n);for(var a=0,r=0;r<this.length;r++){var s=(0|this.words[r])*n,d=(67108863&s)+(67108863&a);a>>=26,a+=0|s/67108864,a+=d>>>26,this.words[r]=67108863&d}return 0!=a&&(this.words[r]=a,this.length++),this},d.prototype.muln=function t(n){return this.clone().imuln(n)},d.prototype.sqr=function t(){return this.mul(this)},d.prototype.isqr=function t(){return this.imul(this.clone())},d.prototype.pow=function t(n){var a=c(n);if(0===a.length)return new d(1);for(var r=this,o=0;o<a.length&&!(0!==a[o]);o++,r=r.sqr());if(++o<a.length)for(var s=r.sqr();o<a.length;o++,s=s.sqr())0!==a[o]&&(r=r.mul(s));return r},d.prototype.iushln=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=67108863>>>26-a<<26-a,d;if(0!=a){var l=0;for(d=0;d<this.length;d++){var u=this.words[d]&s,f=(0|this.words[d])-u<<a;this.words[d]=f|l,l=u>>>26-a}l&&(this.words[d]=l,this.length++)}if(0!=r){for(d=this.length-1;0<=d;d--)this.words[d+r]=this.words[d];for(d=0;d<r;d++)this.words[d]=0;this.length+=r}return this.strip()},d.prototype.ishln=function t(n){return o(0===this.negative),this.iushln(n)},d.prototype.iushrn=function t(n,a,d){o('number'==typeof n&&0<=n);var l;l=a?(a-a%26)/26:0;var c=n%26,r=_Mathmin((n-c)/26,this.length),s=67108863^67108863>>>c<<c,u=d;if(l-=r,l=_Mathmax(0,l),u){for(var f=0;f<r;f++)u.words[f]=this.words[f];u.length=r}if(0===r);else if(this.length>r)for(this.length-=r,f=0;f<this.length;f++)this.words[f]=this.words[f+r];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;0<=f&&(0!=m||f>=l);f--){var h=0|this.words[f];this.words[f]=m<<26-c|h>>>c,m=h&s}return u&&0!=m&&(u.words[u.length++]=m),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function t(n,a,r){return o(0===this.negative),this.iushrn(n,a,r)},d.prototype.shln=function t(n){return this.clone().ishln(n)},d.prototype.ushln=function t(n){return this.clone().iushln(n)},d.prototype.shrn=function t(n){return this.clone().ishrn(n)},d.prototype.ushrn=function t(n){return this.clone().iushrn(n)},d.prototype.testn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return!1;var d=this.words[r];return!!(d&s)},d.prototype.imaskn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26;if(o(0===this.negative,'imaskn works only with positive numbers'),this.length<=r)return this;if(0!=a&&r++,this.length=_Mathmin(r,this.length),0!=a){var s=67108863^67108863>>>a<<a;this.words[this.length-1]&=s}return this.strip()},d.prototype.maskn=function t(n){return this.clone().imaskn(n)},d.prototype.iaddn=function t(n){return o('number'==typeof n),o(67108864>n),0>n?this.isubn(-n):0===this.negative?this._iaddn(n):1===this.length&&(0|this.words[0])<n?(this.words[0]=n-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this)},d.prototype._iaddn=function t(n){this.words[0]+=n;for(var a=0;a<this.length&&67108864<=this.words[a];a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=_Mathmax(this.length,a+1),this},d.prototype.isubn=function t(n){if(o('number'==typeof n),o(67108864>n),0>n)return this.iaddn(-n);if(0!==this.negative)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&0>this.words[a];a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},d.prototype.addn=function t(n){return this.clone().iaddn(n)},d.prototype.subn=function t(n){return this.clone().isubn(n)},d.prototype.iabs=function t(){return this.negative=0,this},d.prototype.abs=function t(){return this.clone().iabs()},d.prototype._ishlnsubmul=function t(n,a,r){var s=n.length+r,d;this._expand(s);var l=0,c;for(d=0;d<n.length;d++){c=(0|this.words[d+r])+l;var u=(0|n.words[d])*a;c-=67108863&u,l=(c>>26)-(0|u/67108864),this.words[d+r]=67108863&c}for(;d<this.length-r;d++)c=(0|this.words[d+r])+l,l=c>>26,this.words[d+r]=67108863&c;if(0==l)return this.strip();for(o(-1==l),l=0,d=0;d<this.length;d++)c=-(0|this.words[d])+l,l=c>>26,this.words[d]=67108863&c;return this.negative=1,this.strip()},d.prototype._wordDiv=function t(n,r){var o=this.length-n.length,s=this.clone(),l=n,c=0|l.words[l.length-1],u=this._countBits(c);o=26-u,0!=o&&(l=l.ushln(o),s.iushln(o),c=0|l.words[l.length-1]);var f=s.length-l.length,m;if('mod'!==r){m=new d(null),m.length=f+1,m.words=Array(m.length);for(var h=0;h<m.length;h++)m.words[h]=0}var g=s.clone()._ishlnsubmul(l,1,f);0===g.negative&&(s=g,m&&(m.words[f]=1));for(var b=f-1,y;0<=b;b--){for(y=67108864*(0|s.words[l.length+b])+(0|s.words[l.length+b-1]),y=_Mathmin(0|y/c,67108863),s._ishlnsubmul(l,y,b);0!==s.negative;)y--,s.negative=0,s._ishlnsubmul(l,1,b),s.isZero()||(s.negative^=1);m&&(m.words[b]=y)}return m&&m.strip(),s.strip(),'div'!==r&&0!=o&&s.iushrn(o),{div:m||null,mod:s}},d.prototype.divmod=function t(n,a,r){if(o(!n.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var s,l,c;return 0!==this.negative&&0===n.negative?(c=this.neg().divmod(n,a),'mod'!==a&&(s=c.div.neg()),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.iadd(n)),{div:s,mod:l}):0===this.negative&&0!==n.negative?(c=this.divmod(n.neg(),a),'mod'!==a&&(s=c.div.neg()),{div:s,mod:c.mod}):0==(this.negative&n.negative)?n.length>this.length||0>this.cmp(n)?{div:new d(0),mod:this}:1===n.length?'div'===a?{div:this.divn(n.words[0]),mod:null}:'mod'===a?{div:null,mod:new d(this.modn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new d(this.modn(n.words[0]))}:this._wordDiv(n,a):(c=this.neg().divmod(n.neg(),a),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.isub(n)),{div:c.div,mod:l})},d.prototype.div=function t(n){return this.divmod(n,'div',!1).div},d.prototype.mod=function t(n){return this.divmod(n,'mod',!1).mod},d.prototype.umod=function t(n){return this.divmod(n,'mod',!0).mod},d.prototype.divRound=function t(n){var a=this.divmod(n);if(a.mod.isZero())return a.div;var r=0===a.div.negative?a.mod:a.mod.isub(n),o=n.ushrn(1),s=n.andln(1),d=r.cmp(o);return 0>d||1===s&&0===d?a.div:0===a.div.negative?a.div.iaddn(1):a.div.isubn(1)},d.prototype.modn=function t(n){o(67108863>=n);for(var a=67108864%n,r=0,s=this.length-1;0<=s;s--)r=(a*r+(0|this.words[s]))%n;return r},d.prototype.idivn=function t(n){o(67108863>=n);for(var a=0,r=this.length-1,s;0<=r;r--)s=(0|this.words[r])+67108864*a,this.words[r]=0|s/n,a=s%n;return this.strip()},d.prototype.divn=function t(n){return this.clone().idivn(n)},d.prototype.egcd=function t(n){o(0===n.negative),o(!n.isZero());var a=this,r=n.clone();a=0===a.negative?a.clone():a.umod(n);for(var s=new d(1),l=new d(0),c=new d(0),u=new d(1),f=0;a.isEven()&&r.isEven();)a.iushrn(1),r.iushrn(1),++f;for(var m=r.clone(),h=a.clone();!a.isZero();){for(var g=0,b=1;0==(a.words[0]&b)&&26>g;++g,b<<=1);if(0<g)for(a.iushrn(g);0<g--;)(s.isOdd()||l.isOdd())&&(s.iadd(m),l.isub(h)),s.iushrn(1),l.iushrn(1);for(var y=0,v=1;0==(r.words[0]&v)&&26>y;++y,v<<=1);if(0<y)for(r.iushrn(y);0<y--;)(c.isOdd()||u.isOdd())&&(c.iadd(m),u.isub(h)),c.iushrn(1),u.iushrn(1);0<=a.cmp(r)?(a.isub(r),s.isub(c),l.isub(u)):(r.isub(a),c.isub(s),u.isub(l))}return{a:c,b:u,gcd:r.iushln(f)}},d.prototype._invmp=function t(n){o(0===n.negative),o(!n.isZero());var r=this,a=n.clone();r=0===r.negative?r.clone():r.umod(n);for(var s=new d(1),l=new d(0),c=a.clone();0<r.cmpn(1)&&0<a.cmpn(1);){for(var u=0,f=1;0==(r.words[0]&f)&&26>u;++u,f<<=1);if(0<u)for(r.iushrn(u);0<u--;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var m=0,h=1;0==(a.words[0]&h)&&26>m;++m,h<<=1);if(0<m)for(a.iushrn(m);0<m--;)l.isOdd()&&l.iadd(c),l.iushrn(1);0<=r.cmp(a)?(r.isub(a),s.isub(l)):(a.isub(r),l.isub(s))}var g;return g=0===r.cmpn(1)?s:l,0>g.cmpn(0)&&g.iadd(n),g},d.prototype.gcd=function n(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var s=this.clone(),a=o.clone();s.negative=0,a.negative=0;for(var d=0;s.isEven()&&a.isEven();d++)s.iushrn(1),a.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;a.isEven();)a.iushrn(1);var l=s.cmp(a);if(0>l){var r=s;s=a,a=r}else if(0===l||0===a.cmpn(1))break;s.isub(a)}while(!0);return a.iushln(d)},d.prototype.invm=function t(n){return this.egcd(n).a.umod(n)},d.prototype.isEven=function t(){return 0==(1&this.words[0])},d.prototype.isOdd=function t(){return 1==(1&this.words[0])},d.prototype.andln=function t(n){return this.words[0]&n},d.prototype.bincn=function t(n){o('number'==typeof n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return this._expand(r+1),this.words[r]|=s,this;for(var d=s,l=r,c;0!=d&&l<this.length;l++)c=0|this.words[l],c+=d,d=c>>>26,c&=67108863,this.words[l]=c;return 0!=d&&(this.words[l]=d,this.length++),this},d.prototype.isZero=function t(){return 1===this.length&&0===this.words[0]},d.prototype.cmpn=function t(n){var a=0>n;if(0!==this.negative&&!a)return-1;if(0===this.negative&&a)return 1;this.strip();var r;if(1<this.length)r=1;else{a&&(n=-n),o(67108863>=n,'Number is too big');var s=0|this.words[0];r=s===n?0:s<n?-1:1}return 0===this.negative?r:0|-r},d.prototype.cmp=function t(n){if(0!==this.negative&&0===n.negative)return-1;if(0===this.negative&&0!==n.negative)return 1;var a=this.ucmp(n);return 0===this.negative?a:0|-a},d.prototype.ucmp=function t(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var r=0,o=this.length-1;0<=o;o--){var s=0|this.words[o],a=0|n.words[o];if(s!=a){s<a?r=-1:s>a&&(r=1);break}}return r},d.prototype.gtn=function t(n){return 1===this.cmpn(n)},d.prototype.gt=function t(n){return 1===this.cmp(n)},d.prototype.gten=function t(n){return 0<=this.cmpn(n)},d.prototype.gte=function t(n){return 0<=this.cmp(n)},d.prototype.ltn=function t(n){return-1===this.cmpn(n)},d.prototype.lt=function t(n){return-1===this.cmp(n)},d.prototype.lten=function t(n){return 0>=this.cmpn(n)},d.prototype.lte=function t(n){return 0>=this.cmp(n)},d.prototype.eqn=function t(n){return 0===this.cmpn(n)},d.prototype.eq=function t(n){return 0===this.cmp(n)},d.red=function t(n){return new x(n)},d.prototype.toRed=function t(n){return o(!this.red,'Already a number in reduction context'),o(0===this.negative,'red works only with positives'),n.convertTo(this)._forceRed(n)},d.prototype.fromRed=function t(){return o(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},d.prototype._forceRed=function t(n){return this.red=n,this},d.prototype.forceRed=function t(n){return o(!this.red,'Already a number in reduction context'),this._forceRed(n)},d.prototype.redAdd=function t(n){return o(this.red,'redAdd works only with red numbers'),this.red.add(this,n)},d.prototype.redIAdd=function t(n){return o(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,n)},d.prototype.redSub=function t(n){return o(this.red,'redSub works only with red numbers'),this.red.sub(this,n)},d.prototype.redISub=function t(n){return o(this.red,'redISub works only with red numbers'),this.red.isub(this,n)},d.prototype.redShl=function t(n){return o(this.red,'redShl works only with red numbers'),this.red.shl(this,n)},d.prototype.redMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.mul(this,n)},d.prototype.redIMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.imul(this,n)},d.prototype.redSqr=function t(){return o(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function t(){return o(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function t(){return o(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function t(){return o(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function t(){return o(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function t(n){return o(this.red&&!n.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,n)};var A={k256:null,p224:null,p192:null,p25519:null};g.prototype._tmp=function t(){var n=new d(null);return n.words=Array(_Mathceil(this.n/13)),n},g.prototype.ireduce=function t(n){var a=n,r;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),r=a.bitLength();while(r>this.n);var o=r<this.n?-1:a.ucmp(this.p);return 0===o?(a.words[0]=0,a.length=1):0<o?a.isub(this.p):a.strip(),a},g.prototype.split=function t(n,a){n.iushrn(this.n,0,a)},g.prototype.imulK=function t(n){return n.imul(this.k)},r(b,g),b.prototype.split=function t(n,a){for(var r=4194303,o=_Mathmin(n.length,9),s=0;s<o;s++)a.words[s]=n.words[s];if(a.length=o,9>=n.length)return n.words[0]=0,void(n.length=1);var d=n.words[9];for(a.words[a.length++]=d&r,s=10;s<n.length;s++){var l=0|n.words[s];n.words[s-10]=(l&r)<<4|d>>>22,d=l}d>>>=22,n.words[s-10]=d,n.length-=0===d&&10<n.length?10:9},b.prototype.imulK=function t(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var a=0,r=0,o;r<n.length;r++)o=0|n.words[r],a+=977*o,n.words[r]=67108863&a,a=64*o+(0|a/67108864);return 0===n.words[n.length-1]&&(n.length--,0===n.words[n.length-1]&&n.length--),n},r(y,g),r(v,g),r(w,g),w.prototype.imulK=function t(n){for(var a=0,r=0;r<n.length;r++){var o=19*(0|n.words[r])+a,s=67108863&o;o>>>=26,n.words[r]=s,a=o}return 0!=a&&(n.words[n.length++]=a),n},d._prime=function t(n){if(A[n])return A[n];var t;if('k256'===n)t=new b;else if('p224'===n)t=new y;else if('p192'===n)t=new v;else if('p25519'===n)t=new w;else throw new Error('Unknown prime '+n);return A[n]=t,t},x.prototype._verify1=function t(n){o(0===n.negative,'red works only with positives'),o(n.red,'red works only with red numbers')},x.prototype._verify2=function t(n,a){o(0==(n.negative|a.negative),'red works only with positives'),o(n.red&&n.red===a.red,'red works only with red numbers')},x.prototype.imod=function t(n){return this.prime?this.prime.ireduce(n)._forceRed(this):n.umod(this.m)._forceRed(this)},x.prototype.neg=function t(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},x.prototype.add=function t(n,a){this._verify2(n,a);var r=n.add(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function t(n,a){this._verify2(n,a);var r=n.iadd(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r},x.prototype.sub=function t(n,a){this._verify2(n,a);var r=n.sub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function t(n,a){this._verify2(n,a);var r=n.isub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r},x.prototype.shl=function t(n,a){return this._verify1(n),this.imod(n.ushln(a))},x.prototype.imul=function t(n,a){return this._verify2(n,a),this.imod(n.imul(a))},x.prototype.mul=function t(n,a){return this._verify2(n,a),this.imod(n.mul(a))},x.prototype.isqr=function t(n){return this.imul(n,n.clone())},x.prototype.sqr=function t(n){return this.mul(n,n)},x.prototype.sqrt=function n(l){if(l.isZero())return l.clone();var a=this.m.andln(3);if(o(1==a%2),3===a){var u=this.m.add(new d(1)).iushrn(2);return this.pow(l,u)}for(var f=this.m.subn(1),h=0;!f.isZero()&&0===f.andln(1);)h++,f.iushrn(1);o(!f.isZero());var s=new d(1).toRed(this),g=s.redNeg(),y=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new d(2*v*v).toRed(this);0!==this.pow(v,y).cmp(g);)v.redIAdd(g);for(var w=this.pow(v,f),c=this.pow(l,f.addn(1).iushrn(1)),r=this.pow(l,f),t=h;0!==r.cmp(s);){for(var m=r,x=0;0!==m.cmp(s);x++)m=m.redSqr();o(x<t);var _=this.pow(w,new d(1).iushln(t-x-1));c=c.redMul(_),w=_.redSqr(),r=r.redMul(w),t=x}return c},x.prototype.invm=function t(n){var a=n._invmp(this.m);return 0===a.negative?this.imod(a):(a.negative=0,this.imod(a).redNeg())},x.prototype.pow=function t(n,a){if(a.isZero())return new d(1).toRed(this);if(0===a.cmpn(1))return n.clone();var r=4,o=Array(1<<r);o[0]=new d(1).toRed(this),o[1]=n;for(var s=2;s<o.length;s++)o[s]=this.mul(o[s-1],n);var l=o[0],c=0,u=0,f=a.bitLength()%26;for(0==f&&(f=26),s=a.length-1;0<=s;s--){for(var m=a.words[s],h=f-1,g;0<=h;h--){if(g=1&m>>h,l!==o[0]&&(l=this.sqr(l)),0==g&&0==c){u=0;continue}c<<=1,c|=g,u++,u!=r&&(0!==s||0!==h)||(l=this.mul(l,o[c]),u=0,c=0)}f=26}return l},x.prototype.convertTo=function t(n){var a=n.umod(this.m);return a===n?a.clone():a},x.prototype.convertFrom=function t(n){var a=n.clone();return a.red=null,a},d.mont=function t(n){return new _(n)},r(_,x),_.prototype.convertTo=function t(n){return this.imod(n.ushln(this.shift))},_.prototype.convertFrom=function t(n){var a=this.imod(n.mul(this.rinv));return a.red=null,a},_.prototype.imul=function n(r,a){if(r.isZero()||a.isZero())return r.words[0]=0,r.length=1,r;var o=r.imul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),d=s;return 0<=s.cmp(this.m)?d=s.isub(this.m):0>s.cmpn(0)&&(d=s.iadd(this.m)),d._forceRed(this)},_.prototype.mul=function n(r,a){if(r.isZero()||a.isZero())return new d(0)._forceRed(this);var o=r.mul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),l=s;return 0<=s.cmp(this.m)?l=s.isub(this.m):0>s.cmpn(0)&&(l=s.iadd(this.m)),l._forceRed(this)},_.prototype.invm=function t(n){var a=this.imod(n._invmp(this.m).mul(this.r2));return a._forceRed(this)}})('undefined'==typeof t||t,this)}).call(n,a(10)(t))},function(t,n){},function(t,n){},function(t,n){t.exports={modp1:{gen:'02',prime:'ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff'},modp2:{gen:'02',prime:'ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff'},modp5:{gen:'02',prime:'ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff'},modp14:{gen:'02',prime:'ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff'},modp15:{gen:'02',prime:'ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff'},modp16:{gen:'02',prime:'ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff'},modp17:{gen:'02',prime:'ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff'},modp18:{gen:'02',prime:'ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff'}}},function(t,n,a){(function(n){function r(t,a){return a=a||'utf8',n.isBuffer(t)||(t=new n(t,a)),this._pub=new c(t),this}function o(t,a){return a=a||'utf8',n.isBuffer(t)||(t=new n(t,a)),this._priv=new c(t),this}function s(t,n){var a=n.toString('hex'),r=[a,t.toString(16)].join('_');if(r in x)return x[r];var o=0;if(t.isEven()||!v.simpleSieve||!v.fermatTest(t)||!f.test(t))return o+=1,o+='02'===a||'05'===a?8:4,x[r]=o,o;f.test(t.shrn(1))||(o+=2);var s;return'02'===a?t.mod(m).cmp(h)&&(o+=8):'05'===a?(s=t.mod(g),s.cmp(b)&&s.cmp(y)&&(o+=8)):o+=4,x[r]=o,o}function d(t,n,a){this.setGenerator(n),this.__prime=new c(t),this._prime=c.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,a?(this.setPublicKey=r,this.setPrivateKey=o):this._primeCode=8}function l(t,a){var r=new n(t.toArray());return a?r.toString(a):r}var c=a(162),u=a(163),f=new u,m=new c(24),h=new c(11),g=new c(10),b=new c(3),y=new c(7),v=a(161),w=a(51);t.exports=d;var x={};Object.defineProperty(d.prototype,'verifyError',{enumerable:!0,get:function(){return'number'!=typeof this._primeCode&&(this._primeCode=s(this.__prime,this.__gen)),this._primeCode}}),d.prototype.generateKeys=function(){return this._priv||(this._priv=new c(w(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},d.prototype.computeSecret=function(t){t=new c(t),t=t.toRed(this._prime);var a=t.redPow(this._priv).fromRed(),r=new n(a.toArray()),o=this.getPrime();if(r.length<o.length){var s=new n(o.length-r.length);s.fill(0),r=n.concat([s,r])}return r},d.prototype.getPublicKey=function t(n){return l(this._pub,n)},d.prototype.getPrivateKey=function t(n){return l(this._priv,n)},d.prototype.getPrime=function(t){return l(this.__prime,t)},d.prototype.getGenerator=function(t){return l(this._gen,t)},d.prototype.setGenerator=function(t,a){return a=a||'utf8',n.isBuffer(t)||(t=new n(t,a)),this.__gen=t,this._gen=new c(t),this}}).call(n,a(0).Buffer)},function(t,n,a){(function(n){function r(t){c.Writable.call(this);var n=h[t];if(!n)throw new Error('Unknown message digest');this._hashType=n.hash,this._hash=l(n.hash),this._tag=n.id,this._signType=n.sign}function o(t){c.Writable.call(this);var n=h[t];if(!n)throw new Error('Unknown message digest');this._hash=l(n.hash),this._tag=n.id,this._signType=n.sign}function s(t){return new r(t)}function d(t){return new o(t)}var l=a(52),c=a(43),u=a(2),f=a(289),m=a(331),h=a(152);Object.keys(h).forEach(function(t){h[t].id=new n(h[t].id,'hex'),h[t.toLowerCase()]=h[t]}),u(r,c.Writable),r.prototype._write=function t(n,a,r){this._hash.update(n),r()},r.prototype.update=function t(a,r){return'string'==typeof a&&(a=new n(a,r)),this._hash.update(a),this},r.prototype.sign=function t(n,a){this.end();var r=this._hash.digest(),o=f(r,n,this._hashType,this._signType,this._tag);return a?o.toString(a):o},u(o,c.Writable),o.prototype._write=function t(n,a,r){this._hash.update(n),r()},o.prototype.update=function t(a,r){return'string'==typeof a&&(a=new n(a,r)),this._hash.update(a),this},o.prototype.verify=function t(a,r,o){'string'==typeof r&&(r=new n(r,o)),this.end();var s=this._hash.digest();return m(r,s,a,this._signType,this._tag)},t.exports={Sign:s,Verify:d,createSign:s,createVerify:d}}).call(n,a(0).Buffer)},function(t,n,a){(function(n){function r(t,a,r,d,l){var c=v(a);if(c.curve){if('ecdsa'!==d&&'ecdsa/rsa'!==d)throw new Error('wrong private key type');return o(t,c)}if('dsa'===c.type){if('dsa'!==d)throw new Error('wrong private key type');return s(t,c,r)}if('rsa'!==d&&'ecdsa/rsa'!==d)throw new Error('wrong private key type');t=n.concat([l,t]);for(var u=c.modulus.byteLength(),f=[0,1];t.length+f.length+1<u;)f.push(255);f.push(0);for(var m=-1;++m<t.length;)f.push(t[m]);var h=g(f,c);return h}function o(t,a){var r=w[a.curve.join('.')];if(!r)throw new Error('unknown curve '+a.curve.join('.'));var o=new b(r),s=o.keyFromPrivate(a.privateKey),d=s.sign(t);return new n(d.toDER())}function s(t,n,a){for(var o=n.params.priv_key,u=n.params.p,h=n.params.q,b=n.params.g,g=new y(0),r=c(t,h).mod(h),v=!1,s=l(o,h,t,a),w;!1==v;)w=f(h,s,a),g=m(b,w,u,h),v=w.invm(h).imul(r.add(o.mul(g))).mod(h),0===v.cmpn(0)&&(v=!1,g=new y(0));return d(g,v)}function d(t,a){t=t.toArray(),a=a.toArray(),128&t[0]&&(t=[0].concat(t)),128&a[0]&&(a=[0].concat(a));var r=t.length+a.length+4,o=[48,r,2,t.length];return o=o.concat(t,[2,a.length],a),new n(o)}function l(t,a,r,o){if(t=new n(t.toArray()),t.length<a.byteLength()){var s=new n(a.byteLength()-t.length);s.fill(0),t=n.concat([s,t])}var d=r.length,l=u(r,a),c=new n(d);c.fill(1);var f=new n(d);return f.fill(0),f=h(o,f).update(c).update(new n([0])).update(t).update(l).digest(),c=h(o,f).update(c).digest(),f=h(o,f).update(c).update(new n([1])).update(t).update(l).digest(),c=h(o,f).update(c).digest(),{k:f,v:c}}function c(t,n){var a=new y(t),r=(t.length<<3)-n.bitLength();return 0<r&&a.ishrn(r),a}function u(t,a){t=c(t,a),t=t.mod(a);var r=new n(t.toArray());if(r.length<a.byteLength()){var o=new n(a.byteLength()-r.length);o.fill(0),r=n.concat([o,r])}return r}function f(a,r,o){var s,t;do{for(s=new n(0);8*s.length<a.bitLength();)r.v=h(o,r.k).update(r.v).digest(),s=n.concat([s,r.v]);t=c(s,a),r.k=h(o,r.k).update(r.v).update(new n([0])).digest(),r.v=h(o,r.k).update(r.v).digest()}while(-1!==t.cmp(a));return t}function m(t,n,a,r){return t.toRed(y.mont(a)).redPow(n).fromRed().mod(r)}var h=a(151),g=a(107),b=a(5).ec,y=a(169),v=a(74),w=a(174);t.exports=r,t.exports.getKey=l,t.exports.makeKey=f}).call(n,a(0).Buffer)},function(t,n,a){(function(t){(function(t,n){'use strict';function o(t,n){if(!t)throw new Error(n||'Assertion failed')}function r(t,n){t.super_=n;var a=function(){};a.prototype=n.prototype,t.prototype=new a,t.prototype.constructor=t}function d(t,n,a){return d.isBN(t)?t:void(this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(('le'===n||'be'===n)&&(a=n,n=10),this._init(t||0,n||10,a||'be')))}function s(t,n,a){for(var o=0,r=_Mathmin(t.length,a),s=n,d;s<r;s++)d=t.charCodeAt(s)-48,o<<=4,o|=49<=d&&54>=d?d-49+10:17<=d&&22>=d?d-17+10:15&d;return o}function l(t,n,a,o){for(var s=0,r=_Mathmin(t.length,a),d=n,l;d<r;d++)l=t.charCodeAt(d)-48,s*=o,s+=49<=l?l-49+10:17<=l?l-17+10:l;return s}function c(t){for(var n=Array(t.bitLength()),a=0;a<n.length;a++){var r=0|a/26,o=a%26;n[a]=(t.words[r]&1<<o)>>>o}return n}function u(t,n,o){o.negative=n.negative^t.negative;var s=0|t.length+n.length;o.length=s,s=0|s-1;var d=0|t.words[0],a=0|n.words[0],l=d*a,r=67108863&l,c=0|l/67108864;o.words[0]=r;for(var u=1;u<s;u++){for(var f=c>>>26,m=67108863&c,h=_Mathmin(u,n.length-1),g=_Mathmax(0,u-t.length+1),b;g<=h;g++)b=0|u-g,d=0|t.words[b],a=0|n.words[g],l=d*a+m,f+=0|l/67108864,m=67108863&l;o.words[u]=0|m,c=0|f}return 0==c?o.length--:o.words[u]=0|c,o.strip()}function f(t,n,o){o.negative=n.negative^t.negative,o.length=t.length+n.length;for(var s=0,d=0,l=0,c;l<o.length-1;l++){c=d,d=0;for(var u=67108863&s,f=_Mathmin(l,n.length-1),m=_Mathmax(0,l-t.length+1);m<=f;m++){var h=l-m,g=0|t.words[h],a=0|n.words[m],b=g*a,r=67108863&b;c=0|c+(0|b/67108864),r=0|r+u,u=67108863&r,c=0|c+(r>>>26),d+=c>>>26,c&=67108863}o.words[l]=u,s=c,c=d}return 0==s?o.length--:o.words[l]=s,o.strip()}function m(t,n,a){var r=new h;return r.mulp(t,n,a)}function h(t,n){this.x=t,this.y=n}function g(t,n){this.name=t,this.p=new d(n,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function y(){g.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function v(){g.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function w(){g.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var n=d._prime(t);this.m=n.p,this.prime=n}else o(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function _(t){x.call(this,t),this.shift=this.m.bitLength(),0!=this.shift%26&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}'object'==typeof t?t.exports=d:n.BN=d,d.BN=d,d.wordSize=26;var k;try{k=a(291).Buffer}catch(t){}d.isBN=function t(n){return!!(n instanceof d)||null!==n&&'object'==typeof n&&n.constructor.wordSize===d.wordSize&&Array.isArray(n.words)},d.max=function t(n,a){return 0<n.cmp(a)?n:a},d.min=function t(n,a){return 0>n.cmp(a)?n:a},d.prototype._init=function t(n,a,r){if('number'==typeof n)return this._initNumber(n,a,r);if('object'==typeof n)return this._initArray(n,a,r);'hex'===a&&(a=16),o(a===(0|a)&&2<=a&&36>=a),n=n.toString().replace(/\s+/g,'');var s=0;'-'===n[0]&&s++,16===a?this._parseHex(n,s):this._parseBase(n,a,s),'-'===n[0]&&(this.negative=1),this.strip();'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initNumber=function t(n,a,r){0>n&&(this.negative=1,n=-n),67108864>n?(this.words=[67108863&n],this.length=1):4503599627370496>n?(this.words=[67108863&n,67108863&n/67108864],this.length=2):(o(9007199254740992>n),this.words=[67108863&n,67108863&n/67108864,1],this.length=3);'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initArray=function t(n,a,r){if(o('number'==typeof n.length),0>=n.length)return this.words=[0],this.length=1,this;this.length=_Mathceil(n.length/3),this.words=Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var d=0,l,c;if('be'===r)for(s=n.length-1,l=0;0<=s;s-=3)c=n[s]|n[s-1]<<8|n[s-2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);else if('le'===r)for(s=0,l=0;s<n.length;s+=3)c=n[s]|n[s+1]<<8|n[s+2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);return this.strip()},d.prototype._parseHex=function t(n,a){this.length=_Mathceil((n.length-a)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o=0,d,l;for(r=n.length-6,d=0;r>=a;r-=6)l=s(n,r,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o,o+=24,26<=o&&(o-=26,d++);r+6!==a&&(l=s(n,a,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o),this.strip()},d.prototype._parseBase=function t(n,a,r){this.words=[0],this.length=1;for(var o=0,s=1;67108863>=s;s*=a)o++;o--,s=0|s/a;for(var d=n.length-r,c=d%o,u=_Mathmin(d,d-c)+r,f=0,m=r;m<u;m+=o)f=l(n,m,m+o,a),this.imuln(s),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f);if(0!=c){var h=1;for(f=l(n,m,n.length,a),m=0;m<c;m++)h*=a;this.imuln(h),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f)}},d.prototype.copy=function t(n){n.words=Array(this.length);for(var a=0;a<this.length;a++)n.words[a]=this.words[a];n.length=this.length,n.negative=this.negative,n.red=this.red},d.prototype.clone=function t(){var n=new d(null);return this.copy(n),n},d.prototype._expand=function t(n){for(;this.length<n;)this.words[this.length++]=0;return this},d.prototype.strip=function t(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},d.prototype._normSign=function t(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},d.prototype.inspect=function t(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var C=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,10000000,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function t(n,a){n=n||10,a=0|a||1;var s;if(16===n||'hex'===n){s='';for(var d=0,l=0,u=0;u<this.length;u++){var f=this.words[u],m=(16777215&(f<<d|l)).toString(16);l=16777215&f>>>24-d,s=0!=l||u!==this.length-1?C[6-m.length]+m+s:m+s,d+=2,26<=d&&(d-=26,u--)}for(0!=l&&(s=l.toString(16)+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}if(n===(0|n)&&2<=n&&36>=n){var h=T[n],g=E[n];s='';var b=this.clone();for(b.negative=0;!b.isZero();){var c=b.modn(g).toString(n);b=b.idivn(g),s=b.isZero()?c+s:C[h-c.length]+c+s}for(this.isZero()&&(s='0'+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}o(!1,'Base should be between 2 and 36')},d.prototype.toNumber=function t(){var n=this.words[0];return 2===this.length?n+=67108864*this.words[1]:3===this.length&&1===this.words[2]?n+=4503599627370496+67108864*this.words[1]:2<this.length&&o(!1,'Number can only safely store up to 53 bits'),0===this.negative?n:-n},d.prototype.toJSON=function t(){return this.toString(16)},d.prototype.toBuffer=function t(n,a){return o('undefined'!=typeof k),this.toArrayLike(k,n,a)},d.prototype.toArray=function t(n,a){return this.toArrayLike(Array,n,a)},d.prototype.toArrayLike=function t(n,a,r){var s=this.byteLength(),d=r||_Mathmax(1,s);o(s<=d,'byte array longer than desired length'),o(0<d,'Requested array length <= 0'),this.strip();var l='le'===a,c=new n(d),u=this.clone(),f,m;if(!l){for(m=0;m<d-s;m++)c[m]=0;for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[d-m-1]=f}else{for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[m]=f;for(;m<d;m++)c[m]=0}return c},d.prototype._countBits=_Mathclz?function t(n){return 32-_Mathclz(n)}:function n(a){var o=a,t=0;return 4096<=o&&(t+=13,o>>>=13),64<=o&&(t+=7,o>>>=7),8<=o&&(t+=4,o>>>=4),2<=o&&(t+=2,o>>>=2),t+o},d.prototype._zeroBits=function n(a){if(0===a)return 26;var o=a,t=0;return 0==(8191&o)&&(t+=13,o>>>=13),0==(127&o)&&(t+=7,o>>>=7),0==(15&o)&&(t+=4,o>>>=4),0==(3&o)&&(t+=2,o>>>=2),0==(1&o)&&t++,t},d.prototype.bitLength=function t(){var n=this.words[this.length-1],a=this._countBits(n);return 26*(this.length-1)+a},d.prototype.zeroBits=function t(){if(this.isZero())return 0;for(var n=0,a=0,r;a<this.length&&(r=this._zeroBits(this.words[a]),n+=r,26===r);a++);return n},d.prototype.byteLength=function t(){return _Mathceil(this.bitLength()/8)},d.prototype.toTwos=function t(n){return 0===this.negative?this.clone():this.abs().inotn(n).iaddn(1)},d.prototype.fromTwos=function t(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function t(){return 0!==this.negative},d.prototype.neg=function t(){return this.clone().ineg()},d.prototype.ineg=function t(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function t(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var a=0;a<n.length;a++)this.words[a]|=n.words[a];return this.strip()},d.prototype.ior=function t(n){return o(0==(this.negative|n.negative)),this.iuor(n)},d.prototype.or=function t(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},d.prototype.uor=function t(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},d.prototype.iuand=function t(n){var a;a=this.length>n.length?n:this;for(var r=0;r<a.length;r++)this.words[r]&=n.words[r];return this.length=a.length,this.strip()},d.prototype.iand=function t(n){return o(0==(this.negative|n.negative)),this.iuand(n)},d.prototype.and=function t(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},d.prototype.uand=function t(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},d.prototype.iuxor=function t(n){var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var o=0;o<a.length;o++)this.words[o]=r.words[o]^a.words[o];if(this!==r)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=r.length,this.strip()},d.prototype.ixor=function t(n){return o(0==(this.negative|n.negative)),this.iuxor(n)},d.prototype.xor=function t(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},d.prototype.uxor=function t(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},d.prototype.inotn=function t(n){o('number'==typeof n&&0<=n);var a=0|_Mathceil(n/26),r=n%26;this._expand(a),0<r&&a--;for(var s=0;s<a;s++)this.words[s]=67108863&~this.words[s];return 0<r&&(this.words[s]=~this.words[s]&67108863>>26-r),this.strip()},d.prototype.notn=function t(n){return this.clone().inotn(n)},d.prototype.setn=function t(n,a){o('number'==typeof n&&0<=n);var r=0|n/26,s=n%26;return this._expand(r+1),a?this.words[r]|=1<<s:this.words[r]&=~(1<<s),this.strip()},d.prototype.iadd=function t(n){var o;if(0!==this.negative&&0===n.negative)return this.negative=0,o=this.isub(n),this.negative^=1,this._normSign();if(0===this.negative&&0!==n.negative)return n.negative=0,o=this.isub(n),n.negative=1,o._normSign();var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var s=0,d=0;d<a.length;d++)o=(0|r.words[d])+(0|a.words[d])+s,this.words[d]=67108863&o,s=o>>>26;for(;0!=s&&d<r.length;d++)o=(0|r.words[d])+s,this.words[d]=67108863&o,s=o>>>26;if(this.length=r.length,0!=s)this.words[this.length]=s,this.length++;else if(r!==this)for(;d<r.length;d++)this.words[d]=r.words[d];return this},d.prototype.add=function t(n){var a;return 0!==n.negative&&0===this.negative?(n.negative=0,a=this.sub(n),n.negative^=1,a):0===n.negative&&0!==this.negative?(this.negative=0,a=n.sub(this),this.negative=1,a):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},d.prototype.isub=function t(n){if(0!==n.negative){n.negative=0;var o=this.iadd(n);return n.negative=1,o._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var r=this.cmp(n);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var s,a;0<r?(s=this,a=n):(s=n,a=this);for(var d=0,l=0;l<a.length;l++)o=(0|s.words[l])-(0|a.words[l])+d,d=o>>26,this.words[l]=67108863&o;for(;0!=d&&l<s.length;l++)o=(0|s.words[l])+d,d=o>>26,this.words[l]=67108863&o;if(0==d&&l<s.length&&s!==this)for(;l<s.length;l++)this.words[l]=s.words[l];return this.length=_Mathmax(this.length,l),s!==this&&(this.negative=1),this.strip()},d.prototype.sub=function t(n){return this.clone().isub(n)};var S=function t(n,r,s){var d=n.words,a=r.words,l=s.words,o=0,c=0|d[0],u=8191&c,f=c>>>13,m=0|d[1],h=8191&m,g=m>>>13,b=0|d[2],y=8191&b,v=b>>>13,w=0|d[3],x=8191&w,_=w>>>13,k=0|d[4],C=8191&k,T=k>>>13,E=0|d[5],S=8191&E,A=E>>>13,I=0|d[6],N=8191&I,j=I>>>13,R=0|d[7],L=8191&R,O=R>>>13,P=0|d[8],M=8191&P,D=P>>>13,B=0|d[9],U=8191&B,q=B>>>13,F=0|a[0],z=8191&F,H=F>>>13,W=0|a[1],V=8191&W,G=W>>>13,J=0|a[2],K=8191&J,X=J>>>13,Z=0|a[3],Y=8191&Z,Q=Z>>>13,ee=0|a[4],te=8191&ee,ne=ee>>>13,ae=0|a[5],re=8191&ae,ie=ae>>>13,oe=0|a[6],se=8191&oe,de=oe>>>13,le=0|a[7],pe=8191&le,ce=le>>>13,ue=0|a[8],fe=8191&ue,he=ue>>>13,ge=0|a[9],be=8191&ge,ye=ge>>>13,ve,we,xe;s.negative=n.negative^r.negative,s.length=19,ve=_Mathimul(u,z),we=_Mathimul(u,H),we=0|we+_Mathimul(f,z),xe=_Mathimul(f,H);var _e=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(_e>>>26),_e&=67108863,ve=_Mathimul(h,z),we=_Mathimul(h,H),we=0|we+_Mathimul(g,z),xe=_Mathimul(g,H),ve=0|ve+_Mathimul(u,V),we=0|we+_Mathimul(u,G),we=0|we+_Mathimul(f,V),xe=0|xe+_Mathimul(f,G);var ke=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(ke>>>26),ke&=67108863,ve=_Mathimul(y,z),we=_Mathimul(y,H),we=0|we+_Mathimul(v,z),xe=_Mathimul(v,H),ve=0|ve+_Mathimul(h,V),we=0|we+_Mathimul(h,G),we=0|we+_Mathimul(g,V),xe=0|xe+_Mathimul(g,G),ve=0|ve+_Mathimul(u,K),we=0|we+_Mathimul(u,X),we=0|we+_Mathimul(f,K),xe=0|xe+_Mathimul(f,X);var Ce=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ce>>>26),Ce&=67108863,ve=_Mathimul(x,z),we=_Mathimul(x,H),we=0|we+_Mathimul(_,z),xe=_Mathimul(_,H),ve=0|ve+_Mathimul(y,V),we=0|we+_Mathimul(y,G),we=0|we+_Mathimul(v,V),xe=0|xe+_Mathimul(v,G),ve=0|ve+_Mathimul(h,K),we=0|we+_Mathimul(h,X),we=0|we+_Mathimul(g,K),xe=0|xe+_Mathimul(g,X),ve=0|ve+_Mathimul(u,Y),we=0|we+_Mathimul(u,Q),we=0|we+_Mathimul(f,Y),xe=0|xe+_Mathimul(f,Q);var Te=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Te>>>26),Te&=67108863,ve=_Mathimul(C,z),we=_Mathimul(C,H),we=0|we+_Mathimul(T,z),xe=_Mathimul(T,H),ve=0|ve+_Mathimul(x,V),we=0|we+_Mathimul(x,G),we=0|we+_Mathimul(_,V),xe=0|xe+_Mathimul(_,G),ve=0|ve+_Mathimul(y,K),we=0|we+_Mathimul(y,X),we=0|we+_Mathimul(v,K),xe=0|xe+_Mathimul(v,X),ve=0|ve+_Mathimul(h,Y),we=0|we+_Mathimul(h,Q),we=0|we+_Mathimul(g,Y),xe=0|xe+_Mathimul(g,Q),ve=0|ve+_Mathimul(u,te),we=0|we+_Mathimul(u,ne),we=0|we+_Mathimul(f,te),xe=0|xe+_Mathimul(f,ne);var Ee=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ee>>>26),Ee&=67108863,ve=_Mathimul(S,z),we=_Mathimul(S,H),we=0|we+_Mathimul(A,z),xe=_Mathimul(A,H),ve=0|ve+_Mathimul(C,V),we=0|we+_Mathimul(C,G),we=0|we+_Mathimul(T,V),xe=0|xe+_Mathimul(T,G),ve=0|ve+_Mathimul(x,K),we=0|we+_Mathimul(x,X),we=0|we+_Mathimul(_,K),xe=0|xe+_Mathimul(_,X),ve=0|ve+_Mathimul(y,Y),we=0|we+_Mathimul(y,Q),we=0|we+_Mathimul(v,Y),xe=0|xe+_Mathimul(v,Q),ve=0|ve+_Mathimul(h,te),we=0|we+_Mathimul(h,ne),we=0|we+_Mathimul(g,te),xe=0|xe+_Mathimul(g,ne),ve=0|ve+_Mathimul(u,re),we=0|we+_Mathimul(u,ie),we=0|we+_Mathimul(f,re),xe=0|xe+_Mathimul(f,ie);var Se=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Se>>>26),Se&=67108863,ve=_Mathimul(N,z),we=_Mathimul(N,H),we=0|we+_Mathimul(j,z),xe=_Mathimul(j,H),ve=0|ve+_Mathimul(S,V),we=0|we+_Mathimul(S,G),we=0|we+_Mathimul(A,V),xe=0|xe+_Mathimul(A,G),ve=0|ve+_Mathimul(C,K),we=0|we+_Mathimul(C,X),we=0|we+_Mathimul(T,K),xe=0|xe+_Mathimul(T,X),ve=0|ve+_Mathimul(x,Y),we=0|we+_Mathimul(x,Q),we=0|we+_Mathimul(_,Y),xe=0|xe+_Mathimul(_,Q),ve=0|ve+_Mathimul(y,te),we=0|we+_Mathimul(y,ne),we=0|we+_Mathimul(v,te),xe=0|xe+_Mathimul(v,ne),ve=0|ve+_Mathimul(h,re),we=0|we+_Mathimul(h,ie),we=0|we+_Mathimul(g,re),xe=0|xe+_Mathimul(g,ie),ve=0|ve+_Mathimul(u,se),we=0|we+_Mathimul(u,de),we=0|we+_Mathimul(f,se),xe=0|xe+_Mathimul(f,de);var Ae=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ae>>>26),Ae&=67108863,ve=_Mathimul(L,z),we=_Mathimul(L,H),we=0|we+_Mathimul(O,z),xe=_Mathimul(O,H),ve=0|ve+_Mathimul(N,V),we=0|we+_Mathimul(N,G),we=0|we+_Mathimul(j,V),xe=0|xe+_Mathimul(j,G),ve=0|ve+_Mathimul(S,K),we=0|we+_Mathimul(S,X),we=0|we+_Mathimul(A,K),xe=0|xe+_Mathimul(A,X),ve=0|ve+_Mathimul(C,Y),we=0|we+_Mathimul(C,Q),we=0|we+_Mathimul(T,Y),xe=0|xe+_Mathimul(T,Q),ve=0|ve+_Mathimul(x,te),we=0|we+_Mathimul(x,ne),we=0|we+_Mathimul(_,te),xe=0|xe+_Mathimul(_,ne),ve=0|ve+_Mathimul(y,re),we=0|we+_Mathimul(y,ie),we=0|we+_Mathimul(v,re),xe=0|xe+_Mathimul(v,ie),ve=0|ve+_Mathimul(h,se),we=0|we+_Mathimul(h,de),we=0|we+_Mathimul(g,se),xe=0|xe+_Mathimul(g,de),ve=0|ve+_Mathimul(u,pe),we=0|we+_Mathimul(u,ce),we=0|we+_Mathimul(f,pe),xe=0|xe+_Mathimul(f,ce);var Ie=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ie>>>26),Ie&=67108863,ve=_Mathimul(M,z),we=_Mathimul(M,H),we=0|we+_Mathimul(D,z),xe=_Mathimul(D,H),ve=0|ve+_Mathimul(L,V),we=0|we+_Mathimul(L,G),we=0|we+_Mathimul(O,V),xe=0|xe+_Mathimul(O,G),ve=0|ve+_Mathimul(N,K),we=0|we+_Mathimul(N,X),we=0|we+_Mathimul(j,K),xe=0|xe+_Mathimul(j,X),ve=0|ve+_Mathimul(S,Y),we=0|we+_Mathimul(S,Q),we=0|we+_Mathimul(A,Y),xe=0|xe+_Mathimul(A,Q),ve=0|ve+_Mathimul(C,te),we=0|we+_Mathimul(C,ne),we=0|we+_Mathimul(T,te),xe=0|xe+_Mathimul(T,ne),ve=0|ve+_Mathimul(x,re),we=0|we+_Mathimul(x,ie),we=0|we+_Mathimul(_,re),xe=0|xe+_Mathimul(_,ie),ve=0|ve+_Mathimul(y,se),we=0|we+_Mathimul(y,de),we=0|we+_Mathimul(v,se),xe=0|xe+_Mathimul(v,de),ve=0|ve+_Mathimul(h,pe),we=0|we+_Mathimul(h,ce),we=0|we+_Mathimul(g,pe),xe=0|xe+_Mathimul(g,ce),ve=0|ve+_Mathimul(u,fe),we=0|we+_Mathimul(u,he),we=0|we+_Mathimul(f,fe),xe=0|xe+_Mathimul(f,he);var Ne=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ne>>>26),Ne&=67108863,ve=_Mathimul(U,z),we=_Mathimul(U,H),we=0|we+_Mathimul(q,z),xe=_Mathimul(q,H),ve=0|ve+_Mathimul(M,V),we=0|we+_Mathimul(M,G),we=0|we+_Mathimul(D,V),xe=0|xe+_Mathimul(D,G),ve=0|ve+_Mathimul(L,K),we=0|we+_Mathimul(L,X),we=0|we+_Mathimul(O,K),xe=0|xe+_Mathimul(O,X),ve=0|ve+_Mathimul(N,Y),we=0|we+_Mathimul(N,Q),we=0|we+_Mathimul(j,Y),xe=0|xe+_Mathimul(j,Q),ve=0|ve+_Mathimul(S,te),we=0|we+_Mathimul(S,ne),we=0|we+_Mathimul(A,te),xe=0|xe+_Mathimul(A,ne),ve=0|ve+_Mathimul(C,re),we=0|we+_Mathimul(C,ie),we=0|we+_Mathimul(T,re),xe=0|xe+_Mathimul(T,ie),ve=0|ve+_Mathimul(x,se),we=0|we+_Mathimul(x,de),we=0|we+_Mathimul(_,se),xe=0|xe+_Mathimul(_,de),ve=0|ve+_Mathimul(y,pe),we=0|we+_Mathimul(y,ce),we=0|we+_Mathimul(v,pe),xe=0|xe+_Mathimul(v,ce),ve=0|ve+_Mathimul(h,fe),we=0|we+_Mathimul(h,he),we=0|we+_Mathimul(g,fe),xe=0|xe+_Mathimul(g,he),ve=0|ve+_Mathimul(u,be),we=0|we+_Mathimul(u,ye),we=0|we+_Mathimul(f,be),xe=0|xe+_Mathimul(f,ye);var je=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(je>>>26),je&=67108863,ve=_Mathimul(U,V),we=_Mathimul(U,G),we=0|we+_Mathimul(q,V),xe=_Mathimul(q,G),ve=0|ve+_Mathimul(M,K),we=0|we+_Mathimul(M,X),we=0|we+_Mathimul(D,K),xe=0|xe+_Mathimul(D,X),ve=0|ve+_Mathimul(L,Y),we=0|we+_Mathimul(L,Q),we=0|we+_Mathimul(O,Y),xe=0|xe+_Mathimul(O,Q),ve=0|ve+_Mathimul(N,te),we=0|we+_Mathimul(N,ne),we=0|we+_Mathimul(j,te),xe=0|xe+_Mathimul(j,ne),ve=0|ve+_Mathimul(S,re),we=0|we+_Mathimul(S,ie),we=0|we+_Mathimul(A,re),xe=0|xe+_Mathimul(A,ie),ve=0|ve+_Mathimul(C,se),we=0|we+_Mathimul(C,de),we=0|we+_Mathimul(T,se),xe=0|xe+_Mathimul(T,de),ve=0|ve+_Mathimul(x,pe),we=0|we+_Mathimul(x,ce),we=0|we+_Mathimul(_,pe),xe=0|xe+_Mathimul(_,ce),ve=0|ve+_Mathimul(y,fe),we=0|we+_Mathimul(y,he),we=0|we+_Mathimul(v,fe),xe=0|xe+_Mathimul(v,he),ve=0|ve+_Mathimul(h,be),we=0|we+_Mathimul(h,ye),we=0|we+_Mathimul(g,be),xe=0|xe+_Mathimul(g,ye);var Re=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Re>>>26),Re&=67108863,ve=_Mathimul(U,K),we=_Mathimul(U,X),we=0|we+_Mathimul(q,K),xe=_Mathimul(q,X),ve=0|ve+_Mathimul(M,Y),we=0|we+_Mathimul(M,Q),we=0|we+_Mathimul(D,Y),xe=0|xe+_Mathimul(D,Q),ve=0|ve+_Mathimul(L,te),we=0|we+_Mathimul(L,ne),we=0|we+_Mathimul(O,te),xe=0|xe+_Mathimul(O,ne),ve=0|ve+_Mathimul(N,re),we=0|we+_Mathimul(N,ie),we=0|we+_Mathimul(j,re),xe=0|xe+_Mathimul(j,ie),ve=0|ve+_Mathimul(S,se),we=0|we+_Mathimul(S,de),we=0|we+_Mathimul(A,se),xe=0|xe+_Mathimul(A,de),ve=0|ve+_Mathimul(C,pe),we=0|we+_Mathimul(C,ce),we=0|we+_Mathimul(T,pe),xe=0|xe+_Mathimul(T,ce),ve=0|ve+_Mathimul(x,fe),we=0|we+_Mathimul(x,he),we=0|we+_Mathimul(_,fe),xe=0|xe+_Mathimul(_,he),ve=0|ve+_Mathimul(y,be),we=0|we+_Mathimul(y,ye),we=0|we+_Mathimul(v,be),xe=0|xe+_Mathimul(v,ye);var Le=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Le>>>26),Le&=67108863,ve=_Mathimul(U,Y),we=_Mathimul(U,Q),we=0|we+_Mathimul(q,Y),xe=_Mathimul(q,Q),ve=0|ve+_Mathimul(M,te),we=0|we+_Mathimul(M,ne),we=0|we+_Mathimul(D,te),xe=0|xe+_Mathimul(D,ne),ve=0|ve+_Mathimul(L,re),we=0|we+_Mathimul(L,ie),we=0|we+_Mathimul(O,re),xe=0|xe+_Mathimul(O,ie),ve=0|ve+_Mathimul(N,se),we=0|we+_Mathimul(N,de),we=0|we+_Mathimul(j,se),xe=0|xe+_Mathimul(j,de),ve=0|ve+_Mathimul(S,pe),we=0|we+_Mathimul(S,ce),we=0|we+_Mathimul(A,pe),xe=0|xe+_Mathimul(A,ce),ve=0|ve+_Mathimul(C,fe),we=0|we+_Mathimul(C,he),we=0|we+_Mathimul(T,fe),xe=0|xe+_Mathimul(T,he),ve=0|ve+_Mathimul(x,be),we=0|we+_Mathimul(x,ye),we=0|we+_Mathimul(_,be),xe=0|xe+_Mathimul(_,ye);var Oe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Oe>>>26),Oe&=67108863,ve=_Mathimul(U,te),we=_Mathimul(U,ne),we=0|we+_Mathimul(q,te),xe=_Mathimul(q,ne),ve=0|ve+_Mathimul(M,re),we=0|we+_Mathimul(M,ie),we=0|we+_Mathimul(D,re),xe=0|xe+_Mathimul(D,ie),ve=0|ve+_Mathimul(L,se),we=0|we+_Mathimul(L,de),we=0|we+_Mathimul(O,se),xe=0|xe+_Mathimul(O,de),ve=0|ve+_Mathimul(N,pe),we=0|we+_Mathimul(N,ce),we=0|we+_Mathimul(j,pe),xe=0|xe+_Mathimul(j,ce),ve=0|ve+_Mathimul(S,fe),we=0|we+_Mathimul(S,he),we=0|we+_Mathimul(A,fe),xe=0|xe+_Mathimul(A,he),ve=0|ve+_Mathimul(C,be),we=0|we+_Mathimul(C,ye),we=0|we+_Mathimul(T,be),xe=0|xe+_Mathimul(T,ye);var Pe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Pe>>>26),Pe&=67108863,ve=_Mathimul(U,re),we=_Mathimul(U,ie),we=0|we+_Mathimul(q,re),xe=_Mathimul(q,ie),ve=0|ve+_Mathimul(M,se),we=0|we+_Mathimul(M,de),we=0|we+_Mathimul(D,se),xe=0|xe+_Mathimul(D,de),ve=0|ve+_Mathimul(L,pe),we=0|we+_Mathimul(L,ce),we=0|we+_Mathimul(O,pe),xe=0|xe+_Mathimul(O,ce),ve=0|ve+_Mathimul(N,fe),we=0|we+_Mathimul(N,he),we=0|we+_Mathimul(j,fe),xe=0|xe+_Mathimul(j,he),ve=0|ve+_Mathimul(S,be),we=0|we+_Mathimul(S,ye),we=0|we+_Mathimul(A,be),xe=0|xe+_Mathimul(A,ye);var Me=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Me>>>26),Me&=67108863,ve=_Mathimul(U,se),we=_Mathimul(U,de),we=0|we+_Mathimul(q,se),xe=_Mathimul(q,de),ve=0|ve+_Mathimul(M,pe),we=0|we+_Mathimul(M,ce),we=0|we+_Mathimul(D,pe),xe=0|xe+_Mathimul(D,ce),ve=0|ve+_Mathimul(L,fe),we=0|we+_Mathimul(L,he),we=0|we+_Mathimul(O,fe),xe=0|xe+_Mathimul(O,he),ve=0|ve+_Mathimul(N,be),we=0|we+_Mathimul(N,ye),we=0|we+_Mathimul(j,be),xe=0|xe+_Mathimul(j,ye);var De=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(De>>>26),De&=67108863,ve=_Mathimul(U,pe),we=_Mathimul(U,ce),we=0|we+_Mathimul(q,pe),xe=_Mathimul(q,ce),ve=0|ve+_Mathimul(M,fe),we=0|we+_Mathimul(M,he),we=0|we+_Mathimul(D,fe),xe=0|xe+_Mathimul(D,he),ve=0|ve+_Mathimul(L,be),we=0|we+_Mathimul(L,ye),we=0|we+_Mathimul(O,be),xe=0|xe+_Mathimul(O,ye);var Be=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Be>>>26),Be&=67108863,ve=_Mathimul(U,fe),we=_Mathimul(U,he),we=0|we+_Mathimul(q,fe),xe=_Mathimul(q,he),ve=0|ve+_Mathimul(M,be),we=0|we+_Mathimul(M,ye),we=0|we+_Mathimul(D,be),xe=0|xe+_Mathimul(D,ye);var Ue=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ue>>>26),Ue&=67108863,ve=_Mathimul(U,be),we=_Mathimul(U,ye),we=0|we+_Mathimul(q,be),xe=_Mathimul(q,ye);var qe=0|(0|o+ve)+((8191&we)<<13);return o=0|(0|xe+(we>>>13))+(qe>>>26),qe&=67108863,l[0]=_e,l[1]=ke,l[2]=Ce,l[3]=Te,l[4]=Ee,l[5]=Se,l[6]=Ae,l[7]=Ie,l[8]=Ne,l[9]=je,l[10]=Re,l[11]=Le,l[12]=Oe,l[13]=Pe,l[14]=Me,l[15]=De,l[16]=Be,l[17]=Ue,l[18]=qe,0!=o&&(l[19]=o,s.length++),s};_Mathimul||(S=u),d.prototype.mulTo=function t(n,a){var r=this.length+n.length,o;return o=10===this.length&&10===n.length?S(this,n,a):63>r?u(this,n,a):1024>r?f(this,n,a):m(this,n,a),o},h.prototype.makeRBT=function n(a){for(var r=Array(a),t=d.prototype._countBits(a)-1,o=0;o<a;o++)r[o]=this.revBin(o,t,a);return r},h.prototype.revBin=function t(n,a,r){if(0===n||n===r-1)return n;for(var o=0,s=0;s<a;s++)o|=(1&n)<<a-s-1,n>>=1;return o},h.prototype.permute=function t(n,a,r,o,s,d){for(var l=0;l<d;l++)o[l]=a[n[l]],s[l]=r[n[l]]},h.prototype.transform=function t(n,a,r,o,d,c){this.permute(c,n,a,r,o,d);for(var u=1;u<d;u<<=1)for(var s=u<<1,l=_Mathcos(2*_MathPI/s),f=_Mathsin(2*_MathPI/s),m=0;m<d;m+=s)for(var h=l,g=f,b=0;b<u;b++){var y=r[m+b],v=o[m+b],w=r[m+b+u],x=o[m+b+u],_=h*w-g*x;x=h*x+g*w,w=_,r[m+b]=y+w,o[m+b]=v+x,r[m+b+u]=y-w,o[m+b+u]=v-x,b!==s&&(_=l*h-f*g,g=l*g+f*h,h=_)}},h.prototype.guessLen13b=function t(a,n){var r=1|_Mathmax(n,a),o=1&r,s=0;for(r=0|r/2;r;r>>>=1)s++;return 1<<s+1+o},h.prototype.conjugate=function n(a,r,o){if(!(1>=o))for(var s=0,d;s<o/2;s++)d=a[s],a[s]=a[o-s-1],a[o-s-1]=d,d=r[s],r[s]=-r[o-s-1],r[o-s-1]=-d},h.prototype.normalize13b=function t(n,a){for(var r=0,o=0,s;o<a/2;o++)s=8192*_Mathround(n[2*o+1]/a)+_Mathround(n[2*o]/a)+r,n[o]=67108863&s,r=67108864>s?0:0|s/67108864;return n},h.prototype.convert13b=function t(n,a,r,s){for(var d=0,l=0;l<a;l++)d+=0|n[l],r[2*l]=8191&d,d>>>=13,r[2*l+1]=8191&d,d>>>=13;for(l=2*a;l<s;++l)r[l]=0;o(0==d),o(0==(-8192&d))},h.prototype.stub=function t(n){for(var a=Array(n),r=0;r<n;r++)a[r]=0;return a},h.prototype.mulp=function t(n,a,r){var o=2*this.guessLen13b(n.length,a.length),s=this.makeRBT(o),d=this.stub(o),l=Array(o),c=Array(o),u=Array(o),f=Array(o),m=Array(o),h=Array(o),g=r.words;g.length=o,this.convert13b(n.words,n.length,l,o),this.convert13b(a.words,a.length,f,o),this.transform(l,d,c,u,o,s),this.transform(f,d,m,h,o,s);for(var b=0,y;b<o;b++)y=c[b]*m[b]-u[b]*h[b],u[b]=c[b]*h[b]+u[b]*m[b],c[b]=y;return this.conjugate(c,u,o),this.transform(c,u,g,d,o,s),this.conjugate(g,d,o),this.normalize13b(g,o),r.negative=n.negative^a.negative,r.length=n.length+a.length,r.strip()},d.prototype.mul=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),this.mulTo(n,a)},d.prototype.mulf=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),m(this,n,a)},d.prototype.imul=function t(n){return this.clone().mulTo(n,this)},d.prototype.imuln=function t(n){o('number'==typeof n),o(67108864>n);for(var a=0,r=0;r<this.length;r++){var s=(0|this.words[r])*n,d=(67108863&s)+(67108863&a);a>>=26,a+=0|s/67108864,a+=d>>>26,this.words[r]=67108863&d}return 0!=a&&(this.words[r]=a,this.length++),this},d.prototype.muln=function t(n){return this.clone().imuln(n)},d.prototype.sqr=function t(){return this.mul(this)},d.prototype.isqr=function t(){return this.imul(this.clone())},d.prototype.pow=function t(n){var a=c(n);if(0===a.length)return new d(1);for(var r=this,o=0;o<a.length&&!(0!==a[o]);o++,r=r.sqr());if(++o<a.length)for(var s=r.sqr();o<a.length;o++,s=s.sqr())0!==a[o]&&(r=r.mul(s));return r},d.prototype.iushln=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=67108863>>>26-a<<26-a,d;if(0!=a){var l=0;for(d=0;d<this.length;d++){var u=this.words[d]&s,f=(0|this.words[d])-u<<a;this.words[d]=f|l,l=u>>>26-a}l&&(this.words[d]=l,this.length++)}if(0!=r){for(d=this.length-1;0<=d;d--)this.words[d+r]=this.words[d];for(d=0;d<r;d++)this.words[d]=0;this.length+=r}return this.strip()},d.prototype.ishln=function t(n){return o(0===this.negative),this.iushln(n)},d.prototype.iushrn=function t(n,a,d){o('number'==typeof n&&0<=n);var l;l=a?(a-a%26)/26:0;var c=n%26,r=_Mathmin((n-c)/26,this.length),s=67108863^67108863>>>c<<c,u=d;if(l-=r,l=_Mathmax(0,l),u){for(var f=0;f<r;f++)u.words[f]=this.words[f];u.length=r}if(0===r);else if(this.length>r)for(this.length-=r,f=0;f<this.length;f++)this.words[f]=this.words[f+r];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;0<=f&&(0!=m||f>=l);f--){var h=0|this.words[f];this.words[f]=m<<26-c|h>>>c,m=h&s}return u&&0!=m&&(u.words[u.length++]=m),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function t(n,a,r){return o(0===this.negative),this.iushrn(n,a,r)},d.prototype.shln=function t(n){return this.clone().ishln(n)},d.prototype.ushln=function t(n){return this.clone().iushln(n)},d.prototype.shrn=function t(n){return this.clone().ishrn(n)},d.prototype.ushrn=function t(n){return this.clone().iushrn(n)},d.prototype.testn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return!1;var d=this.words[r];return!!(d&s)},d.prototype.imaskn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26;if(o(0===this.negative,'imaskn works only with positive numbers'),this.length<=r)return this;if(0!=a&&r++,this.length=_Mathmin(r,this.length),0!=a){var s=67108863^67108863>>>a<<a;this.words[this.length-1]&=s}return this.strip()},d.prototype.maskn=function t(n){return this.clone().imaskn(n)},d.prototype.iaddn=function t(n){return o('number'==typeof n),o(67108864>n),0>n?this.isubn(-n):0===this.negative?this._iaddn(n):1===this.length&&(0|this.words[0])<n?(this.words[0]=n-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this)},d.prototype._iaddn=function t(n){this.words[0]+=n;for(var a=0;a<this.length&&67108864<=this.words[a];a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=_Mathmax(this.length,a+1),this},d.prototype.isubn=function t(n){if(o('number'==typeof n),o(67108864>n),0>n)return this.iaddn(-n);if(0!==this.negative)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&0>this.words[a];a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},d.prototype.addn=function t(n){return this.clone().iaddn(n)},d.prototype.subn=function t(n){return this.clone().isubn(n)},d.prototype.iabs=function t(){return this.negative=0,this},d.prototype.abs=function t(){return this.clone().iabs()},d.prototype._ishlnsubmul=function t(n,a,r){var s=n.length+r,d;this._expand(s);var l=0,c;for(d=0;d<n.length;d++){c=(0|this.words[d+r])+l;var u=(0|n.words[d])*a;c-=67108863&u,l=(c>>26)-(0|u/67108864),this.words[d+r]=67108863&c}for(;d<this.length-r;d++)c=(0|this.words[d+r])+l,l=c>>26,this.words[d+r]=67108863&c;if(0==l)return this.strip();for(o(-1==l),l=0,d=0;d<this.length;d++)c=-(0|this.words[d])+l,l=c>>26,this.words[d]=67108863&c;return this.negative=1,this.strip()},d.prototype._wordDiv=function t(n,r){var o=this.length-n.length,s=this.clone(),l=n,c=0|l.words[l.length-1],u=this._countBits(c);o=26-u,0!=o&&(l=l.ushln(o),s.iushln(o),c=0|l.words[l.length-1]);var f=s.length-l.length,m;if('mod'!==r){m=new d(null),m.length=f+1,m.words=Array(m.length);for(var h=0;h<m.length;h++)m.words[h]=0}var g=s.clone()._ishlnsubmul(l,1,f);0===g.negative&&(s=g,m&&(m.words[f]=1));for(var b=f-1,y;0<=b;b--){for(y=67108864*(0|s.words[l.length+b])+(0|s.words[l.length+b-1]),y=_Mathmin(0|y/c,67108863),s._ishlnsubmul(l,y,b);0!==s.negative;)y--,s.negative=0,s._ishlnsubmul(l,1,b),s.isZero()||(s.negative^=1);m&&(m.words[b]=y)}return m&&m.strip(),s.strip(),'div'!==r&&0!=o&&s.iushrn(o),{div:m||null,mod:s}},d.prototype.divmod=function t(n,a,r){if(o(!n.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var s,l,c;return 0!==this.negative&&0===n.negative?(c=this.neg().divmod(n,a),'mod'!==a&&(s=c.div.neg()),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.iadd(n)),{div:s,mod:l}):0===this.negative&&0!==n.negative?(c=this.divmod(n.neg(),a),'mod'!==a&&(s=c.div.neg()),{div:s,mod:c.mod}):0==(this.negative&n.negative)?n.length>this.length||0>this.cmp(n)?{div:new d(0),mod:this}:1===n.length?'div'===a?{div:this.divn(n.words[0]),mod:null}:'mod'===a?{div:null,mod:new d(this.modn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new d(this.modn(n.words[0]))}:this._wordDiv(n,a):(c=this.neg().divmod(n.neg(),a),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.isub(n)),{div:c.div,mod:l})},d.prototype.div=function t(n){return this.divmod(n,'div',!1).div},d.prototype.mod=function t(n){return this.divmod(n,'mod',!1).mod},d.prototype.umod=function t(n){return this.divmod(n,'mod',!0).mod},d.prototype.divRound=function t(n){var a=this.divmod(n);if(a.mod.isZero())return a.div;var r=0===a.div.negative?a.mod:a.mod.isub(n),o=n.ushrn(1),s=n.andln(1),d=r.cmp(o);return 0>d||1===s&&0===d?a.div:0===a.div.negative?a.div.iaddn(1):a.div.isubn(1)},d.prototype.modn=function t(n){o(67108863>=n);for(var a=67108864%n,r=0,s=this.length-1;0<=s;s--)r=(a*r+(0|this.words[s]))%n;return r},d.prototype.idivn=function t(n){o(67108863>=n);for(var a=0,r=this.length-1,s;0<=r;r--)s=(0|this.words[r])+67108864*a,this.words[r]=0|s/n,a=s%n;return this.strip()},d.prototype.divn=function t(n){return this.clone().idivn(n)},d.prototype.egcd=function t(n){o(0===n.negative),o(!n.isZero());var a=this,r=n.clone();a=0===a.negative?a.clone():a.umod(n);for(var s=new d(1),l=new d(0),c=new d(0),u=new d(1),f=0;a.isEven()&&r.isEven();)a.iushrn(1),r.iushrn(1),++f;for(var m=r.clone(),h=a.clone();!a.isZero();){for(var g=0,b=1;0==(a.words[0]&b)&&26>g;++g,b<<=1);if(0<g)for(a.iushrn(g);0<g--;)(s.isOdd()||l.isOdd())&&(s.iadd(m),l.isub(h)),s.iushrn(1),l.iushrn(1);for(var y=0,v=1;0==(r.words[0]&v)&&26>y;++y,v<<=1);if(0<y)for(r.iushrn(y);0<y--;)(c.isOdd()||u.isOdd())&&(c.iadd(m),u.isub(h)),c.iushrn(1),u.iushrn(1);0<=a.cmp(r)?(a.isub(r),s.isub(c),l.isub(u)):(r.isub(a),c.isub(s),u.isub(l))}return{a:c,b:u,gcd:r.iushln(f)}},d.prototype._invmp=function t(n){o(0===n.negative),o(!n.isZero());var r=this,a=n.clone();r=0===r.negative?r.clone():r.umod(n);for(var s=new d(1),l=new d(0),c=a.clone();0<r.cmpn(1)&&0<a.cmpn(1);){for(var u=0,f=1;0==(r.words[0]&f)&&26>u;++u,f<<=1);if(0<u)for(r.iushrn(u);0<u--;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var m=0,h=1;0==(a.words[0]&h)&&26>m;++m,h<<=1);if(0<m)for(a.iushrn(m);0<m--;)l.isOdd()&&l.iadd(c),l.iushrn(1);0<=r.cmp(a)?(r.isub(a),s.isub(l)):(a.isub(r),l.isub(s))}var g;return g=0===r.cmpn(1)?s:l,0>g.cmpn(0)&&g.iadd(n),g},d.prototype.gcd=function n(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var s=this.clone(),a=o.clone();s.negative=0,a.negative=0;for(var d=0;s.isEven()&&a.isEven();d++)s.iushrn(1),a.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;a.isEven();)a.iushrn(1);var l=s.cmp(a);if(0>l){var r=s;s=a,a=r}else if(0===l||0===a.cmpn(1))break;s.isub(a)}while(!0);return a.iushln(d)},d.prototype.invm=function t(n){return this.egcd(n).a.umod(n)},d.prototype.isEven=function t(){return 0==(1&this.words[0])},d.prototype.isOdd=function t(){return 1==(1&this.words[0])},d.prototype.andln=function t(n){return this.words[0]&n},d.prototype.bincn=function t(n){o('number'==typeof n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return this._expand(r+1),this.words[r]|=s,this;for(var d=s,l=r,c;0!=d&&l<this.length;l++)c=0|this.words[l],c+=d,d=c>>>26,c&=67108863,this.words[l]=c;return 0!=d&&(this.words[l]=d,this.length++),this},d.prototype.isZero=function t(){return 1===this.length&&0===this.words[0]},d.prototype.cmpn=function t(n){var a=0>n;if(0!==this.negative&&!a)return-1;if(0===this.negative&&a)return 1;this.strip();var r;if(1<this.length)r=1;else{a&&(n=-n),o(67108863>=n,'Number is too big');var s=0|this.words[0];r=s===n?0:s<n?-1:1}return 0===this.negative?r:0|-r},d.prototype.cmp=function t(n){if(0!==this.negative&&0===n.negative)return-1;if(0===this.negative&&0!==n.negative)return 1;var a=this.ucmp(n);return 0===this.negative?a:0|-a},d.prototype.ucmp=function t(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var r=0,o=this.length-1;0<=o;o--){var s=0|this.words[o],a=0|n.words[o];if(s!=a){s<a?r=-1:s>a&&(r=1);break}}return r},d.prototype.gtn=function t(n){return 1===this.cmpn(n)},d.prototype.gt=function t(n){return 1===this.cmp(n)},d.prototype.gten=function t(n){return 0<=this.cmpn(n)},d.prototype.gte=function t(n){return 0<=this.cmp(n)},d.prototype.ltn=function t(n){return-1===this.cmpn(n)},d.prototype.lt=function t(n){return-1===this.cmp(n)},d.prototype.lten=function t(n){return 0>=this.cmpn(n)},d.prototype.lte=function t(n){return 0>=this.cmp(n)},d.prototype.eqn=function t(n){return 0===this.cmpn(n)},d.prototype.eq=function t(n){return 0===this.cmp(n)},d.red=function t(n){return new x(n)},d.prototype.toRed=function t(n){return o(!this.red,'Already a number in reduction context'),o(0===this.negative,'red works only with positives'),n.convertTo(this)._forceRed(n)},d.prototype.fromRed=function t(){return o(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},d.prototype._forceRed=function t(n){return this.red=n,this},d.prototype.forceRed=function t(n){return o(!this.red,'Already a number in reduction context'),this._forceRed(n)},d.prototype.redAdd=function t(n){return o(this.red,'redAdd works only with red numbers'),this.red.add(this,n)},d.prototype.redIAdd=function t(n){return o(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,n)},d.prototype.redSub=function t(n){return o(this.red,'redSub works only with red numbers'),this.red.sub(this,n)},d.prototype.redISub=function t(n){return o(this.red,'redISub works only with red numbers'),this.red.isub(this,n)},d.prototype.redShl=function t(n){return o(this.red,'redShl works only with red numbers'),this.red.shl(this,n)},d.prototype.redMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.mul(this,n)},d.prototype.redIMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.imul(this,n)},d.prototype.redSqr=function t(){return o(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function t(){return o(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function t(){return o(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function t(){return o(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function t(){return o(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function t(n){return o(this.red&&!n.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,n)};var A={k256:null,p224:null,p192:null,p25519:null};g.prototype._tmp=function t(){var n=new d(null);return n.words=Array(_Mathceil(this.n/13)),n},g.prototype.ireduce=function t(n){var a=n,r;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),r=a.bitLength();while(r>this.n);var o=r<this.n?-1:a.ucmp(this.p);return 0===o?(a.words[0]=0,a.length=1):0<o?a.isub(this.p):a.strip(),a},g.prototype.split=function t(n,a){n.iushrn(this.n,0,a)},g.prototype.imulK=function t(n){return n.imul(this.k)},r(b,g),b.prototype.split=function t(n,a){for(var r=4194303,o=_Mathmin(n.length,9),s=0;s<o;s++)a.words[s]=n.words[s];if(a.length=o,9>=n.length)return n.words[0]=0,void(n.length=1);var d=n.words[9];for(a.words[a.length++]=d&r,s=10;s<n.length;s++){var l=0|n.words[s];n.words[s-10]=(l&r)<<4|d>>>22,d=l}d>>>=22,n.words[s-10]=d,n.length-=0===d&&10<n.length?10:9},b.prototype.imulK=function t(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var a=0,r=0,o;r<n.length;r++)o=0|n.words[r],a+=977*o,n.words[r]=67108863&a,a=64*o+(0|a/67108864);return 0===n.words[n.length-1]&&(n.length--,0===n.words[n.length-1]&&n.length--),n},r(y,g),r(v,g),r(w,g),w.prototype.imulK=function t(n){for(var a=0,r=0;r<n.length;r++){var o=19*(0|n.words[r])+a,s=67108863&o;o>>>=26,n.words[r]=s,a=o}return 0!=a&&(n.words[n.length++]=a),n},d._prime=function t(n){if(A[n])return A[n];var t;if('k256'===n)t=new b;else if('p224'===n)t=new y;else if('p192'===n)t=new v;else if('p25519'===n)t=new w;else throw new Error('Unknown prime '+n);return A[n]=t,t},x.prototype._verify1=function t(n){o(0===n.negative,'red works only with positives'),o(n.red,'red works only with red numbers')},x.prototype._verify2=function t(n,a){o(0==(n.negative|a.negative),'red works only with positives'),o(n.red&&n.red===a.red,'red works only with red numbers')},x.prototype.imod=function t(n){return this.prime?this.prime.ireduce(n)._forceRed(this):n.umod(this.m)._forceRed(this)},x.prototype.neg=function t(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},x.prototype.add=function t(n,a){this._verify2(n,a);var r=n.add(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function t(n,a){this._verify2(n,a);var r=n.iadd(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r},x.prototype.sub=function t(n,a){this._verify2(n,a);var r=n.sub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function t(n,a){this._verify2(n,a);var r=n.isub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r},x.prototype.shl=function t(n,a){return this._verify1(n),this.imod(n.ushln(a))},x.prototype.imul=function t(n,a){return this._verify2(n,a),this.imod(n.imul(a))},x.prototype.mul=function t(n,a){return this._verify2(n,a),this.imod(n.mul(a))},x.prototype.isqr=function t(n){return this.imul(n,n.clone())},x.prototype.sqr=function t(n){return this.mul(n,n)},x.prototype.sqrt=function n(l){if(l.isZero())return l.clone();var a=this.m.andln(3);if(o(1==a%2),3===a){var u=this.m.add(new d(1)).iushrn(2);return this.pow(l,u)}for(var f=this.m.subn(1),h=0;!f.isZero()&&0===f.andln(1);)h++,f.iushrn(1);o(!f.isZero());var s=new d(1).toRed(this),g=s.redNeg(),y=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new d(2*v*v).toRed(this);0!==this.pow(v,y).cmp(g);)v.redIAdd(g);for(var w=this.pow(v,f),c=this.pow(l,f.addn(1).iushrn(1)),r=this.pow(l,f),t=h;0!==r.cmp(s);){for(var m=r,x=0;0!==m.cmp(s);x++)m=m.redSqr();o(x<t);var _=this.pow(w,new d(1).iushln(t-x-1));c=c.redMul(_),w=_.redSqr(),r=r.redMul(w),t=x}return c},x.prototype.invm=function t(n){var a=n._invmp(this.m);return 0===a.negative?this.imod(a):(a.negative=0,this.imod(a).redNeg())},x.prototype.pow=function t(n,a){if(a.isZero())return new d(1).toRed(this);if(0===a.cmpn(1))return n.clone();var r=4,o=Array(1<<r);o[0]=new d(1).toRed(this),o[1]=n;for(var s=2;s<o.length;s++)o[s]=this.mul(o[s-1],n);var l=o[0],c=0,u=0,f=a.bitLength()%26;for(0==f&&(f=26),s=a.length-1;0<=s;s--){for(var m=a.words[s],h=f-1,g;0<=h;h--){if(g=1&m>>h,l!==o[0]&&(l=this.sqr(l)),0==g&&0==c){u=0;continue}c<<=1,c|=g,u++,u!=r&&(0!==s||0!==h)||(l=this.mul(l,o[c]),u=0,c=0)}f=26}return l},x.prototype.convertTo=function t(n){var a=n.umod(this.m);return a===n?a.clone():a},x.prototype.convertFrom=function t(n){var a=n.clone();return a.red=null,a},d.mont=function t(n){return new _(n)},r(_,x),_.prototype.convertTo=function t(n){return this.imod(n.ushln(this.shift))},_.prototype.convertFrom=function t(n){var a=this.imod(n.mul(this.rinv));return a.red=null,a},_.prototype.imul=function n(r,a){if(r.isZero()||a.isZero())return r.words[0]=0,r.length=1,r;var o=r.imul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),d=s;return 0<=s.cmp(this.m)?d=s.isub(this.m):0>s.cmpn(0)&&(d=s.iadd(this.m)),d._forceRed(this)},_.prototype.mul=function n(r,a){if(r.isZero()||a.isZero())return new d(0)._forceRed(this);var o=r.mul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),l=s;return 0<=s.cmp(this.m)?l=s.isub(this.m):0>s.cmpn(0)&&(l=s.iadd(this.m)),l._forceRed(this)},_.prototype.invm=function t(n){var a=this.imod(n._invmp(this.m).mul(this.r2));return a._forceRed(this)}})('undefined'==typeof t||t,this)}).call(n,a(10)(t))},function(t,n){},function(t,n){t.exports={_args:[['elliptic@6.4.0','/home/travis/build/linkeddata/mashlib']],_from:'elliptic@6.4.0',_id:'elliptic@6.4.0',_inBundle:!1,_integrity:'sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=',_location:'/elliptic',_phantomChildren:{},_requested:{type:'version',registry:!0,raw:'elliptic@6.4.0',name:'elliptic',escapedName:'elliptic',rawSpec:'6.4.0',saveSpec:null,fetchSpec:'6.4.0'},_requiredBy:['/@trust/keyto','/browserify-sign','/create-ecdh'],_resolved:'https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz',_spec:'6.4.0',_where:'/home/travis/build/linkeddata/mashlib',author:{name:'Fedor Indutny',email:'fedor@indutny.com'},bugs:{url:'https://github.com/indutny/elliptic/issues'},dependencies:{"bn.js":'^4.4.0',brorand:'^1.0.1',"hash.js":'^1.0.0',"hmac-drbg":'^1.0.0',inherits:'^2.0.1',"minimalistic-assert":'^1.0.0',"minimalistic-crypto-utils":'^1.0.0'},description:'EC cryptography',devDependencies:{brfs:'^1.4.3',coveralls:'^2.11.3',grunt:'^0.4.5',"grunt-browserify":'^5.0.0',"grunt-cli":'^1.2.0',"grunt-contrib-connect":'^1.0.0',"grunt-contrib-copy":'^1.0.0',"grunt-contrib-uglify":'^1.0.1',"grunt-mocha-istanbul":'^3.0.1',"grunt-saucelabs":'^8.6.2',istanbul:'^0.4.2',jscs:'^2.9.0',jshint:'^2.6.0',mocha:'^2.1.0'},files:['lib'],homepage:'https://github.com/indutny/elliptic',keywords:['EC','Elliptic','curve','Cryptography'],license:'MIT',main:'lib/elliptic.js',name:'elliptic',repository:{type:'git',url:'git+ssh://git@github.com/indutny/elliptic.git'},scripts:{jscs:'jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js',jshint:'jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js',lint:'npm run jscs && npm run jshint',test:'npm run lint && npm run unit',unit:'istanbul test _mocha --reporter=spec test/index.js',version:'grunt dist && git add dist/'},version:'6.4.0'}},function(t,n,a){'use strict';function r(t,n){for(var a=[],r=1<<n+1,o=t.clone();0<=o.cmpn(1);){var s;if(o.isOdd()){var d=o.andln(r-1);s=d>(r>>1)-1?(r>>1)-d:d,o.isubn(s)}else s=0;a.push(s);for(var l=0!==o.cmpn(0)&&0===o.andln(r-1)?n+1:1,c=1;c<l;c++)a.push(0);o.iushrn(l)}return a}function o(t,n){var a=[[],[]];t=t.clone(),n=n.clone();for(var r=0,o=0;0<t.cmpn(-r)||0<n.cmpn(-o);){var s=3&t.andln(3)+r,d=3&n.andln(3)+o;3==s&&(s=-1),3==d&&(d=-1);var l;if(0==(1&s))l=0;else{var c=7&t.andln(7)+r;l=(3==c||5==c)&&2==d?-s:s}a[0].push(l);var u;if(0==(1&d))u=0;else{var c=7&n.andln(7)+o;u=(3==c||5==c)&&2==s?-d:d}a[1].push(u),2*r===l+1&&(r=1-r),2*o===u+1&&(o=1-o),t.iushrn(1),n.iushrn(1)}return a}function s(t,n,a){var r='_'+n;t.prototype[n]=function t(){return this[r]===void 0?this[r]=a.call(this):this[r]}}function d(t){return'string'==typeof t?c.toArray(t,'hex'):t}function l(t){return new u(t,'hex','le')}var c=n,u=a(25),f=a(15),m=a(165);c.assert=f,c.toArray=m.toArray,c.zero2=m.zero2,c.toHex=m.toHex,c.encode=m.encode,c.getNAF=r,c.getJSF=o,c.cachedProperty=s,c.parseBytes=d,c.intFromLE=l},function(t,n){},function(t,n,a){'use strict';function r(t,n){this.type=t,this.p=new s(n.p,16),this.red=n.prime?s.red(n.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=n.n&&new s(n.n,16),this.g=n.g&&this.pointFromJSON(n.g,n.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,];var a=this.n&&this.p.div(this.n);!a||0<a.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function o(t,n){this.curve=t,this.type=n,this.precomputed=null}var s=a(25),d=a(5),l=d.utils,c=l.getNAF,u=l.getJSF,f=l.assert;t.exports=r,r.prototype.point=function t(){throw new Error('Not implemented')},r.prototype.validate=function t(){throw new Error('Not implemented')},r.prototype._fixedNafMul=function t(n,r){f(n.precomputed);var o=n._getDoubles(),s=c(r,1),d=(1<<o.step+1)-(0==o.step%2?2:1);d/=3;for(var l=[],u=0,m;u<s.length;u+=o.step){m=0;for(var r=u+o.step-1;r>=u;r--)m=(m<<1)+s[r];l.push(m)}for(var h=this.jpoint(null,null,null),a=this.jpoint(null,null,null),g=d;0<g;g--){for(var u=0,m;u<l.length;u++)m=l[u],m===g?a=a.mixedAdd(o.points[u]):m===-g&&(a=a.mixedAdd(o.points[u].neg()));h=h.add(a)}return h.toP()},r.prototype._wnafMul=function t(n,a){var r=4,o=n._getNAFPoints(r);r=o.wnd;for(var s=o.points,d=c(a,r),l=this.jpoint(null,null,null),u=d.length-1;0<=u;u--){for(var a=0;0<=u&&0===d[u];u--)a++;if(0<=u&&a++,l=l.dblp(a),0>u)break;var m=d[u];f(0!==m),l='affine'===n.type?0<m?l.mixedAdd(s[m-1>>1]):l.mixedAdd(s[-m-1>>1].neg()):0<m?l.add(s[m-1>>1]):l.add(s[-m-1>>1].neg())}return'affine'===n.type?l.toP():l},r.prototype._wnafMulAdd=function t(n,r,o,s,d){for(var l=this._wnafT1,f=this._wnafT2,m=this._wnafT3,h=0,g=0;g<s;g++){var y=r[g],v=y._getNAFPoints(n);l[g]=v.wnd,f[g]=v.points}for(var g=s-1;1<=g;g-=2){var w=g-1,a=g;if(1!==l[w]||1!==l[a]){m[w]=c(o[w],l[w]),m[a]=c(o[a],l[a]),h=_Mathmax(m[w].length,h),h=_Mathmax(m[a].length,h);continue}var b=[r[w],null,null,r[a]];0===r[w].y.cmp(r[a].y)?(b[1]=r[w].add(r[a]),b[2]=r[w].toJ().mixedAdd(r[a].neg())):0===r[w].y.cmp(r[a].y.redNeg())?(b[1]=r[w].toJ().mixedAdd(r[a]),b[2]=r[w].add(r[a].neg())):(b[1]=r[w].toJ().mixedAdd(r[a]),b[2]=r[w].toJ().mixedAdd(r[a].neg()));var x=[-3,-1,-5,-7,0,7,5,1,3],_=u(o[w],o[a]);h=_Mathmax(_[0].length,h),m[w]=Array(h),m[a]=Array(h);for(var C=0;C<h;C++){var T=0|_[0][C],E=0|_[1][C];m[w][C]=x[3*(T+1)+(E+1)],m[a][C]=0,f[w]=b}}for(var S=this.jpoint(null,null,null),A=this._wnafT4,g=h,I;0<=g;g--){for(I=0;0<=g;){for(var k=!0,C=0;C<s;C++)A[C]=0|m[C][g],0!==A[C]&&(k=!1);if(!k)break;I++,g--}if(0<=g&&I++,S=S.dblp(I),0>g)break;for(var C=0;C<s;C++){var N=A[C],y;if(0===N)continue;else 0<N?y=f[C][N-1>>1]:0>N&&(y=f[C][-N-1>>1].neg());S='affine'===y.type?S.mixedAdd(y):S.add(y)}}for(var g=0;g<s;g++)f[g]=null;return d?S:S.toP()},r.BasePoint=o,o.prototype.eq=function t(){throw new Error('Not implemented')},o.prototype.validate=function t(){return this.curve.validate(this)},r.prototype.decodePoint=function t(n,a){n=l.toArray(n,a);var r=this.p.byteLength();if((4===n[0]||6===n[0]||7===n[0])&&n.length-1==2*r){6===n[0]?f(0==n[n.length-1]%2):7===n[0]&&f(1==n[n.length-1]%2);var o=this.point(n.slice(1,1+r),n.slice(1+r,1+2*r));return o}if((2===n[0]||3===n[0])&&n.length-1===r)return this.pointFromX(n.slice(1,1+r),3===n[0]);throw new Error('Unknown point format')},o.prototype.encodeCompressed=function t(n){return this.encode(n,!0)},o.prototype._encode=function t(n){var a=this.curve.p.byteLength(),r=this.getX().toArray('be',a);return n?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray('be',a))},o.prototype.encode=function t(n,a){return l.encode(this._encode(a),n)},o.prototype.precompute=function t(n){if(this.precomputed)return this;var a={doubles:null,naf:null,beta:null};return a.naf=this._getNAFPoints(8),a.doubles=this._getDoubles(4,n),a.beta=this._getBeta(),this.precomputed=a,this},o.prototype._hasDoubles=function t(n){if(!this.precomputed)return!1;var a=this.precomputed.doubles;return!!a&&a.points.length>=_Mathceil((n.bitLength()+1)/a.step)},o.prototype._getDoubles=function t(n,a){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],o=this,s=0;s<a;s+=n){for(var d=0;d<n;d++)o=o.dbl();r.push(o)}return{step:n,points:r}},o.prototype._getNAFPoints=function t(n){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var a=[this],r=(1<<n)-1,o=1==r?null:this.dbl(),s=1;s<r;s++)a[s]=a[s-1].add(o);return{wnd:n,points:a}},o.prototype._getBeta=function t(){return null},o.prototype.dblp=function t(n){for(var a=this,r=0;r<n;r++)a=a.dbl();return a}},function(t,n,a){'use strict';function r(t){f.call(this,'short',t),this.a=new c(t.a,16).toRed(this.red),this.b=new c(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function o(t,n,a,r){f.BasePoint.call(this,t,'affine'),null===n&&null===a?(this.x=null,this.y=null,this.inf=!0):(this.x=new c(n,16),this.y=new c(a,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function s(t,n,a,r){f.BasePoint.call(this,t,'jacobian'),null===n&&null===a&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new c(0)):(this.x=new c(n,16),this.y=new c(a,16),this.z=new c(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var d=a(73),l=a(5),c=a(25),u=a(2),f=d.base,m=l.utils.assert;u(r,f),t.exports=r,r.prototype._getEndomorphism=function t(n){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var a,r;if(n.beta)a=new c(n.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);a=0>o[0].cmp(o[1])?o[0]:o[1],a=a.toRed(this.red)}if(n.lambda)r=new c(n.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(a))?r=s[0]:(r=s[1],m(0===this.g.mul(r).x.cmp(this.g.x.redMul(a))))}var d;return d=n.basis?n.basis.map(function(t){return{a:new c(t.a,16),b:new c(t.b,16)}}):this._getEndoBasis(r),{beta:a,lambda:r,basis:d}}},r.prototype._getEndoRoots=function t(n){var a=n===this.p?this.red:c.mont(n),r=new c(2).toRed(a).redInvm(),o=r.redNeg(),d=new c(3).toRed(a).redNeg().redSqrt().redMul(r),s=o.redAdd(d).fromRed(),l=o.redSub(d).fromRed();return[s,l]},r.prototype._getEndoBasis=function t(n){for(var a=this.n.ushrn(_Mathfloor(this.n.bitLength()/2)),o=n,s=this.n.clone(),d=new c(1),l=new c(0),u=new c(0),f=new c(1),m=0,h,g,b,v,w,_,k,C,r,x;0!==o.cmpn(0);){x=s.div(o),C=s.sub(x.mul(o)),r=u.sub(x.mul(d));var T=f.sub(x.mul(l));if(!b&&0>C.cmp(a))h=k.neg(),g=d,b=C.neg(),v=r;else if(b&&2==++m)break;k=C,s=o,o=C,u=d,d=r,f=l,l=T}w=C.neg(),_=r;var y=b.sqr().add(v.sqr()),E=w.sqr().add(_.sqr());return 0<=E.cmp(y)&&(w=h,_=g),b.negative&&(b=b.neg(),v=v.neg()),w.negative&&(w=w.neg(),_=_.neg()),[{a:b,b:v},{a:w,b:_}]},r.prototype._endoSplit=function t(n){var a=this.endo.basis,r=a[0],o=a[1],s=o.b.mul(n).divRound(this.n),d=r.b.neg().mul(n).divRound(this.n),l=s.mul(r.a),c=d.mul(o.a),u=s.mul(r.b),f=d.mul(o.b),m=n.sub(l).sub(c),h=u.add(f).neg();return{k1:m,k2:h}},r.prototype.pointFromX=function t(n,a){n=new c(n,16),n.red||(n=n.toRed(this.red));var r=n.redSqr().redMul(n).redIAdd(n.redMul(this.a)).redIAdd(this.b),o=r.redSqrt();if(0!==o.redSqr().redSub(r).cmp(this.zero))throw new Error('invalid point');var s=o.fromRed().isOdd();return(a&&!s||!a&&s)&&(o=o.redNeg()),this.point(n,o)},r.prototype.validate=function t(n){if(n.inf)return!0;var a=n.x,r=n.y,o=this.a.redMul(a),s=a.redSqr().redMul(a).redIAdd(o).redIAdd(this.b);return 0===r.redSqr().redISub(s).cmpn(0)},r.prototype._endoWnafMulAdd=function t(n,a,r){for(var o=this._endoWnafT1,s=this._endoWnafT2,d=0;d<n.length;d++){var l=this._endoSplit(a[d]),c=n[d],u=c._getBeta();l.k1.negative&&(l.k1.ineg(),c=c.neg(!0)),l.k2.negative&&(l.k2.ineg(),u=u.neg(!0)),o[2*d]=c,o[2*d+1]=u,s[2*d]=l.k1,s[2*d+1]=l.k2}for(var f=this._wnafMulAdd(1,o,s,2*d,r),m=0;m<2*d;m++)o[m]=null,s[m]=null;return f},u(o,f.BasePoint),r.prototype.point=function t(n,a,r){return new o(this,n,a,r)},r.prototype.pointFromJSON=function t(n,a){return o.fromJSON(this,n,a)},o.prototype._getBeta=function t(){if(this.curve.endo){var n=this.precomputed;if(n&&n.beta)return n.beta;var a=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(n){var r=this.curve,o=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};n.beta=a,a.precomputed={beta:null,naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return a}},o.prototype.toJSON=function t(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},o.fromJSON=function t(n,a,r){function o(t){return n.point(t[0],t[1],r)}'string'==typeof a&&(a=JSON.parse(a));var s=n.point(a[0],a[1],r);if(!a[2])return s;var d=a[2];return s.precomputed={beta:null,doubles:d.doubles&&{step:d.doubles.step,points:[s].concat(d.doubles.points.map(o))},naf:d.naf&&{wnd:d.naf.wnd,points:[s].concat(d.naf.points.map(o))}},s},o.prototype.inspect=function t(){return this.isInfinity()?'<EC Point Infinity>':'<EC Point x: '+this.x.fromRed().toString(16,2)+' y: '+this.y.fromRed().toString(16,2)+'>'},o.prototype.isInfinity=function t(){return this.inf},o.prototype.add=function t(n){if(this.inf)return n;if(n.inf)return this;if(this.eq(n))return this.dbl();if(this.neg().eq(n))return this.curve.point(null,null);if(0===this.x.cmp(n.x))return this.curve.point(null,null);var a=this.y.redSub(n.y);0!==a.cmpn(0)&&(a=a.redMul(this.x.redSub(n.x).redInvm()));var r=a.redSqr().redISub(this.x).redISub(n.x),o=a.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,o)},o.prototype.dbl=function t(){if(this.inf)return this;var n=this.y.redAdd(this.y);if(0===n.cmpn(0))return this.curve.point(null,null);var r=this.curve.a,a=this.x.redSqr(),o=n.redInvm(),s=a.redAdd(a).redIAdd(a).redIAdd(r).redMul(o),d=s.redSqr().redISub(this.x.redAdd(this.x)),l=s.redMul(this.x.redSub(d)).redISub(this.y);return this.curve.point(d,l)},o.prototype.getX=function t(){return this.x.fromRed()},o.prototype.getY=function t(){return this.y.fromRed()},o.prototype.mul=function t(n){return n=new c(n,16),this._hasDoubles(n)?this.curve._fixedNafMul(this,n):this.curve.endo?this.curve._endoWnafMulAdd([this],[n]):this.curve._wnafMul(this,n)},o.prototype.mulAdd=function t(n,a,r){var o=[this,a],s=[n,r];return this.curve.endo?this.curve._endoWnafMulAdd(o,s):this.curve._wnafMulAdd(1,o,s,2)},o.prototype.jmulAdd=function t(n,a,r){var o=[this,a],s=[n,r];return this.curve.endo?this.curve._endoWnafMulAdd(o,s,!0):this.curve._wnafMulAdd(1,o,s,2,!0)},o.prototype.eq=function t(n){return this===n||this.inf===n.inf&&(this.inf||0===this.x.cmp(n.x)&&0===this.y.cmp(n.y))},o.prototype.neg=function t(n){if(this.inf)return this;var a=this.curve.point(this.x,this.y.redNeg());if(n&&this.precomputed){var r=this.precomputed,o=function(t){return t.neg()};a.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(o)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(o)}}}return a},o.prototype.toJ=function t(){if(this.inf)return this.curve.jpoint(null,null,null);var n=this.curve.jpoint(this.x,this.y,this.curve.one);return n},u(s,f.BasePoint),r.prototype.jpoint=function t(n,a,r){return new s(this,n,a,r)},s.prototype.toP=function t(){if(this.isInfinity())return this.curve.point(null,null);var n=this.z.redInvm(),a=n.redSqr(),r=this.x.redMul(a),o=this.y.redMul(a).redMul(n);return this.curve.point(r,o)},s.prototype.neg=function t(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},s.prototype.add=function t(n){if(this.isInfinity())return n;if(n.isInfinity())return this;var a=n.z.redSqr(),o=this.z.redSqr(),s=this.x.redMul(a),d=n.x.redMul(o),l=this.y.redMul(a.redMul(n.z)),c=n.y.redMul(o.redMul(this.z)),u=s.redSub(d),f=l.redSub(c);if(0===u.cmpn(0))return 0===f.cmpn(0)?this.dbl():this.curve.jpoint(null,null,null);var r=u.redSqr(),m=r.redMul(u),h=s.redMul(r),g=f.redSqr().redIAdd(m).redISub(h).redISub(h),b=f.redMul(h.redISub(g)).redISub(l.redMul(m)),y=this.z.redMul(n.z).redMul(u);return this.curve.jpoint(g,b,y)},s.prototype.mixedAdd=function t(n){if(this.isInfinity())return n.toJ();if(n.isInfinity())return this;var a=this.z.redSqr(),o=this.x,s=n.x.redMul(a),d=this.y,l=n.y.redMul(a).redMul(this.z),c=o.redSub(s),u=d.redSub(l);if(0===c.cmpn(0))return 0===u.cmpn(0)?this.dbl():this.curve.jpoint(null,null,null);var r=c.redSqr(),f=r.redMul(c),m=o.redMul(r),h=u.redSqr().redIAdd(f).redISub(m).redISub(m),g=u.redMul(m.redISub(h)).redISub(d.redMul(f)),b=this.z.redMul(c);return this.curve.jpoint(h,g,b)},s.prototype.dblp=function t(n){if(0===n)return this;if(this.isInfinity())return this;if(!n)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var o=this,r=0;r<n;r++)o=o.dbl();return o}for(var s=this.curve.a,a=this.curve.tinv,d=this.x,l=this.y,u=this.z,f=u.redSqr().redSqr(),m=l.redAdd(l),r=0;r<n;r++){var h=d.redSqr(),g=m.redSqr(),b=g.redSqr(),y=h.redAdd(h).redIAdd(h).redIAdd(s.redMul(f)),c=d.redMul(g),v=y.redSqr().redISub(c.redAdd(c)),w=c.redISub(v),x=y.redMul(w);x=x.redIAdd(x).redISub(b);var _=m.redMul(u);r+1<n&&(f=f.redMul(b)),d=v,u=_,m=x}return this.curve.jpoint(d,m.redMul(a),u)},s.prototype.dbl=function t(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},s.prototype._zeroDbl=function n(){var r,o,l;if(this.zOne){var u=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),y=this.x.redAdd(h).redSqr().redISub(u).redISub(g);y=y.redIAdd(y);var s=u.redAdd(u).redIAdd(u),m=s.redSqr().redISub(y).redISub(y),t=g.redIAdd(g);t=t.redIAdd(t),t=t.redIAdd(t),r=m,o=s.redMul(y.redISub(m)).redISub(t),l=this.y.redAdd(this.y)}else{var v=this.x.redSqr(),a=this.y.redSqr(),b=a.redSqr(),c=this.x.redAdd(a).redSqr().redISub(v).redISub(b);c=c.redIAdd(c);var d=v.redAdd(v).redIAdd(v),w=d.redSqr(),f=b.redIAdd(b);f=f.redIAdd(f),f=f.redIAdd(f),r=w.redISub(c).redISub(c),o=d.redMul(c.redISub(r)).redISub(f),l=this.y.redMul(this.z),l=l.redIAdd(l)}return this.curve.jpoint(r,o,l)},s.prototype._threeDbl=function n(){var a,r,o;if(this.zOne){var d=this.x.redSqr(),l=this.y.redSqr(),c=l.redSqr(),u=this.x.redAdd(l).redSqr().redISub(d).redISub(c);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),f=s.redSqr().redISub(u).redISub(u);a=f;var t=c.redIAdd(c);t=t.redIAdd(t),t=t.redIAdd(t),r=s.redMul(u.redISub(f)).redISub(t),o=this.y.redAdd(this.y)}else{var m=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),b=this.x.redSub(m).redMul(this.x.redAdd(m));b=b.redAdd(b).redIAdd(b);var y=g.redIAdd(g);y=y.redIAdd(y);var v=y.redAdd(y);a=b.redSqr().redISub(v),o=this.y.redAdd(this.z).redSqr().redISub(h).redISub(m);var w=h.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=b.redMul(y.redISub(a)).redISub(w)}return this.curve.jpoint(a,r,o)},s.prototype._dbl=function t(){var n=this.curve.a,a=this.x,r=this.y,o=this.z,s=o.redSqr().redSqr(),d=a.redSqr(),l=r.redSqr(),u=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(s)),c=a.redAdd(a);c=c.redIAdd(c);var f=c.redMul(l),m=u.redSqr().redISub(f.redAdd(f)),h=f.redISub(m),g=l.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var b=u.redMul(h).redISub(g),y=r.redAdd(r).redMul(o);return this.curve.jpoint(m,b,y)},s.prototype.trpl=function n(){if(!this.curve.zeroA)return this.dbl().add(this);var a=this.x.redSqr(),r=this.y.redSqr(),o=this.z.redSqr(),s=r.redSqr(),d=a.redAdd(a).redIAdd(a),l=d.redSqr(),c=this.x.redAdd(r).redSqr().redISub(a).redISub(s);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(l);var f=c.redSqr(),m=s.redIAdd(s);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var t=d.redIAdd(c).redSqr().redISub(l).redISub(f).redISub(m),u=r.redMul(t);u=u.redIAdd(u),u=u.redIAdd(u);var h=this.x.redMul(f).redISub(u);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(t.redMul(m.redISub(t)).redISub(c.redMul(f)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var b=this.z.redAdd(c).redSqr().redISub(o).redISub(f);return this.curve.jpoint(h,g,b)},s.prototype.mul=function t(n,a){return n=new c(n,a),this.curve._wnafMul(this,n)},s.prototype.eq=function t(n){if('affine'===n.type)return this.eq(n.toJ());if(this===n)return!0;var a=this.z.redSqr(),r=n.z.redSqr();if(0!==this.x.redMul(r).redISub(n.x.redMul(a)).cmpn(0))return!1;var o=a.redMul(this.z),s=r.redMul(n.z);return 0===this.y.redMul(s).redISub(n.y.redMul(o)).cmpn(0)},s.prototype.eqXToP=function n(a){var r=this.z.redSqr(),o=a.toRed(this.curve.red).redMul(r);if(0===this.x.cmp(o))return!0;for(var s=a.clone(),d=this.curve.redN.redMul(r);;){if(s.iadd(this.curve.n),0<=s.cmp(this.curve.p))return!1;if(o.redIAdd(d),0===this.x.cmp(o))return!0}return!1},s.prototype.inspect=function t(){return this.isInfinity()?'<EC JPoint Infinity>':'<EC JPoint x: '+this.x.toString(16,2)+' y: '+this.y.toString(16,2)+' z: '+this.z.toString(16,2)+'>'},s.prototype.isInfinity=function t(){return 0===this.z.cmpn(0)}},function(t,n,a){'use strict';function r(t){c.call(this,'mont',t),this.a=new d(t.a,16).toRed(this.red),this.b=new d(t.b,16).toRed(this.red),this.i4=new d(4).toRed(this.red).redInvm(),this.two=new d(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function o(t,n,a){c.BasePoint.call(this,t,'projective'),null===n&&null===a?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new d(n,16),this.z=new d(a,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)))}var s=a(73),d=a(25),l=a(2),c=s.base,u=a(5),f=u.utils;l(r,c),t.exports=r,r.prototype.validate=function t(n){var a=n.normalize().x,r=a.redSqr(),o=r.redMul(a).redAdd(r.redMul(this.a)).redAdd(a),s=o.redSqrt();return 0===s.redSqr().cmp(o)},l(o,c.BasePoint),r.prototype.decodePoint=function t(n,a){return this.point(f.toArray(n,a),1)},r.prototype.point=function t(n,a){return new o(this,n,a)},r.prototype.pointFromJSON=function t(n){return o.fromJSON(this,n)},o.prototype.precompute=function t(){},o.prototype._encode=function t(){return this.getX().toArray('be',this.curve.p.byteLength())},o.fromJSON=function t(n,a){return new o(n,a[0],a[1]||n.one)},o.prototype.inspect=function t(){return this.isInfinity()?'<EC Point Infinity>':'<EC Point x: '+this.x.fromRed().toString(16,2)+' z: '+this.z.fromRed().toString(16,2)+'>'},o.prototype.isInfinity=function t(){return 0===this.z.cmpn(0)},o.prototype.dbl=function t(){var n=this.x.redAdd(this.z),a=n.redSqr(),r=this.x.redSub(this.z),o=r.redSqr(),s=a.redSub(o),d=a.redMul(o),l=s.redMul(o.redAdd(this.curve.a24.redMul(s)));return this.curve.point(d,l)},o.prototype.add=function t(){throw new Error('Not supported on Montgomery curve')},o.prototype.diffAdd=function t(n,r){var o=this.x.redAdd(this.z),a=this.x.redSub(this.z),s=n.x.redAdd(n.z),l=n.x.redSub(n.z),d=l.redMul(o),c=s.redMul(a),u=r.z.redMul(d.redAdd(c).redSqr()),f=r.x.redMul(d.redISub(c).redSqr());return this.curve.point(u,f)},o.prototype.mul=function n(r){for(var o=r.clone(),t=this,a=this.curve.point(null,null),s=this,d=[];0!==o.cmpn(0);o.iushrn(1))d.push(o.andln(1));for(var l=d.length-1;0<=l;l--)0===d[l]?(t=t.diffAdd(a,s),a=a.dbl()):(a=t.diffAdd(a,s),t=t.dbl());return a},o.prototype.mulAdd=function t(){throw new Error('Not supported on Montgomery curve')},o.prototype.jumlAdd=function t(){throw new Error('Not supported on Montgomery curve')},o.prototype.eq=function t(n){return 0===this.getX().cmp(n.getX())},o.prototype.normalize=function t(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function t(){return this.normalize(),this.x.fromRed()}},function(t,n,a){'use strict';function r(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,u.call(this,'edwards',t),this.a=new l(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new l(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new l(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),f(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function o(n,a,r,o,s){u.BasePoint.call(this,n,'projective'),null===a&&null===r&&null===o?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new l(a,16),this.y=new l(r,16),this.z=o?new l(o,16):this.curve.one,this.t=s&&new l(s,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}var s=a(73),d=a(5),l=a(25),c=a(2),u=s.base,f=d.utils.assert;c(r,u),t.exports=r,r.prototype._mulA=function t(n){return this.mOneA?n.redNeg():this.a.redMul(n)},r.prototype._mulC=function t(n){return this.oneC?n:this.c.redMul(n)},r.prototype.jpoint=function n(a,r,o,s){return this.point(a,r,o,s)},r.prototype.pointFromX=function t(n,a){n=new l(n,16),n.red||(n=n.toRed(this.red));var r=n.redSqr(),o=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),d=o.redMul(s.redInvm()),c=d.redSqrt();if(0!==c.redSqr().redSub(d).cmp(this.zero))throw new Error('invalid point');var u=c.fromRed().isOdd();return(a&&!u||!a&&u)&&(c=c.redNeg()),this.point(n,c)},r.prototype.pointFromY=function t(n,a){n=new l(n,16),n.red||(n=n.toRed(this.red));var r=n.redSqr(),o=r.redSub(this.one),s=r.redMul(this.d).redAdd(this.one),d=o.redMul(s.redInvm());if(0===d.cmp(this.zero))if(a)throw new Error('invalid point');else return this.point(this.zero,n);var c=d.redSqrt();if(0!==c.redSqr().redSub(d).cmp(this.zero))throw new Error('invalid point');return c.isOdd()!==a&&(c=c.redNeg()),this.point(c,n)},r.prototype.validate=function t(n){if(n.isInfinity())return!0;n.normalize();var a=n.x.redSqr(),r=n.y.redSqr(),o=a.redMul(this.a).redAdd(r),s=this.c2.redMul(this.one.redAdd(this.d.redMul(a).redMul(r)));return 0===o.cmp(s)},c(o,u.BasePoint),r.prototype.pointFromJSON=function t(n){return o.fromJSON(this,n)},r.prototype.point=function n(a,r,s,d){return new o(this,a,r,s,d)},o.fromJSON=function t(n,a){return new o(n,a[0],a[1],a[2])},o.prototype.inspect=function t(){return this.isInfinity()?'<EC Point Infinity>':'<EC Point x: '+this.x.fromRed().toString(16,2)+' y: '+this.y.fromRed().toString(16,2)+' z: '+this.z.fromRed().toString(16,2)+'>'},o.prototype.isInfinity=function t(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},o.prototype._extDbl=function t(){var n=this.x.redSqr(),a=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var o=this.curve._mulA(n),s=this.x.redAdd(this.y).redSqr().redISub(n).redISub(a),d=o.redAdd(a),l=d.redSub(r),c=o.redSub(a),u=s.redMul(l),f=d.redMul(c),m=s.redMul(c),h=l.redMul(d);return this.curve.point(u,f,h,m)},o.prototype._projDbl=function t(){var n=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),r=this.y.redSqr(),o,s,d;if(this.curve.twisted){var l=this.curve._mulA(a),c=l.redAdd(r);if(this.zOne)o=n.redSub(a).redSub(r).redMul(c.redSub(this.curve.two)),s=c.redMul(l.redSub(r)),d=c.redSqr().redSub(c).redSub(c);else{var u=this.z.redSqr(),f=c.redSub(u).redISub(u);o=n.redSub(a).redISub(r).redMul(f),s=c.redMul(l.redSub(r)),d=c.redMul(f)}}else{var l=a.redAdd(r),u=this.curve._mulC(this.c.redMul(this.z)).redSqr(),f=l.redSub(u).redSub(u);o=this.curve._mulC(n.redISub(l)).redMul(f),s=this.curve._mulC(l).redMul(a.redISub(r)),d=l.redMul(f)}return this.curve.point(o,s,d)},o.prototype.dbl=function t(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},o.prototype._extAdd=function t(n){var r=this.y.redSub(this.x).redMul(n.y.redSub(n.x)),a=this.y.redAdd(this.x).redMul(n.y.redAdd(n.x)),o=this.t.redMul(this.curve.dd).redMul(n.t),s=this.z.redMul(n.z.redAdd(n.z)),d=a.redSub(r),l=s.redSub(o),c=s.redAdd(o),u=a.redAdd(r),f=d.redMul(l),m=c.redMul(u),h=d.redMul(u),g=l.redMul(c);return this.curve.point(f,m,g,h)},o.prototype._projAdd=function t(n){var r=this.z.redMul(n.z),a=r.redSqr(),o=this.x.redMul(n.x),s=this.y.redMul(n.y),d=this.curve.d.redMul(o).redMul(s),l=a.redSub(d),c=a.redAdd(d),u=this.x.redAdd(this.y).redMul(n.x.redAdd(n.y)).redISub(o).redISub(s),f=r.redMul(l).redMul(u),m,h;return this.curve.twisted?(m=r.redMul(c).redMul(s.redSub(this.curve._mulA(o))),h=l.redMul(c)):(m=r.redMul(c).redMul(s.redSub(o)),h=this.curve._mulC(l).redMul(c)),this.curve.point(f,m,h)},o.prototype.add=function t(n){return this.isInfinity()?n:n.isInfinity()?this:this.curve.extended?this._extAdd(n):this._projAdd(n)},o.prototype.mul=function t(n){return this._hasDoubles(n)?this.curve._fixedNafMul(this,n):this.curve._wnafMul(this,n)},o.prototype.mulAdd=function t(n,a,r){return this.curve._wnafMulAdd(1,[this,a],[n,r],2,!1)},o.prototype.jmulAdd=function t(n,a,r){return this.curve._wnafMulAdd(1,[this,a],[n,r],2,!0)},o.prototype.normalize=function t(){if(this.zOne)return this;var n=this.z.redInvm();return this.x=this.x.redMul(n),this.y=this.y.redMul(n),this.t&&(this.t=this.t.redMul(n)),this.z=this.curve.one,this.zOne=!0,this},o.prototype.neg=function t(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},o.prototype.getX=function t(){return this.normalize(),this.x.fromRed()},o.prototype.getY=function t(){return this.normalize(),this.y.fromRed()},o.prototype.eq=function t(n){return this===n||0===this.getX().cmp(n.getX())&&0===this.getY().cmp(n.getY())},o.prototype.eqXToP=function n(a){var r=a.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(r))return!0;for(var o=a.clone(),s=this.curve.redN.redMul(this.z);;){if(o.iadd(this.curve.n),0<=o.cmp(this.curve.p))return!1;if(r.redIAdd(s),0===this.x.cmp(r))return!0}return!1},o.prototype.toP=o.prototype.normalize,o.prototype.mixedAdd=o.prototype.add},function(t,n,a){'use strict';function r(t){this.curve='short'===t.type?new l.curve.short(t):'edwards'===t.type?new l.curve.edwards(t):new l.curve.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,c(this.g.validate(),'Invalid curve'),c(this.g.mul(this.n).isInfinity(),'Invalid curve, G*N != O')}function o(t,n){Object.defineProperty(s,t,{configurable:!0,enumerable:!0,get:function(){var a=new r(n);return Object.defineProperty(s,t,{configurable:!0,enumerable:!0,value:a}),a}})}var s=n,d=a(108),l=a(5),c=l.utils.assert;s.PresetCurve=r,o('p192',{type:'short',prime:'p192',p:'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff',a:'ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc',b:'64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1',n:'ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831',hash:d.sha256,gRed:!1,g:['188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012','07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811']}),o('p224',{type:'short',prime:'p224',p:'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001',a:'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe',b:'b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4',n:'ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d',hash:d.sha256,gRed:!1,g:['b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21','bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34']}),o('p256',{type:'short',prime:null,p:'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff',a:'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc',b:'5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b',n:'ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551',hash:d.sha256,gRed:!1,g:['6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296','4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5']}),o('p384',{type:'short',prime:null,p:'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff',a:'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc',b:'b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef',n:'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973',hash:d.sha384,gRed:!1,g:['aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7','3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f']}),o('p521',{type:'short',prime:null,p:'000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff',a:'000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc',b:'00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00',n:'000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409',hash:d.sha512,gRed:!1,g:['000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66','00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650']}),o('curve25519',{type:'mont',prime:'p25519',p:'7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',a:'76d06',b:'1',n:'1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',hash:d.sha256,gRed:!1,g:['9']}),o('ed25519',{type:'edwards',prime:'p25519',p:'7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',a:'-1',c:'1',d:'52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3',n:'1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',hash:d.sha256,gRed:!1,g:['216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a','6666666666666666666666666666666666666666666666666666666666666658']});var u;try{u=a(306)}catch(t){u=void 0}o('secp256k1',{type:'short',prime:'k256',p:'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f',a:'0',b:'7',n:'ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141',h:'1',hash:d.sha256,beta:'7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee',lambda:'5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72',basis:[{a:'3086d221a7d46bcde86c90e49284eb15',b:'-e4437ed6010e88286f547fa90abfe4c3'},{a:'114ca50f7a8e2f3f657c1108d9d44cfd8',b:'3086d221a7d46bcde86c90e49284eb15'}],gRed:!1,g:['79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798','483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',u]})},function(t,n,a){'use strict';n.sha1=a(301),n.sha224=a(302),n.sha256=a(167),n.sha384=a(303),n.sha512=a(168)},function(t,n,a){'use strict';function r(){return this instanceof r?void(c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)):new r}var o=a(22),s=a(54),d=a(166),l=o.rotl32,u=o.sum32,f=o.sum32_5,m=d.ft_1,c=s.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];o.inherits(r,c),t.exports=r,r.blockSize=512,r.outSize=160,r.hmacStrength=80,r.padLength=64,r.prototype._update=function n(r,o){for(var g=this.W,y=0;16>y;y++)g[y]=r[o+y];for(;y<g.length;y++)g[y]=l(g[y-3]^g[y-8]^g[y-14]^g[y-16],1);var v=this.h[0],a=this.h[1],b=this.h[2],c=this.h[3],d=this.h[4];for(y=0;y<g.length;y++){var w=~~(y/20),s=f(l(v,5),m(w,a,b,c),d,g[y],h[w]);d=c,c=b,b=l(a,30),a=v,v=s}this.h[0]=u(this.h[0],v),this.h[1]=u(this.h[1],a),this.h[2]=u(this.h[2],b),this.h[3]=u(this.h[3],c),this.h[4]=u(this.h[4],d)},r.prototype._digest=function t(n){return'hex'===n?o.toHex32(this.h,'big'):o.split32(this.h,'big')}},function(t,n,a){'use strict';function r(){return this instanceof r?void(s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]):new r}var o=a(22),s=a(167);o.inherits(r,s),t.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function t(n){return'hex'===n?o.toHex32(this.h.slice(0,7),'big'):o.split32(this.h.slice(0,7),'big')}},function(t,n,a){'use strict';function r(){return this instanceof r?void(s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]):new r}var o=a(22),s=a(168);o.inherits(r,s),t.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function t(n){return'hex'===n?o.toHex32(this.h.slice(0,12),'big'):o.split32(this.h.slice(0,12),'big')}},function(t,n,a){'use strict';function o(){return this instanceof o?void(y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian='little'):new o}function d(t,n,a,r){return 15>=t?n^a^r:31>=t?n&a|~n&r:47>=t?(n|~a)^r:63>=t?n&r|a&~r:n^(a|~r)}function l(t){return 15>=t?0:31>=t?1518500249:47>=t?1859775393:63>=t?2400959708:2840853838}function c(t){return 15>=t?1352829926:31>=t?1548603684:47>=t?1836072691:63>=t?2053994217:0}var u=a(22),f=a(54),m=u.rotl32,h=u.sum32,g=u.sum32_3,b=u.sum32_4,y=f.BlockHash;u.inherits(o,y),n.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function t(n,a){for(var o=this.h[0],u=this.h[1],f=this.h[2],y=this.h[3],x=this.h[4],_=o,k=u,C=f,E=y,S=x,A=0,I;80>A;A++)I=h(m(b(o,d(A,u,f,y),n[v[A]+a],l(A)),w[A]),x),o=x,x=y,y=m(f,10),f=u,u=I,I=h(m(b(_,d(79-A,k,C,E),n[r[A]+a],c(A)),s[A]),S),_=S,S=E,E=m(C,10),C=k,k=I;I=g(this.h[1],f,E),this.h[1]=g(this.h[2],y,S),this.h[2]=g(this.h[3],x,_),this.h[3]=g(this.h[4],o,k),this.h[4]=g(this.h[0],u,C),this.h[0]=I},o.prototype._digest=function t(n){return'hex'===n?u.toHex32(this.h,'little'):u.split32(this.h,'little')};var v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],r=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],w=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],s=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,n,a){'use strict';function r(t,n,a){return this instanceof r?void(this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(o.toArray(n,a))):new r(t,n,a)}var o=a(22),s=a(15);t.exports=r,r.prototype._init=function t(n){n.length>this.blockSize&&(n=new this.Hash().update(n).digest()),s(n.length<=this.blockSize);for(var a=n.length;a<this.blockSize;a++)n.push(0);for(a=0;a<n.length;a++)n[a]^=54;for(this.inner=new this.Hash().update(n),a=0;a<n.length;a++)n[a]^=106;this.outer=new this.Hash().update(n)},r.prototype.update=function t(n,a){return this.inner.update(n,a),this},r.prototype.digest=function t(n){return this.outer.update(this.inner.digest()),this.outer.digest(n)}},function(t,n){t.exports={doubles:{step:4,points:[['e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a','f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821'],['8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508','11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf'],['175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739','d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695'],['363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640','4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9'],['8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c','4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36'],['723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda','96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f'],['eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa','5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999'],['100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0','cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09'],['e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d','9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d'],['feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d','e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088'],['da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1','9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d'],['53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0','5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8'],['8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047','10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a'],['385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862','283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453'],['6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7','7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160'],['3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd','56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0'],['85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83','7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6'],['948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a','53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589'],['6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8','bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17'],['e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d','4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda'],['e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725','7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd'],['213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754','4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2'],['4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c','17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6'],['fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6','6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f'],['76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39','c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01'],['c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891','893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3'],['d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b','febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f'],['b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03','2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7'],['e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d','eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78'],['a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070','7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1'],['90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4','e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150'],['8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da','662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82'],['e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11','1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc'],['8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e','efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b'],['e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41','2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51'],['b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef','67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45'],['d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8','db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120'],['324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d','648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84'],['4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96','35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d'],['9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd','ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d'],['6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5','9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8'],['a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266','40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8'],['7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71','34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac'],['928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac','c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f'],['85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751','1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962'],['ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e','493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907'],['827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241','c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec'],['eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3','be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d'],['e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f','4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414'],['1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19','aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd'],['146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be','b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0'],['fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9','6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811'],['da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2','8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1'],['a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13','7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c'],['174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c','ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73'],['959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba','2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd'],['d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151','e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405'],['64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073','d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589'],['8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458','38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e'],['13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b','69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27'],['bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366','d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1'],['8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa','40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482'],['8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0','620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945'],['dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787','7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573'],['f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e','ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82']]},naf:{wnd:7,points:[['f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9','388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672'],['2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4','d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6'],['5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc','6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da'],['acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe','cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37'],['774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb','d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b'],['f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8','ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81'],['d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e','581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58'],['defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34','4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77'],['2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c','85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a'],['352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5','321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c'],['2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f','2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67'],['9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714','73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402'],['daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729','a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55'],['c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db','2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482'],['6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4','e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82'],['1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5','b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396'],['605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479','2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49'],['62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d','80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf'],['80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f','1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a'],['7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb','d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7'],['d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9','eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933'],['49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963','758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a'],['77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74','958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6'],['f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530','e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37'],['463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b','5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e'],['f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247','cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6'],['caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1','cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476'],['2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120','4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40'],['7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435','91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61'],['754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18','673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683'],['e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8','59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5'],['186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb','3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b'],['df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f','55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417'],['5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143','efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868'],['290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba','e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a'],['af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45','f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6'],['766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a','744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996'],['59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e','c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e'],['f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8','e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d'],['7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c','30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2'],['948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519','e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e'],['7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab','100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437'],['3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca','ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311'],['d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf','8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4'],['1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610','68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575'],['733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4','f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d'],['15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c','d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d'],['a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940','edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629'],['e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980','a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06'],['311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3','66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374'],['34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf','9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee'],['f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63','4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1'],['d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448','fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b'],['32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf','5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661'],['7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5','8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6'],['ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6','8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e'],['16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5','5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d'],['eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99','f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc'],['78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51','f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4'],['494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5','42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c'],['a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5','204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b'],['c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997','4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913'],['841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881','73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154'],['5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5','39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865'],['36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66','d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc'],['336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726','ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224'],['8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede','6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e'],['1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94','60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6'],['85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31','3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511'],['29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51','b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b'],['a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252','ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2'],['4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5','cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c'],['d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b','6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3'],['ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4','322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d'],['af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f','6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700'],['e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889','2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4'],['591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246','b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196'],['11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984','998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4'],['3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a','b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257'],['cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030','bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13'],['c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197','6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096'],['c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593','c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38'],['a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef','21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f'],['347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38','60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448'],['da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a','49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a'],['c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111','5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4'],['4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502','7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437'],['3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea','be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7'],['cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26','8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d'],['b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986','39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a'],['d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e','62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54'],['48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4','25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77'],['dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda','ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517'],['6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859','cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10'],['e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f','f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125'],['eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c','6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e'],['13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942','fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1'],['ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a','1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2'],['b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80','5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423'],['ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d','438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8'],['8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1','cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758'],['52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63','c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375'],['e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352','6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d'],['7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193','ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec'],['5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00','9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0'],['32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58','ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c'],['e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7','d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4'],['8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8','c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f'],['4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e','67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649'],['3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d','cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826'],['674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b','299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5'],['d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f','f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87'],['30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6','462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b'],['be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297','62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc'],['93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a','7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c'],['b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c','ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f'],['d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52','4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a'],['d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb','bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46'],['463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065','bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f'],['7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917','603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03'],['74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9','cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08'],['30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3','553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8'],['9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57','712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373'],['176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66','ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3'],['75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8','9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8'],['809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721','9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1'],['1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180','4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9']]}}},function(t,n,a){'use strict';function r(t){return this instanceof r?void('string'==typeof t&&(c(s.curves.hasOwnProperty(t),'Unknown curve '+t),t=s.curves[t]),t instanceof s.curves.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash):new r(t)}var o=a(25),d=a(308),s=a(5),l=s.utils,c=l.assert,u=a(309),f=a(310);t.exports=r,r.prototype.keyPair=function t(n){return new u(this,n)},r.prototype.keyFromPrivate=function t(n,a){return u.fromPrivate(this,n,a)},r.prototype.keyFromPublic=function t(n,a){return u.fromPublic(this,n,a)},r.prototype.genKeyPair=function t(n){n||(n={});var a=new d({hash:this.hash,pers:n.pers,persEnc:n.persEnc||'utf8',entropy:n.entropy||s.rand(this.hash.hmacStrength),entropyEnc:n.entropy&&n.entropyEnc||'utf8',nonce:this.n.toArray()}),r=this.n.byteLength(),l=this.n.sub(new o(2));do{var c=new o(a.generate(r));if(0<c.cmp(l))continue;return c.iaddn(1),this.keyFromPrivate(c)}while(!0)},r.prototype._truncateToN=function t(n,a){var r=8*n.byteLength()-this.n.bitLength();return 0<r&&(n=n.ushrn(r)),!a&&0<=n.cmp(this.n)?n.sub(this.n):n},r.prototype.sign=function t(n,a,l,c){'object'==typeof l&&(c=l,l=null),c||(c={}),a=this.keyFromPrivate(a,l),n=this._truncateToN(new o(n,16));for(var u=this.n.byteLength(),m=a.getPrivate().toArray('be',u),h=n.toArray('be',u),g=new d({hash:this.hash,entropy:m,nonce:h,pers:c.pers,persEnc:c.persEnc||'utf8'}),b=this.n.sub(new o(1)),y=0,v;!0;y++)if(v=c.k?c.k(y):new o(g.generate(this.n.byteLength())),v=this._truncateToN(v,!0),!(0>=v.cmpn(1)||0<=v.cmp(b))){var w=this.g.mul(v);if(!w.isInfinity()){var x=w.getX(),_=x.umod(this.n);if(0!==_.cmpn(0)){var k=v.invm(this.n).mul(_.mul(a.getPrivate()).iadd(n));if(k=k.umod(this.n),0!==k.cmpn(0)){var C=(w.getY().isOdd()?1:0)|(0===x.cmp(_)?0:2);return c.canonical&&0<k.cmp(this.nh)&&(k=this.n.sub(k),C^=1),new f({r:_,s:k,recoveryParam:C})}}}}},r.prototype.verify=function t(n,a,d,l){n=this._truncateToN(new o(n,16)),d=this.keyFromPublic(d,l),a=new f(a,'hex');var c=a.r,r=a.s;if(0>c.cmpn(1)||0<=c.cmp(this.n))return!1;if(0>r.cmpn(1)||0<=r.cmp(this.n))return!1;var s=r.invm(this.n),u=s.mul(n).umod(this.n),m=s.mul(c).umod(this.n);if(!this.curve._maxwellTrick){var h=this.g.mulAdd(u,d.getPublic(),m);return!h.isInfinity()&&0===h.getX().umod(this.n).cmp(c)}var h=this.g.jmulAdd(u,d.getPublic(),m);return!h.isInfinity()&&h.eqXToP(c)},r.prototype.recoverPubKey=function(t,a,d,l){c((3&d)===d,'The recovery param is more than two bits'),a=new f(a,l);var u=this.n,n=new o(t),m=a.r,r=a.s,s=1&d,h=d>>1;if(0<=m.cmp(this.curve.p.umod(this.curve.n))&&h)throw new Error('Unable to find sencond key candinate');m=h?this.curve.pointFromX(m.add(this.curve.n),s):this.curve.pointFromX(m,s);var g=a.r.invm(u),b=u.sub(n).mul(g).umod(u),y=r.mul(g).umod(u);return this.g.mulAdd(b,m,y)},r.prototype.getKeyRecoveryParam=function(t,n,a,r){if(n=new f(n,r),null!==n.recoveryParam)return n.recoveryParam;for(var o=0;4>o;o++){var s;try{s=this.recoverPubKey(t,n,o)}catch(t){continue}if(s.eq(a))return o}throw new Error('Unable to find valid recovery factor')}},function(t,n,a){'use strict';function r(t){if(!(this instanceof r))return new r(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var n=s.toArray(t.entropy,t.entropyEnc||'hex'),a=s.toArray(t.nonce,t.nonceEnc||'hex'),o=s.toArray(t.pers,t.persEnc||'hex');d(n.length>=this.minEntropy/8,'Not enough entropy. Minimum is: '+this.minEntropy+' bits'),this._init(n,a,o)}var o=a(108),s=a(165),d=a(15);t.exports=r,r.prototype._init=function t(n,a,r){var o=n.concat(a).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function t(){return new o.hmac(this.hash,this.K)},r.prototype._update=function t(n){var a=this._hmac().update(this.V).update([0]);n&&(a=a.update(n)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest();n&&(this.K=this._hmac().update(this.V).update([1]).update(n).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function t(n,a,r,o){'string'!=typeof a&&(o=r,r=a,a=null),n=s.toArray(n,a),r=s.toArray(r,o),d(n.length>=this.minEntropy/8,'Not enough entropy. Minimum is: '+this.minEntropy+' bits'),this._update(n.concat(r||[])),this._reseed=1},r.prototype.generate=function t(n,a,r,o){if(this._reseed>this.reseedInterval)throw new Error('Reseed is required');'string'!=typeof a&&(o=r,r=a,a=null),r&&(r=s.toArray(r,o||'hex'),this._update(r));for(var d=[];d.length<n;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var l=d.slice(0,n);return this._update(r),this._reseed++,s.encode(l,a)}},function(t,n,a){'use strict';function r(t,n){this.ec=t,this.priv=null,this.pub=null,n.priv&&this._importPrivate(n.priv,n.privEnc),n.pub&&this._importPublic(n.pub,n.pubEnc)}var o=a(25),s=a(5),d=s.utils,l=d.assert;t.exports=r,r.fromPublic=function t(n,a,o){return a instanceof r?a:new r(n,{pub:a,pubEnc:o})},r.fromPrivate=function t(n,a,o){return a instanceof r?a:new r(n,{priv:a,privEnc:o})},r.prototype.validate=function t(){var n=this.getPublic();return n.isInfinity()?{result:!1,reason:'Invalid public key'}:n.validate()?n.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:'Public key * N != O'}:{result:!1,reason:'Public key is not a point'}},r.prototype.getPublic=function t(n,a){return'string'==typeof n&&(a=n,n=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,n):this.pub},r.prototype.getPrivate=function t(n){return'hex'===n?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function t(n,a){this.priv=new o(n,a||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function t(n,a){return n.x||n.y?('mont'===this.ec.curve.type?l(n.x,'Need x coordinate'):('short'===this.ec.curve.type||'edwards'===this.ec.curve.type)&&l(n.x&&n.y,'Need both x and y coordinate'),void(this.pub=this.ec.curve.point(n.x,n.y))):void(this.pub=this.ec.curve.decodePoint(n,a))},r.prototype.derive=function t(n){return n.mul(this.priv).getX()},r.prototype.sign=function t(n,a,r){return this.ec.sign(n,this,a,r)},r.prototype.verify=function t(n,a){return this.ec.verify(n,a,this)},r.prototype.inspect=function t(){return'<Key priv: '+(this.priv&&this.priv.toString(16,2))+' pub: '+(this.pub&&this.pub.inspect())+' >'}},function(t,n,a){'use strict';function r(t,n){return t instanceof r?t:void(this._importDER(t,n)||(m(t.r&&t.s,'Signature without r or s'),this.r=new u(t.r,16),this.s=new u(t.s,16),this.recoveryParam=void 0===t.recoveryParam?null:t.recoveryParam))}function o(){this.place=0}function d(t,n){var a=t[n.place++];if(!(128&a))return a;for(var r=15&a,o=0,s=0,d=n.place;s<r;s++,d++)o<<=8,o|=t[d];return n.place=d,o}function l(t){for(var n=0,a=t.length-1;!t[n]&&!(128&t[n+1])&&n<a;)n++;return 0==n?t:t.slice(n)}function c(t,n){if(128>n)return void t.push(n);var a=1+(_Mathlog(n)/_MathLN>>>3);for(t.push(128|a);--a;)t.push(255&n>>>(a<<3));t.push(n)}var u=a(25),s=a(5),f=s.utils,m=f.assert;t.exports=r,r.prototype._importDER=function t(n,a){n=f.toArray(n,a);var l=new o;if(48!==n[l.place++])return!1;var c=d(n,l);if(c+l.place!==n.length)return!1;if(2!==n[l.place++])return!1;var m=d(n,l),h=n.slice(l.place,m+l.place);if(l.place+=m,2!==n[l.place++])return!1;var r=d(n,l);if(n.length!==r+l.place)return!1;var g=n.slice(l.place,r+l.place);return 0===h[0]&&128&h[1]&&(h=h.slice(1)),0===g[0]&&128&g[1]&&(g=g.slice(1)),this.r=new u(h),this.s=new u(g),this.recoveryParam=null,!0},r.prototype.toDER=function t(n){var a=this.r.toArray(),r=this.s.toArray();for(128&a[0]&&(a=[0].concat(a)),128&r[0]&&(r=[0].concat(r)),a=l(a),r=l(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var o=[2];c(o,a.length),o=o.concat(a),o.push(2),c(o,r.length);var s=o.concat(r),d=[48];return c(d,s.length),d=d.concat(s),f.encode(d,n)}},function(t,n,a){'use strict';function r(t){if(l('ed25519'===t,'only tested with ed25519 so far'),!(this instanceof r))return new r(t);var t=s.curves[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=_Mathceil(t.n.bitLength()/8),this.hash=o.sha512}var o=a(108),s=a(5),d=s.utils,l=d.assert,c=d.parseBytes,u=a(312),f=a(313);t.exports=r,r.prototype.sign=function t(n,a){n=c(n);var o=this.keyFromSecret(a),s=this.hashInt(o.messagePrefix(),n),r=this.g.mul(s),d=this.encodePoint(r),l=this.hashInt(d,o.pubBytes(),n).mul(o.priv()),u=s.add(l).umod(this.curve.n);return this.makeSignature({R:r,S:u,Rencoded:d})},r.prototype.verify=function t(n,a,r){n=c(n),a=this.makeSignature(a);var o=this.keyFromPublic(r),s=this.hashInt(a.Rencoded(),o.pubBytes(),n),d=this.g.mul(a.S()),l=a.R().add(o.pub().mul(s));return l.eq(d)},r.prototype.hashInt=function t(){for(var n=this.hash(),a=0;a<arguments.length;a++)n.update(arguments[a]);return d.intFromLE(n.digest()).umod(this.curve.n)},r.prototype.keyFromPublic=function t(n){return u.fromPublic(this,n)},r.prototype.keyFromSecret=function t(n){return u.fromSecret(this,n)},r.prototype.makeSignature=function t(n){return n instanceof f?n:new f(this,n)},r.prototype.encodePoint=function t(n){var a=n.getY().toArray('le',this.encodingLength);return a[this.encodingLength-1]|=n.getX().isOdd()?128:0,a},r.prototype.decodePoint=function t(n){n=d.parseBytes(n);var a=n.length-1,r=n.slice(0,a).concat(-129&n[a]),o=0!=(128&n[a]),s=d.intFromLE(r);return this.curve.pointFromY(s,o)},r.prototype.encodeInt=function t(n){return n.toArray('le',this.encodingLength)},r.prototype.decodeInt=function t(n){return d.intFromLE(n)},r.prototype.isPoint=function t(n){return n instanceof this.pointClass}},function(t,n,a){'use strict';function r(t,n){this.eddsa=t,this._secret=l(n.secret),t.isPoint(n.pub)?this._pub=n.pub:this._pubBytes=l(n.pub)}var o=a(5),s=o.utils,d=s.assert,l=s.parseBytes,c=s.cachedProperty;r.fromPublic=function t(n,a){return a instanceof r?a:new r(n,{pub:a})},r.fromSecret=function t(n,a){return a instanceof r?a:new r(n,{secret:a})},r.prototype.secret=function t(){return this._secret},c(r,'pubBytes',function t(){return this.eddsa.encodePoint(this.pub())}),c(r,'pub',function t(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),c(r,'privBytes',function t(){var n=this.eddsa,r=this.hash(),o=n.encodingLength-1,s=r.slice(0,n.encodingLength);return s[0]&=248,s[o]&=127,s[o]|=64,s}),c(r,'priv',function t(){return this.eddsa.decodeInt(this.privBytes())}),c(r,'hash',function t(){return this.eddsa.hash().update(this.secret()).digest()}),c(r,'messagePrefix',function t(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function t(n){return d(this._secret,'KeyPair can only verify'),this.eddsa.sign(n,this)},r.prototype.verify=function t(n,a){return this.eddsa.verify(n,a,this)},r.prototype.getSecret=function t(n){return d(this._secret,'KeyPair is public only'),s.encode(this.secret(),n)},r.prototype.getPublic=function t(n){return s.encode(this.pubBytes(),n)},t.exports=r},function(t,n,a){'use strict';function r(t,n){this.eddsa=t,'object'!=typeof n&&(n=u(n)),Array.isArray(n)&&(n={R:n.slice(0,t.encodingLength),S:n.slice(t.encodingLength)}),l(n.R&&n.S,'Signature without R or S'),t.isPoint(n.R)&&(this._R=n.R),n.S instanceof o&&(this._S=n.S),this._Rencoded=Array.isArray(n.R)?n.R:n.Rencoded,this._Sencoded=Array.isArray(n.S)?n.S:n.Sencoded}var o=a(25),s=a(5),d=s.utils,l=d.assert,c=d.cachedProperty,u=d.parseBytes;c(r,'S',function t(){return this.eddsa.decodeInt(this.Sencoded())}),c(r,'R',function t(){return this.eddsa.decodePoint(this.Rencoded())}),c(r,'Rencoded',function t(){return this.eddsa.encodePoint(this.R())}),c(r,'Sencoded',function t(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function t(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function t(){return d.encode(this.toBytes(),'hex').toUpperCase()},t.exports=r},function(t,n){},function(t,n,a){'use strict';var r=a(55);n.certificate=a(328);var o=r.define('RSAPrivateKey',function(){this.seq().obj(this.key('version').int(),this.key('modulus').int(),this.key('publicExponent').int(),this.key('privateExponent').int(),this.key('prime1').int(),this.key('prime2').int(),this.key('exponent1').int(),this.key('exponent2').int(),this.key('coefficient').int())});n.RSAPrivateKey=o;var s=r.define('RSAPublicKey',function(){this.seq().obj(this.key('modulus').int(),this.key('publicExponent').int())});n.RSAPublicKey=s;var d=r.define('SubjectPublicKeyInfo',function(){this.seq().obj(this.key('algorithm').use(l),this.key('subjectPublicKey').bitstr())});n.PublicKey=d;var l=r.define('AlgorithmIdentifier',function(){this.seq().obj(this.key('algorithm').objid(),this.key('none').null_().optional(),this.key('curve').objid().optional(),this.key('params').seq().obj(this.key('p').int(),this.key('q').int(),this.key('g').int()).optional())}),c=r.define('PrivateKeyInfo',function(){this.seq().obj(this.key('version').int(),this.key('algorithm').use(l),this.key('subjectPrivateKey').octstr())});n.PrivateKey=c;var u=r.define('EncryptedPrivateKeyInfo',function(){this.seq().obj(this.key('algorithm').seq().obj(this.key('id').objid(),this.key('decrypt').seq().obj(this.key('kde').seq().obj(this.key('id').objid(),this.key('kdeparams').seq().obj(this.key('salt').octstr(),this.key('iters').int())),this.key('cipher').seq().obj(this.key('algo').objid(),this.key('iv').octstr()))),this.key('subjectPrivateKey').octstr())});n.EncryptedPrivateKey=u;var f=r.define('DSAPrivateKey',function(){this.seq().obj(this.key('version').int(),this.key('p').int(),this.key('q').int(),this.key('g').int(),this.key('pub_key').int(),this.key('priv_key').int())});n.DSAPrivateKey=f,n.DSAparam=r.define('DSAparam',function(){this.int()});var m=r.define('ECPrivateKey',function(){this.seq().obj(this.key('version').int(),this.key('privateKey').octstr(),this.key('parameters').optional().explicit(0).use(h),this.key('publicKey').optional().explicit(1).bitstr())});n.ECPrivateKey=m;var h=r.define('ECParameters',function(){this.choice({namedCurve:this.objid()})});n.signature=r.define('signature',function(){this.seq().obj(this.key('r').int(),this.key('s').int())})},function(t,n,a){(function(t){(function(t,n){'use strict';function o(t,n){if(!t)throw new Error(n||'Assertion failed')}function r(t,n){t.super_=n;var a=function(){};a.prototype=n.prototype,t.prototype=new a,t.prototype.constructor=t}function d(t,n,a){return d.isBN(t)?t:void(this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(('le'===n||'be'===n)&&(a=n,n=10),this._init(t||0,n||10,a||'be')))}function s(t,n,a){for(var o=0,r=_Mathmin(t.length,a),s=n,d;s<r;s++)d=t.charCodeAt(s)-48,o<<=4,o|=49<=d&&54>=d?d-49+10:17<=d&&22>=d?d-17+10:15&d;return o}function l(t,n,a,o){for(var s=0,r=_Mathmin(t.length,a),d=n,l;d<r;d++)l=t.charCodeAt(d)-48,s*=o,s+=49<=l?l-49+10:17<=l?l-17+10:l;return s}function c(t){for(var n=Array(t.bitLength()),a=0;a<n.length;a++){var r=0|a/26,o=a%26;n[a]=(t.words[r]&1<<o)>>>o}return n}function u(t,n,o){o.negative=n.negative^t.negative;var s=0|t.length+n.length;o.length=s,s=0|s-1;var d=0|t.words[0],a=0|n.words[0],l=d*a,r=67108863&l,c=0|l/67108864;o.words[0]=r;for(var u=1;u<s;u++){for(var f=c>>>26,m=67108863&c,h=_Mathmin(u,n.length-1),g=_Mathmax(0,u-t.length+1),b;g<=h;g++)b=0|u-g,d=0|t.words[b],a=0|n.words[g],l=d*a+m,f+=0|l/67108864,m=67108863&l;o.words[u]=0|m,c=0|f}return 0==c?o.length--:o.words[u]=0|c,o.strip()}function f(t,n,o){o.negative=n.negative^t.negative,o.length=t.length+n.length;for(var s=0,d=0,l=0,c;l<o.length-1;l++){c=d,d=0;for(var u=67108863&s,f=_Mathmin(l,n.length-1),m=_Mathmax(0,l-t.length+1);m<=f;m++){var h=l-m,g=0|t.words[h],a=0|n.words[m],b=g*a,r=67108863&b;c=0|c+(0|b/67108864),r=0|r+u,u=67108863&r,c=0|c+(r>>>26),d+=c>>>26,c&=67108863}o.words[l]=u,s=c,c=d}return 0==s?o.length--:o.words[l]=s,o.strip()}function m(t,n,a){var r=new h;return r.mulp(t,n,a)}function h(t,n){this.x=t,this.y=n}function g(t,n){this.name=t,this.p=new d(n,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function y(){g.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function v(){g.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function w(){g.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var n=d._prime(t);this.m=n.p,this.prime=n}else o(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function _(t){x.call(this,t),this.shift=this.m.bitLength(),0!=this.shift%26&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}'object'==typeof t?t.exports=d:n.BN=d,d.BN=d,d.wordSize=26;var k;try{k=a(317).Buffer}catch(t){}d.isBN=function t(n){return!!(n instanceof d)||null!==n&&'object'==typeof n&&n.constructor.wordSize===d.wordSize&&Array.isArray(n.words)},d.max=function t(n,a){return 0<n.cmp(a)?n:a},d.min=function t(n,a){return 0>n.cmp(a)?n:a},d.prototype._init=function t(n,a,r){if('number'==typeof n)return this._initNumber(n,a,r);if('object'==typeof n)return this._initArray(n,a,r);'hex'===a&&(a=16),o(a===(0|a)&&2<=a&&36>=a),n=n.toString().replace(/\s+/g,'');var s=0;'-'===n[0]&&s++,16===a?this._parseHex(n,s):this._parseBase(n,a,s),'-'===n[0]&&(this.negative=1),this.strip();'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initNumber=function t(n,a,r){0>n&&(this.negative=1,n=-n),67108864>n?(this.words=[67108863&n],this.length=1):4503599627370496>n?(this.words=[67108863&n,67108863&n/67108864],this.length=2):(o(9007199254740992>n),this.words=[67108863&n,67108863&n/67108864,1],this.length=3);'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initArray=function t(n,a,r){if(o('number'==typeof n.length),0>=n.length)return this.words=[0],this.length=1,this;this.length=_Mathceil(n.length/3),this.words=Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var d=0,l,c;if('be'===r)for(s=n.length-1,l=0;0<=s;s-=3)c=n[s]|n[s-1]<<8|n[s-2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);else if('le'===r)for(s=0,l=0;s<n.length;s+=3)c=n[s]|n[s+1]<<8|n[s+2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);return this.strip()},d.prototype._parseHex=function t(n,a){this.length=_Mathceil((n.length-a)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o=0,d,l;for(r=n.length-6,d=0;r>=a;r-=6)l=s(n,r,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o,o+=24,26<=o&&(o-=26,d++);r+6!==a&&(l=s(n,a,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o),this.strip()},d.prototype._parseBase=function t(n,a,r){this.words=[0],this.length=1;for(var o=0,s=1;67108863>=s;s*=a)o++;o--,s=0|s/a;for(var d=n.length-r,c=d%o,u=_Mathmin(d,d-c)+r,f=0,m=r;m<u;m+=o)f=l(n,m,m+o,a),this.imuln(s),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f);if(0!=c){var h=1;for(f=l(n,m,n.length,a),m=0;m<c;m++)h*=a;this.imuln(h),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f)}},d.prototype.copy=function t(n){n.words=Array(this.length);for(var a=0;a<this.length;a++)n.words[a]=this.words[a];n.length=this.length,n.negative=this.negative,n.red=this.red},d.prototype.clone=function t(){var n=new d(null);return this.copy(n),n},d.prototype._expand=function t(n){for(;this.length<n;)this.words[this.length++]=0;return this},d.prototype.strip=function t(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},d.prototype._normSign=function t(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},d.prototype.inspect=function t(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var C=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,10000000,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function t(n,a){n=n||10,a=0|a||1;var s;if(16===n||'hex'===n){s='';for(var d=0,l=0,u=0;u<this.length;u++){var f=this.words[u],m=(16777215&(f<<d|l)).toString(16);l=16777215&f>>>24-d,s=0!=l||u!==this.length-1?C[6-m.length]+m+s:m+s,d+=2,26<=d&&(d-=26,u--)}for(0!=l&&(s=l.toString(16)+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}if(n===(0|n)&&2<=n&&36>=n){var h=T[n],g=E[n];s='';var b=this.clone();for(b.negative=0;!b.isZero();){var c=b.modn(g).toString(n);b=b.idivn(g),s=b.isZero()?c+s:C[h-c.length]+c+s}for(this.isZero()&&(s='0'+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}o(!1,'Base should be between 2 and 36')},d.prototype.toNumber=function t(){var n=this.words[0];return 2===this.length?n+=67108864*this.words[1]:3===this.length&&1===this.words[2]?n+=4503599627370496+67108864*this.words[1]:2<this.length&&o(!1,'Number can only safely store up to 53 bits'),0===this.negative?n:-n},d.prototype.toJSON=function t(){return this.toString(16)},d.prototype.toBuffer=function t(n,a){return o('undefined'!=typeof k),this.toArrayLike(k,n,a)},d.prototype.toArray=function t(n,a){return this.toArrayLike(Array,n,a)},d.prototype.toArrayLike=function t(n,a,r){var s=this.byteLength(),d=r||_Mathmax(1,s);o(s<=d,'byte array longer than desired length'),o(0<d,'Requested array length <= 0'),this.strip();var l='le'===a,c=new n(d),u=this.clone(),f,m;if(!l){for(m=0;m<d-s;m++)c[m]=0;for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[d-m-1]=f}else{for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[m]=f;for(;m<d;m++)c[m]=0}return c},d.prototype._countBits=_Mathclz?function t(n){return 32-_Mathclz(n)}:function n(a){var o=a,t=0;return 4096<=o&&(t+=13,o>>>=13),64<=o&&(t+=7,o>>>=7),8<=o&&(t+=4,o>>>=4),2<=o&&(t+=2,o>>>=2),t+o},d.prototype._zeroBits=function n(a){if(0===a)return 26;var o=a,t=0;return 0==(8191&o)&&(t+=13,o>>>=13),0==(127&o)&&(t+=7,o>>>=7),0==(15&o)&&(t+=4,o>>>=4),0==(3&o)&&(t+=2,o>>>=2),0==(1&o)&&t++,t},d.prototype.bitLength=function t(){var n=this.words[this.length-1],a=this._countBits(n);return 26*(this.length-1)+a},d.prototype.zeroBits=function t(){if(this.isZero())return 0;for(var n=0,a=0,r;a<this.length&&(r=this._zeroBits(this.words[a]),n+=r,26===r);a++);return n},d.prototype.byteLength=function t(){return _Mathceil(this.bitLength()/8)},d.prototype.toTwos=function t(n){return 0===this.negative?this.clone():this.abs().inotn(n).iaddn(1)},d.prototype.fromTwos=function t(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function t(){return 0!==this.negative},d.prototype.neg=function t(){return this.clone().ineg()},d.prototype.ineg=function t(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function t(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var a=0;a<n.length;a++)this.words[a]|=n.words[a];return this.strip()},d.prototype.ior=function t(n){return o(0==(this.negative|n.negative)),this.iuor(n)},d.prototype.or=function t(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},d.prototype.uor=function t(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},d.prototype.iuand=function t(n){var a;a=this.length>n.length?n:this;for(var r=0;r<a.length;r++)this.words[r]&=n.words[r];return this.length=a.length,this.strip()},d.prototype.iand=function t(n){return o(0==(this.negative|n.negative)),this.iuand(n)},d.prototype.and=function t(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},d.prototype.uand=function t(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},d.prototype.iuxor=function t(n){var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var o=0;o<a.length;o++)this.words[o]=r.words[o]^a.words[o];if(this!==r)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=r.length,this.strip()},d.prototype.ixor=function t(n){return o(0==(this.negative|n.negative)),this.iuxor(n)},d.prototype.xor=function t(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},d.prototype.uxor=function t(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},d.prototype.inotn=function t(n){o('number'==typeof n&&0<=n);var a=0|_Mathceil(n/26),r=n%26;this._expand(a),0<r&&a--;for(var s=0;s<a;s++)this.words[s]=67108863&~this.words[s];return 0<r&&(this.words[s]=~this.words[s]&67108863>>26-r),this.strip()},d.prototype.notn=function t(n){return this.clone().inotn(n)},d.prototype.setn=function t(n,a){o('number'==typeof n&&0<=n);var r=0|n/26,s=n%26;return this._expand(r+1),a?this.words[r]|=1<<s:this.words[r]&=~(1<<s),this.strip()},d.prototype.iadd=function t(n){var o;if(0!==this.negative&&0===n.negative)return this.negative=0,o=this.isub(n),this.negative^=1,this._normSign();if(0===this.negative&&0!==n.negative)return n.negative=0,o=this.isub(n),n.negative=1,o._normSign();var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var s=0,d=0;d<a.length;d++)o=(0|r.words[d])+(0|a.words[d])+s,this.words[d]=67108863&o,s=o>>>26;for(;0!=s&&d<r.length;d++)o=(0|r.words[d])+s,this.words[d]=67108863&o,s=o>>>26;if(this.length=r.length,0!=s)this.words[this.length]=s,this.length++;else if(r!==this)for(;d<r.length;d++)this.words[d]=r.words[d];return this},d.prototype.add=function t(n){var a;return 0!==n.negative&&0===this.negative?(n.negative=0,a=this.sub(n),n.negative^=1,a):0===n.negative&&0!==this.negative?(this.negative=0,a=n.sub(this),this.negative=1,a):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},d.prototype.isub=function t(n){if(0!==n.negative){n.negative=0;var o=this.iadd(n);return n.negative=1,o._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var r=this.cmp(n);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var s,a;0<r?(s=this,a=n):(s=n,a=this);for(var d=0,l=0;l<a.length;l++)o=(0|s.words[l])-(0|a.words[l])+d,d=o>>26,this.words[l]=67108863&o;for(;0!=d&&l<s.length;l++)o=(0|s.words[l])+d,d=o>>26,this.words[l]=67108863&o;if(0==d&&l<s.length&&s!==this)for(;l<s.length;l++)this.words[l]=s.words[l];return this.length=_Mathmax(this.length,l),s!==this&&(this.negative=1),this.strip()},d.prototype.sub=function t(n){return this.clone().isub(n)};var S=function t(n,r,s){var d=n.words,a=r.words,l=s.words,o=0,c=0|d[0],u=8191&c,f=c>>>13,m=0|d[1],h=8191&m,g=m>>>13,b=0|d[2],y=8191&b,v=b>>>13,w=0|d[3],x=8191&w,_=w>>>13,k=0|d[4],C=8191&k,T=k>>>13,E=0|d[5],S=8191&E,A=E>>>13,I=0|d[6],N=8191&I,j=I>>>13,R=0|d[7],L=8191&R,O=R>>>13,P=0|d[8],M=8191&P,D=P>>>13,B=0|d[9],U=8191&B,q=B>>>13,F=0|a[0],z=8191&F,H=F>>>13,W=0|a[1],V=8191&W,G=W>>>13,J=0|a[2],K=8191&J,X=J>>>13,Z=0|a[3],Y=8191&Z,Q=Z>>>13,ee=0|a[4],te=8191&ee,ne=ee>>>13,ae=0|a[5],re=8191&ae,ie=ae>>>13,oe=0|a[6],se=8191&oe,de=oe>>>13,le=0|a[7],pe=8191&le,ce=le>>>13,ue=0|a[8],fe=8191&ue,he=ue>>>13,ge=0|a[9],be=8191&ge,ye=ge>>>13,ve,we,xe;s.negative=n.negative^r.negative,s.length=19,ve=_Mathimul(u,z),we=_Mathimul(u,H),we=0|we+_Mathimul(f,z),xe=_Mathimul(f,H);var _e=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(_e>>>26),_e&=67108863,ve=_Mathimul(h,z),we=_Mathimul(h,H),we=0|we+_Mathimul(g,z),xe=_Mathimul(g,H),ve=0|ve+_Mathimul(u,V),we=0|we+_Mathimul(u,G),we=0|we+_Mathimul(f,V),xe=0|xe+_Mathimul(f,G);var ke=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(ke>>>26),ke&=67108863,ve=_Mathimul(y,z),we=_Mathimul(y,H),we=0|we+_Mathimul(v,z),xe=_Mathimul(v,H),ve=0|ve+_Mathimul(h,V),we=0|we+_Mathimul(h,G),we=0|we+_Mathimul(g,V),xe=0|xe+_Mathimul(g,G),ve=0|ve+_Mathimul(u,K),we=0|we+_Mathimul(u,X),we=0|we+_Mathimul(f,K),xe=0|xe+_Mathimul(f,X);var Ce=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ce>>>26),Ce&=67108863,ve=_Mathimul(x,z),we=_Mathimul(x,H),we=0|we+_Mathimul(_,z),xe=_Mathimul(_,H),ve=0|ve+_Mathimul(y,V),we=0|we+_Mathimul(y,G),we=0|we+_Mathimul(v,V),xe=0|xe+_Mathimul(v,G),ve=0|ve+_Mathimul(h,K),we=0|we+_Mathimul(h,X),we=0|we+_Mathimul(g,K),xe=0|xe+_Mathimul(g,X),ve=0|ve+_Mathimul(u,Y),we=0|we+_Mathimul(u,Q),we=0|we+_Mathimul(f,Y),xe=0|xe+_Mathimul(f,Q);var Te=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Te>>>26),Te&=67108863,ve=_Mathimul(C,z),we=_Mathimul(C,H),we=0|we+_Mathimul(T,z),xe=_Mathimul(T,H),ve=0|ve+_Mathimul(x,V),we=0|we+_Mathimul(x,G),we=0|we+_Mathimul(_,V),xe=0|xe+_Mathimul(_,G),ve=0|ve+_Mathimul(y,K),we=0|we+_Mathimul(y,X),we=0|we+_Mathimul(v,K),xe=0|xe+_Mathimul(v,X),ve=0|ve+_Mathimul(h,Y),we=0|we+_Mathimul(h,Q),we=0|we+_Mathimul(g,Y),xe=0|xe+_Mathimul(g,Q),ve=0|ve+_Mathimul(u,te),we=0|we+_Mathimul(u,ne),we=0|we+_Mathimul(f,te),xe=0|xe+_Mathimul(f,ne);var Ee=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ee>>>26),Ee&=67108863,ve=_Mathimul(S,z),we=_Mathimul(S,H),we=0|we+_Mathimul(A,z),xe=_Mathimul(A,H),ve=0|ve+_Mathimul(C,V),we=0|we+_Mathimul(C,G),we=0|we+_Mathimul(T,V),xe=0|xe+_Mathimul(T,G),ve=0|ve+_Mathimul(x,K),we=0|we+_Mathimul(x,X),we=0|we+_Mathimul(_,K),xe=0|xe+_Mathimul(_,X),ve=0|ve+_Mathimul(y,Y),we=0|we+_Mathimul(y,Q),we=0|we+_Mathimul(v,Y),xe=0|xe+_Mathimul(v,Q),ve=0|ve+_Mathimul(h,te),we=0|we+_Mathimul(h,ne),we=0|we+_Mathimul(g,te),xe=0|xe+_Mathimul(g,ne),ve=0|ve+_Mathimul(u,re),we=0|we+_Mathimul(u,ie),we=0|we+_Mathimul(f,re),xe=0|xe+_Mathimul(f,ie);var Se=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Se>>>26),Se&=67108863,ve=_Mathimul(N,z),we=_Mathimul(N,H),we=0|we+_Mathimul(j,z),xe=_Mathimul(j,H),ve=0|ve+_Mathimul(S,V),we=0|we+_Mathimul(S,G),we=0|we+_Mathimul(A,V),xe=0|xe+_Mathimul(A,G),ve=0|ve+_Mathimul(C,K),we=0|we+_Mathimul(C,X),we=0|we+_Mathimul(T,K),xe=0|xe+_Mathimul(T,X),ve=0|ve+_Mathimul(x,Y),we=0|we+_Mathimul(x,Q),we=0|we+_Mathimul(_,Y),xe=0|xe+_Mathimul(_,Q),ve=0|ve+_Mathimul(y,te),we=0|we+_Mathimul(y,ne),we=0|we+_Mathimul(v,te),xe=0|xe+_Mathimul(v,ne),ve=0|ve+_Mathimul(h,re),we=0|we+_Mathimul(h,ie),we=0|we+_Mathimul(g,re),xe=0|xe+_Mathimul(g,ie),ve=0|ve+_Mathimul(u,se),we=0|we+_Mathimul(u,de),we=0|we+_Mathimul(f,se),xe=0|xe+_Mathimul(f,de);var Ae=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ae>>>26),Ae&=67108863,ve=_Mathimul(L,z),we=_Mathimul(L,H),we=0|we+_Mathimul(O,z),xe=_Mathimul(O,H),ve=0|ve+_Mathimul(N,V),we=0|we+_Mathimul(N,G),we=0|we+_Mathimul(j,V),xe=0|xe+_Mathimul(j,G),ve=0|ve+_Mathimul(S,K),we=0|we+_Mathimul(S,X),we=0|we+_Mathimul(A,K),xe=0|xe+_Mathimul(A,X),ve=0|ve+_Mathimul(C,Y),we=0|we+_Mathimul(C,Q),we=0|we+_Mathimul(T,Y),xe=0|xe+_Mathimul(T,Q),ve=0|ve+_Mathimul(x,te),we=0|we+_Mathimul(x,ne),we=0|we+_Mathimul(_,te),xe=0|xe+_Mathimul(_,ne),ve=0|ve+_Mathimul(y,re),we=0|we+_Mathimul(y,ie),we=0|we+_Mathimul(v,re),xe=0|xe+_Mathimul(v,ie),ve=0|ve+_Mathimul(h,se),we=0|we+_Mathimul(h,de),we=0|we+_Mathimul(g,se),xe=0|xe+_Mathimul(g,de),ve=0|ve+_Mathimul(u,pe),we=0|we+_Mathimul(u,ce),we=0|we+_Mathimul(f,pe),xe=0|xe+_Mathimul(f,ce);var Ie=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ie>>>26),Ie&=67108863,ve=_Mathimul(M,z),we=_Mathimul(M,H),we=0|we+_Mathimul(D,z),xe=_Mathimul(D,H),ve=0|ve+_Mathimul(L,V),we=0|we+_Mathimul(L,G),we=0|we+_Mathimul(O,V),xe=0|xe+_Mathimul(O,G),ve=0|ve+_Mathimul(N,K),we=0|we+_Mathimul(N,X),we=0|we+_Mathimul(j,K),xe=0|xe+_Mathimul(j,X),ve=0|ve+_Mathimul(S,Y),we=0|we+_Mathimul(S,Q),we=0|we+_Mathimul(A,Y),xe=0|xe+_Mathimul(A,Q),ve=0|ve+_Mathimul(C,te),we=0|we+_Mathimul(C,ne),we=0|we+_Mathimul(T,te),xe=0|xe+_Mathimul(T,ne),ve=0|ve+_Mathimul(x,re),we=0|we+_Mathimul(x,ie),we=0|we+_Mathimul(_,re),xe=0|xe+_Mathimul(_,ie),ve=0|ve+_Mathimul(y,se),we=0|we+_Mathimul(y,de),we=0|we+_Mathimul(v,se),xe=0|xe+_Mathimul(v,de),ve=0|ve+_Mathimul(h,pe),we=0|we+_Mathimul(h,ce),we=0|we+_Mathimul(g,pe),xe=0|xe+_Mathimul(g,ce),ve=0|ve+_Mathimul(u,fe),we=0|we+_Mathimul(u,he),we=0|we+_Mathimul(f,fe),xe=0|xe+_Mathimul(f,he);var Ne=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ne>>>26),Ne&=67108863,ve=_Mathimul(U,z),we=_Mathimul(U,H),we=0|we+_Mathimul(q,z),xe=_Mathimul(q,H),ve=0|ve+_Mathimul(M,V),we=0|we+_Mathimul(M,G),we=0|we+_Mathimul(D,V),xe=0|xe+_Mathimul(D,G),ve=0|ve+_Mathimul(L,K),we=0|we+_Mathimul(L,X),we=0|we+_Mathimul(O,K),xe=0|xe+_Mathimul(O,X),ve=0|ve+_Mathimul(N,Y),we=0|we+_Mathimul(N,Q),we=0|we+_Mathimul(j,Y),xe=0|xe+_Mathimul(j,Q),ve=0|ve+_Mathimul(S,te),we=0|we+_Mathimul(S,ne),we=0|we+_Mathimul(A,te),xe=0|xe+_Mathimul(A,ne),ve=0|ve+_Mathimul(C,re),we=0|we+_Mathimul(C,ie),we=0|we+_Mathimul(T,re),xe=0|xe+_Mathimul(T,ie),ve=0|ve+_Mathimul(x,se),we=0|we+_Mathimul(x,de),we=0|we+_Mathimul(_,se),xe=0|xe+_Mathimul(_,de),ve=0|ve+_Mathimul(y,pe),we=0|we+_Mathimul(y,ce),we=0|we+_Mathimul(v,pe),xe=0|xe+_Mathimul(v,ce),ve=0|ve+_Mathimul(h,fe),we=0|we+_Mathimul(h,he),we=0|we+_Mathimul(g,fe),xe=0|xe+_Mathimul(g,he),ve=0|ve+_Mathimul(u,be),we=0|we+_Mathimul(u,ye),we=0|we+_Mathimul(f,be),xe=0|xe+_Mathimul(f,ye);var je=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(je>>>26),je&=67108863,ve=_Mathimul(U,V),we=_Mathimul(U,G),we=0|we+_Mathimul(q,V),xe=_Mathimul(q,G),ve=0|ve+_Mathimul(M,K),we=0|we+_Mathimul(M,X),we=0|we+_Mathimul(D,K),xe=0|xe+_Mathimul(D,X),ve=0|ve+_Mathimul(L,Y),we=0|we+_Mathimul(L,Q),we=0|we+_Mathimul(O,Y),xe=0|xe+_Mathimul(O,Q),ve=0|ve+_Mathimul(N,te),we=0|we+_Mathimul(N,ne),we=0|we+_Mathimul(j,te),xe=0|xe+_Mathimul(j,ne),ve=0|ve+_Mathimul(S,re),we=0|we+_Mathimul(S,ie),we=0|we+_Mathimul(A,re),xe=0|xe+_Mathimul(A,ie),ve=0|ve+_Mathimul(C,se),we=0|we+_Mathimul(C,de),we=0|we+_Mathimul(T,se),xe=0|xe+_Mathimul(T,de),ve=0|ve+_Mathimul(x,pe),we=0|we+_Mathimul(x,ce),we=0|we+_Mathimul(_,pe),xe=0|xe+_Mathimul(_,ce),ve=0|ve+_Mathimul(y,fe),we=0|we+_Mathimul(y,he),we=0|we+_Mathimul(v,fe),xe=0|xe+_Mathimul(v,he),ve=0|ve+_Mathimul(h,be),we=0|we+_Mathimul(h,ye),we=0|we+_Mathimul(g,be),xe=0|xe+_Mathimul(g,ye);var Re=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Re>>>26),Re&=67108863,ve=_Mathimul(U,K),we=_Mathimul(U,X),we=0|we+_Mathimul(q,K),xe=_Mathimul(q,X),ve=0|ve+_Mathimul(M,Y),we=0|we+_Mathimul(M,Q),we=0|we+_Mathimul(D,Y),xe=0|xe+_Mathimul(D,Q),ve=0|ve+_Mathimul(L,te),we=0|we+_Mathimul(L,ne),we=0|we+_Mathimul(O,te),xe=0|xe+_Mathimul(O,ne),ve=0|ve+_Mathimul(N,re),we=0|we+_Mathimul(N,ie),we=0|we+_Mathimul(j,re),xe=0|xe+_Mathimul(j,ie),ve=0|ve+_Mathimul(S,se),we=0|we+_Mathimul(S,de),we=0|we+_Mathimul(A,se),xe=0|xe+_Mathimul(A,de),ve=0|ve+_Mathimul(C,pe),we=0|we+_Mathimul(C,ce),we=0|we+_Mathimul(T,pe),xe=0|xe+_Mathimul(T,ce),ve=0|ve+_Mathimul(x,fe),we=0|we+_Mathimul(x,he),we=0|we+_Mathimul(_,fe),xe=0|xe+_Mathimul(_,he),ve=0|ve+_Mathimul(y,be),we=0|we+_Mathimul(y,ye),we=0|we+_Mathimul(v,be),xe=0|xe+_Mathimul(v,ye);var Le=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Le>>>26),Le&=67108863,ve=_Mathimul(U,Y),we=_Mathimul(U,Q),we=0|we+_Mathimul(q,Y),xe=_Mathimul(q,Q),ve=0|ve+_Mathimul(M,te),we=0|we+_Mathimul(M,ne),we=0|we+_Mathimul(D,te),xe=0|xe+_Mathimul(D,ne),ve=0|ve+_Mathimul(L,re),we=0|we+_Mathimul(L,ie),we=0|we+_Mathimul(O,re),xe=0|xe+_Mathimul(O,ie),ve=0|ve+_Mathimul(N,se),we=0|we+_Mathimul(N,de),we=0|we+_Mathimul(j,se),xe=0|xe+_Mathimul(j,de),ve=0|ve+_Mathimul(S,pe),we=0|we+_Mathimul(S,ce),we=0|we+_Mathimul(A,pe),xe=0|xe+_Mathimul(A,ce),ve=0|ve+_Mathimul(C,fe),we=0|we+_Mathimul(C,he),we=0|we+_Mathimul(T,fe),xe=0|xe+_Mathimul(T,he),ve=0|ve+_Mathimul(x,be),we=0|we+_Mathimul(x,ye),we=0|we+_Mathimul(_,be),xe=0|xe+_Mathimul(_,ye);var Oe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Oe>>>26),Oe&=67108863,ve=_Mathimul(U,te),we=_Mathimul(U,ne),we=0|we+_Mathimul(q,te),xe=_Mathimul(q,ne),ve=0|ve+_Mathimul(M,re),we=0|we+_Mathimul(M,ie),we=0|we+_Mathimul(D,re),xe=0|xe+_Mathimul(D,ie),ve=0|ve+_Mathimul(L,se),we=0|we+_Mathimul(L,de),we=0|we+_Mathimul(O,se),xe=0|xe+_Mathimul(O,de),ve=0|ve+_Mathimul(N,pe),we=0|we+_Mathimul(N,ce),we=0|we+_Mathimul(j,pe),xe=0|xe+_Mathimul(j,ce),ve=0|ve+_Mathimul(S,fe),we=0|we+_Mathimul(S,he),we=0|we+_Mathimul(A,fe),xe=0|xe+_Mathimul(A,he),ve=0|ve+_Mathimul(C,be),we=0|we+_Mathimul(C,ye),we=0|we+_Mathimul(T,be),xe=0|xe+_Mathimul(T,ye);var Pe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Pe>>>26),Pe&=67108863,ve=_Mathimul(U,re),we=_Mathimul(U,ie),we=0|we+_Mathimul(q,re),xe=_Mathimul(q,ie),ve=0|ve+_Mathimul(M,se),we=0|we+_Mathimul(M,de),we=0|we+_Mathimul(D,se),xe=0|xe+_Mathimul(D,de),ve=0|ve+_Mathimul(L,pe),we=0|we+_Mathimul(L,ce),we=0|we+_Mathimul(O,pe),xe=0|xe+_Mathimul(O,ce),ve=0|ve+_Mathimul(N,fe),we=0|we+_Mathimul(N,he),we=0|we+_Mathimul(j,fe),xe=0|xe+_Mathimul(j,he),ve=0|ve+_Mathimul(S,be),we=0|we+_Mathimul(S,ye),we=0|we+_Mathimul(A,be),xe=0|xe+_Mathimul(A,ye);var Me=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Me>>>26),Me&=67108863,ve=_Mathimul(U,se),we=_Mathimul(U,de),we=0|we+_Mathimul(q,se),xe=_Mathimul(q,de),ve=0|ve+_Mathimul(M,pe),we=0|we+_Mathimul(M,ce),we=0|we+_Mathimul(D,pe),xe=0|xe+_Mathimul(D,ce),ve=0|ve+_Mathimul(L,fe),we=0|we+_Mathimul(L,he),we=0|we+_Mathimul(O,fe),xe=0|xe+_Mathimul(O,he),ve=0|ve+_Mathimul(N,be),we=0|we+_Mathimul(N,ye),we=0|we+_Mathimul(j,be),xe=0|xe+_Mathimul(j,ye);var De=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(De>>>26),De&=67108863,ve=_Mathimul(U,pe),we=_Mathimul(U,ce),we=0|we+_Mathimul(q,pe),xe=_Mathimul(q,ce),ve=0|ve+_Mathimul(M,fe),we=0|we+_Mathimul(M,he),we=0|we+_Mathimul(D,fe),xe=0|xe+_Mathimul(D,he),ve=0|ve+_Mathimul(L,be),we=0|we+_Mathimul(L,ye),we=0|we+_Mathimul(O,be),xe=0|xe+_Mathimul(O,ye);var Be=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Be>>>26),Be&=67108863,ve=_Mathimul(U,fe),we=_Mathimul(U,he),we=0|we+_Mathimul(q,fe),xe=_Mathimul(q,he),ve=0|ve+_Mathimul(M,be),we=0|we+_Mathimul(M,ye),we=0|we+_Mathimul(D,be),xe=0|xe+_Mathimul(D,ye);var Ue=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ue>>>26),Ue&=67108863,ve=_Mathimul(U,be),we=_Mathimul(U,ye),we=0|we+_Mathimul(q,be),xe=_Mathimul(q,ye);var qe=0|(0|o+ve)+((8191&we)<<13);return o=0|(0|xe+(we>>>13))+(qe>>>26),qe&=67108863,l[0]=_e,l[1]=ke,l[2]=Ce,l[3]=Te,l[4]=Ee,l[5]=Se,l[6]=Ae,l[7]=Ie,l[8]=Ne,l[9]=je,l[10]=Re,l[11]=Le,l[12]=Oe,l[13]=Pe,l[14]=Me,l[15]=De,l[16]=Be,l[17]=Ue,l[18]=qe,0!=o&&(l[19]=o,s.length++),s};_Mathimul||(S=u),d.prototype.mulTo=function t(n,a){var r=this.length+n.length,o;return o=10===this.length&&10===n.length?S(this,n,a):63>r?u(this,n,a):1024>r?f(this,n,a):m(this,n,a),o},h.prototype.makeRBT=function n(a){for(var r=Array(a),t=d.prototype._countBits(a)-1,o=0;o<a;o++)r[o]=this.revBin(o,t,a);return r},h.prototype.revBin=function t(n,a,r){if(0===n||n===r-1)return n;for(var o=0,s=0;s<a;s++)o|=(1&n)<<a-s-1,n>>=1;return o},h.prototype.permute=function t(n,a,r,o,s,d){for(var l=0;l<d;l++)o[l]=a[n[l]],s[l]=r[n[l]]},h.prototype.transform=function t(n,a,r,o,d,c){this.permute(c,n,a,r,o,d);for(var u=1;u<d;u<<=1)for(var s=u<<1,l=_Mathcos(2*_MathPI/s),f=_Mathsin(2*_MathPI/s),m=0;m<d;m+=s)for(var h=l,g=f,b=0;b<u;b++){var y=r[m+b],v=o[m+b],w=r[m+b+u],x=o[m+b+u],_=h*w-g*x;x=h*x+g*w,w=_,r[m+b]=y+w,o[m+b]=v+x,r[m+b+u]=y-w,o[m+b+u]=v-x,b!==s&&(_=l*h-f*g,g=l*g+f*h,h=_)}},h.prototype.guessLen13b=function t(a,n){var r=1|_Mathmax(n,a),o=1&r,s=0;for(r=0|r/2;r;r>>>=1)s++;return 1<<s+1+o},h.prototype.conjugate=function n(a,r,o){if(!(1>=o))for(var s=0,d;s<o/2;s++)d=a[s],a[s]=a[o-s-1],a[o-s-1]=d,d=r[s],r[s]=-r[o-s-1],r[o-s-1]=-d},h.prototype.normalize13b=function t(n,a){for(var r=0,o=0,s;o<a/2;o++)s=8192*_Mathround(n[2*o+1]/a)+_Mathround(n[2*o]/a)+r,n[o]=67108863&s,r=67108864>s?0:0|s/67108864;return n},h.prototype.convert13b=function t(n,a,r,s){for(var d=0,l=0;l<a;l++)d+=0|n[l],r[2*l]=8191&d,d>>>=13,r[2*l+1]=8191&d,d>>>=13;for(l=2*a;l<s;++l)r[l]=0;o(0==d),o(0==(-8192&d))},h.prototype.stub=function t(n){for(var a=Array(n),r=0;r<n;r++)a[r]=0;return a},h.prototype.mulp=function t(n,a,r){var o=2*this.guessLen13b(n.length,a.length),s=this.makeRBT(o),d=this.stub(o),l=Array(o),c=Array(o),u=Array(o),f=Array(o),m=Array(o),h=Array(o),g=r.words;g.length=o,this.convert13b(n.words,n.length,l,o),this.convert13b(a.words,a.length,f,o),this.transform(l,d,c,u,o,s),this.transform(f,d,m,h,o,s);for(var b=0,y;b<o;b++)y=c[b]*m[b]-u[b]*h[b],u[b]=c[b]*h[b]+u[b]*m[b],c[b]=y;return this.conjugate(c,u,o),this.transform(c,u,g,d,o,s),this.conjugate(g,d,o),this.normalize13b(g,o),r.negative=n.negative^a.negative,r.length=n.length+a.length,r.strip()},d.prototype.mul=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),this.mulTo(n,a)},d.prototype.mulf=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),m(this,n,a)},d.prototype.imul=function t(n){return this.clone().mulTo(n,this)},d.prototype.imuln=function t(n){o('number'==typeof n),o(67108864>n);for(var a=0,r=0;r<this.length;r++){var s=(0|this.words[r])*n,d=(67108863&s)+(67108863&a);a>>=26,a+=0|s/67108864,a+=d>>>26,this.words[r]=67108863&d}return 0!=a&&(this.words[r]=a,this.length++),this},d.prototype.muln=function t(n){return this.clone().imuln(n)},d.prototype.sqr=function t(){return this.mul(this)},d.prototype.isqr=function t(){return this.imul(this.clone())},d.prototype.pow=function t(n){var a=c(n);if(0===a.length)return new d(1);for(var r=this,o=0;o<a.length&&!(0!==a[o]);o++,r=r.sqr());if(++o<a.length)for(var s=r.sqr();o<a.length;o++,s=s.sqr())0!==a[o]&&(r=r.mul(s));return r},d.prototype.iushln=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=67108863>>>26-a<<26-a,d;if(0!=a){var l=0;for(d=0;d<this.length;d++){var u=this.words[d]&s,f=(0|this.words[d])-u<<a;this.words[d]=f|l,l=u>>>26-a}l&&(this.words[d]=l,this.length++)}if(0!=r){for(d=this.length-1;0<=d;d--)this.words[d+r]=this.words[d];for(d=0;d<r;d++)this.words[d]=0;this.length+=r}return this.strip()},d.prototype.ishln=function t(n){return o(0===this.negative),this.iushln(n)},d.prototype.iushrn=function t(n,a,d){o('number'==typeof n&&0<=n);var l;l=a?(a-a%26)/26:0;var c=n%26,r=_Mathmin((n-c)/26,this.length),s=67108863^67108863>>>c<<c,u=d;if(l-=r,l=_Mathmax(0,l),u){for(var f=0;f<r;f++)u.words[f]=this.words[f];u.length=r}if(0===r);else if(this.length>r)for(this.length-=r,f=0;f<this.length;f++)this.words[f]=this.words[f+r];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;0<=f&&(0!=m||f>=l);f--){var h=0|this.words[f];this.words[f]=m<<26-c|h>>>c,m=h&s}return u&&0!=m&&(u.words[u.length++]=m),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function t(n,a,r){return o(0===this.negative),this.iushrn(n,a,r)},d.prototype.shln=function t(n){return this.clone().ishln(n)},d.prototype.ushln=function t(n){return this.clone().iushln(n)},d.prototype.shrn=function t(n){return this.clone().ishrn(n)},d.prototype.ushrn=function t(n){return this.clone().iushrn(n)},d.prototype.testn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return!1;var d=this.words[r];return!!(d&s)},d.prototype.imaskn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26;if(o(0===this.negative,'imaskn works only with positive numbers'),this.length<=r)return this;if(0!=a&&r++,this.length=_Mathmin(r,this.length),0!=a){var s=67108863^67108863>>>a<<a;this.words[this.length-1]&=s}return this.strip()},d.prototype.maskn=function t(n){return this.clone().imaskn(n)},d.prototype.iaddn=function t(n){return o('number'==typeof n),o(67108864>n),0>n?this.isubn(-n):0===this.negative?this._iaddn(n):1===this.length&&(0|this.words[0])<n?(this.words[0]=n-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this)},d.prototype._iaddn=function t(n){this.words[0]+=n;for(var a=0;a<this.length&&67108864<=this.words[a];a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=_Mathmax(this.length,a+1),this},d.prototype.isubn=function t(n){if(o('number'==typeof n),o(67108864>n),0>n)return this.iaddn(-n);if(0!==this.negative)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&0>this.words[a];a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},d.prototype.addn=function t(n){return this.clone().iaddn(n)},d.prototype.subn=function t(n){return this.clone().isubn(n)},d.prototype.iabs=function t(){return this.negative=0,this},d.prototype.abs=function t(){return this.clone().iabs()},d.prototype._ishlnsubmul=function t(n,a,r){var s=n.length+r,d;this._expand(s);var l=0,c;for(d=0;d<n.length;d++){c=(0|this.words[d+r])+l;var u=(0|n.words[d])*a;c-=67108863&u,l=(c>>26)-(0|u/67108864),this.words[d+r]=67108863&c}for(;d<this.length-r;d++)c=(0|this.words[d+r])+l,l=c>>26,this.words[d+r]=67108863&c;if(0==l)return this.strip();for(o(-1==l),l=0,d=0;d<this.length;d++)c=-(0|this.words[d])+l,l=c>>26,this.words[d]=67108863&c;return this.negative=1,this.strip()},d.prototype._wordDiv=function t(n,r){var o=this.length-n.length,s=this.clone(),l=n,c=0|l.words[l.length-1],u=this._countBits(c);o=26-u,0!=o&&(l=l.ushln(o),s.iushln(o),c=0|l.words[l.length-1]);var f=s.length-l.length,m;if('mod'!==r){m=new d(null),m.length=f+1,m.words=Array(m.length);for(var h=0;h<m.length;h++)m.words[h]=0}var g=s.clone()._ishlnsubmul(l,1,f);0===g.negative&&(s=g,m&&(m.words[f]=1));for(var b=f-1,y;0<=b;b--){for(y=67108864*(0|s.words[l.length+b])+(0|s.words[l.length+b-1]),y=_Mathmin(0|y/c,67108863),s._ishlnsubmul(l,y,b);0!==s.negative;)y--,s.negative=0,s._ishlnsubmul(l,1,b),s.isZero()||(s.negative^=1);m&&(m.words[b]=y)}return m&&m.strip(),s.strip(),'div'!==r&&0!=o&&s.iushrn(o),{div:m||null,mod:s}},d.prototype.divmod=function t(n,a,r){if(o(!n.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var s,l,c;return 0!==this.negative&&0===n.negative?(c=this.neg().divmod(n,a),'mod'!==a&&(s=c.div.neg()),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.iadd(n)),{div:s,mod:l}):0===this.negative&&0!==n.negative?(c=this.divmod(n.neg(),a),'mod'!==a&&(s=c.div.neg()),{div:s,mod:c.mod}):0==(this.negative&n.negative)?n.length>this.length||0>this.cmp(n)?{div:new d(0),mod:this}:1===n.length?'div'===a?{div:this.divn(n.words[0]),mod:null}:'mod'===a?{div:null,mod:new d(this.modn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new d(this.modn(n.words[0]))}:this._wordDiv(n,a):(c=this.neg().divmod(n.neg(),a),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.isub(n)),{div:c.div,mod:l})},d.prototype.div=function t(n){return this.divmod(n,'div',!1).div},d.prototype.mod=function t(n){return this.divmod(n,'mod',!1).mod},d.prototype.umod=function t(n){return this.divmod(n,'mod',!0).mod},d.prototype.divRound=function t(n){var a=this.divmod(n);if(a.mod.isZero())return a.div;var r=0===a.div.negative?a.mod:a.mod.isub(n),o=n.ushrn(1),s=n.andln(1),d=r.cmp(o);return 0>d||1===s&&0===d?a.div:0===a.div.negative?a.div.iaddn(1):a.div.isubn(1)},d.prototype.modn=function t(n){o(67108863>=n);for(var a=67108864%n,r=0,s=this.length-1;0<=s;s--)r=(a*r+(0|this.words[s]))%n;return r},d.prototype.idivn=function t(n){o(67108863>=n);for(var a=0,r=this.length-1,s;0<=r;r--)s=(0|this.words[r])+67108864*a,this.words[r]=0|s/n,a=s%n;return this.strip()},d.prototype.divn=function t(n){return this.clone().idivn(n)},d.prototype.egcd=function t(n){o(0===n.negative),o(!n.isZero());var a=this,r=n.clone();a=0===a.negative?a.clone():a.umod(n);for(var s=new d(1),l=new d(0),c=new d(0),u=new d(1),f=0;a.isEven()&&r.isEven();)a.iushrn(1),r.iushrn(1),++f;for(var m=r.clone(),h=a.clone();!a.isZero();){for(var g=0,b=1;0==(a.words[0]&b)&&26>g;++g,b<<=1);if(0<g)for(a.iushrn(g);0<g--;)(s.isOdd()||l.isOdd())&&(s.iadd(m),l.isub(h)),s.iushrn(1),l.iushrn(1);for(var y=0,v=1;0==(r.words[0]&v)&&26>y;++y,v<<=1);if(0<y)for(r.iushrn(y);0<y--;)(c.isOdd()||u.isOdd())&&(c.iadd(m),u.isub(h)),c.iushrn(1),u.iushrn(1);0<=a.cmp(r)?(a.isub(r),s.isub(c),l.isub(u)):(r.isub(a),c.isub(s),u.isub(l))}return{a:c,b:u,gcd:r.iushln(f)}},d.prototype._invmp=function t(n){o(0===n.negative),o(!n.isZero());var r=this,a=n.clone();r=0===r.negative?r.clone():r.umod(n);for(var s=new d(1),l=new d(0),c=a.clone();0<r.cmpn(1)&&0<a.cmpn(1);){for(var u=0,f=1;0==(r.words[0]&f)&&26>u;++u,f<<=1);if(0<u)for(r.iushrn(u);0<u--;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var m=0,h=1;0==(a.words[0]&h)&&26>m;++m,h<<=1);if(0<m)for(a.iushrn(m);0<m--;)l.isOdd()&&l.iadd(c),l.iushrn(1);0<=r.cmp(a)?(r.isub(a),s.isub(l)):(a.isub(r),l.isub(s))}var g;return g=0===r.cmpn(1)?s:l,0>g.cmpn(0)&&g.iadd(n),g},d.prototype.gcd=function n(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var s=this.clone(),a=o.clone();s.negative=0,a.negative=0;for(var d=0;s.isEven()&&a.isEven();d++)s.iushrn(1),a.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;a.isEven();)a.iushrn(1);var l=s.cmp(a);if(0>l){var r=s;s=a,a=r}else if(0===l||0===a.cmpn(1))break;s.isub(a)}while(!0);return a.iushln(d)},d.prototype.invm=function t(n){return this.egcd(n).a.umod(n)},d.prototype.isEven=function t(){return 0==(1&this.words[0])},d.prototype.isOdd=function t(){return 1==(1&this.words[0])},d.prototype.andln=function t(n){return this.words[0]&n},d.prototype.bincn=function t(n){o('number'==typeof n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return this._expand(r+1),this.words[r]|=s,this;for(var d=s,l=r,c;0!=d&&l<this.length;l++)c=0|this.words[l],c+=d,d=c>>>26,c&=67108863,this.words[l]=c;return 0!=d&&(this.words[l]=d,this.length++),this},d.prototype.isZero=function t(){return 1===this.length&&0===this.words[0]},d.prototype.cmpn=function t(n){var a=0>n;if(0!==this.negative&&!a)return-1;if(0===this.negative&&a)return 1;this.strip();var r;if(1<this.length)r=1;else{a&&(n=-n),o(67108863>=n,'Number is too big');var s=0|this.words[0];r=s===n?0:s<n?-1:1}return 0===this.negative?r:0|-r},d.prototype.cmp=function t(n){if(0!==this.negative&&0===n.negative)return-1;if(0===this.negative&&0!==n.negative)return 1;var a=this.ucmp(n);return 0===this.negative?a:0|-a},d.prototype.ucmp=function t(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var r=0,o=this.length-1;0<=o;o--){var s=0|this.words[o],a=0|n.words[o];if(s!=a){s<a?r=-1:s>a&&(r=1);break}}return r},d.prototype.gtn=function t(n){return 1===this.cmpn(n)},d.prototype.gt=function t(n){return 1===this.cmp(n)},d.prototype.gten=function t(n){return 0<=this.cmpn(n)},d.prototype.gte=function t(n){return 0<=this.cmp(n)},d.prototype.ltn=function t(n){return-1===this.cmpn(n)},d.prototype.lt=function t(n){return-1===this.cmp(n)},d.prototype.lten=function t(n){return 0>=this.cmpn(n)},d.prototype.lte=function t(n){return 0>=this.cmp(n)},d.prototype.eqn=function t(n){return 0===this.cmpn(n)},d.prototype.eq=function t(n){return 0===this.cmp(n)},d.red=function t(n){return new x(n)},d.prototype.toRed=function t(n){return o(!this.red,'Already a number in reduction context'),o(0===this.negative,'red works only with positives'),n.convertTo(this)._forceRed(n)},d.prototype.fromRed=function t(){return o(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},d.prototype._forceRed=function t(n){return this.red=n,this},d.prototype.forceRed=function t(n){return o(!this.red,'Already a number in reduction context'),this._forceRed(n)},d.prototype.redAdd=function t(n){return o(this.red,'redAdd works only with red numbers'),this.red.add(this,n)},d.prototype.redIAdd=function t(n){return o(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,n)},d.prototype.redSub=function t(n){return o(this.red,'redSub works only with red numbers'),this.red.sub(this,n)},d.prototype.redISub=function t(n){return o(this.red,'redISub works only with red numbers'),this.red.isub(this,n)},d.prototype.redShl=function t(n){return o(this.red,'redShl works only with red numbers'),this.red.shl(this,n)},d.prototype.redMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.mul(this,n)},d.prototype.redIMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.imul(this,n)},d.prototype.redSqr=function t(){return o(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function t(){return o(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function t(){return o(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function t(){return o(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function t(){return o(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function t(n){return o(this.red&&!n.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,n)};var A={k256:null,p224:null,p192:null,p25519:null};g.prototype._tmp=function t(){var n=new d(null);return n.words=Array(_Mathceil(this.n/13)),n},g.prototype.ireduce=function t(n){var a=n,r;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),r=a.bitLength();while(r>this.n);var o=r<this.n?-1:a.ucmp(this.p);return 0===o?(a.words[0]=0,a.length=1):0<o?a.isub(this.p):a.strip(),a},g.prototype.split=function t(n,a){n.iushrn(this.n,0,a)},g.prototype.imulK=function t(n){return n.imul(this.k)},r(b,g),b.prototype.split=function t(n,a){for(var r=4194303,o=_Mathmin(n.length,9),s=0;s<o;s++)a.words[s]=n.words[s];if(a.length=o,9>=n.length)return n.words[0]=0,void(n.length=1);var d=n.words[9];for(a.words[a.length++]=d&r,s=10;s<n.length;s++){var l=0|n.words[s];n.words[s-10]=(l&r)<<4|d>>>22,d=l}d>>>=22,n.words[s-10]=d,n.length-=0===d&&10<n.length?10:9},b.prototype.imulK=function t(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var a=0,r=0,o;r<n.length;r++)o=0|n.words[r],a+=977*o,n.words[r]=67108863&a,a=64*o+(0|a/67108864);return 0===n.words[n.length-1]&&(n.length--,0===n.words[n.length-1]&&n.length--),n},r(y,g),r(v,g),r(w,g),w.prototype.imulK=function t(n){for(var a=0,r=0;r<n.length;r++){var o=19*(0|n.words[r])+a,s=67108863&o;o>>>=26,n.words[r]=s,a=o}return 0!=a&&(n.words[n.length++]=a),n},d._prime=function t(n){if(A[n])return A[n];var t;if('k256'===n)t=new b;else if('p224'===n)t=new y;else if('p192'===n)t=new v;else if('p25519'===n)t=new w;else throw new Error('Unknown prime '+n);return A[n]=t,t},x.prototype._verify1=function t(n){o(0===n.negative,'red works only with positives'),o(n.red,'red works only with red numbers')},x.prototype._verify2=function t(n,a){o(0==(n.negative|a.negative),'red works only with positives'),o(n.red&&n.red===a.red,'red works only with red numbers')},x.prototype.imod=function t(n){return this.prime?this.prime.ireduce(n)._forceRed(this):n.umod(this.m)._forceRed(this)},x.prototype.neg=function t(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},x.prototype.add=function t(n,a){this._verify2(n,a);var r=n.add(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function t(n,a){this._verify2(n,a);var r=n.iadd(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r},x.prototype.sub=function t(n,a){this._verify2(n,a);var r=n.sub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function t(n,a){this._verify2(n,a);var r=n.isub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r},x.prototype.shl=function t(n,a){return this._verify1(n),this.imod(n.ushln(a))},x.prototype.imul=function t(n,a){return this._verify2(n,a),this.imod(n.imul(a))},x.prototype.mul=function t(n,a){return this._verify2(n,a),this.imod(n.mul(a))},x.prototype.isqr=function t(n){return this.imul(n,n.clone())},x.prototype.sqr=function t(n){return this.mul(n,n)},x.prototype.sqrt=function n(l){if(l.isZero())return l.clone();var a=this.m.andln(3);if(o(1==a%2),3===a){var u=this.m.add(new d(1)).iushrn(2);return this.pow(l,u)}for(var f=this.m.subn(1),h=0;!f.isZero()&&0===f.andln(1);)h++,f.iushrn(1);o(!f.isZero());var s=new d(1).toRed(this),g=s.redNeg(),y=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new d(2*v*v).toRed(this);0!==this.pow(v,y).cmp(g);)v.redIAdd(g);for(var w=this.pow(v,f),c=this.pow(l,f.addn(1).iushrn(1)),r=this.pow(l,f),t=h;0!==r.cmp(s);){for(var m=r,x=0;0!==m.cmp(s);x++)m=m.redSqr();o(x<t);var _=this.pow(w,new d(1).iushln(t-x-1));c=c.redMul(_),w=_.redSqr(),r=r.redMul(w),t=x}return c},x.prototype.invm=function t(n){var a=n._invmp(this.m);return 0===a.negative?this.imod(a):(a.negative=0,this.imod(a).redNeg())},x.prototype.pow=function t(n,a){if(a.isZero())return new d(1).toRed(this);if(0===a.cmpn(1))return n.clone();var r=4,o=Array(1<<r);o[0]=new d(1).toRed(this),o[1]=n;for(var s=2;s<o.length;s++)o[s]=this.mul(o[s-1],n);var l=o[0],c=0,u=0,f=a.bitLength()%26;for(0==f&&(f=26),s=a.length-1;0<=s;s--){for(var m=a.words[s],h=f-1,g;0<=h;h--){if(g=1&m>>h,l!==o[0]&&(l=this.sqr(l)),0==g&&0==c){u=0;continue}c<<=1,c|=g,u++,u!=r&&(0!==s||0!==h)||(l=this.mul(l,o[c]),u=0,c=0)}f=26}return l},x.prototype.convertTo=function t(n){var a=n.umod(this.m);return a===n?a.clone():a},x.prototype.convertFrom=function t(n){var a=n.clone();return a.red=null,a},d.mont=function t(n){return new _(n)},r(_,x),_.prototype.convertTo=function t(n){return this.imod(n.ushln(this.shift))},_.prototype.convertFrom=function t(n){var a=this.imod(n.mul(this.rinv));return a.red=null,a},_.prototype.imul=function n(r,a){if(r.isZero()||a.isZero())return r.words[0]=0,r.length=1,r;var o=r.imul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),d=s;return 0<=s.cmp(this.m)?d=s.isub(this.m):0>s.cmpn(0)&&(d=s.iadd(this.m)),d._forceRed(this)},_.prototype.mul=function n(r,a){if(r.isZero()||a.isZero())return new d(0)._forceRed(this);var o=r.mul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),l=s;return 0<=s.cmp(this.m)?l=s.isub(this.m):0>s.cmpn(0)&&(l=s.iadd(this.m)),l._forceRed(this)},_.prototype.invm=function t(n){var a=this.imod(n._invmp(this.m).mul(this.r2));return a._forceRed(this)}})('undefined'==typeof t||t,this)}).call(n,a(10)(t))},function(t,n){},function(t,n,a){function r(t,n){this.name=t,this.body=n,this.decoders={},this.encoders={}}var o=a(55),s=a(2),d=n;d.define=function t(n,a){return new r(n,a)};;r.prototype._createNamed=function t(n){var r;try{r=a(319).runInThisContext('(function '+this.name+'(entity) {\n  this._initNamed(entity);\n})')}catch(t){r=function(t){this._initNamed(t)}}return s(r,n),r.prototype._initNamed=function t(a){n.call(this,a)},new r(this)},r.prototype._getDecoder=function t(n){return n=n||'der',this.decoders.hasOwnProperty(n)||(this.decoders[n]=this._createNamed(o.decoders[n])),this.decoders[n]},r.prototype.decode=function t(n,a,r){return this._getDecoder(a).decode(n,r)},r.prototype._getEncoder=function t(n){return n=n||'der',this.encoders.hasOwnProperty(n)||(this.encoders[n]=this._createNamed(o.encoders[n])),this.encoders[n]},r.prototype.encode=function t(n,a,r){return this._getEncoder(a).encode(n,r)}},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(320),Object_keys=function(t){if(Object.keys)return Object.keys(t);var n=[];for(var a in t)n.push(a);return n},forEach=function(t,n){if(t.forEach)return t.forEach(n);for(var a=0;a<t.length;a++)n(t[a],a,t)},defineProp=function(){try{return Object.defineProperty({},'_',{}),function(t,n,a){Object.defineProperty(t,n,{writable:!0,enumerable:!1,configurable:!0,value:a})}}catch(t){return function(t,n,a){t[n]=a}}}(),globals=['Array','Boolean','Date','Error','EvalError','Function','Infinity','JSON','Math','NaN','Number','Object','RangeError','ReferenceError','RegExp','String','SyntaxError','TypeError','URIError','decodeURI','decodeURIComponent','encodeURI','encodeURIComponent','escape','eval','isFinite','isNaN','parseFloat','parseInt','undefined','unescape'];Context.prototype={};var Script=exports.Script=function t(n){return this instanceof Script?void(this.code=n):new Script(n)};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError('needs a \'context\' argument.');var n=document.createElement('iframe');n.style||(n.style={}),n.style.display='none',document.body.appendChild(n);var a=n.contentWindow,r=a.eval,o=a.execScript;!r&&o&&(o.call(a,'null'),r=a.eval),forEach(Object_keys(t),function(n){a[n]=t[n]}),forEach(globals,function(n){t[n]&&(a[n]=t[n])});var s=Object_keys(a),d=r.call(a,this.code);return forEach(Object_keys(a),function(n){(n in t||-1===indexOf(s,n))&&(t[n]=a[n])}),forEach(globals,function(n){n in t||defineProp(t,n,a[n])}),document.body.removeChild(n),d},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var n=Script.createContext(t),a=this.runInContext(n);return forEach(Object_keys(n),function(a){t[a]=n[a]}),a},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(n){var a=Script(n);return a[t].apply(a,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var n=new Context;return'object'==typeof t&&forEach(Object_keys(t),function(a){n[a]=t[a]}),n}},function(t,n){var a=[].indexOf;t.exports=function(t,n){if(a)return t.indexOf(n);for(var r=0;r<t.length;++r)if(t[r]===n)return r;return-1}},function(t,n,a){function r(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,n){this.path=t,this.rethrow(n)}var s=a(2);n.Reporter=r,r.prototype.isError=function t(n){return n instanceof o},r.prototype.save=function t(){var n=this._reporterState;return{obj:n.obj,pathLen:n.path.length}},r.prototype.restore=function t(n){var a=this._reporterState;a.obj=n.obj,a.path=a.path.slice(0,n.pathLen)},r.prototype.enterKey=function t(n){return this._reporterState.path.push(n)},r.prototype.exitKey=function t(n){var a=this._reporterState;a.path=a.path.slice(0,n-1)},r.prototype.leaveKey=function t(n,a,r){var o=this._reporterState;this.exitKey(n),null!==o.obj&&(o.obj[a]=r)},r.prototype.path=function t(){return this._reporterState.path.join('/')},r.prototype.enterObject=function t(){var n=this._reporterState,a=n.obj;return n.obj={},a},r.prototype.leaveObject=function t(n){var a=this._reporterState,r=a.obj;return a.obj=n,r},r.prototype.error=function t(n){var a=this._reporterState,r=n instanceof o,s;if(s=r?n:new o(a.path.map(function(t){return'['+JSON.stringify(t)+']'}).join(''),n.message||n,n.stack),!a.options.partial)throw s;return r||a.errors.push(s),s},r.prototype.wrapResult=function t(n){var a=this._reporterState;return a.options.partial?{result:this.isError(n)?null:n,errors:a.errors}:n};;s(o,Error),o.prototype.rethrow=function t(n){if(this.message=n+' at: '+(this.path||'(shallow)'),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,n,a){function r(t,n){var a={};this._baseState=a,a.enc=t,a.parent=n||null,a.children=null,a.tag=null,a.args=null,a.reverseArgs=null,a.choice=null,a.optional=!1,a.any=!1,a.obj=!1,a.use=null,a.useDecoder=null,a.key=null,a['default']=null,a.explicit=null,a.implicit=null,a.contains=null,a.parent||(a.children=[],this._wrap())}var o=a(56).Reporter,s=a(56).EncoderBuffer,d=a(56).DecoderBuffer,l=a(15),c=['seq','seqof','set','setof','objid','bool','gentime','utctime','null_','enum','int','objDesc','bitstr','bmpstr','charstr','genstr','graphstr','ia5str','iso646str','numstr','octstr','printstr','t61str','unistr','utf8str','videostr'],u=['key','obj','use','optional','explicit','implicit','def','choice','any','contains'].concat(c),f=['_peekTag','_decodeTag','_use','_decodeStr','_decodeObjid','_decodeTime','_decodeNull','_decodeInt','_decodeBool','_decodeList','_encodeComposite','_encodeStr','_encodeObjid','_encodeTime','_encodeNull','_encodeInt','_encodeBool'];t.exports=r;var m=['enc','parent','children','tag','args','reverseArgs','choice','optional','any','obj','use','alteredUse','key','default','explicit','implicit','contains'];r.prototype.clone=function t(){var n=this._baseState,a={};m.forEach(function(t){a[t]=n[t]});var r=new this.constructor(a.parent);return r._baseState=a,r},r.prototype._wrap=function t(){var n=this._baseState;u.forEach(function(t){this[t]=function a(){var r=new this.constructor(this);return n.children.push(r),r[t].apply(r,arguments)}},this)},r.prototype._init=function t(n){var a=this._baseState;l(null===a.parent),n.call(this),a.children=a.children.filter(function(t){return t._baseState.parent===this},this),l.equal(a.children.length,1,'Root node can have only one child')},r.prototype._useArgs=function t(n){var a=this._baseState,r=n.filter(function(t){return t instanceof this.constructor},this);n=n.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(l(null===a.children),a.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==n.length&&(l(null===a.args),a.args=n,a.reverseArgs=n.map(function(t){if('object'!=typeof t||t.constructor!==Object)return t;var n={};return Object.keys(t).forEach(function(a){a==(0|a)&&(a|=0);var r=t[a];n[r]=a}),n}))},f.forEach(function(t){r.prototype[t]=function n(){var a=this._baseState;throw new Error(t+' not implemented for encoding: '+a.enc)}}),c.forEach(function(t){r.prototype[t]=function n(){var a=this._baseState,r=Array.prototype.slice.call(arguments);return l(null===a.tag),a.tag=t,this._useArgs(r),this}}),r.prototype.use=function t(n){l(n);var a=this._baseState;return l(null===a.use),a.use=n,this},r.prototype.optional=function t(){var n=this._baseState;return n.optional=!0,this},r.prototype.def=function t(n){var a=this._baseState;return l(null===a['default']),a['default']=n,a.optional=!0,this},r.prototype.explicit=function t(n){var a=this._baseState;return l(null===a.explicit&&null===a.implicit),a.explicit=n,this},r.prototype.implicit=function t(n){var a=this._baseState;return l(null===a.explicit&&null===a.implicit),a.implicit=n,this},r.prototype.obj=function t(){var n=this._baseState,a=Array.prototype.slice.call(arguments);return n.obj=!0,0!==a.length&&this._useArgs(a),this},r.prototype.key=function t(n){var a=this._baseState;return l(null===a.key),a.key=n,this},r.prototype.any=function t(){var n=this._baseState;return n.any=!0,this},r.prototype.choice=function t(n){var a=this._baseState;return l(null===a.choice),a.choice=n,this._useArgs(Object.keys(n).map(function(t){return n[t]})),this},r.prototype.contains=function t(n){var a=this._baseState;return l(null===a.use),a.contains=n,this},r.prototype._decode=function t(n,a){var r=this._baseState;if(null===r.parent)return n.wrapResult(r.children[0]._decode(n,a));var o=r['default'],s=!0,l=null;if(null!==r.key&&(l=n.enterKey(r.key)),r.optional){var c=null;if(null===r.explicit?null===r.implicit?null!==r.tag&&(c=r.tag):c=r.implicit:c=r.explicit,null===c&&!r.any){var u=n.save();try{null===r.choice?this._decodeGeneric(r.tag,n,a):this._decodeChoice(n,a),s=!0}catch(t){s=!1}n.restore(u)}else if(s=this._peekTag(n,c,r.any),n.isError(s))return s}var f;if(r.obj&&s&&(f=n.enterObject()),s){if(null!==r.explicit){var m=this._decodeTag(n,r.explicit);if(n.isError(m))return m;n=m}var h=n.offset;if(null===r.use&&null===r.choice){if(r.any)var u=n.save();var g=this._decodeTag(n,null===r.implicit?r.tag:r.implicit,r.any);if(n.isError(g))return g;r.any?o=n.raw(u):n=g}if(a&&a.track&&null!==r.tag&&a.track(n.path(),h,n.length,'tagged'),a&&a.track&&null!==r.tag&&a.track(n.path(),n.offset,n.length,'content'),o=r.any?o:null===r.choice?this._decodeGeneric(r.tag,n,a):this._decodeChoice(n,a),n.isError(o))return o;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function t(r){r._decode(n,a)}),r.contains&&('octstr'===r.tag||'bitstr'===r.tag)){var b=new d(o);o=this._getUse(r.contains,n._reporterState.obj)._decode(b,a)}}return r.obj&&s&&(o=n.leaveObject(f)),null!==r.key&&(null!==o||!0===s)?n.leaveKey(l,r.key,o):null!==l&&n.exitKey(l),o},r.prototype._decodeGeneric=function t(n,a,r){var o=this._baseState;if('seq'===n||'set'===n)return null;return'seqof'===n||'setof'===n?this._decodeList(a,n,o.args[0],r):/str$/.test(n)?this._decodeStr(a,n,r):'objid'===n&&o.args?this._decodeObjid(a,o.args[0],o.args[1],r):'objid'===n?this._decodeObjid(a,null,null,r):'gentime'===n||'utctime'===n?this._decodeTime(a,n,r):'null_'===n?this._decodeNull(a,r):'bool'===n?this._decodeBool(a,r):'objDesc'===n?this._decodeStr(a,n,r):'int'===n||'enum'===n?this._decodeInt(a,o.args&&o.args[0],r):null===o.use?a.error('unknown tag: '+n):this._getUse(o.use,a._reporterState.obj)._decode(a,r)},r.prototype._getUse=function t(n,a){var r=this._baseState;return r.useDecoder=this._use(n,a),l(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},r.prototype._decodeChoice=function t(n,a){var r=this._baseState,o=null,s=!1;return Object.keys(r.choice).some(function(t){var d=n.save(),l=r.choice[t];try{var c=l._decode(n,a);if(n.isError(c))return!1;o={type:t,value:c},s=!0}catch(t){return n.restore(d),!1}return!0},this),s?o:n.error('Choice not matched')},r.prototype._createEncoderBuffer=function t(n){return new s(n,this.reporter)},r.prototype._encode=function t(n,a,r){var o=this._baseState;if(null===o['default']||o['default']!==n){var s=this._encodeValue(n,a,r);return void 0===s||this._skipDefault(s,a,r)?void 0:s}},r.prototype._encodeValue=function t(n,a,r){var s=this._baseState;if(null===s.parent)return s.children[0]._encode(n,a||new o);var d=null;if(this.reporter=a,s.optional&&void 0===n)if(null!==s['default'])n=s['default'];else return;var l=null,c=!1;if(s.any)d=this._createEncoderBuffer(n);else if(s.choice)d=this._encodeChoice(n,a);else if(s.contains)l=this._getUse(s.contains,r)._encode(n,a),c=!0;else if(s.children)l=s.children.map(function(t){if('null_'===t._baseState.tag)return t._encode(null,a,n);if(null===t._baseState.key)return a.error('Child should have a key');var r=a.enterKey(t._baseState.key);if('object'!=typeof n)return a.error('Child expected, but input is not object');var o=t._encode(n[t._baseState.key],a,n);return a.leaveKey(r),o},this).filter(function(t){return t}),l=this._createEncoderBuffer(l);else if('seqof'===s.tag||'setof'===s.tag){if(!(s.args&&1===s.args.length))return a.error('Too many args for : '+s.tag);if(!Array.isArray(n))return a.error('seqof/setof, but data is not Array');var u=this.clone();u._baseState.implicit=null,l=this._createEncoderBuffer(n.map(function(t){var r=this._baseState;return this._getUse(r.args[0],n)._encode(t,a)},u))}else null===s.use?(l=this._encodePrimitive(s.tag,n),c=!0):d=this._getUse(s.use,r)._encode(n,a);var d;if(!s.any&&null===s.choice){var f=null===s.implicit?s.tag:s.implicit,m=null===s.implicit?'universal':'context';null===f?null===s.use&&a.error('Tag could be ommited only for .use()'):null===s.use&&(d=this._encodeComposite(f,c,m,l))}return null!==s.explicit&&(d=this._encodeComposite(s.explicit,!1,'context',d)),d},r.prototype._encodeChoice=function t(n,a){var r=this._baseState,o=r.choice[n.type];return o||l(!1,n.type+' not found in '+JSON.stringify(Object.keys(r.choice))),o._encode(n.value,a)},r.prototype._encodePrimitive=function t(n,a){var r=this._baseState;if(/str$/.test(n))return this._encodeStr(a,n);if('objid'===n&&r.args)return this._encodeObjid(a,r.reverseArgs[0],r.args[1]);if('objid'===n)return this._encodeObjid(a,null,null);if('gentime'===n||'utctime'===n)return this._encodeTime(a,n);if('null_'===n)return this._encodeNull();if('int'===n||'enum'===n)return this._encodeInt(a,r.args&&r.reverseArgs[0]);if('bool'===n)return this._encodeBool(a);if('objDesc'===n)return this._encodeStr(a,n);throw new Error('Unsupported tag: '+n)},r.prototype._isNumstr=function t(n){return /^[0-9 ]*$/.test(n)},r.prototype._isPrintstr=function t(n){return /^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(n)}},function(t,n,a){var r=a(171);n.tagClass={0:'universal',1:'application',2:'context',3:'private'},n.tagClassByName=r._reverse(n.tagClass),n.tag={0:'end',1:'bool',2:'int',3:'bitstr',4:'octstr',5:'null_',6:'objid',7:'objDesc',8:'external',9:'real',10:'enum',11:'embed',12:'utf8str',13:'relativeOid',16:'seq',17:'set',18:'numstr',19:'printstr',20:'t61str',21:'videostr',22:'ia5str',23:'utctime',24:'gentime',25:'graphstr',26:'iso646str',27:'genstr',28:'unistr',29:'charstr',30:'bmpstr'},n.tagByName=r._reverse(n.tag)},function(t,n,a){var r=n;r.der=a(172),r.pem=a(325)},function(t,n,a){function r(t){d.call(this,t),this.enc='pem'}var o=a(2),s=a(0).Buffer,d=a(172);;o(r,d),t.exports=r,r.prototype.decode=function t(n,a){for(var r=n.toString().split(/[\r\n]+/g),o=a.label.toUpperCase(),l=/^-----(BEGIN|END) ([^-]+)-----$/,c=-1,u=-1,f=0,m;f<r.length;f++)if(m=r[f].match(l),null!==m&&m[2]===o)if(-1==c){if('BEGIN'!==m[1])break;c=f}else{if('END'!==m[1])break;u=f;break}if(-1===c||-1===u)throw new Error('PEM section not found for: '+o);var h=r.slice(c+1,u).join('');h.replace(/[^a-z0-9\+\/=]+/gi,'');var g=new s(h,'base64');return d.prototype.decode.call(this,g,a)}},function(t,n,a){var r=n;r.der=a(173),r.pem=a(327)},function(t,n,a){function r(t){s.call(this,t),this.enc='pem'}var o=a(2),s=a(173);;o(r,s),t.exports=r,r.prototype.encode=function t(n,a){for(var r=s.prototype.encode.call(this,n),o=r.toString('base64'),d=['-----BEGIN '+a.label+'-----'],l=0;l<o.length;l+=64)d.push(o.slice(l,l+64));return d.push('-----END '+a.label+'-----'),d.join('\n')}},function(t,n,a){'use strict';var r=a(55),o=r.define('Time',function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=r.define('AttributeTypeValue',function(){this.seq().obj(this.key('type').objid(),this.key('value').any())}),d=r.define('AlgorithmIdentifier',function(){this.seq().obj(this.key('algorithm').objid(),this.key('parameters').optional())}),l=r.define('SubjectPublicKeyInfo',function(){this.seq().obj(this.key('algorithm').use(d),this.key('subjectPublicKey').bitstr())}),c=r.define('RelativeDistinguishedName',function(){this.setof(s)}),u=r.define('RDNSequence',function(){this.seqof(c)}),f=r.define('Name',function(){this.choice({rdnSequence:this.use(u)})}),m=r.define('Validity',function(){this.seq().obj(this.key('notBefore').use(o),this.key('notAfter').use(o))}),h=r.define('Extension',function(){this.seq().obj(this.key('extnID').objid(),this.key('critical').bool().def(!1),this.key('extnValue').octstr())}),g=r.define('TBSCertificate',function(){this.seq().obj(this.key('version').explicit(0).int(),this.key('serialNumber').int(),this.key('signature').use(d),this.key('issuer').use(f),this.key('validity').use(m),this.key('subject').use(f),this.key('subjectPublicKeyInfo').use(l),this.key('issuerUniqueID').implicit(1).bitstr().optional(),this.key('subjectUniqueID').implicit(2).bitstr().optional(),this.key('extensions').explicit(3).seqof(h).optional())}),b=r.define('X509Certificate',function(){this.seq().obj(this.key('tbsCertificate').use(g),this.key('signatureAlgorithm').use(d),this.key('signatureValue').bitstr())});t.exports=b},function(t,n){t.exports={"2.16.840.1.101.3.4.1.1":'aes-128-ecb',"2.16.840.1.101.3.4.1.2":'aes-128-cbc',"2.16.840.1.101.3.4.1.3":'aes-128-ofb',"2.16.840.1.101.3.4.1.4":'aes-128-cfb',"2.16.840.1.101.3.4.1.21":'aes-192-ecb',"2.16.840.1.101.3.4.1.22":'aes-192-cbc',"2.16.840.1.101.3.4.1.23":'aes-192-ofb',"2.16.840.1.101.3.4.1.24":'aes-192-cfb',"2.16.840.1.101.3.4.1.41":'aes-256-ecb',"2.16.840.1.101.3.4.1.42":'aes-256-cbc',"2.16.840.1.101.3.4.1.43":'aes-256-ofb',"2.16.840.1.101.3.4.1.44":'aes-256-cfb'}},function(t,n,a){(function(n){var r=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m,s=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m,d=a(71),l=a(104);t.exports=function(t,a){var c=t.toString(),u=c.match(r),f;if(!u){var m=c.match(s);f=new n(m[2].replace(/\r?\n/g,''),'base64')}else{var h='aes'+u[1],g=new n(u[2],'hex'),b=new n(u[3].replace(/\r?\n/g,''),'base64'),y=d(a,g.slice(0,8),parseInt(u[1],10)).key,v=[],w=l.createDecipheriv(h,y,g);v.push(w.update(b)),v.push(w.final()),f=n.concat(v)}var x=c.match(o)[1];return{tag:x,data:f}}}).call(n,a(0).Buffer)},function(t,n,a){(function(n){function r(t,a,r,d,c){var f=u(r);if('ec'===f.type){if('ecdsa'!==d&&'ecdsa/rsa'!==d)throw new Error('wrong public key type');return o(t,a,f)}if('dsa'===f.type){if('dsa'!==d)throw new Error('wrong public key type');return s(t,a,f)}if('rsa'!==d&&'ecdsa/rsa'!==d)throw new Error('wrong public key type');a=n.concat([c,a]);for(var m=f.modulus.byteLength(),h=[1],g=0;a.length+h.length+2<m;)h.push(255),g++;h.push(0);for(var b=-1;++b<a.length;)h.push(a[b]);h=new n(h);var y=l.mont(f.modulus);t=new l(t).toRed(y),t=t.redPow(new l(f.publicExponent)),t=new n(t.fromRed().toArray());var v=8>g?1:0;for(m=_Mathmin(t.length,h.length),t.length!==h.length&&(v=1),b=-1;++b<m;)v|=t[b]^h[b];return 0==v}function o(t,n,a){var r=f[a.data.algorithm.curve.join('.')];if(!r)throw new Error('unknown curve '+a.data.algorithm.curve.join('.'));var o=new c(r),s=a.data.subjectPrivateKey.data;return o.verify(n,t,s)}function s(t,n,a){var o=a.data.p,c=a.data.q,f=a.data.g,m=a.data.pub_key,h=u.signature.decode(t,'der'),g=h.s,s=h.r;d(g,c),d(s,c);var r=l.mont(o),b=g.invm(c),y=f.toRed(r).redPow(new l(n).mul(b).mod(c)).fromRed().mul(m.toRed(r).redPow(s.mul(b).mod(c)).fromRed()).mod(o).mod(c);return 0===y.cmp(s)}function d(t,n){if(0>=t.cmpn(0))throw new Error('invalid sig');if(t.cmp(n)>=n)throw new Error('invalid sig')}var l=a(169),c=a(5).ec,u=a(74),f=a(174);t.exports=r}).call(n,a(0).Buffer)},function(t,n,a){(function(n){function r(t){this.curveType=l[t],this.curveType||(this.curveType={name:t}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function o(t,a,r){Array.isArray(t)||(t=t.toArray());var o=new n(t);if(r&&o.length<r){var s=new n(r-o.length);s.fill(0),o=n.concat([s,o])}return a?o.toString(a):o}var s=a(5),d=a(333);t.exports=function t(n){return new r(n)};var l={secp256k1:{name:'secp256k1',byteLength:32},secp224r1:{name:'p224',byteLength:28},prime256v1:{name:'p256',byteLength:32},prime192v1:{name:'p192',byteLength:24},ed25519:{name:'ed25519',byteLength:32},secp384r1:{name:'p384',byteLength:48},secp521r1:{name:'p521',byteLength:66}};l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,r.prototype.generateKeys=function(t,n){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,n)},r.prototype.computeSecret=function(t,a,r){a=a||'utf8',n.isBuffer(t)||(t=new n(t,a));var s=this.curve.keyFromPublic(t).getPublic(),d=s.mul(this.keys.getPrivate()).getX();return o(d,r,this.curveType.byteLength)},r.prototype.getPublicKey=function(t,n){var a=this.keys.getPublic('compressed'===n,!0);return'hybrid'===n&&(a[a.length-1]%2?a[0]=7:a[0]=6),o(a,t)},r.prototype.getPrivateKey=function(t){return o(this.keys.getPrivate(),t)},r.prototype.setPublicKey=function(t,a){return a=a||'utf8',n.isBuffer(t)||(t=new n(t,a)),this.keys._importPublic(t),this},r.prototype.setPrivateKey=function(t,a){a=a||'utf8',n.isBuffer(t)||(t=new n(t,a));var r=new d(t);return r=r.toString(16),this.keys._importPrivate(r),this}}).call(n,a(0).Buffer)},function(t,n,a){(function(t){(function(t,n){'use strict';function o(t,n){if(!t)throw new Error(n||'Assertion failed')}function r(t,n){t.super_=n;var a=function(){};a.prototype=n.prototype,t.prototype=new a,t.prototype.constructor=t}function d(t,n,a){return d.isBN(t)?t:void(this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(('le'===n||'be'===n)&&(a=n,n=10),this._init(t||0,n||10,a||'be')))}function s(t,n,a){for(var o=0,r=_Mathmin(t.length,a),s=n,d;s<r;s++)d=t.charCodeAt(s)-48,o<<=4,o|=49<=d&&54>=d?d-49+10:17<=d&&22>=d?d-17+10:15&d;return o}function l(t,n,a,o){for(var s=0,r=_Mathmin(t.length,a),d=n,l;d<r;d++)l=t.charCodeAt(d)-48,s*=o,s+=49<=l?l-49+10:17<=l?l-17+10:l;return s}function c(t){for(var n=Array(t.bitLength()),a=0;a<n.length;a++){var r=0|a/26,o=a%26;n[a]=(t.words[r]&1<<o)>>>o}return n}function u(t,n,o){o.negative=n.negative^t.negative;var s=0|t.length+n.length;o.length=s,s=0|s-1;var d=0|t.words[0],a=0|n.words[0],l=d*a,r=67108863&l,c=0|l/67108864;o.words[0]=r;for(var u=1;u<s;u++){for(var f=c>>>26,m=67108863&c,h=_Mathmin(u,n.length-1),g=_Mathmax(0,u-t.length+1),b;g<=h;g++)b=0|u-g,d=0|t.words[b],a=0|n.words[g],l=d*a+m,f+=0|l/67108864,m=67108863&l;o.words[u]=0|m,c=0|f}return 0==c?o.length--:o.words[u]=0|c,o.strip()}function f(t,n,o){o.negative=n.negative^t.negative,o.length=t.length+n.length;for(var s=0,d=0,l=0,c;l<o.length-1;l++){c=d,d=0;for(var u=67108863&s,f=_Mathmin(l,n.length-1),m=_Mathmax(0,l-t.length+1);m<=f;m++){var h=l-m,g=0|t.words[h],a=0|n.words[m],b=g*a,r=67108863&b;c=0|c+(0|b/67108864),r=0|r+u,u=67108863&r,c=0|c+(r>>>26),d+=c>>>26,c&=67108863}o.words[l]=u,s=c,c=d}return 0==s?o.length--:o.words[l]=s,o.strip()}function m(t,n,a){var r=new h;return r.mulp(t,n,a)}function h(t,n){this.x=t,this.y=n}function g(t,n){this.name=t,this.p=new d(n,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f')}function y(){g.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001')}function v(){g.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff')}function w(){g.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed')}function x(t){if('string'==typeof t){var n=d._prime(t);this.m=n.p,this.prime=n}else o(t.gtn(1),'modulus must be greater than 1'),this.m=t,this.prime=null}function _(t){x.call(this,t),this.shift=this.m.bitLength(),0!=this.shift%26&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}'object'==typeof t?t.exports=d:n.BN=d,d.BN=d,d.wordSize=26;var k;try{k=a(334).Buffer}catch(t){}d.isBN=function t(n){return!!(n instanceof d)||null!==n&&'object'==typeof n&&n.constructor.wordSize===d.wordSize&&Array.isArray(n.words)},d.max=function t(n,a){return 0<n.cmp(a)?n:a},d.min=function t(n,a){return 0>n.cmp(a)?n:a},d.prototype._init=function t(n,a,r){if('number'==typeof n)return this._initNumber(n,a,r);if('object'==typeof n)return this._initArray(n,a,r);'hex'===a&&(a=16),o(a===(0|a)&&2<=a&&36>=a),n=n.toString().replace(/\s+/g,'');var s=0;'-'===n[0]&&s++,16===a?this._parseHex(n,s):this._parseBase(n,a,s),'-'===n[0]&&(this.negative=1),this.strip();'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initNumber=function t(n,a,r){0>n&&(this.negative=1,n=-n),67108864>n?(this.words=[67108863&n],this.length=1):4503599627370496>n?(this.words=[67108863&n,67108863&n/67108864],this.length=2):(o(9007199254740992>n),this.words=[67108863&n,67108863&n/67108864,1],this.length=3);'le'!==r||this._initArray(this.toArray(),a,r)},d.prototype._initArray=function t(n,a,r){if(o('number'==typeof n.length),0>=n.length)return this.words=[0],this.length=1,this;this.length=_Mathceil(n.length/3),this.words=Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var d=0,l,c;if('be'===r)for(s=n.length-1,l=0;0<=s;s-=3)c=n[s]|n[s-1]<<8|n[s-2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);else if('le'===r)for(s=0,l=0;s<n.length;s+=3)c=n[s]|n[s+1]<<8|n[s+2]<<16,this.words[l]|=67108863&c<<d,this.words[l+1]=67108863&c>>>26-d,d+=24,26<=d&&(d-=26,l++);return this.strip()},d.prototype._parseHex=function t(n,a){this.length=_Mathceil((n.length-a)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o=0,d,l;for(r=n.length-6,d=0;r>=a;r-=6)l=s(n,r,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o,o+=24,26<=o&&(o-=26,d++);r+6!==a&&(l=s(n,a,r+6),this.words[d]|=67108863&l<<o,this.words[d+1]|=4194303&l>>>26-o),this.strip()},d.prototype._parseBase=function t(n,a,r){this.words=[0],this.length=1;for(var o=0,s=1;67108863>=s;s*=a)o++;o--,s=0|s/a;for(var d=n.length-r,c=d%o,u=_Mathmin(d,d-c)+r,f=0,m=r;m<u;m+=o)f=l(n,m,m+o,a),this.imuln(s),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f);if(0!=c){var h=1;for(f=l(n,m,n.length,a),m=0;m<c;m++)h*=a;this.imuln(h),67108864>this.words[0]+f?this.words[0]+=f:this._iaddn(f)}},d.prototype.copy=function t(n){n.words=Array(this.length);for(var a=0;a<this.length;a++)n.words[a]=this.words[a];n.length=this.length,n.negative=this.negative,n.red=this.red},d.prototype.clone=function t(){var n=new d(null);return this.copy(n),n},d.prototype._expand=function t(n){for(;this.length<n;)this.words[this.length++]=0;return this},d.prototype.strip=function t(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},d.prototype._normSign=function t(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},d.prototype.inspect=function t(){return(this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>'};var C=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,10000000,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function t(n,a){n=n||10,a=0|a||1;var s;if(16===n||'hex'===n){s='';for(var d=0,l=0,u=0;u<this.length;u++){var f=this.words[u],m=(16777215&(f<<d|l)).toString(16);l=16777215&f>>>24-d,s=0!=l||u!==this.length-1?C[6-m.length]+m+s:m+s,d+=2,26<=d&&(d-=26,u--)}for(0!=l&&(s=l.toString(16)+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}if(n===(0|n)&&2<=n&&36>=n){var h=T[n],g=E[n];s='';var b=this.clone();for(b.negative=0;!b.isZero();){var c=b.modn(g).toString(n);b=b.idivn(g),s=b.isZero()?c+s:C[h-c.length]+c+s}for(this.isZero()&&(s='0'+s);0!=s.length%a;)s='0'+s;return 0!==this.negative&&(s='-'+s),s}o(!1,'Base should be between 2 and 36')},d.prototype.toNumber=function t(){var n=this.words[0];return 2===this.length?n+=67108864*this.words[1]:3===this.length&&1===this.words[2]?n+=4503599627370496+67108864*this.words[1]:2<this.length&&o(!1,'Number can only safely store up to 53 bits'),0===this.negative?n:-n},d.prototype.toJSON=function t(){return this.toString(16)},d.prototype.toBuffer=function t(n,a){return o('undefined'!=typeof k),this.toArrayLike(k,n,a)},d.prototype.toArray=function t(n,a){return this.toArrayLike(Array,n,a)},d.prototype.toArrayLike=function t(n,a,r){var s=this.byteLength(),d=r||_Mathmax(1,s);o(s<=d,'byte array longer than desired length'),o(0<d,'Requested array length <= 0'),this.strip();var l='le'===a,c=new n(d),u=this.clone(),f,m;if(!l){for(m=0;m<d-s;m++)c[m]=0;for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[d-m-1]=f}else{for(m=0;!u.isZero();m++)f=u.andln(255),u.iushrn(8),c[m]=f;for(;m<d;m++)c[m]=0}return c},d.prototype._countBits=_Mathclz?function t(n){return 32-_Mathclz(n)}:function n(a){var o=a,t=0;return 4096<=o&&(t+=13,o>>>=13),64<=o&&(t+=7,o>>>=7),8<=o&&(t+=4,o>>>=4),2<=o&&(t+=2,o>>>=2),t+o},d.prototype._zeroBits=function n(a){if(0===a)return 26;var o=a,t=0;return 0==(8191&o)&&(t+=13,o>>>=13),0==(127&o)&&(t+=7,o>>>=7),0==(15&o)&&(t+=4,o>>>=4),0==(3&o)&&(t+=2,o>>>=2),0==(1&o)&&t++,t},d.prototype.bitLength=function t(){var n=this.words[this.length-1],a=this._countBits(n);return 26*(this.length-1)+a},d.prototype.zeroBits=function t(){if(this.isZero())return 0;for(var n=0,a=0,r;a<this.length&&(r=this._zeroBits(this.words[a]),n+=r,26===r);a++);return n},d.prototype.byteLength=function t(){return _Mathceil(this.bitLength()/8)},d.prototype.toTwos=function t(n){return 0===this.negative?this.clone():this.abs().inotn(n).iaddn(1)},d.prototype.fromTwos=function t(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function t(){return 0!==this.negative},d.prototype.neg=function t(){return this.clone().ineg()},d.prototype.ineg=function t(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function t(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var a=0;a<n.length;a++)this.words[a]|=n.words[a];return this.strip()},d.prototype.ior=function t(n){return o(0==(this.negative|n.negative)),this.iuor(n)},d.prototype.or=function t(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},d.prototype.uor=function t(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},d.prototype.iuand=function t(n){var a;a=this.length>n.length?n:this;for(var r=0;r<a.length;r++)this.words[r]&=n.words[r];return this.length=a.length,this.strip()},d.prototype.iand=function t(n){return o(0==(this.negative|n.negative)),this.iuand(n)},d.prototype.and=function t(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},d.prototype.uand=function t(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},d.prototype.iuxor=function t(n){var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var o=0;o<a.length;o++)this.words[o]=r.words[o]^a.words[o];if(this!==r)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=r.length,this.strip()},d.prototype.ixor=function t(n){return o(0==(this.negative|n.negative)),this.iuxor(n)},d.prototype.xor=function t(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},d.prototype.uxor=function t(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},d.prototype.inotn=function t(n){o('number'==typeof n&&0<=n);var a=0|_Mathceil(n/26),r=n%26;this._expand(a),0<r&&a--;for(var s=0;s<a;s++)this.words[s]=67108863&~this.words[s];return 0<r&&(this.words[s]=~this.words[s]&67108863>>26-r),this.strip()},d.prototype.notn=function t(n){return this.clone().inotn(n)},d.prototype.setn=function t(n,a){o('number'==typeof n&&0<=n);var r=0|n/26,s=n%26;return this._expand(r+1),a?this.words[r]|=1<<s:this.words[r]&=~(1<<s),this.strip()},d.prototype.iadd=function t(n){var o;if(0!==this.negative&&0===n.negative)return this.negative=0,o=this.isub(n),this.negative^=1,this._normSign();if(0===this.negative&&0!==n.negative)return n.negative=0,o=this.isub(n),n.negative=1,o._normSign();var r,a;this.length>n.length?(r=this,a=n):(r=n,a=this);for(var s=0,d=0;d<a.length;d++)o=(0|r.words[d])+(0|a.words[d])+s,this.words[d]=67108863&o,s=o>>>26;for(;0!=s&&d<r.length;d++)o=(0|r.words[d])+s,this.words[d]=67108863&o,s=o>>>26;if(this.length=r.length,0!=s)this.words[this.length]=s,this.length++;else if(r!==this)for(;d<r.length;d++)this.words[d]=r.words[d];return this},d.prototype.add=function t(n){var a;return 0!==n.negative&&0===this.negative?(n.negative=0,a=this.sub(n),n.negative^=1,a):0===n.negative&&0!==this.negative?(this.negative=0,a=n.sub(this),this.negative=1,a):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},d.prototype.isub=function t(n){if(0!==n.negative){n.negative=0;var o=this.iadd(n);return n.negative=1,o._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var r=this.cmp(n);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var s,a;0<r?(s=this,a=n):(s=n,a=this);for(var d=0,l=0;l<a.length;l++)o=(0|s.words[l])-(0|a.words[l])+d,d=o>>26,this.words[l]=67108863&o;for(;0!=d&&l<s.length;l++)o=(0|s.words[l])+d,d=o>>26,this.words[l]=67108863&o;if(0==d&&l<s.length&&s!==this)for(;l<s.length;l++)this.words[l]=s.words[l];return this.length=_Mathmax(this.length,l),s!==this&&(this.negative=1),this.strip()},d.prototype.sub=function t(n){return this.clone().isub(n)};var S=function t(n,r,s){var d=n.words,a=r.words,l=s.words,o=0,c=0|d[0],u=8191&c,f=c>>>13,m=0|d[1],h=8191&m,g=m>>>13,b=0|d[2],y=8191&b,v=b>>>13,w=0|d[3],x=8191&w,_=w>>>13,k=0|d[4],C=8191&k,T=k>>>13,E=0|d[5],S=8191&E,A=E>>>13,I=0|d[6],N=8191&I,j=I>>>13,R=0|d[7],L=8191&R,O=R>>>13,P=0|d[8],M=8191&P,D=P>>>13,B=0|d[9],U=8191&B,q=B>>>13,F=0|a[0],z=8191&F,H=F>>>13,W=0|a[1],V=8191&W,G=W>>>13,J=0|a[2],K=8191&J,X=J>>>13,Z=0|a[3],Y=8191&Z,Q=Z>>>13,ee=0|a[4],te=8191&ee,ne=ee>>>13,ae=0|a[5],re=8191&ae,ie=ae>>>13,oe=0|a[6],se=8191&oe,de=oe>>>13,le=0|a[7],pe=8191&le,ce=le>>>13,ue=0|a[8],fe=8191&ue,he=ue>>>13,ge=0|a[9],be=8191&ge,ye=ge>>>13,ve,we,xe;s.negative=n.negative^r.negative,s.length=19,ve=_Mathimul(u,z),we=_Mathimul(u,H),we=0|we+_Mathimul(f,z),xe=_Mathimul(f,H);var _e=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(_e>>>26),_e&=67108863,ve=_Mathimul(h,z),we=_Mathimul(h,H),we=0|we+_Mathimul(g,z),xe=_Mathimul(g,H),ve=0|ve+_Mathimul(u,V),we=0|we+_Mathimul(u,G),we=0|we+_Mathimul(f,V),xe=0|xe+_Mathimul(f,G);var ke=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(ke>>>26),ke&=67108863,ve=_Mathimul(y,z),we=_Mathimul(y,H),we=0|we+_Mathimul(v,z),xe=_Mathimul(v,H),ve=0|ve+_Mathimul(h,V),we=0|we+_Mathimul(h,G),we=0|we+_Mathimul(g,V),xe=0|xe+_Mathimul(g,G),ve=0|ve+_Mathimul(u,K),we=0|we+_Mathimul(u,X),we=0|we+_Mathimul(f,K),xe=0|xe+_Mathimul(f,X);var Ce=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ce>>>26),Ce&=67108863,ve=_Mathimul(x,z),we=_Mathimul(x,H),we=0|we+_Mathimul(_,z),xe=_Mathimul(_,H),ve=0|ve+_Mathimul(y,V),we=0|we+_Mathimul(y,G),we=0|we+_Mathimul(v,V),xe=0|xe+_Mathimul(v,G),ve=0|ve+_Mathimul(h,K),we=0|we+_Mathimul(h,X),we=0|we+_Mathimul(g,K),xe=0|xe+_Mathimul(g,X),ve=0|ve+_Mathimul(u,Y),we=0|we+_Mathimul(u,Q),we=0|we+_Mathimul(f,Y),xe=0|xe+_Mathimul(f,Q);var Te=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Te>>>26),Te&=67108863,ve=_Mathimul(C,z),we=_Mathimul(C,H),we=0|we+_Mathimul(T,z),xe=_Mathimul(T,H),ve=0|ve+_Mathimul(x,V),we=0|we+_Mathimul(x,G),we=0|we+_Mathimul(_,V),xe=0|xe+_Mathimul(_,G),ve=0|ve+_Mathimul(y,K),we=0|we+_Mathimul(y,X),we=0|we+_Mathimul(v,K),xe=0|xe+_Mathimul(v,X),ve=0|ve+_Mathimul(h,Y),we=0|we+_Mathimul(h,Q),we=0|we+_Mathimul(g,Y),xe=0|xe+_Mathimul(g,Q),ve=0|ve+_Mathimul(u,te),we=0|we+_Mathimul(u,ne),we=0|we+_Mathimul(f,te),xe=0|xe+_Mathimul(f,ne);var Ee=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ee>>>26),Ee&=67108863,ve=_Mathimul(S,z),we=_Mathimul(S,H),we=0|we+_Mathimul(A,z),xe=_Mathimul(A,H),ve=0|ve+_Mathimul(C,V),we=0|we+_Mathimul(C,G),we=0|we+_Mathimul(T,V),xe=0|xe+_Mathimul(T,G),ve=0|ve+_Mathimul(x,K),we=0|we+_Mathimul(x,X),we=0|we+_Mathimul(_,K),xe=0|xe+_Mathimul(_,X),ve=0|ve+_Mathimul(y,Y),we=0|we+_Mathimul(y,Q),we=0|we+_Mathimul(v,Y),xe=0|xe+_Mathimul(v,Q),ve=0|ve+_Mathimul(h,te),we=0|we+_Mathimul(h,ne),we=0|we+_Mathimul(g,te),xe=0|xe+_Mathimul(g,ne),ve=0|ve+_Mathimul(u,re),we=0|we+_Mathimul(u,ie),we=0|we+_Mathimul(f,re),xe=0|xe+_Mathimul(f,ie);var Se=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Se>>>26),Se&=67108863,ve=_Mathimul(N,z),we=_Mathimul(N,H),we=0|we+_Mathimul(j,z),xe=_Mathimul(j,H),ve=0|ve+_Mathimul(S,V),we=0|we+_Mathimul(S,G),we=0|we+_Mathimul(A,V),xe=0|xe+_Mathimul(A,G),ve=0|ve+_Mathimul(C,K),we=0|we+_Mathimul(C,X),we=0|we+_Mathimul(T,K),xe=0|xe+_Mathimul(T,X),ve=0|ve+_Mathimul(x,Y),we=0|we+_Mathimul(x,Q),we=0|we+_Mathimul(_,Y),xe=0|xe+_Mathimul(_,Q),ve=0|ve+_Mathimul(y,te),we=0|we+_Mathimul(y,ne),we=0|we+_Mathimul(v,te),xe=0|xe+_Mathimul(v,ne),ve=0|ve+_Mathimul(h,re),we=0|we+_Mathimul(h,ie),we=0|we+_Mathimul(g,re),xe=0|xe+_Mathimul(g,ie),ve=0|ve+_Mathimul(u,se),we=0|we+_Mathimul(u,de),we=0|we+_Mathimul(f,se),xe=0|xe+_Mathimul(f,de);var Ae=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ae>>>26),Ae&=67108863,ve=_Mathimul(L,z),we=_Mathimul(L,H),we=0|we+_Mathimul(O,z),xe=_Mathimul(O,H),ve=0|ve+_Mathimul(N,V),we=0|we+_Mathimul(N,G),we=0|we+_Mathimul(j,V),xe=0|xe+_Mathimul(j,G),ve=0|ve+_Mathimul(S,K),we=0|we+_Mathimul(S,X),we=0|we+_Mathimul(A,K),xe=0|xe+_Mathimul(A,X),ve=0|ve+_Mathimul(C,Y),we=0|we+_Mathimul(C,Q),we=0|we+_Mathimul(T,Y),xe=0|xe+_Mathimul(T,Q),ve=0|ve+_Mathimul(x,te),we=0|we+_Mathimul(x,ne),we=0|we+_Mathimul(_,te),xe=0|xe+_Mathimul(_,ne),ve=0|ve+_Mathimul(y,re),we=0|we+_Mathimul(y,ie),we=0|we+_Mathimul(v,re),xe=0|xe+_Mathimul(v,ie),ve=0|ve+_Mathimul(h,se),we=0|we+_Mathimul(h,de),we=0|we+_Mathimul(g,se),xe=0|xe+_Mathimul(g,de),ve=0|ve+_Mathimul(u,pe),we=0|we+_Mathimul(u,ce),we=0|we+_Mathimul(f,pe),xe=0|xe+_Mathimul(f,ce);var Ie=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ie>>>26),Ie&=67108863,ve=_Mathimul(M,z),we=_Mathimul(M,H),we=0|we+_Mathimul(D,z),xe=_Mathimul(D,H),ve=0|ve+_Mathimul(L,V),we=0|we+_Mathimul(L,G),we=0|we+_Mathimul(O,V),xe=0|xe+_Mathimul(O,G),ve=0|ve+_Mathimul(N,K),we=0|we+_Mathimul(N,X),we=0|we+_Mathimul(j,K),xe=0|xe+_Mathimul(j,X),ve=0|ve+_Mathimul(S,Y),we=0|we+_Mathimul(S,Q),we=0|we+_Mathimul(A,Y),xe=0|xe+_Mathimul(A,Q),ve=0|ve+_Mathimul(C,te),we=0|we+_Mathimul(C,ne),we=0|we+_Mathimul(T,te),xe=0|xe+_Mathimul(T,ne),ve=0|ve+_Mathimul(x,re),we=0|we+_Mathimul(x,ie),we=0|we+_Mathimul(_,re),xe=0|xe+_Mathimul(_,ie),ve=0|ve+_Mathimul(y,se),we=0|we+_Mathimul(y,de),we=0|we+_Mathimul(v,se),xe=0|xe+_Mathimul(v,de),ve=0|ve+_Mathimul(h,pe),we=0|we+_Mathimul(h,ce),we=0|we+_Mathimul(g,pe),xe=0|xe+_Mathimul(g,ce),ve=0|ve+_Mathimul(u,fe),we=0|we+_Mathimul(u,he),we=0|we+_Mathimul(f,fe),xe=0|xe+_Mathimul(f,he);var Ne=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ne>>>26),Ne&=67108863,ve=_Mathimul(U,z),we=_Mathimul(U,H),we=0|we+_Mathimul(q,z),xe=_Mathimul(q,H),ve=0|ve+_Mathimul(M,V),we=0|we+_Mathimul(M,G),we=0|we+_Mathimul(D,V),xe=0|xe+_Mathimul(D,G),ve=0|ve+_Mathimul(L,K),we=0|we+_Mathimul(L,X),we=0|we+_Mathimul(O,K),xe=0|xe+_Mathimul(O,X),ve=0|ve+_Mathimul(N,Y),we=0|we+_Mathimul(N,Q),we=0|we+_Mathimul(j,Y),xe=0|xe+_Mathimul(j,Q),ve=0|ve+_Mathimul(S,te),we=0|we+_Mathimul(S,ne),we=0|we+_Mathimul(A,te),xe=0|xe+_Mathimul(A,ne),ve=0|ve+_Mathimul(C,re),we=0|we+_Mathimul(C,ie),we=0|we+_Mathimul(T,re),xe=0|xe+_Mathimul(T,ie),ve=0|ve+_Mathimul(x,se),we=0|we+_Mathimul(x,de),we=0|we+_Mathimul(_,se),xe=0|xe+_Mathimul(_,de),ve=0|ve+_Mathimul(y,pe),we=0|we+_Mathimul(y,ce),we=0|we+_Mathimul(v,pe),xe=0|xe+_Mathimul(v,ce),ve=0|ve+_Mathimul(h,fe),we=0|we+_Mathimul(h,he),we=0|we+_Mathimul(g,fe),xe=0|xe+_Mathimul(g,he),ve=0|ve+_Mathimul(u,be),we=0|we+_Mathimul(u,ye),we=0|we+_Mathimul(f,be),xe=0|xe+_Mathimul(f,ye);var je=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(je>>>26),je&=67108863,ve=_Mathimul(U,V),we=_Mathimul(U,G),we=0|we+_Mathimul(q,V),xe=_Mathimul(q,G),ve=0|ve+_Mathimul(M,K),we=0|we+_Mathimul(M,X),we=0|we+_Mathimul(D,K),xe=0|xe+_Mathimul(D,X),ve=0|ve+_Mathimul(L,Y),we=0|we+_Mathimul(L,Q),we=0|we+_Mathimul(O,Y),xe=0|xe+_Mathimul(O,Q),ve=0|ve+_Mathimul(N,te),we=0|we+_Mathimul(N,ne),we=0|we+_Mathimul(j,te),xe=0|xe+_Mathimul(j,ne),ve=0|ve+_Mathimul(S,re),we=0|we+_Mathimul(S,ie),we=0|we+_Mathimul(A,re),xe=0|xe+_Mathimul(A,ie),ve=0|ve+_Mathimul(C,se),we=0|we+_Mathimul(C,de),we=0|we+_Mathimul(T,se),xe=0|xe+_Mathimul(T,de),ve=0|ve+_Mathimul(x,pe),we=0|we+_Mathimul(x,ce),we=0|we+_Mathimul(_,pe),xe=0|xe+_Mathimul(_,ce),ve=0|ve+_Mathimul(y,fe),we=0|we+_Mathimul(y,he),we=0|we+_Mathimul(v,fe),xe=0|xe+_Mathimul(v,he),ve=0|ve+_Mathimul(h,be),we=0|we+_Mathimul(h,ye),we=0|we+_Mathimul(g,be),xe=0|xe+_Mathimul(g,ye);var Re=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Re>>>26),Re&=67108863,ve=_Mathimul(U,K),we=_Mathimul(U,X),we=0|we+_Mathimul(q,K),xe=_Mathimul(q,X),ve=0|ve+_Mathimul(M,Y),we=0|we+_Mathimul(M,Q),we=0|we+_Mathimul(D,Y),xe=0|xe+_Mathimul(D,Q),ve=0|ve+_Mathimul(L,te),we=0|we+_Mathimul(L,ne),we=0|we+_Mathimul(O,te),xe=0|xe+_Mathimul(O,ne),ve=0|ve+_Mathimul(N,re),we=0|we+_Mathimul(N,ie),we=0|we+_Mathimul(j,re),xe=0|xe+_Mathimul(j,ie),ve=0|ve+_Mathimul(S,se),we=0|we+_Mathimul(S,de),we=0|we+_Mathimul(A,se),xe=0|xe+_Mathimul(A,de),ve=0|ve+_Mathimul(C,pe),we=0|we+_Mathimul(C,ce),we=0|we+_Mathimul(T,pe),xe=0|xe+_Mathimul(T,ce),ve=0|ve+_Mathimul(x,fe),we=0|we+_Mathimul(x,he),we=0|we+_Mathimul(_,fe),xe=0|xe+_Mathimul(_,he),ve=0|ve+_Mathimul(y,be),we=0|we+_Mathimul(y,ye),we=0|we+_Mathimul(v,be),xe=0|xe+_Mathimul(v,ye);var Le=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Le>>>26),Le&=67108863,ve=_Mathimul(U,Y),we=_Mathimul(U,Q),we=0|we+_Mathimul(q,Y),xe=_Mathimul(q,Q),ve=0|ve+_Mathimul(M,te),we=0|we+_Mathimul(M,ne),we=0|we+_Mathimul(D,te),xe=0|xe+_Mathimul(D,ne),ve=0|ve+_Mathimul(L,re),we=0|we+_Mathimul(L,ie),we=0|we+_Mathimul(O,re),xe=0|xe+_Mathimul(O,ie),ve=0|ve+_Mathimul(N,se),we=0|we+_Mathimul(N,de),we=0|we+_Mathimul(j,se),xe=0|xe+_Mathimul(j,de),ve=0|ve+_Mathimul(S,pe),we=0|we+_Mathimul(S,ce),we=0|we+_Mathimul(A,pe),xe=0|xe+_Mathimul(A,ce),ve=0|ve+_Mathimul(C,fe),we=0|we+_Mathimul(C,he),we=0|we+_Mathimul(T,fe),xe=0|xe+_Mathimul(T,he),ve=0|ve+_Mathimul(x,be),we=0|we+_Mathimul(x,ye),we=0|we+_Mathimul(_,be),xe=0|xe+_Mathimul(_,ye);var Oe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Oe>>>26),Oe&=67108863,ve=_Mathimul(U,te),we=_Mathimul(U,ne),we=0|we+_Mathimul(q,te),xe=_Mathimul(q,ne),ve=0|ve+_Mathimul(M,re),we=0|we+_Mathimul(M,ie),we=0|we+_Mathimul(D,re),xe=0|xe+_Mathimul(D,ie),ve=0|ve+_Mathimul(L,se),we=0|we+_Mathimul(L,de),we=0|we+_Mathimul(O,se),xe=0|xe+_Mathimul(O,de),ve=0|ve+_Mathimul(N,pe),we=0|we+_Mathimul(N,ce),we=0|we+_Mathimul(j,pe),xe=0|xe+_Mathimul(j,ce),ve=0|ve+_Mathimul(S,fe),we=0|we+_Mathimul(S,he),we=0|we+_Mathimul(A,fe),xe=0|xe+_Mathimul(A,he),ve=0|ve+_Mathimul(C,be),we=0|we+_Mathimul(C,ye),we=0|we+_Mathimul(T,be),xe=0|xe+_Mathimul(T,ye);var Pe=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Pe>>>26),Pe&=67108863,ve=_Mathimul(U,re),we=_Mathimul(U,ie),we=0|we+_Mathimul(q,re),xe=_Mathimul(q,ie),ve=0|ve+_Mathimul(M,se),we=0|we+_Mathimul(M,de),we=0|we+_Mathimul(D,se),xe=0|xe+_Mathimul(D,de),ve=0|ve+_Mathimul(L,pe),we=0|we+_Mathimul(L,ce),we=0|we+_Mathimul(O,pe),xe=0|xe+_Mathimul(O,ce),ve=0|ve+_Mathimul(N,fe),we=0|we+_Mathimul(N,he),we=0|we+_Mathimul(j,fe),xe=0|xe+_Mathimul(j,he),ve=0|ve+_Mathimul(S,be),we=0|we+_Mathimul(S,ye),we=0|we+_Mathimul(A,be),xe=0|xe+_Mathimul(A,ye);var Me=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Me>>>26),Me&=67108863,ve=_Mathimul(U,se),we=_Mathimul(U,de),we=0|we+_Mathimul(q,se),xe=_Mathimul(q,de),ve=0|ve+_Mathimul(M,pe),we=0|we+_Mathimul(M,ce),we=0|we+_Mathimul(D,pe),xe=0|xe+_Mathimul(D,ce),ve=0|ve+_Mathimul(L,fe),we=0|we+_Mathimul(L,he),we=0|we+_Mathimul(O,fe),xe=0|xe+_Mathimul(O,he),ve=0|ve+_Mathimul(N,be),we=0|we+_Mathimul(N,ye),we=0|we+_Mathimul(j,be),xe=0|xe+_Mathimul(j,ye);var De=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(De>>>26),De&=67108863,ve=_Mathimul(U,pe),we=_Mathimul(U,ce),we=0|we+_Mathimul(q,pe),xe=_Mathimul(q,ce),ve=0|ve+_Mathimul(M,fe),we=0|we+_Mathimul(M,he),we=0|we+_Mathimul(D,fe),xe=0|xe+_Mathimul(D,he),ve=0|ve+_Mathimul(L,be),we=0|we+_Mathimul(L,ye),we=0|we+_Mathimul(O,be),xe=0|xe+_Mathimul(O,ye);var Be=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Be>>>26),Be&=67108863,ve=_Mathimul(U,fe),we=_Mathimul(U,he),we=0|we+_Mathimul(q,fe),xe=_Mathimul(q,he),ve=0|ve+_Mathimul(M,be),we=0|we+_Mathimul(M,ye),we=0|we+_Mathimul(D,be),xe=0|xe+_Mathimul(D,ye);var Ue=0|(0|o+ve)+((8191&we)<<13);o=0|(0|xe+(we>>>13))+(Ue>>>26),Ue&=67108863,ve=_Mathimul(U,be),we=_Mathimul(U,ye),we=0|we+_Mathimul(q,be),xe=_Mathimul(q,ye);var qe=0|(0|o+ve)+((8191&we)<<13);return o=0|(0|xe+(we>>>13))+(qe>>>26),qe&=67108863,l[0]=_e,l[1]=ke,l[2]=Ce,l[3]=Te,l[4]=Ee,l[5]=Se,l[6]=Ae,l[7]=Ie,l[8]=Ne,l[9]=je,l[10]=Re,l[11]=Le,l[12]=Oe,l[13]=Pe,l[14]=Me,l[15]=De,l[16]=Be,l[17]=Ue,l[18]=qe,0!=o&&(l[19]=o,s.length++),s};_Mathimul||(S=u),d.prototype.mulTo=function t(n,a){var r=this.length+n.length,o;return o=10===this.length&&10===n.length?S(this,n,a):63>r?u(this,n,a):1024>r?f(this,n,a):m(this,n,a),o},h.prototype.makeRBT=function n(a){for(var r=Array(a),t=d.prototype._countBits(a)-1,o=0;o<a;o++)r[o]=this.revBin(o,t,a);return r},h.prototype.revBin=function t(n,a,r){if(0===n||n===r-1)return n;for(var o=0,s=0;s<a;s++)o|=(1&n)<<a-s-1,n>>=1;return o},h.prototype.permute=function t(n,a,r,o,s,d){for(var l=0;l<d;l++)o[l]=a[n[l]],s[l]=r[n[l]]},h.prototype.transform=function t(n,a,r,o,d,c){this.permute(c,n,a,r,o,d);for(var u=1;u<d;u<<=1)for(var s=u<<1,l=_Mathcos(2*_MathPI/s),f=_Mathsin(2*_MathPI/s),m=0;m<d;m+=s)for(var h=l,g=f,b=0;b<u;b++){var y=r[m+b],v=o[m+b],w=r[m+b+u],x=o[m+b+u],_=h*w-g*x;x=h*x+g*w,w=_,r[m+b]=y+w,o[m+b]=v+x,r[m+b+u]=y-w,o[m+b+u]=v-x,b!==s&&(_=l*h-f*g,g=l*g+f*h,h=_)}},h.prototype.guessLen13b=function t(a,n){var r=1|_Mathmax(n,a),o=1&r,s=0;for(r=0|r/2;r;r>>>=1)s++;return 1<<s+1+o},h.prototype.conjugate=function n(a,r,o){if(!(1>=o))for(var s=0,d;s<o/2;s++)d=a[s],a[s]=a[o-s-1],a[o-s-1]=d,d=r[s],r[s]=-r[o-s-1],r[o-s-1]=-d},h.prototype.normalize13b=function t(n,a){for(var r=0,o=0,s;o<a/2;o++)s=8192*_Mathround(n[2*o+1]/a)+_Mathround(n[2*o]/a)+r,n[o]=67108863&s,r=67108864>s?0:0|s/67108864;return n},h.prototype.convert13b=function t(n,a,r,s){for(var d=0,l=0;l<a;l++)d+=0|n[l],r[2*l]=8191&d,d>>>=13,r[2*l+1]=8191&d,d>>>=13;for(l=2*a;l<s;++l)r[l]=0;o(0==d),o(0==(-8192&d))},h.prototype.stub=function t(n){for(var a=Array(n),r=0;r<n;r++)a[r]=0;return a},h.prototype.mulp=function t(n,a,r){var o=2*this.guessLen13b(n.length,a.length),s=this.makeRBT(o),d=this.stub(o),l=Array(o),c=Array(o),u=Array(o),f=Array(o),m=Array(o),h=Array(o),g=r.words;g.length=o,this.convert13b(n.words,n.length,l,o),this.convert13b(a.words,a.length,f,o),this.transform(l,d,c,u,o,s),this.transform(f,d,m,h,o,s);for(var b=0,y;b<o;b++)y=c[b]*m[b]-u[b]*h[b],u[b]=c[b]*h[b]+u[b]*m[b],c[b]=y;return this.conjugate(c,u,o),this.transform(c,u,g,d,o,s),this.conjugate(g,d,o),this.normalize13b(g,o),r.negative=n.negative^a.negative,r.length=n.length+a.length,r.strip()},d.prototype.mul=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),this.mulTo(n,a)},d.prototype.mulf=function t(n){var a=new d(null);return a.words=Array(this.length+n.length),m(this,n,a)},d.prototype.imul=function t(n){return this.clone().mulTo(n,this)},d.prototype.imuln=function t(n){o('number'==typeof n),o(67108864>n);for(var a=0,r=0;r<this.length;r++){var s=(0|this.words[r])*n,d=(67108863&s)+(67108863&a);a>>=26,a+=0|s/67108864,a+=d>>>26,this.words[r]=67108863&d}return 0!=a&&(this.words[r]=a,this.length++),this},d.prototype.muln=function t(n){return this.clone().imuln(n)},d.prototype.sqr=function t(){return this.mul(this)},d.prototype.isqr=function t(){return this.imul(this.clone())},d.prototype.pow=function t(n){var a=c(n);if(0===a.length)return new d(1);for(var r=this,o=0;o<a.length&&!(0!==a[o]);o++,r=r.sqr());if(++o<a.length)for(var s=r.sqr();o<a.length;o++,s=s.sqr())0!==a[o]&&(r=r.mul(s));return r},d.prototype.iushln=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=67108863>>>26-a<<26-a,d;if(0!=a){var l=0;for(d=0;d<this.length;d++){var u=this.words[d]&s,f=(0|this.words[d])-u<<a;this.words[d]=f|l,l=u>>>26-a}l&&(this.words[d]=l,this.length++)}if(0!=r){for(d=this.length-1;0<=d;d--)this.words[d+r]=this.words[d];for(d=0;d<r;d++)this.words[d]=0;this.length+=r}return this.strip()},d.prototype.ishln=function t(n){return o(0===this.negative),this.iushln(n)},d.prototype.iushrn=function t(n,a,d){o('number'==typeof n&&0<=n);var l;l=a?(a-a%26)/26:0;var c=n%26,r=_Mathmin((n-c)/26,this.length),s=67108863^67108863>>>c<<c,u=d;if(l-=r,l=_Mathmax(0,l),u){for(var f=0;f<r;f++)u.words[f]=this.words[f];u.length=r}if(0===r);else if(this.length>r)for(this.length-=r,f=0;f<this.length;f++)this.words[f]=this.words[f+r];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;0<=f&&(0!=m||f>=l);f--){var h=0|this.words[f];this.words[f]=m<<26-c|h>>>c,m=h&s}return u&&0!=m&&(u.words[u.length++]=m),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function t(n,a,r){return o(0===this.negative),this.iushrn(n,a,r)},d.prototype.shln=function t(n){return this.clone().ishln(n)},d.prototype.ushln=function t(n){return this.clone().iushln(n)},d.prototype.shrn=function t(n){return this.clone().ishrn(n)},d.prototype.ushrn=function t(n){return this.clone().iushrn(n)},d.prototype.testn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return!1;var d=this.words[r];return!!(d&s)},d.prototype.imaskn=function t(n){o('number'==typeof n&&0<=n);var a=n%26,r=(n-a)/26;if(o(0===this.negative,'imaskn works only with positive numbers'),this.length<=r)return this;if(0!=a&&r++,this.length=_Mathmin(r,this.length),0!=a){var s=67108863^67108863>>>a<<a;this.words[this.length-1]&=s}return this.strip()},d.prototype.maskn=function t(n){return this.clone().imaskn(n)},d.prototype.iaddn=function t(n){return o('number'==typeof n),o(67108864>n),0>n?this.isubn(-n):0===this.negative?this._iaddn(n):1===this.length&&(0|this.words[0])<n?(this.words[0]=n-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this)},d.prototype._iaddn=function t(n){this.words[0]+=n;for(var a=0;a<this.length&&67108864<=this.words[a];a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=_Mathmax(this.length,a+1),this},d.prototype.isubn=function t(n){if(o('number'==typeof n),o(67108864>n),0>n)return this.iaddn(-n);if(0!==this.negative)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&0>this.words[a];a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},d.prototype.addn=function t(n){return this.clone().iaddn(n)},d.prototype.subn=function t(n){return this.clone().isubn(n)},d.prototype.iabs=function t(){return this.negative=0,this},d.prototype.abs=function t(){return this.clone().iabs()},d.prototype._ishlnsubmul=function t(n,a,r){var s=n.length+r,d;this._expand(s);var l=0,c;for(d=0;d<n.length;d++){c=(0|this.words[d+r])+l;var u=(0|n.words[d])*a;c-=67108863&u,l=(c>>26)-(0|u/67108864),this.words[d+r]=67108863&c}for(;d<this.length-r;d++)c=(0|this.words[d+r])+l,l=c>>26,this.words[d+r]=67108863&c;if(0==l)return this.strip();for(o(-1==l),l=0,d=0;d<this.length;d++)c=-(0|this.words[d])+l,l=c>>26,this.words[d]=67108863&c;return this.negative=1,this.strip()},d.prototype._wordDiv=function t(n,r){var o=this.length-n.length,s=this.clone(),l=n,c=0|l.words[l.length-1],u=this._countBits(c);o=26-u,0!=o&&(l=l.ushln(o),s.iushln(o),c=0|l.words[l.length-1]);var f=s.length-l.length,m;if('mod'!==r){m=new d(null),m.length=f+1,m.words=Array(m.length);for(var h=0;h<m.length;h++)m.words[h]=0}var g=s.clone()._ishlnsubmul(l,1,f);0===g.negative&&(s=g,m&&(m.words[f]=1));for(var b=f-1,y;0<=b;b--){for(y=67108864*(0|s.words[l.length+b])+(0|s.words[l.length+b-1]),y=_Mathmin(0|y/c,67108863),s._ishlnsubmul(l,y,b);0!==s.negative;)y--,s.negative=0,s._ishlnsubmul(l,1,b),s.isZero()||(s.negative^=1);m&&(m.words[b]=y)}return m&&m.strip(),s.strip(),'div'!==r&&0!=o&&s.iushrn(o),{div:m||null,mod:s}},d.prototype.divmod=function t(n,a,r){if(o(!n.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var s,l,c;return 0!==this.negative&&0===n.negative?(c=this.neg().divmod(n,a),'mod'!==a&&(s=c.div.neg()),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.iadd(n)),{div:s,mod:l}):0===this.negative&&0!==n.negative?(c=this.divmod(n.neg(),a),'mod'!==a&&(s=c.div.neg()),{div:s,mod:c.mod}):0==(this.negative&n.negative)?n.length>this.length||0>this.cmp(n)?{div:new d(0),mod:this}:1===n.length?'div'===a?{div:this.divn(n.words[0]),mod:null}:'mod'===a?{div:null,mod:new d(this.modn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new d(this.modn(n.words[0]))}:this._wordDiv(n,a):(c=this.neg().divmod(n.neg(),a),'div'!==a&&(l=c.mod.neg(),r&&0!==l.negative&&l.isub(n)),{div:c.div,mod:l})},d.prototype.div=function t(n){return this.divmod(n,'div',!1).div},d.prototype.mod=function t(n){return this.divmod(n,'mod',!1).mod},d.prototype.umod=function t(n){return this.divmod(n,'mod',!0).mod},d.prototype.divRound=function t(n){var a=this.divmod(n);if(a.mod.isZero())return a.div;var r=0===a.div.negative?a.mod:a.mod.isub(n),o=n.ushrn(1),s=n.andln(1),d=r.cmp(o);return 0>d||1===s&&0===d?a.div:0===a.div.negative?a.div.iaddn(1):a.div.isubn(1)},d.prototype.modn=function t(n){o(67108863>=n);for(var a=67108864%n,r=0,s=this.length-1;0<=s;s--)r=(a*r+(0|this.words[s]))%n;return r},d.prototype.idivn=function t(n){o(67108863>=n);for(var a=0,r=this.length-1,s;0<=r;r--)s=(0|this.words[r])+67108864*a,this.words[r]=0|s/n,a=s%n;return this.strip()},d.prototype.divn=function t(n){return this.clone().idivn(n)},d.prototype.egcd=function t(n){o(0===n.negative),o(!n.isZero());var a=this,r=n.clone();a=0===a.negative?a.clone():a.umod(n);for(var s=new d(1),l=new d(0),c=new d(0),u=new d(1),f=0;a.isEven()&&r.isEven();)a.iushrn(1),r.iushrn(1),++f;for(var m=r.clone(),h=a.clone();!a.isZero();){for(var g=0,b=1;0==(a.words[0]&b)&&26>g;++g,b<<=1);if(0<g)for(a.iushrn(g);0<g--;)(s.isOdd()||l.isOdd())&&(s.iadd(m),l.isub(h)),s.iushrn(1),l.iushrn(1);for(var y=0,v=1;0==(r.words[0]&v)&&26>y;++y,v<<=1);if(0<y)for(r.iushrn(y);0<y--;)(c.isOdd()||u.isOdd())&&(c.iadd(m),u.isub(h)),c.iushrn(1),u.iushrn(1);0<=a.cmp(r)?(a.isub(r),s.isub(c),l.isub(u)):(r.isub(a),c.isub(s),u.isub(l))}return{a:c,b:u,gcd:r.iushln(f)}},d.prototype._invmp=function t(n){o(0===n.negative),o(!n.isZero());var r=this,a=n.clone();r=0===r.negative?r.clone():r.umod(n);for(var s=new d(1),l=new d(0),c=a.clone();0<r.cmpn(1)&&0<a.cmpn(1);){for(var u=0,f=1;0==(r.words[0]&f)&&26>u;++u,f<<=1);if(0<u)for(r.iushrn(u);0<u--;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var m=0,h=1;0==(a.words[0]&h)&&26>m;++m,h<<=1);if(0<m)for(a.iushrn(m);0<m--;)l.isOdd()&&l.iadd(c),l.iushrn(1);0<=r.cmp(a)?(r.isub(a),s.isub(l)):(a.isub(r),l.isub(s))}var g;return g=0===r.cmpn(1)?s:l,0>g.cmpn(0)&&g.iadd(n),g},d.prototype.gcd=function n(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var s=this.clone(),a=o.clone();s.negative=0,a.negative=0;for(var d=0;s.isEven()&&a.isEven();d++)s.iushrn(1),a.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;a.isEven();)a.iushrn(1);var l=s.cmp(a);if(0>l){var r=s;s=a,a=r}else if(0===l||0===a.cmpn(1))break;s.isub(a)}while(!0);return a.iushln(d)},d.prototype.invm=function t(n){return this.egcd(n).a.umod(n)},d.prototype.isEven=function t(){return 0==(1&this.words[0])},d.prototype.isOdd=function t(){return 1==(1&this.words[0])},d.prototype.andln=function t(n){return this.words[0]&n},d.prototype.bincn=function t(n){o('number'==typeof n);var a=n%26,r=(n-a)/26,s=1<<a;if(this.length<=r)return this._expand(r+1),this.words[r]|=s,this;for(var d=s,l=r,c;0!=d&&l<this.length;l++)c=0|this.words[l],c+=d,d=c>>>26,c&=67108863,this.words[l]=c;return 0!=d&&(this.words[l]=d,this.length++),this},d.prototype.isZero=function t(){return 1===this.length&&0===this.words[0]},d.prototype.cmpn=function t(n){var a=0>n;if(0!==this.negative&&!a)return-1;if(0===this.negative&&a)return 1;this.strip();var r;if(1<this.length)r=1;else{a&&(n=-n),o(67108863>=n,'Number is too big');var s=0|this.words[0];r=s===n?0:s<n?-1:1}return 0===this.negative?r:0|-r},d.prototype.cmp=function t(n){if(0!==this.negative&&0===n.negative)return-1;if(0===this.negative&&0!==n.negative)return 1;var a=this.ucmp(n);return 0===this.negative?a:0|-a},d.prototype.ucmp=function t(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var r=0,o=this.length-1;0<=o;o--){var s=0|this.words[o],a=0|n.words[o];if(s!=a){s<a?r=-1:s>a&&(r=1);break}}return r},d.prototype.gtn=function t(n){return 1===this.cmpn(n)},d.prototype.gt=function t(n){return 1===this.cmp(n)},d.prototype.gten=function t(n){return 0<=this.cmpn(n)},d.prototype.gte=function t(n){return 0<=this.cmp(n)},d.prototype.ltn=function t(n){return-1===this.cmpn(n)},d.prototype.lt=function t(n){return-1===this.cmp(n)},d.prototype.lten=function t(n){return 0>=this.cmpn(n)},d.prototype.lte=function t(n){return 0>=this.cmp(n)},d.prototype.eqn=function t(n){return 0===this.cmpn(n)},d.prototype.eq=function t(n){return 0===this.cmp(n)},d.red=function t(n){return new x(n)},d.prototype.toRed=function t(n){return o(!this.red,'Already a number in reduction context'),o(0===this.negative,'red works only with positives'),n.convertTo(this)._forceRed(n)},d.prototype.fromRed=function t(){return o(this.red,'fromRed works only with numbers in reduction context'),this.red.convertFrom(this)},d.prototype._forceRed=function t(n){return this.red=n,this},d.prototype.forceRed=function t(n){return o(!this.red,'Already a number in reduction context'),this._forceRed(n)},d.prototype.redAdd=function t(n){return o(this.red,'redAdd works only with red numbers'),this.red.add(this,n)},d.prototype.redIAdd=function t(n){return o(this.red,'redIAdd works only with red numbers'),this.red.iadd(this,n)},d.prototype.redSub=function t(n){return o(this.red,'redSub works only with red numbers'),this.red.sub(this,n)},d.prototype.redISub=function t(n){return o(this.red,'redISub works only with red numbers'),this.red.isub(this,n)},d.prototype.redShl=function t(n){return o(this.red,'redShl works only with red numbers'),this.red.shl(this,n)},d.prototype.redMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.mul(this,n)},d.prototype.redIMul=function t(n){return o(this.red,'redMul works only with red numbers'),this.red._verify2(this,n),this.red.imul(this,n)},d.prototype.redSqr=function t(){return o(this.red,'redSqr works only with red numbers'),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function t(){return o(this.red,'redISqr works only with red numbers'),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function t(){return o(this.red,'redSqrt works only with red numbers'),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function t(){return o(this.red,'redInvm works only with red numbers'),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function t(){return o(this.red,'redNeg works only with red numbers'),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function t(n){return o(this.red&&!n.red,'redPow(normalNum)'),this.red._verify1(this),this.red.pow(this,n)};var A={k256:null,p224:null,p192:null,p25519:null};g.prototype._tmp=function t(){var n=new d(null);return n.words=Array(_Mathceil(this.n/13)),n},g.prototype.ireduce=function t(n){var a=n,r;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),r=a.bitLength();while(r>this.n);var o=r<this.n?-1:a.ucmp(this.p);return 0===o?(a.words[0]=0,a.length=1):0<o?a.isub(this.p):a.strip(),a},g.prototype.split=function t(n,a){n.iushrn(this.n,0,a)},g.prototype.imulK=function t(n){return n.imul(this.k)},r(b,g),b.prototype.split=function t(n,a){for(var r=4194303,o=_Mathmin(n.length,9),s=0;s<o;s++)a.words[s]=n.words[s];if(a.length=o,9>=n.length)return n.words[0]=0,void(n.length=1);var d=n.words[9];for(a.words[a.length++]=d&r,s=10;s<n.length;s++){var l=0|n.words[s];n.words[s-10]=(l&r)<<4|d>>>22,d=l}d>>>=22,n.words[s-10]=d,n.length-=0===d&&10<n.length?10:9},b.prototype.imulK=function t(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var a=0,r=0,o;r<n.length;r++)o=0|n.words[r],a+=977*o,n.words[r]=67108863&a,a=64*o+(0|a/67108864);return 0===n.words[n.length-1]&&(n.length--,0===n.words[n.length-1]&&n.length--),n},r(y,g),r(v,g),r(w,g),w.prototype.imulK=function t(n){for(var a=0,r=0;r<n.length;r++){var o=19*(0|n.words[r])+a,s=67108863&o;o>>>=26,n.words[r]=s,a=o}return 0!=a&&(n.words[n.length++]=a),n},d._prime=function t(n){if(A[n])return A[n];var t;if('k256'===n)t=new b;else if('p224'===n)t=new y;else if('p192'===n)t=new v;else if('p25519'===n)t=new w;else throw new Error('Unknown prime '+n);return A[n]=t,t},x.prototype._verify1=function t(n){o(0===n.negative,'red works only with positives'),o(n.red,'red works only with red numbers')},x.prototype._verify2=function t(n,a){o(0==(n.negative|a.negative),'red works only with positives'),o(n.red&&n.red===a.red,'red works only with red numbers')},x.prototype.imod=function t(n){return this.prime?this.prime.ireduce(n)._forceRed(this):n.umod(this.m)._forceRed(this)},x.prototype.neg=function t(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},x.prototype.add=function t(n,a){this._verify2(n,a);var r=n.add(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function t(n,a){this._verify2(n,a);var r=n.iadd(a);return 0<=r.cmp(this.m)&&r.isub(this.m),r},x.prototype.sub=function t(n,a){this._verify2(n,a);var r=n.sub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function t(n,a){this._verify2(n,a);var r=n.isub(a);return 0>r.cmpn(0)&&r.iadd(this.m),r},x.prototype.shl=function t(n,a){return this._verify1(n),this.imod(n.ushln(a))},x.prototype.imul=function t(n,a){return this._verify2(n,a),this.imod(n.imul(a))},x.prototype.mul=function t(n,a){return this._verify2(n,a),this.imod(n.mul(a))},x.prototype.isqr=function t(n){return this.imul(n,n.clone())},x.prototype.sqr=function t(n){return this.mul(n,n)},x.prototype.sqrt=function n(l){if(l.isZero())return l.clone();var a=this.m.andln(3);if(o(1==a%2),3===a){var u=this.m.add(new d(1)).iushrn(2);return this.pow(l,u)}for(var f=this.m.subn(1),h=0;!f.isZero()&&0===f.andln(1);)h++,f.iushrn(1);o(!f.isZero());var s=new d(1).toRed(this),g=s.redNeg(),y=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new d(2*v*v).toRed(this);0!==this.pow(v,y).cmp(g);)v.redIAdd(g);for(var w=this.pow(v,f),c=this.pow(l,f.addn(1).iushrn(1)),r=this.pow(l,f),t=h;0!==r.cmp(s);){for(var m=r,x=0;0!==m.cmp(s);x++)m=m.redSqr();o(x<t);var _=this.pow(w,new d(1).iushln(t-x-1));c=c.redMul(_),w=_.redSqr(),r=r.redMul(w),t=x}return c},x.prototype.invm=function t(n){var a=n._invmp(this.m);return 0===a.negative?this.imod(a):(a.negative=0,this.imod(a).redNeg())},x.prototype.pow=function t(n,a){if(a.isZero())return new d(1).toRed(this);if(0===a.cmpn(1))return n.clone();var r=4,o=Array(1<<r);o[0]=new d(1).toRed(this),o[1]=n;for(var s=2;s<o.length;s++)o[s]=this.mul(o[s-1],n);var l=o[0],c=0,u=0,f=a.bitLength()%26;for(0==f&&(f=26),s=a.length-1;0<=s;s--){for(var m=a.words[s],h=f-1,g;0<=h;h--){if(g=1&m>>h,l!==o[0]&&(l=this.sqr(l)),0==g&&0==c){u=0;continue}c<<=1,c|=g,u++,u!=r&&(0!==s||0!==h)||(l=this.mul(l,o[c]),u=0,c=0)}f=26}return l},x.prototype.convertTo=function t(n){var a=n.umod(this.m);return a===n?a.clone():a},x.prototype.convertFrom=function t(n){var a=n.clone();return a.red=null,a},d.mont=function t(n){return new _(n)},r(_,x),_.prototype.convertTo=function t(n){return this.imod(n.ushln(this.shift))},_.prototype.convertFrom=function t(n){var a=this.imod(n.mul(this.rinv));return a.red=null,a},_.prototype.imul=function n(r,a){if(r.isZero()||a.isZero())return r.words[0]=0,r.length=1,r;var o=r.imul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),d=s;return 0<=s.cmp(this.m)?d=s.isub(this.m):0>s.cmpn(0)&&(d=s.iadd(this.m)),d._forceRed(this)},_.prototype.mul=function n(r,a){if(r.isZero()||a.isZero())return new d(0)._forceRed(this);var o=r.mul(a),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=o.isub(t).iushrn(this.shift),l=s;return 0<=s.cmp(this.m)?l=s.isub(this.m):0>s.cmpn(0)&&(l=s.iadd(this.m)),l._forceRed(this)},_.prototype.invm=function t(n){var a=this.imod(n._invmp(this.m).mul(this.r2));return a._forceRed(this)}})('undefined'==typeof t||t,this)}).call(n,a(10)(t))},function(t,n){},function(t,n,a){n.publicEncrypt=a(336),n.privateDecrypt=a(338),n.privateEncrypt=function t(a,r){return n.publicEncrypt(a,r,!0)},n.publicDecrypt=function t(a,r){return n.privateDecrypt(a,r,!0)}},function(t,n,a){(function(n){function r(t,a){var r=t.modulus.byteLength(),o=a.length,s=c('sha1').update(new n('')).digest(),d=s.length,h=2*d;if(o>r-h-2)throw new Error('message too long');var g=new n(r-o-h-2);g.fill(0);var b=r-d-1,y=l(d),v=f(n.concat([s,g,new n([1]),a],b),u(y,b)),w=f(y,u(v,d));return new m(n.concat([new n([0]),w,v],r))}function o(t,a,r){var o=a.length,d=t.modulus.byteLength();if(o>d-11)throw new Error('message too long');var l;return r?(l=new n(d-o-3),l.fill(255)):l=s(d-o-3),new m(n.concat([new n([0,r?1:2]),l,new n([0]),a],d))}function s(t,a){for(var r=new n(t),o=0,s=l(2*t),d=0,c;o<t;)d===s.length&&(s=l(2*t),d=0),c=s[d++],c&&(r[o++]=c);return r}var d=a(74),l=a(51),c=a(52),u=a(175),f=a(176),m=a(109),h=a(177),g=a(107),b={RSA_PKCS1_OAEP_PADDING:4,RSA_PKCS1_PADDIN:1,RSA_NO_PADDING:3};t.exports=function t(n,a,s){var l;l=n.padding?n.padding:s?1:4;var c=d(n),u;if(4===l)u=r(c,a);else if(1===l)u=o(c,a,s);else if(3!==l)throw new Error('unknown padding');else if(u=new m(a),0<=u.cmp(c.modulus))throw new Error('data too long for modulus');return s?g(u,c):h(u,c)}}).call(n,a(0).Buffer)},function(t,n){},function(t,n,a){(function(r){function n(t,a){var o=t.modulus,n=t.modulus.byteLength(),d=a.length,u=m('sha1').update(new r('')).digest(),f=u.length,h=2*f;if(0!==a[0])throw new Error('decryption error');var g=a.slice(1,f+1),b=a.slice(f+1),y=c(g,l(b,f)),v=c(b,l(y,n-f-1));if(s(u,v.slice(0,f)))throw new Error('decryption error');for(var w=f;0===v[w];)w++;if(1!==v[w++])throw new Error('decryption error');return v.slice(w)}function o(t,n,a){for(var r=n.slice(0,2),o=2,s=0;0!==n[o++];)if(o>=n.length){s++;break}var d=n.slice(2,o-1),l=n.slice(o-1,o);if(('0002'!==r.toString('hex')&&!a||'0001'!==r.toString('hex')&&a)&&s++,8>d.length&&s++,s)throw new Error('decryption error');return n.slice(o)}function s(t,n){t=new r(t),n=new r(n);var a=0,o=t.length;t.length!==n.length&&(a++,o=_Mathmin(t.length,n.length));for(var s=-1;++s<o;)a+=t[s]^n[s];return a}var d=a(74),l=a(175),c=a(176),u=a(109),f=a(107),m=a(52),h=a(177);t.exports=function t(a,s,l){var c;c=a.padding?a.padding:l?1:4;var m=d(a),g=m.modulus.byteLength();if(s.length>g||0<=new u(s).cmp(m.modulus))throw new Error('decryption error');var b;b=l?h(new u(s),m):f(s,m);var y=new r(g-b.length);if(y.fill(0),b=r.concat([y,b],g),4===c)return n(m,b);if(1===c)return o(m,b,l);if(3===c)return b;throw new Error('unknown padding')}}).call(n,a(0).Buffer)},function(t,n,a){'use strict';var r={acl:a(148),ns:a(7),widgets:a(21),aclControl:t.exports={}},o=a(23);r.aclControl.preventBrowserDropEvents=function(t){function n(t){t.stopPropagation(),t.preventDefault()}function a(t){0<t.dataTransfer.files.length&&!confirm('Are you sure you want to drop this file here? (Cancel opens it in a new tab)')&&(t.stopPropagation(),t.preventDefault(),console.log('@@@@ document-level DROP suppressed: '+t.dataTransfer.dropEffect))}if(console.log('preventBrowserDropEvents called.'),'undefined'!=typeof tabulator){if(tabulator.preventBrowserDropEventsDone)return;tabulator.preventBrowserDropEventsDone=!0}t.addEventListener('drop',a,!1),t.addEventListener('dragenter',n,!1),t.addEventListener('dragover',n,!1)},r.aclControl.shortNameForFolder=function(t){var n=t.uri;'/'===n.slice(-1)&&(n=n.slice(0,-1));var a=n.lastIndexOf('/');return 0<=a&&(n=n.slice(a+1)),n||'/'},r.aclControl.ACLControlBox5=function(t,n,s,d,a){var l=d.updater||new $rdf.UpdateManager(d),c=r.ns.acl,u=t.doc(),f=n.createElement('table');f.setAttribute('style','margin: 1em; border: 0.1em #ccc ;');var m=f.appendChild(n.createElement('tr'));m.textContent='Sharing for '+s+' '+o.label(t),m.setAttribute('style','min-width: 20em; padding: 1em; font-size: 120%; border-bottom: 0.1em solid red; margin-bottom: 2em;');var h=f.appendChild(n.createElement('tr')),g=h.appendChild(n.createElement('div'));g.setAttribute('style','padding: 2em;');var b=f.appendChild(n.createElement('tr')),y=b.appendChild(n.createElement('table')),v=f.appendChild(n.createElement('tr')),w='border-radius: 0.3em; background-color: white; border: 0.01em solid #888;',x=function a(o,s,d,l,u){var f=u.doingDefault?'default':'main';u=u||{};var m=r.acl.readACL(s,d,l,u.doingDefaults),h;o[f]=h=r.acl.ACLbyCombination(m);var g=function t(n){for(var a=['Read','Append','Write','Control'],r=[],o=0;4>o;o++)n&1<<o&&r.push('http://www.w3.org/ns/auth/acl#'+a[o]);return r.sort(),r=r.join('\n'),r},b={1:'Viewers',2:'Submitters',3:'Posters',5:'Editors',9:'Owners (write locked)',13:'Owners'},y={1:!0,2:!0,3:!0,5:!0,13:!0},v={1:'can read but not change information',2:'can add new information but not read any',3:'can add new information, and read but not change existing information',5:'can read and change information',9:'can read and control sharing, currently write-locked.',13:'can read, write, and control sharing.'},w={1:'green',2:'#cc0',3:'orange',5:'red',9:'blue',13:'purple'},x=function t(n){for(var a='',r=['Read','Append','Write','Control'],o=0;4>o;o++)n&1<<o&&(a+=r[o])},_=function t(n){for(var r=0,o;16>r;r++)if(o=h[g(r)],o)for(var a=0;a<o.length;a++)for(;a<o.length&&o[a][1]===n;)o.splice(a,1)},C=function t(n){var a=r.ns,o=$rdf.sym(n),s=l.findTypeURIs(o);for(var d in s)console.log('    drop object type includes: '+d);if(n.startsWith('http')&&3===n.split('/').length)return{pred:'origin',obj:o};if(a.vcard('WebID').uri in s)return{pred:'agent',obj:o};if(a.vcard('Group').uri in s)return{pred:'agentGroup',obj:o};if(o.sameTerm(a.foaf('Agent'))||o.sameTerm(a.rdf('Resource'))||o.sameTerm(a.owl('Thing')))return{pred:'agentClass',obj:o};if(a.vcard('Individual').uri in s||a.foaf('Person').uri in s||a.foaf('Agent').uri in s){var c=l.any(o,a.foaf('preferredURI'));return c?{pred:'agent',obj:$rdf.sym(c)}:{pred:'agent',obj:o}}return a.solid('AppProvider').uri in s?{pred:'origin',obj:o}:a.solid('AppProviderClass').uri in s?{pred:'originClass',obj:o}:void console.log('    Triage fails for '+n)};o.saveBack=function(t){var n=$rdf.graph();o.isContainer?o.defaultsDiffer?(r.acl.makeACLGraphbyCombo(n,s,o.mainByCombo,d,!0),r.acl.makeACLGraphbyCombo(n,s,o.defByCombo,d,!1,!0)):r.acl.makeACLGraphbyCombo(n,s,o.mainByCombo,d,!0,!0):r.acl.makeACLGraphbyCombo(n,s,o.mainByCombo,d,!0);var a=n.updater||new $rdf.UpdateManager(n);a.put(d,n.statementsMatching(void 0,void 0,void 0,d),'text/turtle',function(a,r,o){r?(l.fetcher.unload(d),l.add(n.statements),l.fetcher.requested[d.uri]='done',console.log('ACL modification: success!')):console.log('ACL file save failed: '+o),t(r)})};var T=function a(s,d){var f=o.appendChild(n.createElement('tr'));f.combo=d,f.setAttribute('style','color: '+(u.modify?w[S]||'black':'#888')+';');var m=f.appendChild(n.createElement('td'));m.textContent=b[S]||x[S],m.setAttribute('style','padding-bottom: 2em;');var h=f.appendChild(n.createElement('td')),g=h.appendChild(n.createElement('table'));g.style.width='100%';var y=f.appendChild(n.createElement('td'));y.textContent=v[S]||'Unusual combination',y.setAttribute('style','max-width: 30%;');var k=function t(a,l){g.NoneTR&&(g.removeChild(g.NoneTR),delete g.NoneTR);var f={};u.modify&&(f.deleteFunction=function t(){for(var n=s[d],r=0;r<n.length;r++)if(n[r][0]===a&&n[r][1]===l){n.splice(r,1);break}o.saveBack(function(t){t&&g.removeChild(m)})});var m=g.appendChild(r.widgets.personTR(n,c(a),$rdf.sym(l),f));m.predObj=[a.uri,l.uri]},T=function t(o){var d=s[o],l;if(d&&d.length){var c=g.children;d.sort();for(var u=0;u<c.length;u++)c[u].trashme=!0;for(var f=0,a;f<d.length;f++){for(a=!1,l=0;l<c.length;l++)if(c[l].predObj&&c[l].predObj[0]===d[f][0]&&c[l].predObj[1]===d[f][1]){a=!0,delete c[l].trashme;break}a||k(d[f][0],d[f][1])}for(l=c.length-1;0<=l;l--)c[l].trashme&&g.removeChild(c[l])}else{r.widgets.clearElement(g);var m=g.appendChild(n.createElement('tr'));m.textContent='None',m.setAttribute('style','padding: 1em;'),g.NoneTR=m}};T(d),f.refresh=function(){T(d)},u.modify&&(f.addEventListener('dragover',function(t){t.preventDefault(),t.dataTransfer.dropEffect='copy'}),f.addEventListener('dragenter',function(t){console.log('dragenter event dropEffect: '+t.dataTransfer.dropEffect),this.style.backgroundColor='#ccc',t.dataTransfer.dropEffect='link',console.log('dragenter event dropEffect 2: '+t.dataTransfer.dropEffect)}),f.addEventListener('dragleave',function(t){console.log('dragleave event dropEffect: '+t.dataTransfer.dropEffect),this.style.backgroundColor='white'}),f.addEventListener('drop',function(n){n.preventDefault&&n.preventDefault(),console.log('Drop event. dropEffect: '+n.dataTransfer.dropEffect),console.log('Drop event. types: '+(n.dataTransfer.types?n.dataTransfer.types.join(', '):'NOPE'));var a=null,r=this,c;if(n.dataTransfer.types){for(var u=0,f;u<n.dataTransfer.types.length;u++)f=n.dataTransfer.types[u],'text/uri-list'===f?(a=n.dataTransfer.getData(f).split('\n'),console.log('Dropped text/uri-list: '+a)):'text/plain'===f&&(c=n.dataTransfer.getData(f));null===a&&c&&'http'===c.slice(0,4)&&(a=c,console.log('Waring: Poor man\'s drop: using text for URI'))}else a=[n.dataTransfer.getData('Text')],console.log('@@ WARNING non-standrad drop event: '+a[0]);return console.log('Dropped URI list (2): '+a),a&&a.map(function(n){var a=function a(){d in s||(s[d]=[]),_(n),s[d].push([c.pred,c.obj.uri]),console.log('ACL: setting access to '+t+' by '+c.pred+': '+c.obj),o.saveBack(function(t){t&&(r.style.backgroundColor='white',E())})},c=C(n);return c?void a():(console.log('   looking up dropped thing '+n),void l.fetcher.nowOrWhenFetched(n,function(t,r){t?(c=C(n),c?a():console.log('Error: Drop fails to drop appropriate thing! '+n)):console.log('Error looking up dropped thing '+n+': '+r)}))}),!1}))},E=function t(){for(var n=o.children,a=0;a<n.length;a++)n[a].refresh&&n[a].refresh()},S,k;for(S=15;0<S;S--)k=g(S),(u.modify&&y[S]||h[k])&&T(h,k);return h};return r.acl.getACLorDefault(u,function(t,f,m,h,b,_){var k=!f;if(!t)g.textContent+='Error reading '+(k?' default ':'')+'ACL. status '+m+': '+h;else if(y.isContainer='/'===m.uri.slice(-1),k){var C=d.each(void 0,c('defaultForNew'),b,_);if(!C.length)g.textContent+=' (No defaults given.)';else{g.innerHTML='',g.textContent='The sharing for this '+s+' is the default for folder ';var T=g.appendChild(n.createElement('a'));T.setAttribute('href',b.uri),T.textContent=r.aclControl.shortNameForFolder(b);var a=r.acl.adoptACLDefault(u,h,b,_);x(y,u,h,a,{modify:!1}),y.style.cssText='color: #777;';var E=v.appendChild(n.createElement('button'));E.textContent='Set specific sharing\nfor this '+s,E.style.cssText=w,E.addEventListener('click',function(t){l.put(h,a.statements,'text/turtle',function(t,n,a){n?(g.textContent=' (Now editing specific access for this '+s+')',v.removeChild(E)):g.textContent+=' (Error writing back access control file: '+a+')'})})}}else{var S=function t(a){R=v.appendChild(n.createElement('button')),R.textContent='Stop specific sharing for this '+s+' -- just use default',a&&(R.textContent+=' for '+o.label(a)),R.style.cssText=w,R.addEventListener('click',function(t){d.fetcher.delete(h.uri).then(function(){g.textContent=' The sharing for this '+s+' is now the default.',v.removeChild(R),y.style.cssText='color: #777;'}).catch(function(t){g.textContent+=' (Error deleting access control file: '+h+': '+t+')'})})},A=m.uri.split('#')[0],I=A.slice(0,-1).lastIndexOf('/'),N=A.indexOf('//'),j=0<=N&&I<N+2||0>I?null:A.slice(0,I+1),R,L;if(j?r.acl.getACLorDefault($rdf.sym(j),function(t,n,a,r,o,s){t&&(L=n?a:o),S(L)}):S(),y.addControlForDefaults=function(){y.notice.textContent='Access to things within this folder:',y.notice.style.cssText='font-size: 120%; color: black;';var t=r.widgets.clearElement(y.offer).appendChild(n.createElement('button'));t.innerHTML='<p>Set default for folder contents to<br />just track the sharing for the folder</p>',t.style.cssText=w,t.addEventListener('click',function(t){delete y.defaultsDiffer,delete y.defByCombo,y.saveBack(function(t){t&&y.removeControlForDefaults()})},!1),y.defaultsDiffer=!0,y.defByCombo=x(y,m,h,d,{modify:!0,doingDefaults:!0})},y.removeControlForDefaults=function(){g.textContent='This is also the default for things in this folder.',y.notice.textContent='Sharing for things within the folder currently tracks sharing for the folder.',y.notice.style.cssText='font-size: 80%; color: #888;';var t=r.widgets.clearElement(y.offer).appendChild(n.createElement('button'));for(t.innerHTML='<p>Set the sharing of folder contets <br />separately from the sharing for the folder</p>',t.style.cssText=w,t.addEventListener('click',function(t){y.addControlForDefaults(),g.textContent=''});y.divider.nextSibling;)y.removeChild(y.divider.nextSibling);g.textContent='This is now also the default for things in this folder.'},y.isContainer){var O=r.acl.readACL(m,h,d),P=r.acl.readACL(m,h,d,!0);y.defaultsDiffer=!r.acl.sameACL(O,P),console.log('Defaults differ ACL: '+y.defaultsDiffer)}y.mainByCombo=x(y,m,h,d,{modify:!0}),y.divider=y.appendChild(n.createElement('tr')),y.notice=y.divider.appendChild(n.createElement('td')),y.notice.style.cssText='font-size: 80%; color: #888;',y.offer=y.divider.appendChild(n.createElement('td')),y.notice.setAttribute('colspan','2'),y.defaultsDiffer?y.addControlForDefaults():y.removeControlForDefaults()}}),f}},function(t,n,a){'use strict';var r=a(341);t.exports={Signup:a(342),login:r.login,currentUser:r.currentUser}},function(t,n,a){'use strict';function r(t){return t=Object.assign({},c,t),o(u.PRIMARY,t).then(function(n){return n||o(u.SECONDARY,t)})}function o(t,n){return!0?s(t,n):d(t,n)}function s(t,n){var a;return t===u.PRIMARY?a=n.authEndpoint||window.location.origin+window.location.pathname:t===u.SECONDARY?a=n.fallbackAuthEndpoint:void 0,new Promise(function(t,n){var r=new XMLHttpRequest;r.withCredentials=!0,r.addEventListener('load',function(){t(r.getResponseHeader('user')||null)}),r.addEventListener('error',function(t){n(t)}),r.open('HEAD',a),r.send()})}function d(t,n){if(!(n.key&&n.cert))throw new Error('Must provide TLS key and cert when running in node');var a;t===u.PRIMARY?a=n.authEndpoint:t===u.SECONDARY?a=n.fallbackAuthEndpoint:void 0;var r,o,s;return!1,Promise.all([n.key,n.cert].map(function(t){return new Promise(function(n,a){r.readFile(t,function(t,r){return t?a(t):n(r)})})})).then(function(t){var n=l(t,2),r=n[0],d=n[1],c=s.parse(a),u={method:'HEAD',hostname:c.hostname,port:c.port,path:c.path,timeout:5e3,key:r,cert:d};return new Promise(function(t,n){var a=o.request(u,function(n){t(n.headers.user||null)});a.on('error',n),a.end()})})}var l=function(){function t(t,n){var a=[],r=!0,o=!1,s;try{for(var d=t[Symbol.iterator](),l;!(r=(l=d.next()).done)&&(a.push(l.value),!(n&&a.length===n));r=!0);}catch(t){o=!0,s=t}finally{try{!r&&d['return']&&d['return']()}finally{if(o)throw s}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),c=a(180),u={PRIMARY:0,SECONDARY:1},f=r;t.exports={currentUser:f,login:r}},function(t,n,a){'use strict';function r(t){this.config=t||o}var o=a(180);r.prototype.listen=function t(){var n=new Promise(function(t,n){var a=window.addEventListener?'addEventListener':'attachEvent',r=window[a],o='attachEvent'==a?'onmessage':'message';r(o,function(a){var r=a.data;if('User:'===r.slice(0,5)){var o=r.slice(5,r.length);return o&&0<o.length&&'http'===o.slice(0,4)?t(o):n(o)}},!0)});return n},r.prototype.signup=function t(n){n=n||this.config.signupEndpoint;var a=this.config.signupWindowWidth,r=this.config.signupWindowHeight,o=window.screen.width/2-(a/2+10),s=window.screen.height/2-(r/2+50),d='Solid signup',l=n+'?origin='+encodeURIComponent(window.location.origin),c='resizable,scrollbars,status,width='+a+',height='+r+',left='+o+',top='+s;window.open(l,d,c);var u=this;return new Promise(function(t){u.listen().then(function(n){return t(n)})})},t.exports=r},function(t,n,a){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var r=a(344);Object.defineProperty(n,'login',{enumerable:!0,get:function t(){return r.login}}),Object.defineProperty(n,'popupLogin',{enumerable:!0,get:function t(){return r.popupLogin}}),Object.defineProperty(n,'currentSession',{enumerable:!0,get:function t(){return r.currentSession}}),Object.defineProperty(n,'logout',{enumerable:!0,get:function t(){return r.logout}}),Object.defineProperty(n,'fetch',{enumerable:!0,get:function t(){return r.fetch}})},function(t,n,a){'use strict';function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n.default=t,n}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,'__esModule',{value:!0}),n.logout=n.currentSession=n.popupLogin=n.login=n.fetch=void 0;var s=a(76),d=o(s),l=a(36),c=o(l),u=a(37),f=o(u),m=function(){var t=(0,f.default)(c.default.mark(function t(n,a){var r;return c.default.wrap(function t(o){for(;1;)switch(o.prev=o.next){case 0:if(0!==a.length){o.next=2;break}return o.abrupt('return',null);case 2:return o.prev=2,o.next=5,a[0]();case 5:if(r=o.sent,!r){o.next=8;break}return o.abrupt('return',(0,x.saveSession)(n)(r));case 8:o.next=13;break;case 10:o.prev=10,o.t0=o['catch'](2),console.error(o.t0);case 13:return o.abrupt('return',m(n,a.slice(1)));case 14:case'end':return o.stop();}},t,this,[[2,10]])}));return function n(a,r){return t.apply(this,arguments)}}(),h=n.login=function(){var t=(0,f.default)(c.default.mark(function t(n,a){var r,o;return c.default.wrap(function t(s){for(;1;)switch(s.prev=s.next){case 0:return a=(0,d.default)({},A(),a),s.next=3,T.login(n);case 3:if(r=s.sent,!r){s.next=6;break}return s.abrupt('return',(0,x.saveSession)(a.storage)(r));case 6:return s.next=8,S.login(n,a);case 8:return o=s.sent,s.abrupt('return',o);case 10:case'end':return s.stop();}},t,this)}));return function n(a,r){return t.apply(this,arguments)}}(),g=n.popupLogin=function(){var t=(0,f.default)(c.default.mark(function t(n){var a,r;return c.default.wrap(function t(o){for(;1;)switch(o.prev=o.next){case 0:if(n.popupUri){o.next=2;break}throw new Error('Must provide options.popupUri');case 2:return n.callbackUri||(n.callbackUri=n.popupUri),n=(0,d.default)({},A(),n),a=(0,w.openIdpSelector)(n),o.next=7,(0,w.startPopupServer)(n.storage,a,n);case 7:return r=o.sent,o.abrupt('return',r);case 9:case'end':return o.stop();}},t,this)}));return function n(a){return t.apply(this,arguments)}}(),b=n.currentSession=function(){var t=(0,f.default)(c.default.mark(function t(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:(0,_.defaultStorage)(),a;return c.default.wrap(function t(r){for(;1;)switch(r.prev=r.next){case 0:return r.next=2,(0,x.getSession)(n);case 2:if(a=r.sent,!a){r.next=5;break}return r.abrupt('return',a);case 5:return r.abrupt('return',m(n,[S.currentSession.bind(null,n)]));case 6:case'end':return r.stop();}},t,this)}));return function n(){return t.apply(this,arguments)}}(),y=n.logout=function(){var t=(0,f.default)(c.default.mark(function t(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:(0,_.defaultStorage)(),a;return c.default.wrap(function t(r){for(;1;)switch(r.prev=r.next){case 0:return r.next=2,(0,x.getSession)(n);case 2:if(a=r.sent,a){r.next=5;break}return r.abrupt('return');case 5:r.t0=a.authType,r.next='WebID-OIDC'===r.t0?8:'WebID-TLS'===r.t0?18:18;break;case 8:return r.prev=8,r.next=11,S.logout(n);case 11:r.next=17;break;case 13:r.prev=13,r.t1=r['catch'](8),console.warn('Error logging out:'),console.error(r.t1);case 17:return r.abrupt('break',19);case 18:return r.abrupt('break',19);case 19:return r.abrupt('return',(0,x.clearSession)(n));case 20:case'end':return r.stop();}},t,this,[[8,13]])}));return function n(){return t.apply(this,arguments)}}(),v=a(370),w=a(417),x=a(122),_=a(84),k=a(129),C=a(222),T=r(C),E=a(125),S=r(E),A=function t(){var n=(0,k.currentUrlNoParams)();return{callbackUri:n?n.split('#')[0]:null,popupUri:null,storage:(0,_.defaultStorage)()}},I=n.fetch=function t(n,a){return(0,v.authnFetch)((0,_.defaultStorage)())(n,a)}},function(t,n,a){t.exports={default:a(346),__esModule:!0}},function(t,n,a){a(347),t.exports=a(16).Object.assign},function(t,n,a){var r=a(28);r(r.S+r.F,'Object',{assign:a(348)})},function(t,n,a){'use strict';var r=a(78),o=a(118),s=a(80),d=a(119),l=a(183),c=Object.assign;t.exports=!c||a(58)(function(){var t={},n={},a=Symbol(),r='abcdefghijklmnopqrst';return t[a]=7,r.split('').forEach(function(t){n[t]=t}),7!=c({},t)[a]||Object.keys(c({},n)).join('')!=r})?function t(n,a){for(var c=d(n),u=arguments.length,f=1,m=o.f,h=s.f;u>f;)for(var g=l(arguments[f++]),b=m?r(g).concat(m(g)):r(g),y=b.length,v=0,w;y>v;)h.call(g,w=b[v++])&&(c[w]=g[w]);return c}:c},function(t,n,a){var r=a(47),o=a(113),s=a(350);t.exports=function(t){return function(n,a,d){var l=r(n),c=o(l.length),u=s(d,c),f;if(t&&a!=a){for(;c>u;)if(f=l[u++],f!=f)return!0;}else for(;c>u;u++)if((t||u in l)&&l[u]===a)return t||u||0;return!t&&-1}}},function(t,n,a){var r=a(114),o=_Mathmax,s=_Mathmin;t.exports=function(t,n){return t=r(t),0>t?o(t+n,0):s(t,n)}},function(t,n,a){var r=function(){return this}()||Function('return this')(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf('regeneratorRuntime'),s=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=a(352),o)r.regeneratorRuntime=s;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,n){!function(n){'use strict';function a(t,n,a,r){var s=n&&n.prototype instanceof o?n:o,d=Object.create(s.prototype),l=new g(r||[]);return d._invoke=u(t,a,l),d}function r(t,n,a){try{return{type:'normal',arg:t.call(n,a)}}catch(t){return{type:'throw',arg:t}}}function o(){}function s(){}function d(){}function l(t){['next','throw','return'].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function c(t){function n(a,o,s,d){var l=r(t[a],t,o);if('throw'===l.type)d(l.arg);else{var c=l.arg,u=c.value;return u&&'object'==typeof u&&w.call(u,'__await')?Promise.resolve(u.__await).then(function(t){n('next',t,s,d)},function(t){n('throw',t,s,d)}):Promise.resolve(u).then(function(t){c.value=t,s(c)},d)}}function a(t,a){function r(){return new Promise(function(r,o){n(t,a,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=a}function u(t,n,a){var o=A;return function s(d,l){if(o==N)throw new Error('Generator is already running');if(o==j){if('throw'===d)throw l;return y()}for(a.method=d,a.arg=l;!0;){var c=a.delegate;if(c){var u=f(c,a);if(u){if(u===R)continue;return u}}if('next'===a.method)a.sent=a._sent=a.arg;else if('throw'===a.method){if(o==A)throw o=j,a.arg;a.dispatchException(a.arg)}else'return'===a.method&&a.abrupt('return',a.arg);o=N;var m=r(t,n,a);if('normal'===m.type){if(o=a.done?j:I,m.arg===R)continue;return{value:m.arg,done:a.done}}'throw'===m.type&&(o=j,a.method='throw',a.arg=m.arg)}}}function f(t,n){var a=t.iterator[n.method];if(void 0===a){if(n.delegate=null,'throw'===n.method){if(t.iterator.return&&(n.method='return',n.arg=void 0,f(t,n),'throw'===n.method))return R;n.method='throw',n.arg=new TypeError('The iterator does not provide a \'throw\' method')}return R}var o=r(a,t.iterator,n.arg);if('throw'===o.type)return n.method='throw',n.arg=o.arg,n.delegate=null,R;var s=o.arg;if(!s)return n.method='throw',n.arg=new TypeError('iterator result is not an object'),n.delegate=null,R;if(s.done)n[t.resultName]=s.value,n.next=t.nextLoc,'return'!==n.method&&(n.method='next',n.arg=void 0);else return s;return n.delegate=null,R}function m(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function h(t){var n=t.completion||{};n.type='normal',delete n.arg,t.completion=n}function g(t){this.tryEntries=[{tryLoc:'root'}],t.forEach(m,this),this.reset(!0)}function b(t){if(t){var n=t[_];if(n)return n.call(t);if('function'==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(w.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=void 0,n.done=!0,n};return r.next=r}}return{next:y}}function y(){return{value:void 0,done:!0}}var v=Object.prototype,w=v.hasOwnProperty,x='function'==typeof Symbol?Symbol:{},_=x.iterator||'@@iterator',k=x.asyncIterator||'@@asyncIterator',C=x.toStringTag||'@@toStringTag',T='object'==typeof t,E=n.regeneratorRuntime,S;if(E)return void(T&&(t.exports=E));E=n.regeneratorRuntime=T?t.exports:{},E.wrap=a;var A='suspendedStart',I='suspendedYield',N='executing',j='completed',R={},L={};L[_]=function(){return this};var O=Object.getPrototypeOf,P=O&&O(O(b([])));P&&P!==v&&w.call(P,_)&&(L=P);var M=d.prototype=o.prototype=Object.create(L);s.prototype=M.constructor=d,d.constructor=s,d[C]=s.displayName='GeneratorFunction',E.isGeneratorFunction=function(t){var n='function'==typeof t&&t.constructor;return!!n&&(n===s||'GeneratorFunction'===(n.displayName||n.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,!(C in t)&&(t[C]='GeneratorFunction')),t.prototype=Object.create(M),t},E.awrap=function(t){return{__await:t}},l(c.prototype),c.prototype[k]=function(){return this},E.AsyncIterator=c,E.async=function(t,n,r,o){var s=new c(a(t,n,r,o));return E.isGeneratorFunction(n)?s:s.next().then(function(t){return t.done?t.value:s.next()})},l(M),M[C]='Generator',M[_]=function(){return this},M.toString=function(){return'[object Generator]'},E.keys=function(t){var n=[];for(var a in t)n.push(a);return n.reverse(),function a(){for(;n.length;){var r=n.pop();if(r in t)return a.value=r,a.done=!1,a}return a.done=!0,a}},E.values=b,g.prototype={constructor:g,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,this.tryEntries.forEach(h),!t)for(var n in this)'t'===n.charAt(0)&&w.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if('throw'===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,r){return s.type='throw',s.arg=t,a.next=n,r&&(a.method='next',a.arg=void 0),!!r}if(this.done)throw t;for(var a=this,r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],s=o.completion;if('root'===o.tryLoc)return n('end');if(o.tryLoc<=this.prev){var d=w.call(o,'catchLoc'),l=w.call(o,'finallyLoc');if(d&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(d){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);}else if(!l)throw new Error('try statement without catch or finally');else if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}},abrupt:function(t,n){for(var a=this.tryEntries.length-1,r;0<=a;--a)if(r=this.tryEntries[a],r.tryLoc<=this.prev&&w.call(r,'finallyLoc')&&this.prev<r.finallyLoc){var o=r;break}o&&('break'===t||'continue'===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=n,o?(this.method='next',this.next=o.finallyLoc,R):this.complete(s)},complete:function(t,n){if('throw'===t.type)throw t.arg;return'break'===t.type||'continue'===t.type?this.next=t.arg:'return'===t.type?(this.rval=this.arg=t.arg,this.method='return',this.next='end'):'normal'===t.type&&n&&(this.next=n),R},finish:function(t){for(var n=this.tryEntries.length-1,a;0<=n;--n)if(a=this.tryEntries[n],a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),h(a),R},catch:function(t){for(var n=this.tryEntries.length-1,a;0<=n;--n)if(a=this.tryEntries[n],a.tryLoc===t){var r=a.completion;if('throw'===r.type){var o=r.arg;h(a)}return o}throw new Error('illegal catch attempt')},delegateYield:function(t,n,a){return this.delegate={iterator:b(t),resultName:n,nextLoc:a},'next'===this.method&&(this.arg=void 0),R}}}(function(){return this}()||Function('return this')())},function(t,n,a){a(184),a(120),a(189),a(361),a(368),a(369),t.exports=a(16).Promise},function(t,n,a){var r=a(114),o=a(112);t.exports=function(t){return function(n,d){var c=o(n)+'',s=r(d),u=c.length,l,a;return 0>s||s>=u?t?'':void 0:(l=c.charCodeAt(s),55296>l||56319<l||s+1===u||56320>(a=c.charCodeAt(s+1))||57343<a?t?c.charAt(s):l:t?c.slice(s,s+2):(l-55296<<10)+(a-56320)+65536)}}},function(t,n,a){'use strict';var r=a(187),o=a(59),s=a(83),d={};a(34)(d,a(9)('iterator'),function(){return this}),t.exports=function(t,n,a){t.prototype=r(d,{next:o(1,a)}),s(t,n+' Iterator')}},function(t,n,a){var r=a(26),o=a(29),s=a(78);t.exports=a(30)?Object.defineProperties:function t(n,a){o(n);for(var d=s(a),l=d.length,c=0,u;l>c;)r.f(n,u=d[c++],a[u]);return n}},function(t,n,a){var r=a(35),o=a(119),s=a(115)('IE_PROTO'),d=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,s)?t[s]:'function'==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?d:null}},function(t,n,a){'use strict';var r=a(359),o=a(360),s=a(61),d=a(47);t.exports=a(185)(Array,'Array',function(t,n){this._t=d(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,a=this._i++;return!t||a>=t.length?(this._t=void 0,o(1)):'keys'==n?o(0,a):'values'==n?o(0,t[a]):o(0,[a,t[a]])},'values'),s.Arguments=s.Array,r('keys'),r('values'),r('entries')},function(t,n){t.exports=function(){}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,a){'use strict';var r=a(82),o=a(8),s=a(57),d=a(190),l=a(28),c=a(46),u=a(77),f=a(362),m=a(363),h=a(194),g=a(195).set,b=a(365)(),y=a(121),v=a(196),w=a(197),x='Promise',_=o.TypeError,k=o.process,T=o[x],C='process'==d(k),E=function(){},S=D=y.f,A=!!function(){try{var t=T.resolve(1),n=(t.constructor={})[a(9)('species')]=function(t){t(E,E)};return(C||'function'==typeof PromiseRejectionEvent)&&t.then(E)instanceof n}catch(t){}}(),I=function(t){var n;return c(t)&&'function'==typeof(n=t.then)&&n},N=function(t,n){if(!t._n){t._n=!0;var a=t._c;b(function(){for(var r=t._v,o=1==t._s,s=0,d=function(n){var a=o?n.ok:n.fail,s=n.resolve,d=n.reject,l=n.domain,c,u;try{a?(!o&&(2==t._h&&L(t),t._h=1),!0===a?c=r:(l&&l.enter(),c=a(r),l&&l.exit()),c===n.promise?d(_('Promise-chain cycle')):(u=I(c))?u.call(c,s,d):s(c)):d(r)}catch(t){d(t)}};a.length>s;)d(a[s++]);t._c=[],t._n=!1,n&&!t._h&&j(t)})}},j=function(t){g.call(o,function(){var n=t._v,a=R(t),r,s,d;if(a&&(r=v(function(){C?k.emit('unhandledRejection',n,t):(s=o.onunhandledrejection)?s({promise:t,reason:n}):(d=o.console)&&d.error&&d.error('Unhandled promise rejection',n)}),t._h=C||R(t)?2:1),t._a=void 0,a&&r.e)throw r.v})},R=function(t){if(1==t._h)return!1;for(var n=t._a||t._c,a=0,r;n.length>a;)if(r=n[a++],r.fail||!R(r.promise))return!1;return!0},L=function(t){g.call(o,function(){var n;C?k.emit('rejectionHandled',t):(n=o.onrejectionhandled)&&n({promise:t,reason:t._v})})},O=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,!n._a&&(n._a=n._c.slice()),N(n,!0))},P=function(t){var n=this,a;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw _('Promise can\'t be resolved itself');(a=I(t))?b(function(){var r={_w:n,_d:!1};try{a.call(t,s(P,r,1),s(O,r,1))}catch(t){O.call(r,t)}}):(n._v=t,n._s=1,N(n,!1))}catch(t){O.call({_w:n,_d:!1},t)}}},M,D,B,U;A||(T=function t(n){f(this,T,x,'_h'),u(n),M.call(this);try{n(s(P,this,1),s(O,this,1))}catch(t){O.call(this,t)}},M=function t(n){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},M.prototype=a(366)(T.prototype,{then:function t(n,a){var r=S(h(this,T));return r.ok='function'!=typeof n||n,r.fail='function'==typeof a&&a,r.domain=C?k.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&N(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),B=function(){var t=new M;this.promise=t,this.resolve=s(P,t,1),this.reject=s(O,t,1)},y.f=S=function(t){return t===T||t===U?new B(t):D(t)}),l(l.G+l.W+l.F*!A,{Promise:T}),a(83)(T,x),a(367)(x),U=a(16)[x],l(l.S+l.F*!A,x,{reject:function t(n){var a=S(this),r=a.reject;return r(n),a.promise}}),l(l.S+l.F*(r||!A),x,{resolve:function t(n){return w(r&&this===U?T:this,n)}}),l(l.S+l.F*!(A&&a(198)(function(t){T.all(t)['catch'](E)})),x,{all:function t(n){var a=this,r=S(a),o=r.resolve,s=r.reject,d=v(function(){var t=[],r=0,d=1;m(n,!1,function(n){var l=r++,c=!1;t.push(void 0),d++,a.resolve(n).then(function(n){c||(c=!0,t[l]=n,--d||o(t))},s)}),--d||o(t)});return d.e&&s(d.v),r.promise},race:function t(n){var a=this,r=S(a),o=r.reject,s=v(function(){m(n,!1,function(t){a.resolve(t).then(r.resolve,o)})});return s.e&&o(s.v),r.promise}})},function(t,n){t.exports=function(t,n,a,r){if(!(t instanceof n)||r!==void 0&&r in t)throw TypeError(a+': incorrect invocation!');return t}},function(t,n,a){var r=a(57),o=a(191),s=a(192),d=a(29),l=a(113),c=a(193),u={},m={},n=t.exports=function(t,n,a,h,g){var b=g?function(){return t}:c(t),y=r(a,h,n?2:1),f=0,v,w,x,_;if('function'!=typeof b)throw TypeError(t+' is not iterable!');if(s(b)){for(v=l(t.length);v>f;f++)if(_=n?y(d(w=t[f])[0],w[1]):y(t[f]),_===u||_===m)return _;}else for(x=b.call(t);!(w=x.next()).done;)if(_=o(x,y,w.value,n),_===u||_===m)return _};n.BREAK=u,n.RETURN=m},function(t,n){t.exports=function(t,n,a){var r=a===void 0;switch(n.length){case 0:return r?t():t.call(a);case 1:return r?t(n[0]):t.call(a,n[0]);case 2:return r?t(n[0],n[1]):t.call(a,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(a,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(a,n[0],n[1],n[2],n[3]);}return t.apply(a,n)}},function(t,n,a){var r=a(8),o=a(195).set,s=r.MutationObserver||r.WebKitMutationObserver,d=r.process,l=r.Promise,c='process'==a(60)(d);t.exports=function(){var t=function(){var t,r;for(c&&(t=d.domain)&&t.exit();n;){r=n.fn,n=n.next;try{r()}catch(t){throw n?u():a=void 0,t}}a=void 0,t&&t.enter()},n,a,u;if(c)u=function(){d.nextTick(t)};else if(s){var f=!0,m=document.createTextNode('');new s(t).observe(m,{characterData:!0}),u=function(){m.data=f=!f}}else if(l&&l.resolve){var h=l.resolve();u=function(){h.then(t)}}else u=function(){o.call(r,t)};return function(t){var r={fn:t,next:void 0};a&&(a.next=r),n||(n=r,u()),a=r}}},function(t,n,a){var r=a(34);t.exports=function(t,n,a){for(var o in n)a&&t[o]?t[o]=n[o]:r(t,o,n[o]);return t}},function(t,n,a){'use strict';var r=a(8),o=a(16),s=a(26),d=a(30),l=a(9)('species');t.exports=function(t){var n='function'==typeof o[t]?o[t]:r[t];d&&n&&!n[l]&&s.f(n,l,{configurable:!0,get:function(){return this}})}},function(t,n,a){'use strict';var r=a(28),o=a(16),s=a(8),d=a(194),l=a(197);r(r.P+r.R,'Promise',{finally:function(t){var n=d(this,o.Promise||s.Promise),a='function'==typeof t;return this.then(a?function(a){return l(n,t()).then(function(){return a})}:t,a?function(a){return l(n,t()).then(function(){throw a})}:t)}})},function(t,n,a){'use strict';var r=a(28),o=a(121),s=a(196);r(r.S,'Promise',{try:function(t){var n=o.f(this),a=s(t);return(a.e?n.reject:n.resolve)(a.v),n.promise}})},function(t,n,a){'use strict';function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n.default=t,n}function o(t){return t&&t.__esModule?t:{default:t}}function s(t){var n=this;return function(){var a=(0,f.default)(c.default.mark(function a(r,o){var s,l,u,f;return c.default.wrap(function n(a){for(;1;)switch(a.prev=a.next){case 0:return o=o||{},a.next=3,(0,h.getSession)(t);case 3:return s=a.sent,a.next=6,d(t)(r);case 6:if(l=a.sent,!(s&&l)){a.next=9;break}return a.abrupt('return',y(s,r,o));case 9:return a.next=11,fetch(r,o);case 11:if(u=a.sent,401!==u.status){a.next=20;break}return a.next=15,(0,m.updateHostFromResponse)(t)(u);case 15:return a.next=17,d(t)(r);case 17:if(f=a.sent,!(s&&f)){a.next=20;break}return a.abrupt('return',y(s,r,o));case 20:return a.abrupt('return',u);case 21:case'end':return a.stop();}},a,n)}));return function(t,n){return a.apply(this,arguments)}}()}function d(t){var n=this;return function(){var a=(0,f.default)(c.default.mark(function a(r){var o,s;return c.default.wrap(function n(a){for(;1;)switch(a.prev=a.next){case 0:return a.next=2,(0,h.getSession)(t);case 2:if(o=a.sent,o){a.next=5;break}return a.abrupt('return',!1);case 5:return a.next=7,(0,m.getHost)(t)(r);case 7:return s=a.sent,a.abrupt('return',null!=s&&o.authType===s.authType);case 9:case'end':return a.stop();}},a,n)}));return function(t){return a.apply(this,arguments)}}()}Object.defineProperty(n,'__esModule',{value:!0});var l=a(36),c=o(l),u=a(37),f=o(u);n.authnFetch=s,a(44);var m=a(371),h=a(122),g=a(125),b=r(g),y=function(){var t=(0,f.default)(c.default.mark(function t(n,a,r){return c.default.wrap(function t(o){for(;1;)switch(o.prev=o.next){case 0:o.t0=n.authType,o.next='WebID-OIDC'===o.t0?3:'WebID-TLS'===o.t0?4:4;break;case 3:return o.abrupt('return',b.fetchWithCredentials(n)(a,r));case 4:return o.abrupt('return',fetch(a,r));case 5:case'end':return o.stop();}},t,void 0)}));return function n(a,r,o){return t.apply(this,arguments)}}()},function(t,n,a){'use strict';function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n.default=t,n}function o(t){return t&&t.__esModule?t:{default:t}}function s(t){var n=this;return function(){var a=(0,y.default)(g.default.mark(function a(r){var o,s,d,l;return g.default.wrap(function n(a){for(;1;)switch(a.prev=a.next){case 0:return o=T(r),a.next=3,(0,v.getSession)(t);case 3:if(s=a.sent,!(s&&T(s.idp)===o)){a.next=6;break}return a.abrupt('return',{url:o,authType:s.authType});case 6:return a.next=8,(0,w.getData)(t);case 8:if(d=a.sent,l=d.hosts,l){a.next=12;break}return a.abrupt('return',null);case 12:return a.abrupt('return',l[o]||null);case 13:case'end':return a.stop();}},a,n)}));return function(t){return a.apply(this,arguments)}}()}function d(t){var n=this;return function(){var a=(0,y.default)(g.default.mark(function a(r){var o=r.url,s=r.authType;return g.default.wrap(function n(a){for(;1;)switch(a.prev=a.next){case 0:return a.next=2,(0,w.updateStorage)(t,function(t){return(0,m.default)({},t,{hosts:(0,m.default)({},t.hosts,(0,u.default)({},o,{authType:s}))})});case 2:return a.abrupt('return',{url:o,authType:s});case 3:case'end':return a.stop();}},a,n)}));return function(t){return a.apply(this,arguments)}}()}function l(t){var n=this;return function(){var a=(0,y.default)(g.default.mark(function a(r){var o,s;return g.default.wrap(function n(a){for(;1;)switch(a.prev=a.next){case 0:if(o=void 0,o=_.requiresAuth(r)?'WebID-OIDC':C.requiresAuth(r)?'WebID-TLS':null,s=T(r.url),!o){a.next=6;break}return a.next=6,d(t)({url:s,authType:o});case 6:case'end':return a.stop();}},a,n)}));return function(t){return a.apply(this,arguments)}}()}Object.defineProperty(n,'__esModule',{value:!0}),n.hostNameFromRequestInfo=void 0;var c=a(199),u=o(c),f=a(76),m=o(f),h=a(36),g=o(h),b=a(37),y=o(b);n.getHost=s,n.saveHost=d,n.updateHostFromResponse=l;var v=a(122),w=a(84),x=a(125),_=r(x),k=a(222),C=r(k),T=n.hostNameFromRequestInfo=function t(n){var a=n instanceof URL?n:n instanceof Request?new URL(n.url):new URL(n);return a.host}},function(t,n,a){t.exports={default:a(373),__esModule:!0}},function(t,n,a){a(374);var r=a(16).Object;t.exports=function t(n,a,o){return r.defineProperty(n,a,o)}},function(t,n,a){var r=a(28);r(r.S+r.F*!a(30),'Object',{defineProperty:a(26).f})},function(t,n,a){t.exports={default:a(376),__esModule:!0}},function(t,n,a){var r=a(16),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function t(n){return o.stringify.apply(o,arguments)}},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=a(378),s=r(o),d=a(380),l=r(d),c='function'==typeof l.default&&'symbol'==typeof s.default?function(t){return typeof t}:function(t){return t&&'function'==typeof l.default&&t.constructor===l.default&&t!==l.default.prototype?'symbol':typeof t};n.default='function'==typeof l.default&&'symbol'===c(s.default)?function(t){return'undefined'==typeof t?'undefined':c(t)}:function(t){return t&&'function'==typeof l.default&&t.constructor===l.default&&t!==l.default.prototype?'symbol':'undefined'==typeof t?'undefined':c(t)}},function(t,n,a){t.exports={default:a(379),__esModule:!0}},function(t,n,a){a(120),a(189),t.exports=a(123).f('iterator')},function(t,n,a){t.exports={default:a(381),__esModule:!0}},function(t,n,a){a(382),a(184),a(388),a(389),t.exports=a(16).Symbol},function(t,n,a){'use strict';var r=a(8),o=a(35),s=a(30),d=a(28),l=a(186),c=a(383).KEY,u=a(58),f=a(116),m=a(83),h=a(79),g=a(9),b=a(123),y=a(124),v=a(384),w=a(385),x=a(29),_=a(47),C=a(111),T=a(59),E=a(187),S=a(386),A=a(387),I=a(26),N=a(78),R=A.f,L=I.f,O=S.f,P=r.Symbol,M=r.JSON,D=M&&M.stringify,B='prototype',U=g('_hidden'),q=g('toPrimitive'),F={}.propertyIsEnumerable,z=f('symbol-registry'),H=f('symbols'),W=f('op-symbols'),V=Object[B],G='function'==typeof P,J=r.QObject,K=!J||!J[B]||!J[B].findChild,X=s&&u(function(){return 7!=E(L({},'a',{get:function(){return L(this,'a',{value:7}).a}})).a})?function(t,n,a){var r=R(V,n);r&&delete V[n],L(t,n,a),r&&t!==V&&L(V,n,r)}:L,Z=function(t){var n=H[t]=E(P[B]);return n._k=t,n},Y=G&&'symbol'==typeof P.iterator?function(t){return'symbol'==typeof t}:function(t){return t instanceof P},Q=function t(n,a,r){return n===V&&Q(W,a,r),x(n),a=C(a,!0),x(r),o(H,a)?(r.enumerable?(o(n,U)&&n[U][a]&&(n[U][a]=!1),r=E(r,{enumerable:T(0,!1)})):(!o(n,U)&&L(n,U,T(1,{})),n[U][a]=!0),X(n,a,r)):L(n,a,r)},ee=function t(n,a){x(n);for(var r=v(a=_(a)),o=0,s=r.length,d;s>o;)Q(n,d=r[o++],a[d]);return n},te=function t(n,a){return a===void 0?E(n):ee(E(n),a)},ne=function t(n){var a=F.call(this,n=C(n,!0));return this===V&&o(H,n)&&!o(W,n)?!1:a||!o(this,n)||!o(H,n)||o(this,U)&&this[U][n]?a:!0},ae=function t(n,a){if(n=_(n),a=C(a,!0),n!==V||!o(H,a)||o(W,a)){var r=R(n,a);return r&&o(H,a)&&!(o(n,U)&&n[U][a])&&(r.enumerable=!0),r}},re=function t(n){for(var a=O(_(n)),r=[],s=0,d;a.length>s;)o(H,d=a[s++])||d==U||d==c||r.push(d);return r},ie=function t(n){for(var a=n===V,r=O(a?W:_(n)),s=[],d=0,l;r.length>d;)o(H,l=r[d++])&&(!a||o(V,l))&&s.push(H[l]);return s};G||(P=function t(){if(this instanceof P)throw TypeError('Symbol is not a constructor!');var n=h(0<arguments.length?arguments[0]:void 0),a=function(t){this===V&&a.call(W,t),o(this,U)&&o(this[U],n)&&(this[U][n]=!1),X(this,n,T(1,t))};return s&&K&&X(V,n,{configurable:!0,set:a}),Z(n)},l(P[B],'toString',function t(){return this._k}),A.f=ae,I.f=Q,a(201).f=S.f=re,a(80).f=ne,a(118).f=ie,s&&!a(82)&&l(V,'propertyIsEnumerable',ne,!0),b.f=function(t){return Z(g(t))}),d(d.G+d.W+d.F*!G,{Symbol:P});for(var oe=['hasInstance','isConcatSpreadable','iterator','match','replace','search','species','split','toPrimitive','toStringTag','unscopables'],se=0;oe.length>se;)g(oe[se++]);for(var j=N(g.store),de=0;j.length>de;)y(j[de++]);d(d.S+d.F*!G,'Symbol',{for:function(t){return o(z,t+='')?z[t]:z[t]=P(t)},keyFor:function t(n){if(!Y(n))throw TypeError(n+' is not a symbol!');for(var a in z)if(z[a]===n)return a},useSetter:function(){K=!0},useSimple:function(){K=!1}}),d(d.S+d.F*!G,'Object',{create:te,defineProperty:Q,defineProperties:ee,getOwnPropertyDescriptor:ae,getOwnPropertyNames:re,getOwnPropertySymbols:ie}),M&&d(d.S+d.F*(!G||u(function(){var t=P();return'[null]'!=D([t])||'{}'!=D({a:t})||'{}'!=D(Object(t))})),'JSON',{stringify:function t(n){if(!(void 0===n||Y(n))){for(var a=[n],r=1,o,s;arguments.length>r;)a.push(arguments[r++]);return o=a[1],'function'==typeof o&&(s=o),(s||!w(o))&&(o=function(t,n){if(s&&(n=s.call(this,t,n)),!Y(n))return n}),a[1]=o,D.apply(M,a)}}}),P[B][q]||a(34)(P[B],q,P[B].valueOf),m(P,'Symbol'),m(Math,'Math',!0),m(r.JSON,'JSON',!0)},function(t,n,a){var r=a(79)('meta'),o=a(46),s=a(35),d=a(26).f,l=0,c=Object.isExtensible||function(){return!0},u=!a(58)(function(){return c(Object.preventExtensions({}))}),f=function(t){d(t,r,{value:{i:'O'+ ++l,w:{}}})},m=function(t,n){if(!o(t))return'symbol'==typeof t?t:('string'==typeof t?'S':'P')+t;if(!s(t,r)){if(!c(t))return'F';if(!n)return'E';f(t)}return t[r].i},h=function(t,n){if(!s(t,r)){if(!c(t))return!0;if(!n)return!1;f(t)}return t[r].w},g=function(t){return u&&b.NEED&&c(t)&&!s(t,r)&&f(t),t},b=t.exports={KEY:r,NEED:!1,fastKey:m,getWeak:h,onFreeze:g}},function(t,n,a){var r=a(78),o=a(118),s=a(80);t.exports=function(t){var n=r(t),a=o.f;if(a)for(var d=a(t),l=s.f,c=0,u;d.length>c;)l.call(t,u=d[c++])&&n.push(u);return n}},function(t,n,a){var r=a(60);t.exports=Array.isArray||function t(n){return'Array'==r(n)}},function(t,n,a){var r=a(47),o=a(201).f,s={}.toString,d='object'==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(t){try{return o(t)}catch(t){return d.slice()}};t.exports.f=function t(n){return d&&'[object Window]'==s.call(n)?l(n):o(r(n))}},function(t,n,a){var r=a(80),o=a(59),s=a(47),d=a(111),l=a(35),c=a(181),u=Object.getOwnPropertyDescriptor;n.f=a(30)?u:function t(n,a){if(n=s(n),a=d(a,!0),c)try{return u(n,a)}catch(t){}return l(n,a)?o(!r.f.call(n,a),n[a]):void 0}},function(t,n,a){a(124)('asyncIterator')},function(t,n,a){a(124)('observable')},function(t,n,a){function r(t,n,a){var r=n&&a||0;'string'==typeof t&&(n='binary'==t?Array(16):null,t=null),t=t||{};var d=t.random||(t.rng||o)();if(d[6]=64|15&d[6],d[8]=128|63&d[8],n)for(var l=0;16>l;++l)n[r+l]=d[l];return n||s(d)}var o=a(391),s=a(392);t.exports=r},function(t,n,a){(function(n){var a=n.crypto||n.msCrypto,r;if(a&&a.getRandomValues){var o=new Uint8Array(16);r=function t(){return a.getRandomValues(o),o}}if(!r){var s=Array(16);r=function(){for(var t=0,n;16>t;t++)0==(3&t)&&(n=4294967296*Math.random()),s[t]=255&n>>>((3&t)<<3);return s}}t.exports=r}).call(n,a(4))},function(t,n){function a(t,n){var a=n||0,o=r;return o[t[a++]]+o[t[a++]]+o[t[a++]]+o[t[a++]]+'-'+o[t[a++]]+o[t[a++]]+'-'+o[t[a++]]+o[t[a++]]+'-'+o[t[a++]]+o[t[a++]]+'-'+o[t[a++]]+o[t[a++]]+o[t[a++]]+o[t[a++]]+o[t[a++]]+o[t[a++]]}for(var r=[],o=0;256>o;++o)r[o]=(o+256).toString(16).substr(1);t.exports=a},function(t,n,a){'use strict';function r(t){if(Array.isArray(t)){for(var n=0,a=Array(t.length);n<t.length;n++)a[n]=t[n];return a}return Array.from(t)}var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&'function'==typeof Symbol&&t.constructor===Symbol?'symbol':typeof t},s=function(){function t(t,n){var a=[],r=!0,o=!1,s;try{for(var d=t[Symbol.iterator](),l;!(r=(l=d.next()).done)&&(a.push(l.value),!(n&&a.length===n));r=!0);}catch(t){o=!0,s=t}finally{try{!r&&d['return']&&d['return']()}finally{if(o)throw s}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();Object.defineProperty(n,'__esModule',{value:!0});var d=a(203),l=function t(n){return function(t){return n+'='+(t&&!(0,d.isToken)(t)?(0,d.quote)(t):t)}},c=function t(n){return n.reduce(function(t,n){var a=s(n,2),o=a[0],c=a[1],u=l(o);if(!(0,d.isToken)(o))throw new TypeError;return Array.isArray(c)?[].concat(r(t),r(c.map(u))):[].concat(r(t),[u(c)])},[])},u=function t(n,a){if(Array.isArray(n))return c(n);if('object'===('undefined'==typeof n?'undefined':o(n)))return t(Object.keys(n).map(function(t){return[t,n[t]]}),a);throw new TypeError};n.default=function(t,n,a){var s='string'==typeof t?{scheme:t,token:n,params:a}:t;if('object'!==('undefined'==typeof s?'undefined':o(s)))throw new TypeError;else if(!(0,d.isScheme)(s.scheme))throw new TypeError('Invalid scheme.');return[s.scheme].concat(r('undefined'==typeof s.token?[]:[s.token]),r('undefined'==typeof s.params?[]:u(s.params))).join(' ')}},function(t,n,a){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var r=a(203),o=/((?:[a-zA-Z0-9._~+\/-]+=*(?:\s+|$))|[^\u0000-\u001F\u007F()<>@,;:\\"/?={}\[\]\u0020\u0009]+)(?:=([^\\"=\s,]+|"(?:[^"\\]|\\.)*"))?/g,s=function t(n,a){var o='"'===a.charAt(0)?(0,r.unquote)(a):a.trim();if(Array.isArray(n))return n.concat(o);return n?[n,o]:o},d=function t(n,a){for(var r=null,d=null,l={};null!==(r=o.exec(a));)r[2]?l[r[1]]=s(l[r[1]],r[2]):d=s(d,r[1]);return{scheme:n,params:l,token:d}};n.default=function(t){if('string'!=typeof t)throw new TypeError('Header value must be a string.');var n=t.indexOf(' '),a=t.substr(0,n);if(!(0,r.isScheme)(a))throw new TypeError('Invalid scheme '+a);return d(a,t.substr(n))}},function(t,n,a){'use strict';t.exports=a(204)},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=a(207),d=function(){function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.initialize(n,a)}return o(t,null,[{key:'schema',get:function t(){throw new Error('Schema must be defined by classes extending JSONDocument')}}]),o(t,[{key:'initialize',value:function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this.constructor.schema;r.initialize(this,n,a)}},{key:'validate',value:function t(n){var a=this.constructor.schema;return(n||a).validate(this)}},{key:'patch',value:function t(n){var t=new s(n);t.apply(this)}},{key:'select',value:function t(){}},{key:'project',value:function t(n){return n.project(this)}}],[{key:'serialize',value:function t(n){return JSON.stringify(n)}},{key:'deserialize',value:function t(n){try{return JSON.parse(n)}catch(t){throw new Error('Failed to parse JSON')}}}]),t}();t.exports=d},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=a(127),d=1,l=function(){function t(n){var a=this;r(this,t),Object.defineProperty(this,'mapping',{enumerable:!1,value:new Map}),Object.keys(n).forEach(function(t){var r=n[t];a.mapping.set(new s(t,d),new s(r,d))})}return o(t,[{key:'map',value:function t(n,a){this.mapping.forEach(function(t,r){r.add(n,t.get(a))})}},{key:'project',value:function t(n,a){this.mapping.forEach(function(t,r){t.add(a,r.get(n))})}}]),t}();t.exports=l},function(t,n,a){'use strict';function r(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function o(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var s='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t},d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(206),c=a(208),u=function(){function t(n){o(this,t),Object.assign(this,n),Object.defineProperties(this,{initialize:{enumerable:!1,writeable:!1,value:l.compile(n)},validate:{enumerable:!1,writeable:!1,value:c.compile(n)}})}return d(t,[{key:'extend',value:function n(a){function o(t){return t&&'object'===('undefined'==typeof t?'undefined':s(t))&&null!==t&&!Array.isArray(t)}function d(t,n){var a=Object.assign({},t);return o(t)&&o(n)&&Object.keys(n).forEach(function(s){o(n[s])?s in t?a[s]=d(t[s],n[s]):Object.assign(a,r({},s,n[s])):Object.assign(a,r({},s,n[s]))}),a}var l=d(this,a);return new t(l)}}]),t}();t.exports=u},function(t,n,a){'use strict';(function(t){function r(n,a){return void 0===a&&(a='utf8'),t.isBuffer(n)?d(n.toString('base64')):d(new t(n,a).toString('base64'))}function o(n,a){return void 0===a&&(a='utf8'),new t(s(n),'base64').toString(a)}function s(t){return t=t.toString(),c.default(t).replace(/\-/g,'+').replace(/_/g,'/')}function d(t){return t.replace(/=/g,'').replace(/\+/g,'-').replace(/\//g,'_')}function l(n){return new t(s(n),'base64')}var c=a(400);;var u=r;u.encode=r,u.decode=o,u.toBase64=s,u.fromBase64=d,u.toBuffer=l,Object.defineProperty(n,'__esModule',{value:!0}),n.default=u}).call(n,a(0).Buffer)},function(t,n,a){'use strict';(function(t){function a(n){var a=4,r=n.length,o=r%a;if(!o)return n;var s=r,d=a-o,l=r+d,c=new t(l);for(c.write(n);d--;)c.write('=',s++);return c.toString()}Object.defineProperty(n,'__esModule',{value:!0}),n.default=a}).call(n,a(0).Buffer)},function(t,n,a){'use strict';var r=a(402),o=a(403),s=a(405),d=a(406),l=new d;l.define('HS256','sign',new o({name:'HMAC',hash:{name:'SHA-256'}})),l.define('HS384','sign',new o({name:'HMAC',hash:{name:'SHA-384'}})),l.define('HS512','sign',new o({name:'HMAC',hash:{name:'SHA-512'}})),l.define('RS256','sign',new s({name:'RSASSA-PKCS1-v1_5',hash:{name:'SHA-256'}})),l.define('RS384','sign',new s({name:'RSASSA-PKCS1-v1_5',hash:{name:'SHA-384'}})),l.define('RS512','sign',new s({name:'RSASSA-PKCS1-v1_5',hash:{name:'SHA-512'}})),l.define('none','sign',new r({})),l.define('HS256','verify',new o({name:'HMAC',hash:{name:'SHA-256'}})),l.define('HS384','verify',new o({name:'HMAC',hash:{name:'SHA-384'}})),l.define('HS512','verify',new o({name:'HMAC',hash:{name:'SHA-512'}})),l.define('RS256','verify',new s({name:'RSASSA-PKCS1-v1_5',hash:{name:'SHA-256'}})),l.define('RS384','verify',new s({name:'RSASSA-PKCS1-v1_5',hash:{name:'SHA-384'}})),l.define('RS512','verify',new s({name:'RSASSA-PKCS1-v1_5',hash:{name:'SHA-512'}})),l.define('none','verify',new r({})),l.define('RS256','importKey',new s({name:'RSASSA-PKCS1-v1_5',hash:{name:'SHA-256'}})),l.define('RS384','importKey',new s({name:'RSASSA-PKCS1-v1_5',hash:{name:'SHA-384'}})),l.define('RS512','importKey',new s({name:'RSASSA-PKCS1-v1_5',hash:{name:'SHA-512'}})),t.exports=l},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=function(){function t(){r(this,t)}return o(t,[{key:'sign',value:function t(){return Promise.resolve('')}},{key:'verify',value:function t(){}}]),t}();t.exports=s},function(t,n,a){'use strict';(function(n){function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=a(38),d=a(85),l=a(209),c=function(){function t(n){r(this,t),this.params=n}return o(t,[{key:'sign',value:function t(a,r){var o=this.params;return r=new l().encode(r),d.subtle.sign(o,a,r).then(function(t){return s(n.from(t))})}},{key:'verify',value:function t(n,a,r){var o=this.params;return'string'==typeof a&&(a=Uint8Array.from(s.toBuffer(a))),'string'==typeof r&&(r=new l().encode(r)),d.subtle.verify(o,n,a,r)}},{key:'assertSufficientKeyLength',value:function t(n){if(n.length<this.bitlength)throw new Error('The key is too short.')}}]),t}();t.exports=c}).call(n,a(0).Buffer)},function(t,n){t.exports=__WEBPACK_EXTERNAL_MODULE_404__},function(t,n,a){'use strict';(function(n){function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=a(38),d=a(85),l=a(209),c=function(){function t(n){r(this,t),this.params=n}return o(t,[{key:'sign',value:function t(a,r){var o=this.params;return r=new l().encode(r),d.subtle.sign(o,a,r).then(function(t){return s(n.from(t))})}},{key:'verify',value:function t(n,a,r){var o=this.params;return'string'==typeof a&&(a=Uint8Array.from(s.toBuffer(a))),'string'==typeof r&&(r=new l().encode(r)),d.subtle.verify(o,n,a,r)}},{key:'importKey',value:function t(n){var a=Object.assign({},n),r=this.params,o=n.key_ops||[];return('sig'===n.use&&o.push('verify'),'enc'===n.use)?Promise.resolve(n):(n.key_ops&&(o=n.key_ops),d.subtle.importKey('jwk',a,r,!0,o).then(function(t){return Object.defineProperty(a,'cryptoKey',{enumerable:!1,value:t}),a}))}}]),t}();t.exports=c}).call(n,a(0).Buffer)},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}var o=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=a(210),d=['sign','verify','encrypt','decrypt','importKey'],l=function(){function t(){var n=this;r(this,t),d.forEach(function(t){n[t]={}})}return o(t,[{key:'define',value:function t(n,a,r){var o=this[a];o[n]=r}},{key:'normalize',value:function t(n,a){var r=this[n];if(!r)return new SyntaxError;var o=r[a];return o?o:new s(a)}}],[{key:'operations',get:function t(){return d}}]),t}();t.exports=l},function(t,n,a){'use strict';var r=a(17),o=r.Formats;o.register('StringOrURI',/(?:)/),o.register('NumericDate',/(?:)/),o.register('URI',/(?:)/),o.register('url',/(?:)/),o.register('base64',/(?:)/),o.register('base64url',/(?:)/),o.register('MediaType',/(?:)/)},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(17),c=l.JSONDocument,u=a(214),f=a(213),m=function(t){function n(){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),d(n,null,[{key:'importKeys',value:function t(a){var r=this.schema.validate(a);if(!r.valid)return Promise.reject(new Error('Invalid JWKSet: '+JSON.stringify(r,null,2)));if(!a.keys)return Promise.reject(new Error('Cannot import JWKSet: keys property is empty'));var o,s;try{o=new n(a),s=a.keys.map(function(t){return f.importKey(t)})}catch(t){return Promise.reject(t)}return Promise.all(s).then(function(t){return o.keys=t,o})}},{key:'schema',get:function t(){return u}}]),n}(c);t.exports=m},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t},l=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),c=a(38),u=a(17),f=u.JSONDocument,m=a(215),h=a(219),g=a(212),b=function(t){function n(){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),l(n,[{key:'isJWE',value:function t(){return!!this.header.enc}},{key:'resolveKeys',value:function t(n){var a=this.header.kid,r,o;if(Array.isArray(n)&&(r=n),n.keys&&(r=n.keys),n.keys||'object'!==('undefined'==typeof n?'undefined':d(n))||(r=[n]),!r)throw new g('Invalid JWK argument');return o=a?r.find(function(t){return t.kid===a}):r.find(function(t){return'sig'===t.use}),!!o&&(this.key=o.cryptoKey,!0)}},{key:'encode',value:function t(){var n=this.validate();if(!n.valid)return Promise.reject(n);var a=this;return this.isJWE()?JWE.encrypt(a):h.sign(a)}},{key:'verify',value:function t(){var n=this.validate();return n.valid?h.verify(this):Promise.reject(n)}}],[{key:'decode',value:function t(n){var a=this,r;if('string'!=typeof n)throw new g('JWT must be a string');if(n.startsWith('{')){try{n=JSON.parse(n,function(){})}catch(t){throw new g('Invalid JWT serialization')}n.serialization=n.signatures||n.recipients?'json':'flattened',r=new a(n,{filter:!1})}else try{var o='compact',s=n.split('.'),d=s.length;if(3!==d&&5!==d)throw new Error('Malformed JWT');var l=JSON.parse(c.decode(s[0]));if(3===d){var u='JWS',f=JSON.parse(c.decode(s[1])),m=s[2];r=new a({type:u,segments:s,header:l,payload:f,signature:m,serialization:o},{filter:!1})}5===d}catch(t){throw new g('Invalid JWT compact serialization')}return r}},{key:'encode',value:function t(a,r,o){var s=new n(a,r);return s.encode(o)}},{key:'verify',value:function t(a,r){var o=n.decode(r);return o.key=a,o.verify().then(function(t){return o})}},{key:'schema',get:function t(){return m}}]),n}(f);t.exports=b},function(t,n,a){(function(n){const r=a(126),o=a(38),s=a(85),{JWT:d}=a(62),l=a(220),{URL:c}=a(41);class u{static create(t,a,d){const{provider:f,defaults:m,registration:h}=t;let g,b,y,v;return Promise.resolve().then(()=>(r(f.configuration,'RelyingParty provider OpenID Configuration is missing'),r(m.authenticate,'RelyingParty default authentication parameters are missing'),r(h,'RelyingParty client registration is missing'),g=f.configuration.issuer,b=f.configuration.authorization_endpoint,y={client_id:h.client_id},v=Object.assign(m.authenticate,y,a),r(g,'Missing issuer in provider OpenID Configuration'),r(b,'Missing authorization_endpoint in provider OpenID Configuration'),r(v.scope,'Missing scope parameter in authentication request'),r(v.response_type,'Missing response_type parameter in authentication request'),r(v.client_id,'Missing client_id parameter in authentication request'),r(v.redirect_uri,'Missing redirect_uri parameter in authentication request'),v.state=Array.from(s.getRandomValues(new Uint8Array(16))),v.nonce=Array.from(s.getRandomValues(new Uint8Array(16))),Promise.all([s.subtle.digest({name:'SHA-256'},new Uint8Array(v.state)),s.subtle.digest({name:'SHA-256'},new Uint8Array(v.nonce))]))).then((t)=>{let a=o(n.from(t[0])),r=o(n.from(t[1])),s=`${g}/requestHistory/${a}`;d[s]=JSON.stringify(v),v.state=a,v.nonce=r}).then(()=>u.generateSessionKeys()).then((t)=>{u.storeSessionKeys(t,v,d)}).then(()=>{if(f.configuration.request_parameter_supported)return u.encodeRequestParams(v).then((t)=>{v=t})}).then(()=>{let t=new c(b);return t.search=l.encode(v),t.href})}static generateSessionKeys(){return s.subtle.generateKey({name:'RSASSA-PKCS1-v1_5',modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:'SHA-256'}},!0,['sign','verify']).then((t)=>Promise.all([s.subtle.exportKey('jwk',t.publicKey),s.subtle.exportKey('jwk',t.privateKey)])).then((t)=>{let[n,a]=t;return{public:n,private:a}})}static storeSessionKeys(t,n,a){a['oidc.session.privateKey']=JSON.stringify(t.private),n.key=t.public}static encodeRequestParams(t){const n=['scope','client_id','response_type','state'],a=Object.keys(t).filter((t)=>!n.includes(t));let r={};a.forEach((n)=>{r[n]=t[n]});let o=new d({header:{alg:'none'},payload:r},{filter:!1});return o.encode().then((n)=>{let a={scope:t.scope,client_id:t.client_id,response_type:t.response_type,request:n,state:t.state};return a})}}t.exports=u}).call(n,a(0).Buffer)},function(t,n,a){(function(n,r){const{URL:o}=a(41),s=a(126),d=a(85),l=a(38),c=a(44),u=c.Headers?c.Headers:n.Headers,f=a(220),m=a(412),h=a(414),g=a(221);class b{static validateResponse(t){return Promise.resolve(t).then(this.parseResponse).then(this.matchRequest).then(this.validateStateParam).then(this.errorResponse).then(this.validateResponseMode).then(this.validateResponseParams).then(this.exchangeAuthorizationCode).then(this.validateIDToken).then(h.fromAuthResponse)}static parseResponse(t){let{redirect:n,body:a}=t;if(n&&a||!n&&!a)throw new Error('Invalid response mode');if(n){let a=new o(n),{search:r,hash:s}=a;if(r&&s||!r&&!s)throw new Error('Invalid response mode');r&&(t.params=f.decode(r.substring(1)),t.mode='query'),s&&(t.params=f.decode(s.substring(1)),t.mode='fragment')}return a&&(t.params=f.decode(a),t.mode='form_post'),t}static matchRequest(t){let{rp:n,params:a,session:r}=t,o=a.state,s=n.provider.configuration.issuer;if(!o)throw new Error('Missing state parameter in authentication response');let d=`${s}/requestHistory/${o}`,l=r[d];if(!l)throw new Error('Mismatching state parameter in authentication response');return t.request=JSON.parse(l),t}static validateStateParam(t){let n=new Uint8Array(t.request.state),a=t.params.state;return d.subtle.digest({name:'SHA-256'},n).then((n)=>{if(a!==l(r.from(n)))throw new Error('Mismatching state parameter in authentication response');return t})}static errorResponse(t){let n=t.params.error;return n?Promise.reject(n):Promise.resolve(t)}static validateResponseMode(t){if('code'!==t.request.response_type&&'query'===t.mode)throw new Error('Invalid response mode');return t}static validateResponseParams(t){let{request:n,params:a}=t,r=n.response_type.split(' ');return r.includes('code')&&s(a.code,'Missing authorization code in authentication response'),r.includes('id_token')&&s(a.id_token,'Missing id_token in authentication response'),r.includes('token')&&(s(a.access_token,'Missing access_token in authentication response'),s(a.token_type,'Missing token_type in authentication response')),t}static exchangeAuthorizationCode(t){let{rp:n,params:a,request:o}=t,d=a.code;if(!d||'code'!==o.response_type)return Promise.resolve(t);let{provider:l,registration:m}=n,h=m.client_id,b=m.client_secret;if(!b)return Promise.reject(new Error('Client cannot exchange authorization code because it is not a confidential client'));let y=l.configuration.token_endpoint,v='POST',w=new u({"Content-Type":'application/x-www-form-urlencoded'}),x={grant_type:'authorization_code',code:d,redirect_uri:o.redirect_uri},_=m.token_endpoint_auth_method||'client_secret_basic';if('client_secret_basic'===_){let t=new r(`${h}:${b}`).toString('base64');w.set('Authorization',`Basic ${t}`)}'client_secret_post'===_&&(x.client_id=h,x.client_secret=b);let k=f.encode(x);return c(y,{method:v,headers:w,body:k}).then(g('Error exchanging authorization code')).then((t)=>t.json()).then((n)=>(s(n.access_token,'Missing access_token in token response'),s(n.token_type,'Missing token_type in token response'),s(n.id_token,'Missing id_token in token response'),t.params=Object.assign(t.params,n),t))}static validateIDToken(t){return t.params.id_token?Promise.resolve(t).then(b.decryptIDToken).then(b.decodeIDToken).then(b.validateIssuer).then(b.validateAudience).then(b.resolveKeys).then(b.verifySignature).then(b.validateExpires).then(b.verifyNonce).then(b.validateAcr).then(b.validateAuthTime).then(b.validateAccessTokenHash).then(b.validateAuthorizationCodeHash):Promise.resolve(t)}static decryptIDToken(t){return Promise.resolve(t)}static decodeIDToken(t){let n=t.params.id_token;return n&&(t.decoded=m.decode(n)),t}static validateIssuer(t){let n=t.rp.provider.configuration,a=t.decoded.payload;if(a.iss!==n.issuer)throw new Error('Mismatching issuer in ID Token');return t}static validateAudience(t){let n=t.rp.registration,{aud:a,azp:r}=t.decoded.payload;if('string'==typeof a&&a!==n.client_id)throw new Error('Mismatching audience in id_token');if(Array.isArray(a)&&!a.includes(n.client_id))throw new Error('Mismatching audience in id_token');if(Array.isArray(a)&&!r)throw new Error('Missing azp claim in id_token');if(r&&r!==n.client_id)throw new Error('Mismatching azp claim in id_token');return t}static resolveKeys(t){let n=t.rp,a=n.provider,r=t.decoded;return Promise.resolve(a.jwks).then((t)=>t?t:n.jwks()).then((n)=>{if(r.resolveKeys(n))return Promise.resolve(t);throw new Error('Cannot resolve signing key for ID Token')})}static verifySignature(t){let n=t.decoded.header.alg,a=t.rp.registration,r=a.id_token_signed_response_alg||'RS256';if(n!==r)throw new Error(`Expected ID Token to be signed with ${r}`);return t.decoded.verify().then((n)=>{if(!n)throw new Error('Invalid ID Token signature');return t})}static validateExpires(t){let n=t.decoded.payload.exp;if(n<=_Mathfloor(Date.now()/1e3))throw new Error('Expired ID Token');return t}static verifyNonce(t){let n=new Uint8Array(t.request.nonce),a=t.decoded.payload.nonce;if(!a)throw new Error('Missing nonce in ID Token');return d.subtle.digest({name:'SHA-256'},n).then((n)=>{if(a!==l(r.from(n)))throw new Error('Mismatching nonce in ID Token');return t})}static validateAcr(t){return t}static validateAuthTime(t){return t}static validateAccessTokenHash(t){return t}static validateAuthorizationCodeHash(t){return t}}t.exports=b}).call(n,a(4),a(0).Buffer)},function(t,n,a){const{JWT:r}=a(62),o=a(413);class s extends r{static get schema(){return o}}t.exports=s},function(t,n,a){const{JWTSchema:r}=a(62),o=r.extend({properties:{header:{},payload:{properties:{iss:{type:'string',format:'url'},sub:{type:'string',maxLength:255},auth_time:{type:'integer',format:'NumericDate'},nonce:{type:'string'},acr:{type:'string'},amr:{type:'array',items:{type:'string'}},azp:{type:'string',format:'StringOrURI'}},required:['iss','sub','aud','exp','iat']}}});t.exports=o},function(t,n,a){'use strict';class r{constructor(t){this.idp=t.idp,this.clientId=t.clientId,this.sessionKey=t.sessionKey,this.decoded=t.decoded,this.accessToken=t.accessToken,this.idToken=t.idToken}static fromAuthResponse(t){const n=a(204),o=t.decoded.payload,s=t.rp.registration,d=t.session[n.SESSION_PRIVATE_KEY];let l={sessionKey:d,idp:o.iss,clientId:s.client_id,decoded:t.decoded,accessToken:t.params.access_token,idToken:t.params.id_token};return new r(l)}}t.exports=r},function(t,n,a){const{JSONSchema:r}=a(17),o=new r({type:'object',properties:{provider:{type:'object',properties:{name:{type:'string'},url:{type:'string',format:'uri'},configuration:{},jwks:{}},required:['url']},defaults:{type:'object',properties:{authenticate:{type:'object',properties:{redirect_uri:{type:'string',format:'uri'},response_type:{type:'string',default:'id_token token',enum:['code','token','id_token token','id_token token code']},display:{type:'string',default:'page',enum:['page','popup']},scope:{type:['string','array'],default:['openid']}}},register:{}}},registration:{},store:{type:'object',default:{}}}});t.exports=o},function(t,n,a){'use strict';function r(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function o(t,n){if(!t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:t}function s(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var d=function(){function t(t,n){for(var a=0,r;a<n.length;a++)r=n[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(41),c=l.URL,u=a(62),f=u.JWT,m=u.JWK,h=3600,g=function(t){function n(){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),d(n,null,[{key:'issueFor',value:function t(a,r){if(!a)throw new Error('Cannot issue PoPToken - missing resource server URI');if(!r.sessionKey)throw new Error('Cannot issue PoPToken - missing session key');if(!r.idToken)throw new Error('Cannot issue PoPToken - missing id token');var o=JSON.parse(r.sessionKey);return m.importKey(o).then(function(t){var o={aud:new c(a).origin,key:t,iss:r.clientId,id_token:r.idToken};return n.issue(o)}).then(function(t){return t.encode()})}},{key:'issue',value:function t(a){var r=a.aud,o=a.iss,s=a.key,d=s.alg,l=a.iat||_Mathfloor(Date.now()/1e3),c=a.max||h,u=l+c,f={alg:d},m={iss:o,aud:r,exp:u,iat:l,id_token:a.id_token,token_type:'pop'},g=new n({header:f,payload:m,key:s.cryptoKey},{filter:!1});return g}}]),n}(f);t.exports=g},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,'__esModule',{value:!0}),n.openIdpSelector=n.startPopupServer=n.appOriginHandler=n.loginHandler=n.storageHandler=void 0;var o=a(81),s=r(o),d=a(418),l=r(d),c=a(200),u=a(129),f=function t(n,a,r){return(0,c.combineHandlers)(m(n),h(a,r),g)},m=n.storageHandler=function t(n){return function(t){var a=t.id,r=t.method,o=t.args;return'storage/getItem'===r?n.getItem.apply(n,(0,l.default)(o)).then(function(t){return{id:a,ret:t}}):'storage/setItem'===r?n.setItem.apply(n,(0,l.default)(o)).then(function(){return{id:a,ret:null}}):'storage/removeItem'===r?n.removeItem.apply(n,(0,l.default)(o)).then(function(){return{id:a,ret:null}}):null}},h=n.loginHandler=function t(n,a){return function(t){var r=t.id,o=t.method,d=t.args;return'getLoginOptions'===o?s.default.resolve({id:r,ret:{popupUri:n.popupUri,callbackUri:n.callbackUri}}):'foundSession'===o?(a(d[0]),s.default.resolve({id:r,ret:null})):null}},g=n.appOriginHandler=function t(n){var a=n.id,r=n.method;return'getAppOrigin'===r?s.default.resolve({id:a,ret:window.location.origin}):null},b=n.startPopupServer=function t(n,a,r){return new s.default(function(t,o){if(!(r.popupUri&&r.callbackUri))return o(new Error('Cannot serve a popup without both "options.popupUri" and "options.callbackUri"'));var s=(0,c.server)(a,(0,u.originOf)(r.popupUri))(f(n,r,function(n){s.stop(),t(n)}));s.start()})},y=n.openIdpSelector=function t(n){if(!(n.popupUri&&n.callbackUri))throw new Error('Cannot open IDP select UI.  Must provide both "options.popupUri" and "options.callbackUri".');var a=650,r=400,o=window.open(n.popupUri,'_blank','width='+a+',height='+r+',left='+(window.innerWidth-a)/2+',top='+(window.innerHeight-r)/2);return o}},function(t,n,a){'use strict';function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=a(419),s=r(o);n.default=function(t){if(Array.isArray(t)){for(var n=0,a=Array(t.length);n<t.length;n++)a[n]=t[n];return a}return(0,s.default)(t)}},function(t,n,a){t.exports={default:a(420),__esModule:!0}},function(t,n,a){a(120),a(421),t.exports=a(16).Array.from},function(t,n,a){'use strict';var r=a(57),o=a(28),s=a(119),d=a(191),l=a(192),c=a(113),u=a(422),f=a(193);o(o.S+o.F*!a(198)(function(t){Array.from(t)}),'Array',{from:function t(n){var a=s(n),o='function'==typeof this?this:Array,m=arguments.length,h=1<m?arguments[1]:void 0,g=void 0!==h,b=0,y=f(a),v,w,x,_;if(g&&(h=r(h,2<m?arguments[2]:void 0,2)),void 0!=y&&!(o==Array&&l(y)))for(_=y.call(a),w=new o;!(x=_.next()).done;b++)u(w,b,g?d(_,h,[x.value,b],!0):x.value);else for(v=c(a.length),w=new o(v);v>b;b++)u(w,b,g?h(a[b],b):a[b]);return w.length=b,w}})},function(t,n,a){'use strict';var r=a(26),o=a(59);t.exports=function(t,n,a){n in t?r.f(t,n,o(0,a)):t[n]=a}},function(t,n,a){'use strict';function r(t,n){var a=t.dom,r=t.div;if(t.me&&!t.me.uri)throw new Error('newThingUI:  Invalid userid '+me);var s='padding: 0.7em; width: 2em; height: 2em;',d=r.appendChild(a.createElement('img')),u=!1;d.setAttribute('src',l.icons.iconBase+'noun_34653_green.svg'),d.setAttribute('style',s),d.setAttribute('title','Add another tool to the meeting');var f=function t(n){var o=r.appendChild(a.createElement('pre'));o.setAttribute('style','background-color: pink'),o.appendChild(a.createTextNode(n))},m=function t(n){u=!u,d.setAttribute('style',s+(u?'background-color: yellow;':'')),k(u?'':'display: none;')},h=function t(){visibile=!1,d.setAttribute('style',s+(u?'background-color: yellow;':'')),k('display: none;')};d.addEventListener('click',m);var g=function t(n){return new Promise(function(t,r){var s=function t(o,s){var d={newBase:s,workspace:o};for(var g in n)d[g]=n[g];console.log('newThingUI: Minting new '+d.pane.name+' at '+d.newBase),n.pane.mintNew(d).then(function(t){if(!t||!t.newInstance)throw new Error('Cannot mint new - missing newInstance');if(t.folder)c.add(t.folder,l.ns.ldp('contains'),c.sym(t.newBase),t.folder.doc()),t.refreshTarget&&t.refreshTarget.refresh(),u.parentNode.removeChild(u);else{var r=n.div.appendChild(a.createElement('p'));r.setAttribute('style','font-size: 120%;'),r.innerHTML='Your <a target=\'_blank\' href=\''+t.newInstance.uri+'\'><b>new '+n.noun+'</b></a> is ready to be set up. <br/><br/><a target=\'_blank\' href=\''+t.newInstance.uri+'\'>Go to your new '+n.noun+'.</a>',h.removeChild(u)}m()}).catch(function(t){f(t),r(t)})},d=n.pane,u,h;if(n.appPathSegment='edu.mit.solid.pane.'+d.name,n.noun=d.mintClass?l.utils.label(d.mintClass):d.name,!n.folder)u=l.authn.selectWorkspace(a,n,s),n.div.appendChild(u),h=n.div;else{var g=function t(a,r){if(!a)m();else{var o=n.folder.uri;o.endsWith('/')||(o+='/'),o=o+encodeURIComponent(r)+'/',s(null,o)}};u=o(a,l.store,n.noun,g),n.div.appendChild(u),h=n.div}})},b=[];for(var y in n){var v=n[y];if(v.mintNew){var w=t.div.appendChild(a.createElement('img'));w.setAttribute('src',v.icon);var x=v.mintClass?l.utils.label(v.mintClass):v.name+' @@';w.setAttribute('title','Make new '+x),w.setAttribute('style',s+'display: none;'),b.push(w);var _=function n(a,r,o){var s=r,d=a,l=o;r.disabled||r.addEventListener('click',function(n){C(s);var a={event:n,folder:t.folder,iconEle:s,pane:d,noun:l,noIndexHTML:!0,div:t.div,me:t.me,dom:t.dom,refreshTarget:t.refreshTarget};g(a)})};_(v,w,x)}}var k=function t(n){for(var a=0,r;a<b.length;a++)r=s+n,b[a].disabled&&(r+='opacity: 0.3;'),b[a].setAttribute('style',r)},C=function t(n){k('display: none;'),n.setAttribute('style',s+'background-color: yellow;')}}function o(t,n,a,r){var o=t.createElement('div');o.innerHTML='<p>Name of new '+a+':</p>';var s=t.createElement('input');s.setAttribute('type','text'),s.setAttribute('size','30'),s.setAttribute('style',u),s.setAttribute('maxLength','2048'),s.select();var d=function t(){s.setAttribute('class','pendingedit'),s.disabled=!0,r(!0,s.value)};s.addEventListener('keyup',function(t){13===t.keyCode&&d()},!1),o.appendChild(s);var l=o.appendChild(t.createElement('br')),c=o.appendChild(t.createElement('button'));c.setAttribute('type','button'),c.style.cssText=u,c.innerHTML='Cancel',c.addEventListener('click',function(t){o.parentNode.removeChild(o),r(!1)},!1);var f=o.appendChild(t.createElement('button'));return f.setAttribute('type','button'),f.innerHTML='Continue',f.style.cssText=u,f.addEventListener('click',function(t){d()},!1),o}var s=a(18),d=a(21),l={authn:a(179),icons:a(20),log:a(19),ns:a(7),store:a(14),utils:a(23)},c=l.store,u='font-size: 100%; margin: 0.8em; padding:0.5em;';t.exports={newThingUI:r}},function(t,n,a){'use strict';var r={icons:a(20),log:a(19),ns:a(7),pad:a(1),rdf:a(18),store:a(14),widgets:a(21)},o=a(23),s=r.store;t.exports.matrixForQuery=function(n,t,a,r,d,l,c){var u=n.createElement('table'),f=n.createElement('tr'),m=f.appendChild(n.createElement('td'));m.setAttribute('class','MatrixCorner'),u.appendChild(f),u.lastHeader=f;var h=1,g=1,b=[],v=[],w=function t(n,a,r,s){for(;n.firstChild;)n.removeChild(n.firstChild);n.setAttribute('style',''),n.style.textAlign='center',l.cellFunction?l.cellFunction(n,a,r,s):(n.textContent=o.label(s),n.setAttribute('style','padding: 0.3em')),delete n.old},_=function t(a){var r=a.toNT();if(v[r])return v[r];var d=n.createElement('tr'),c=d.appendChild(n.createElement('td'));c.setAttribute('style','padding: 0.3em;'),c.textContent=o.label(a),(a.termType='NamedNode')&&s.fetcher.nowOrWhenFetched(a.uri.split('#')[0],void 0,function(t,n,r){c.textContent=o.label(a)});for(var f=0;f<b.length;f++)w(d.appendChild(n.createElement('td')),$rdf.fromNT(b[f]),a,null);d.dataValueNT=r,v[r]=d;for(var m=u.lastHeader.nextSibling;m;m=m.nextSibling)if(r>m.dataValueNT&&l&&l.yDecreasing||r<m.dataValueNT&&!(l&&l.yDecreasing))return u.insertBefore(d,m);return u.appendChild(d)},C=function a(r){for(var s=r.toNT(),d=null,c=0;c<b.length;c++){if(b[c]===s)return c;if(s>b[c]&&l.xDecreasing||s<b[c]&&!l.xDecreasing){b=b.slice(0,c).concat([s]).concat(b.slice(c)),d=c;break}}null===d&&(d=b.length,b.push(s));for(var f=u.firstChild;f;f=f.nextSibling){var m=f.dataValueNT,h=n.createElement('td');if(h.style.textAlign='center',f===u.firstChild?h.textContent=o.label(r):w(h,r,$rdf.fromNT(m),null),d===b.length-1)f.appendChild(h);else{for(var g=f.firstChild,t=0;t<d+1;t++)g=g.nextSibling;f.insertBefore(h,g)}}return d},y=function t(){for(var n=1,a;n<u.children.length;n++){a=u.children[n];for(var r=1;r<a.children.length;r++)a.children[r].old=!0}},x=function t(){var n=[],a=[],r,o;if(l.set_y)for(var s=0;s<l.set_y.length;s++)a[l.set_y[s]]=!0;if(l.set_x)for(s=0;s<l.set_x.length;s++)n[C(l.set_x[s])+1]=!0;for(var d=1;d<u.children.length;d++){r=u.children[d];for(var c=1;c<r.children.length;c++)if(o=r.children[c],o.old){var f=$rdf.fromNT(r.dataValueNT),m=$rdf.fromNT(b[c-1]);w(o,m,f,null)}else a[r.dataValueNT]=!0,n[c]=!0}for(var d=0;d<u.children.length;d++)if(r=u.children[d],0<d&&!a[r.dataValueNT])delete v[r.dataValueNT],u.removeChild(r);else for(var c=r.children.length-1,o;0<c;c--)o=r.children[c],n[c]||r.removeChild(o);for(var h=[],c=0;c<b.length;c++)n[c+1]&&h.push(b[c]);b=h};u.refresh=function(){y(),s.query(t,T,void 0,x)};var T=function t(n){var o=n[a],s=n[r],l=n[d],c=_(s),u=C(o),f=c.children[u+1];w(f,o,s,l)};if(l.set_y)for(var E=0;E<l.set_y.length;E++)_(l.set_y[E]);if(l.set_x)for(E=0;E<l.set_x.length;E++)C(l.set_x[E]);return s.query(t,T,void 0,c),u}},function(t,n,a){'use strict';var r={icons:a(20),log:a(19),ns:a(7),pad:a(1),rdf:a(18),store:a(14),widgets:a(21)},o=a(23),s=r.store,d='font-size: 100%; margin: 0.8em; padding:0.5em; background-color: white;';t.exports=function(t,n,a,s,d){n=n||r.kb;var l=r.ns,c=$rdf.Namespace('http://www.w3.org/2005/01/wf/flow#'),u=$rdf.Namespace('http://purl.org/dc/terms/');d=d||{};var f=!!d.newestFirst,m='white-space: pre-wrap; width: 90%; font-size:100%; background-color: white; border: 0.07em solid #eee; padding: .2em 0.5em; margin: 0.1em 1em 0.1em 1em',h=t.createElement('div'),g=tabulator.preferences.get('me'),b=g?n.sym(g):null,y;b||console.log('Message area: @@ Should be logged in at this point');var w=r.store.updater,x=function n(o,s){var d=t.createElement('a');return s.uri&&(d.setAttribute('href',s.uri),d.addEventListener('click',r.widgets.openHrefInOutlineMode,!0),d.setAttribute('style','color: #3B5998; text-decoration: none; ')),d.textContent=o,d},_=function n(a,r){var o=t.createElement('pre');return o.setAttribute('style',r||'color: grey'),h.appendChild(o),o.appendChild(t.createTextNode(a)),o},k={log:function t(n){_(n,'color: #111;')},warn:function t(n){_(n,'color: #880;')},error:function t(n){_(n,'color: #800;')}},C=function o(){var d=t.createElement('tr'),c=t.createElement('td'),f=t.createElement('td'),h=t.createElement('td');d.appendChild(c),d.appendChild(f),d.appendChild(h),d.AJAR_date='9999-01-01T00:00:00Z';var g=function o(){y.setAttribute('class','pendingedit'),y.disabled=!0;var c=[],f=new Date,m=''+f.getTime(),h=$rdf.term(f),g=n.sym(s.uri+'#Msg'+m);c.push(new $rdf.Statement(a,l.wf('message'),g,s)),c.push(new $rdf.Statement(g,l.sioc('content'),n.literal(y.value),s)),c.push(new $rdf.Statement(g,u('created'),h,s)),b&&c.push(new $rdf.Statement(g,l.foaf('maker'),b,s));var v=function a(o,s,l){if(!s)d.appendChild(r.widgets.errorMessageBlock(t,'Error writing message: '+l));else{var c={"?msg":g,"?content":n.literal(y.value),"?date":h,"?creator":b};I(c),y.value='',y.setAttribute('class',''),y.disabled=!1}};w.update([],c,v)};d.appendChild(t.createElement('br'));var y=t.createElement('textarea');f.appendChild(y),y.rows=3,y.setAttribute('style',m);var v=t.createElement('button');return v.textContent='send',v.setAttribute('style','float: right;'),v.addEventListener('click',g,!1),h.appendChild(v),d},T=function t(n){var a=r.store.any(n,r.ns.foaf('nick'));return a?''+a.value:''+o.label(n)},E=function t(a,r){var o={},s,d;for(s=r.firstChild;s;s=s.nextSibling)s.AJAR_subject&&(o[s.AJAR_subject.uri]=!0);var c=n.each(a,l.wf('message')),u={};for(c.map(function(t){u[t.uri]=!0,o[t.uri]||A(t)}),s=r.firstChild;s;)d=s.nextSibling,s.AJAR_subject&&!u[s.AJAR_subject.uri]&&r.removeChild(s),s=d},S=function t(r){var o=n.statementsMatching(r).concat(n.statementsMatching(void 0,void 0,r));w.update(o,[],function(t,n,r){n?E(a,y):k.error('Cant delete messages:'+r)})},A=function t(a){var r={"?msg":a,"?creator":n.any(a,l.foaf('maker')),"?date":n.any(a,u('created')),"?content":n.any(a,l.sioc('content'))};I(r)},I=function n(a){var o=a['?creator'],s=a['?msg'],d=a['?date'],l=a['?content'],c=d.value,u=t.createElement('tr');u.AJAR_date=c,u.AJAR_subject=s;for(var h=!1,g=y.firstChild;;g=g.nextSibling){if(!g)break;if(c>g.AJAR_date&&f||c<g.AJAR_date&&!f){y.insertBefore(u,g),h=!0;break}}h||y.appendChild(u);var b=t.createElement('td');u.appendChild(b);var v=b.appendChild(x(T(o),o));o.uri&&r.store.fetcher.nowOrWhenFetched(o.doc(),void 0,function(t,n){v.textContent=T(o)}),b.appendChild(t.createElement('br')),b.appendChild(x(r.widgets.shortDate(c),s));var w=t.createElement('td');u.appendChild(w);var _=t.createElement('p');_.setAttribute('style',m),w.appendChild(_),_.textContent=l.value;var k=t.createElement('td');u.appendChild(k);var C=t.createElement('button');k.appendChild(C),C.textContent='-',u.setAttribute('class','hoverControl'),C.setAttribute('class','hoverControlHide'),C.setAttribute('style','color: red;'),C.addEventListener('click',function(n){k.removeChild(C);var a=t.createElement('button');a.textContent='cancel',k.appendChild(a).addEventListener('click',function(t){k.removeChild(r),k.removeChild(a),k.appendChild(C)},!1);var r=t.createElement('button');r.textContent='Delete message',k.appendChild(r).addEventListener('click',function(t){k.removeChild(r),k.removeChild(a),S(s)},!1)},!1)};if(y=t.createElement('table'),h.appendChild(y),y.setAttribute('style','width: 100%;'),tabulator.preferences.get('me')){var N=C();f?y.insertBefore(N,y.firstChild):y.appendChild(N)}var j;if(d.query)j=d.query;else{j=new $rdf.Query('Messages');var R={},v=['msg','date','creator','content'];v.map(function(t){j.vars.push(R[t]=$rdf.variable(t))}),j.pat.add(a,c('message'),R.msg),j.pat.add(R.msg,l.dct('created'),R.date),j.pat.add(R.msg,l.foaf('maker'),R.creator),j.pat.add(R.msg,l.sioc('content'),R.content)}return n.query(j,I),h.refresh=function(){E(a,y)},h}},function(t,n,a){'use strict';var r=a(18),o=t.exports={},s={icons:a(20),log:a(19),ns:a(7),pad:o,rdf:r,store:a(14),widgets:a(21)},d=a(23);s.pad.lightColorHash=function(t){var n=function t(n){return n.split('').reduce(function(t,n){return t=(t<<5)-t+n.charCodeAt(0),t&t},0)};return t&&t.uri?'#'+(12632256|16777215&n(t.uri)).toString(16):'#ffffff'},s.pad.renderPartipants=function(t,n,a,r,o,l){var c=s.store,u=s.ns;n.setAttribute('style','margin: 0.8em;');var f=function a(r){var o=c.any(r,u.wf('participant')),d=c.anyValue(r,u.ui('backgroundColor'))||'white',f=t.createElement('div');f.setAttribute('style','height: 1.5em; width: 1.5em; margin: 0.3em; border 0.01em solid #888; background-color: '+d);var m=s.widgets.personTR(t,null,o,l);n.appendChild(m);var h=t.createElement('td');return h.setAttribute('style','vertical-align: middle;'),h.appendChild(f),m.insertBefore(h,m.firstChild),m},m=function t(){var a=c.each(r,u.wf('participation')).map(function(t){return[c.anyValue(t,s.ns.cal('dtstart'))||'9999-12-31',t]});a.sort();var o=a.map(function(t){return t[1]});d.syncTableToArray(n,o,f)};return n.refresh=m,m(),n},s.pad.recordParticipation=function(t,n,a){var r=s.store,o=s.ns,d=tabulator.preferences.get('me');if(d){var l=r.sym(d),c=r.each(t,o.wf('participation')).filter(function(t){return r.holds(t,o.wf('participant'),l)});if(1<c.length)throw'Multiple records of your participation';if(!c.length){var u=s.widgets.newThing(n),f=[s.rdf.st(t,o.wf('participation'),u,n),s.rdf.st(u,o.wf('participant'),l,n),s.rdf.st(u,s.ns.cal('dtstart'),new Date,n),s.rdf.st(u,o.ui('backgroundColor'),s.pad.lightColorHash(l),n)];r.updater.update([],f,function(t,n,r){if(!n)throw new Error('Error recording your partipation: '+r);a&&a.refresh&&a.refresh()})}}},s.pad.manageParticipation=function(t,n,a,r,o,d){var l=t.createElement('table');n.appendChild(l),s.pad.renderPartipants(t,l,a,r,o,d);try{s.pad.recordParticipation(r,a,l)}catch(a){n.appendChild(s.widgets.errorMessageBlock(t,'Error recording your partipation: '+a))}return l},s.pad.notepad=function(n,a,o,l,c){c=c||{};var u=c.exists,f=n.createElement('table'),m=s.store,h=s.ns;if(l&&!l.uri)throw new Error('UI.pad.notepad:  Invalid userid');var g=s.store.updater,b=r.Namespace('http://www.w3.org/ns/pim/pad#');f.setAttribute('style','padding: 1em; overflow: auto; resize: horizontal; min-width: 40em;');var y=null,v=null;if(c.statusArea){var w=c.statusArea.appendChild(n.createElement('table')),t=w.appendChild(n.createElement('tr'));y=t.appendChild(n.createElement('td')),v=t.appendChild(n.createElement('td')),y.setAttribute('style','width:50%'),v.setAttribute('style','width:50%')}var x=function t(a,r){console.log(a),c.statusArea&&(r?y:v).appendChild(s.widgets.errorMessageBlock(n,a,'pink'))},_=function t(n){c.statusArea&&(c.statusArea.innerHTML='')},k=function t(n,a,r){var o=n.subject;a=a||'';var d='font-size: 100%; font-family: monospace; width: 100%; border: none; white-space: pre-wrap;',l='font-family: sans-serif; font-weight: bold;  border: none;',c=['font-size: 110%;  padding-top: 0.5em; padding-bottom: 0.5em; width: 100%;','font-size: 120%; padding-top: 1em; padding-bottom: 1em; width: 100%;','font-size: 150%; padding-top: 1em; padding-bottom: 1em; width: 100%;'],u=m.any(o,h.dc('author'));if(!a&&u){var f=s.pad.lightColorHash(u);a='color: '+(r?'#888':'black')+'; background-color: '+f+';'}var g=m.any(o,b('indent'));g=g?g.value:0;var y=0<=g?d+'text-indent: '+3*g+'em;':l+c[-1-g];n.setAttribute('style',y+a)},C=function t(n){var s=n.subject;if(!s)throw'No chunk for line to be deleted!';var l=m.any(void 0,b('next'),s),c=m.any(s,b('next'));if(l.sameTerm(o)&&c.sameTerm(o))return void console.log('You can\'t delete the only line.');var u=m.statementsMatching(s,void 0,void 0,a).concat(m.statementsMatching(void 0,void 0,s,a)),f=[r.st(l,b('next'),c,a)],h=s.uri.slice(-4);console.log('Deleting line '+h),g.update(u,f,function(t,r,o,l){if(r){var c=n.parentNode,f=c.previousSibling;c.parentNode.removeChild(c),console.log('    deleted line '+h+' ok '+n.value),f&&f.firstChild&&f.firstChild.focus()}else if(l&&409===l.status)k(n,'color: black;  background-color: #ffd;'),n.state=0,d.beep(0.5,512),setTimeout(function(){g.requestDownstreamAction(a,P)},1e3);else{console.log('    removePart FAILED '+s+': '+o),console.log('    removePart was deleteing :\''+u),k(n,'color: black;  background-color: #fdd;');var m=l?l.status:' [no response field] ';x('Error '+m+' saving changes: '+o.true)};})},T=function t(n,o,s){var d=m.statementsMatching(o,b('indent')),l=d.length?+d[0].object.value:0;if(!(-3>l+s)){var c=l+s,u=r.st(o,b('indent'),c,a);g.update(d,u,function(t,r,o){r?k(n):(console.log('Indent change FAILED \''+c+'\' for '+a+': '+o),k(n,'color: black;  background-color: #fdd;'),g.requestDownstreamAction(a,P))})}},E=function t(n){var a=0;if(document.selection){n.focus();var r=document.selection.createRange();r.moveStart('character',-n.value.length),a=r.text.length}else(n.selectionStart||'0'==n.selectionStart)&&(a=n.selectionStart);return a},S=function t(n,o){n.addEventListener('keydown',function(t){var r,s;switch(t.keyCode){case 13:var d=t.shiftKey;if(console.log('enter'),d?(s=m.any(void 0,b('next'),o),r='newlinesAfter'):(s=m.any(o,b('next')),r='newlinesBefore'),s[r]=s[r]||0,s[r]+=1,1<s[r])return void console.log('    queueing newline queue = '+s[r]);console.log('    go ahead line before '+s[r]),I(n,d);break;case 8:if(0===n.value.length)switch(console.log('Delete key line '+o.uri.slice(-4)+' state '+n.state),n.state){case 1:case 2:return void(n.state=4);case 3:case 4:return;case void 0:case 0:n.state=3,C(n),t.preventDefault();break;default:throw'Unexpected state '+n.state;}break;case 9:var l=t.shiftKey?-1:1;T(n,o,l),t.preventDefault();break;case 27:console.log('escape'),g.requestDownstreamAction(a,P),t.preventDefault();break;case 38:n.parentNode.previousSibling&&(n.parentNode.previousSibling.firstChild.focus(),t.preventDefault());break;case 40:n.parentNode.nextSibling&&(n.parentNode.nextSibling.firstChild.focus(),t.preventDefault());break;default:}});var s=function t(n){var o=n.subject;k(n,void 0,!0);var s=m.any(o,h.sioc('content')).value,l=[r.st(o,h.sioc('content'),s,a)],c=[r.st(o,h.sioc('content'),n.value,a)],u=n.value;if(n.lastSent&&s!=n.lastSent)throw'Out of order, last sent expected \''+s+'\' but found \''+n.lastSent+'\'';n.lastSent=u,console.log(' Patch proposed to '+o.uri.slice(-4)+' \''+s+'\' -> \''+u+'\' '),g.update(l,c,function(r,o,l,c){o?(_(!0),k(n),console.log('    Patch ok \''+s+'\' -> \''+u+'\' '),4===n.state?(n.state=3,C(n)):3===n.state||(2===n.state?(n.state=1,t(n)):n.state=0)):(console.log('    patch FAILED '+c.status+' for \''+s+'\' -> \''+u+'\': '+l),409===c.status?(k(n,'color: black;  background-color: #fdd;'),n.state=0,d.beep(0.5,512),setTimeout(function(){g.requestDownstreamAction(a,P)},1e3)):(k(n,'color: black;  background-color: #fdd;'),n.state=0,x('    Error '+c.status+' sending data: '+l,!0),d.beep(1,128)))})};n.addEventListener('input',function t(a){switch(k(n,void 0,!0),console.log('Input event state '+n.state+' value \''+n.value+'\''),n.state){case 3:return;case 4:return;case 2:return;case 1:return void(n.state=2);case 0:case void 0:n.state=1,s(n);}})},A=function t(a,r,o){var s=m.any(r,h.sioc('content'));s=s?s.value:'';var d=n.createElement('tr');o?f.insertBefore(d,a):a&&a.nextSibling?f.insertBefore(d,a.nextSibling):f.appendChild(d);var c=d.appendChild(n.createElement('input'));return c.subject=r,c.setAttribute('type','text'),c.value=s,l?(k(c,''),S(c,r)):(k(c,'color: #222; background-color: #111;'),console.log('Note can\'t add listeners - not logged in')),c},I=function t(n,d){var c=s.store,u=0,f=null,m,y,v,w,x;n?('input'!==n.tagName.toLowerCase()&&console.log('return pressed when current document is: '+n.tagName),y=n.subject,u=c.any(y,b('indent')),u=u?+u.value:0,d?(v=c.any(void 0,b('next'),y),w=y,x=v,f='newlinesAfter'):(v=y,w=c.any(y,b('next')),x=w,f='newlinesBefore'),m=n.parentNode):(v=o,w=o,m=void 0);var _=s.widgets.newThing(a),C=_.uri.slice(-4),T=[r.st(v,b('next'),w,a)],E=[r.st(v,b('next'),_,a),r.st(_,b('next'),w,a),r.st(_,h.dc('author'),l,a),r.st(_,h.sioc('content'),'',a)];0<u&&E.push(r.st(_,b('indent'),u,a)),console.log('    Fresh chunk '+C+' proposed'),g.update(T,E,function(n,a,r,o){if(!a)console.log('    ERROR writing new line '+C+': '+r);else{var s=A(m,_,d);k(s),s.focus(),f&&(console.log('    Fresh chunk '+C+' updated, queue = '+x[f]),x[f]-=1,0<x[f]&&(console.log('    Implementing queued newlines = '+w.newLinesBefore),t(s,d)))}})},N=function t(){var n=[],a=0,r=function t(n){x(n),a++};if(!m.the(o,b('next')))return r('No initial next pointer'),!1;for(var s=o,d;;){if(d=m.the(s,b('next')),d||r('No next pointer from '+s),d.sameTerm(o))break;s=d;var l=d.uri.split('#')[1];if(n[d.uri])return r('Loop!'),!1;n[d.uri]=!0;var c=m.each(d,b('next')).length;1!==c&&r('Should be 1 not '+c+' next pointer for '+l),c=m.each(d,b('indent')).length,1<c&&r('Should be 0 or 1 not '+c+' indent for '+l),c=m.each(d,h.sioc('content')).length,1!==c&&r('Should be 1 not '+c+' contents for '+l),c=m.each(d,h.dc('author')).length,1!==c&&r('Should be 1 not '+c+' author for '+l);var u=m.statementsMatching(void 0,h.sioc('contents'));u.map(function(t){n[t.subject.uri]||r('Loose chunk! '+t.subject.uri)})}return!a},j=function t(){var n=m.the(o,b('next'));if(1!==m.each(o,b('next')).length){var a='Pad: Inconsistent data - NEXT pointers: '+m.each(o,b('next')).length;return console.log(a),void(c.statusAra&&(c.statusArea.textContent+=a))}for(var r=m.the(void 0,b('previous'),o),s=n,d=[],s=m.the(o,b('next')),l,u;!s.sameTerm(o);s=m.the(s,b('next')))for(var u=0,g;u<f.children.length;u++)g=f.children[u],g.firstChild.subject.sameTerm(s)&&(d[s.uri]=g.firstChild);for(var u=f.children.length-1;0<=u;u--)l=f.children[u],d[l.firstChild.subject.uri]||f.removeChild(l);l=f.firstChild;for(var s=m.the(o,b('next')),y;!s.sameTerm(o);s=m.the(s,b('next')))if(y=m.any(s,h.sioc('content')).value,l&&d[s.uri]){var v=l.firstChild;y!==v.value&&(v.value=y),k(v),v.state=0,delete v.lastSent,l=l.nextSibling}else A(l,s,!0);;},R=function t(n){if(n.refresh)return void n.refresh();for(var a=0;a<n.children.length;a++)t(n.children[a])},L=!1,O=function t(){console.log('    reloaded OK'),_(),N()?R(f):x('CONSITENCY CHECK FAILED')},P=function t(){if(L)return void console.log('   Already reloading - stop');L=!0;var n=1e3,r=function t(){console.log('try reload - timeout = '+n),g.reload(g.store,a,function(r,o,s){L=!1,r?O():0===s.status?(x('Network error refreshing the pad. Retrying in '+n/1e3),L=!0,n*=2,setTimeout(t,n)):x('Error '+s.status+'refreshing the pad:'+o+'. Stopped. '+a)})};r()};if(f.refresh=j,f.reloadAndSync=P,l||console.log('Warning: must be logged in for pad to be edited'),u)console.log('Existing pad.'),N()?(j(),m.holds(o,b('next'),o)&&I()):console.log(f.textContent='Inconsistent data. Abort');else{console.log('No pad exists - making new one.');var M=[r.st(o,h.rdf('type'),b('Notepad'),a),r.st(o,h.dc('author'),l,a),r.st(o,h.dc('created'),new Date,a),r.st(o,b('next'),o,a)];g.update([],M,function(t,n,a){n?(console.log('Initial pad created'),I()):x(a)})}return f}},function(t,n,a){'use strict';var r={icons:a(20),log:a(19),ns:a(7),store:a(14),widgets:a(21)},o=a(23),s=a(18);t.exports=function t(n,a){function d(t){t.parentNode.removeChild(t)}function l(t,a){var r=n.createElement('input');return r.setAttribute('type','submit'),r.setAttribute('value',t),r.addEventListener('click',a,!1),r}function c(){var t=n.createElement('div');t.setAttribute('class','sparqlDialog');var a=n.createElement('h3');a.appendChild(n.createTextNode('Edit SPARQL query'));var r=n.createElement('textarea');return r.value=queryToSPARQL(Ee),t.appendChild(a),t.appendChild(r),t.appendChild(l('Query',function(){var n=SPARQLToQuery(r.value);w(n),d(t)})),t.appendChild(l('Close',function(){d(t)})),t}function u(){var t=c();Ae.appendChild(t)}function f(){var t=n.createElement('img');return t.setAttribute('class','sparqlButton'),t.setAttribute('src',tabulator.iconPrefix+'icons/1pt5a.gif'),t.setAttribute('alt','Edit SPARQL query'),t.addEventListener('click',u,!1),t}function m(){var t=n.createElement('table');t.setAttribute('class','toolbar');var a=n.createElement('tr');return je=n.createElement('td'),a.appendChild(je),Re=n.createElement('td'),a.appendChild(Re),t.appendChild(a),t}function h(t,n){for(var a=n.getColumns(),r=0,o;r<a.length;++r)o=ye.variable('_col'+r),t.vars.push(o),a[r].setVariable(o)}function g(t,n,a){var o=a.type;o||(o=ye.variable('_any')),t.pat.add(n,r.ns.rdf('type'),o)}function b(t,n,a){for(var r=a.getColumns(),o=0;o<r.length;++o){var s=r[o],d=ye.formula();d.add(n,s.predicate,s.getVariable()),t.pat.optional.push(d)}}function y(t){var n=new s.Query,a=ye.variable(Ce.slice(1));return h(n,t),g(n,a,t),b(n,a,t),n}function v(t){x(Re),Re.appendChild(I(t));var n=y(t);w(n,t)}function w(t,n){Ee&&(Ee.running=!1);var a=de(t,n);x(Le),Le.appendChild(a),Ee=t}function x(t){for(;0<t.childNodes.length;)t.removeChild(t.childNodes[0])}function _(t){this.type=t,this.columns=null,this.allColumns=null,this.useCount=0,this.getAllColumns=function(){return this.allColumns},this.getColumns=function(){if(!this.columns){var t=this.getAllColumns();this.columns=t.slice(0,7)}return this.columns},this.getUnusedColumns=function(){for(var t=this.getAllColumns(),n=this.getColumns(),a=[],r=0;r<t.length;++r)-1==n.indexOf(t[r])&&a.push(t[r]);return a},this.addColumn=function(t){this.columns.push(t)},this.removeColumn=function(t){this.columns=this.columns.filter(function(n){return n!==t})},this.getLabel=function(){return o.label(this.type)},this.addUse=function(){this.useCount+=1}}function k(){this.useCount=0,this.checkedAnyValues=!1,this.possiblyLiteral=!0,this.possiblyNumber=!0,this.constraints=[],this.checkValue=function(t){var n=t.termType;if(this.possiblyLiteral&&'Literal'!==n&&'NamedNode'!==n)this.possiblyNumber=!1,this.possiblyLiteral=!1;else if(this.possiblyNumber)if('Literal'!=n)this.possiblyNumber=!1;else{var a=t.value;a.match(/^\-?\d+(\.\d*)?$/)||(this.possiblyNumber=!1)}this.checkedAnyValues=!0},this.getVariable=function(){return this.variable},this.setVariable=function(t){this.variable=t},this.getKey=function(){return this.variable.toString()},this.addUse=function(){this.useCount+=1},this.getLabel=function(){return this.predicate?this.predicate.sameTerm(be.rdf('type'))&&this.superClass?o.label(this.superClass):o.label(this.predicate):this.variable?this.variable.toString():'unlabeled column?'},this.setPredicate=function(t,n,a){n?(this.inverse=t,this.constraints=this.constraints.concat(ye.each(t,r.ns.rdfs('domain'))),t.sameTerm(be.rdfs('subClassOf'))&&'NamedNode'===a.termType&&(this.superClass=a,this.alternatives=ye.each(void 0,be.rdfs('subClassOf'),a))):(this.predicate=t,this.constraints=this.constraints.concat(ye.each(t,r.ns.rdfs('range'))))},this.getConstraints=function(){return this.constraints},this.filterFunction=function(){return!0},this.sortKey=function(){return this.getLabel().toLowerCase()},this.isImageColumn=function(){for(var t=0;t<this.constraints.length;t++)if(this.constraints[t].uri in ke)return!0;return!1}}function C(t,n){var a=[];for(var r in t){var o=t[r];(!n||n(r,o))&&a.push(o)}return a}function T(t){return C(t)}function E(t,a){var r=n.createElement('option');return r.setAttribute('value',a),r.appendChild(n.createTextNode(t)),r}function S(t,a){var r=n.createElement('div');r.appendChild(n.createTextNode('Select type: '));var o=n.createElement('select');for(var s in o.appendChild(E('All types','null')),a)o.appendChild(E(a[s].getLabel(),s));return o.addEventListener('click',function(){var n;n='null'===o.value?t:a[o.value],A(n)},!1),r.appendChild(o),r}function A(t){v(t)}function I(t){var a=n.createElement('div'),r=t.getUnusedColumns();if(r.sort(function(t,n){var a=t.sortKey(),r=n.sortKey();return(a>r)-(a<r)}),0<r.length){a.appendChild(n.createTextNode('Add column: '));var o=n.createElement('select');o.appendChild(E('','-1'));for(var s=0,d;s<r.length;++s)d=r[s],o.appendChild(E(d.getLabel(),''+s));a.appendChild(o),o.addEventListener('click',function(){var n=new Number(o.value);0<=n&&(t.addColumn(r[n]),v(t))},!1)}return a}function N(t,n){var a;return n.uri in t?a=t[n.uri]:(a=new k,a.setPredicate(n),t[n.uri]=a),a}function j(t,n){var a;return n.uri in t?a=t[n.uri]:(a=new _(n),t[n.uri]=a),a}function R(){for(var t={},n=ye.statementsMatching(void 0,r.ns.rdf('type'),ue,ce),a={},o=0,s;o<n.length;++o)if(s=n[o].object,'NamedNode'===s.termType){var d=j(t,s);s.uri in a||(a[s.uri]=[]),a[s.uri].push(n[o].subject),d.addUse()}return[a,t]}function L(t,n){for(var a=ye.statementsMatching(t,void 0,void 0,ce),r={},o=0,s;o<a.length;++o)if(s=a[o].predicate,!(s.uri in we)){var d=N(n,s);d.checkValue(a[o].object),r[s.uri]=d}return r}function O(t,n){for(var a={},r=0,o;r<n.length;++r)for(var s in o=L(n[r],a),o){var d=o[s];d.addUse()}var l=C(a);M(l),t.allColumns=l}function P(){var t=R(),n,a;for(var r in n=t[0],a=t[1],n){var o=n[r],s=a[r];O(s,o)}var d=new _(null);return[d,C(a)]}function M(t){function n(t,n){return(t.useCount<n.useCount)-(t.useCount>n.useCount)}t.sort(n)}function D(t,a){var r=n.createElement('a');return r.appendChild(n.createTextNode('[x]')),r.addEventListener('click',function(){t.removeColumn(a),v(t)},!1),r}function B(t,a){var r=n.createElement('tr'),o=n.createElement('th');r.appendChild(o);for(var s=0;s<t.length;++s){var d=n.createElement('th'),l=t[s];d.appendChild(n.createTextNode(l.getLabel())),a&&d.appendChild(D(a,l)),r.appendChild(d)}return r}function U(t,n,a,r){var o=n.getKey();if(t.sort(function(t,n){var s=null,d=null;o in t.values&&(s=t.values[o][0]),o in n.values&&(d=n.values[o][0]);var l=a(s,d);return r?-l:l}),t.length){for(var s=t[0]._htmlRow.parentNode,d=0;d<t.length;++d)s.removeChild(t[d]._htmlRow);for(var d=0;d<t.length;++d)s.appendChild(t[d]._htmlRow)}}function q(t,n){for(var a=!0,r=0;r<n.length;++r){var o=n[r],s=o.getKey(),d=null;if(s in t.values&&(d=t.values[s][0]),!o.filterFunction(d)){a=!1;break}}var l=t._htmlRow;l.style.display=a?'':'none'}function F(t,n){for(var a=0,r;a<t.length;++a)r=t[a],q(r,n)}function z(t,n,a){function r(t){return t?'Literal'===t.termType?t.value.toLowerCase():'NamedNode'===t.termType?o.label(t).toLowerCase():t.value.toLowerCase():''}function s(t,n){var a=r(t),o=r(n);return a<o?-1:a>o?1:0}U(t,n,s,a)}function H(t,a,r){var s=n.createElement('div'),d=n.createElement('input');d.setAttribute('type','text'),d.style.width='70%',s.appendChild(d);var l=n.createElement('span');l.appendChild(n.createTextNode('\u25BC')),l.addEventListener('click',function(){z(t,r,!1)},!1),s.appendChild(l);var c=n.createElement('span');c.appendChild(n.createTextNode('\u25B2')),c.addEventListener('click',function(){z(t,r,!0)},!1),s.appendChild(c);var u=null;return r.filterFunction=function(t){if(!u)return!0;if(!t)return!1;var n;return n='Literal'===t.termType?t.value:'NamedNode'===t.termType?o.label(t):'',0<=n.toLowerCase().indexOf(u)},d.addEventListener('keyup',function(){u=''===d.value?null:d.value.toLowerCase(),F(t,a)},!1),s}function W(t,a,r,s){for(var d=!0,l=n.createElement('div'),c=n.createElement('select'),u={},f=0,m;f<s.length;++f)m=s[f],u[m.uri]=!0;var h=Q(r).initialSelection;h&&(u=h),d?c.setAttribute('multiple','true'):c.appendChild(E('(All)','-1'));for(var f=0;f<s.length;++f){var m=s[f],g=E(o.label(m),f);u[m.uri]&&(g.selected=!0),c.appendChild(g)}return l.appendChild(c),r.filterFunction=function(t){return!u||t&&u[t.uri]},c.addEventListener('click',function(){if(d){u={};for(var n=c.options,r=0;r<n.length;r++){var o=n[r],l=new Number(o.value);n[r].selected&&(u[s[l].uri]=!0)}}else if(0>l)u=null;else{var l=new Number(c.value);u={},u[s[l].uri]=!0}F(t,a)},!0),l}function V(t,a,r){function o(){c=''===d.value?null:new Number(d.value),u=''===l.value?null:new Number(l.value),F(t,a)}var s=n.createElement('div'),d=n.createElement('input');d.setAttribute('type','text'),d.style.width='40px',s.appendChild(d);var l=n.createElement('input');l.setAttribute('type','text'),l.style.width='40px',s.appendChild(l);var c=null,u=null;return r.filterFunction=function(t){return t&&(t=new Number(t)),c&&(!t||t<c)?!1:u&&(!t||t>u)?!1:!0},d.addEventListener('keyup',o,!1),l.addEventListener('keyup',o,!1),s}function G(t,n,a){return a.checkedAnyValues&&a.possiblyNumber?V(t,n,a):a.possiblyLiteral?H(t,n,a):null}function J(t,n,a){if(a.superClass&&0<a.alternatives.length)return W(t,n,a,a.alternatives);for(var o=a.getConstraints(),s=0,d;s<o.length;s++){if(d=o[s],a.checkedAnyValues&&a.possiblyNumber||d.uri in xe)return V(t,n,a);if(d.uri===ge)return H(t,n,a);var l=ye.each(d,r.ns.owl('oneOf'));if(0<l.length)return W(t,n,a,l.elements)}return G(t,n,a)}function K(t,a){var r=n.createElement('tr');r.className='selectors',r.appendChild(n.createElement('td'));for(var o=0;o<a.length;++o){var s=n.createElement('td'),d=J(t,a,a[o]);d&&s.appendChild(d),r.appendChild(s)}return r}function X(t,a,s){s=s||{};var d=n.createElement('a'),l=s.linkFunction;return d.setAttribute('href',t),d.appendChild(n.createTextNode(a)),l?d.addEventListener('click',function(t){t.preventDefault(),t.stopPropagation();var n=o.getTarget(t),a=n.getAttribute('href');a||console.log('No href found \n'),l(a)},!0):d.addEventListener('click',r.widgets.openHrefInOutlineMode,!0),d}function Z(t,n){var a=!1;return t.uri&&(a=t.uri.match(/^mailto:(.*)/)),a?X(t.uri,a[1],n):X(t.uri,o.label(t),n)}function Y(t){var a=n.createElement('img');return a.setAttribute('src',t.uri),a.style.height='40px',a}function Q(t){return a&&a.hints&&t.variable&&a.hints[t.variable.toNT()]?a.hints[t.variable.toNT()]:{}}function ee(t,a){var o=Q(a),s=o.cellFormat,d;if(s)switch(s){case'shortDate':return n.createTextNode(r.widgets.shortDate(t.value));break;default:}else{if('Literal'===t.termType){if(t.datatype){if(_e[t.datatype.uri])return n.createTextNode(r.widgets.shortDate(t.value));if(xe[t.datatype.uri]){var d=n.createElement('span');return d.textContent=t.value,d.setAttribute('style','text-align: right'),d}}return n.createTextNode(t.value)}if('NamedNode'===t.termType&&a.isImageColumn())return Y(t);if('NamedNode'===t.termType||'BlankNode'===t.termType)return Z(t,o);if('Collection'===t.termType){var d=n.createElement('span');return d.appendChild(n.createTextNode('[')),t.elements.map(function(t){d.appendChild(ee(t,a)),d.appendChild(n.createTextNode(', '))}),d.removeChild(d.lastChild),d.appendChild(n.createTextNode(']')),d}return n.createTextNode('unknown termtype \''+t.termType+'\'!')}}function te(t,a,r,o){var s=n.createElement('td');a._subject&&'uri'in a._subject&&s.appendChild(X(a._subject.uri,'\u2192')),t.appendChild(s);for(var d=0;d<r.length;++d){var l=r[d],c=n.createElement('td'),u=l.getKey(),f;if(u in a.values){var m=a.values[u],h=!1;a.originalValues&&a.originalValues[u]&&m.length!==a.originalValues[u].length&&(h=!0);for(var g=0,b;g<m.length;++g)b=m[g],a.originalValues&&a.originalValues[u]&&a.originalValues[u].length>g&&(f=a.originalValues[u][g],b.toString()!==f.toString()&&(h=!0)),c.appendChild(ee(b,l)),g!==m.length-1&&c.appendChild(n.createTextNode(',\n')),h&&(c.style.background='#efe')}t.appendChild(c)}return a._htmlRow=t,t}function ne(t,n){var a=null;if('Literal'===t.termType)a='value';else if('NamedNode'===t.termType)a='uri';else return 0<=n.indexOf(t);var r;for(r=0;r<n.length;++r)if(n[r].termType===t.termType&&n[r][a]===t[a])return!0;return!1}function ae(t,n,a){var r=!1,o;for(o in a){var s=a[o];o in t.values||(t.values[o]=[]),ne(s,t.values[o])||(t.values[o].push(s),r=!0)}r&&(x(t._htmlRow),te(t._htmlRow,t,n)),q(t,n)}function re(t){if('uri'in t)return t.uri;if('_subject_id'in t)return t._subject_id;var n=''+Te;return t._subject_id=n,++Te,n}function ie(t,r,o,s){t.running=!0;var d=Date.now(),l=n.createElement('tr'),c;s.appendChild(l),l.textContent='Loading ...';for(var u=0;u<r.length;u++)r[u].original=!0,r[u].originalValues||(r[u].originalValues=r[u].values),r[u].values={};var f=function a(d){if(t.running){l.textContent+='.';var c=null,u=null,f;if(Ce in d&&(u=d[Ce],f=re(u),f in ve&&(c=ve[f])),!c){var m=n.createElement('tr');s.appendChild(m),c={_htmlRow:m,_subject:u,values:{}},r.push(c),u&&(ve[f]=c)}delete c.original,ae(c,o,d)}},m=function t(){l&&l.parentNode&&l.parentNode.removeChild&&(l.parentNode.removeChild(l),l=null);var n=Date.now()-d;console.log('Query done: '+r.length+' rows, '+n+'ms');for(var o=r.length-1;0<=o;o--)if(r[o].original){console.log('   deleting row '+r[o]._subject);var s=r[o]._htmlRow;s.parentNode.removeChild(s),delete ve[re(r[o]._subject)],r.splice(o,1)}a.onDone&&a.onDone()};ye.query(t,f,void 0,m)}function oe(t,n){r.log.debug('>> processing formula');for(var a=0,o;a<n.statements.length;++a){if(o=n.statements[a],'NamedNode'===o.predicate.termType&&'Variable'===o.object.termType){var s=o.object.toString();if(s in t){var d=t[s];d.setPredicate(o.predicate,!1,o.subject)}}if('NamedNode'===o.predicate.termType&&'Variable'===o.subject.termType){var s=o.subject.toString();if(s in t){var d=t[s];d.setPredicate(o.predicate,!0,o.object)}}}for(var a=0;a<n.optional.length;++a)r.log.debug('recurse to optional subformula '+a),oe(t,n.optional[a]);r.log.debug('<< finished processing formula')}function se(t){for(var n=[],a={},o=0;o<t.vars.length;++o){var s=new k,d=t.vars[o];r.log.debug('column '+o+' : '+d),s.setVariable(d),a[d]=s,n.push(s)}return oe(a,t.pat),n}function de(t,a){var r;r=fe?se(t):a.getColumns();var o=[],s=n.createElement('table');return s.appendChild(B(r,a)),s.appendChild(K(o,r)),s.logicalRows=o,s.columns=r,s.query=t,ie(t,o,r,s),s}function le(t){var n=-1,a=null;for(var r in t){var o=t[r];o.useCount>n&&(a=o,n=o.useCount)}return a}function pe(t,n){var a={};for(var r in t)for(var o=0;o<n.length;++o)if(r in n[o]){a[r]=t[r];break}return a}var ce=a.sourceDocument,ue=a.tableClass,fe=a.query,he='http://www.w3.org/1999/02/22-rdf-syntax-ns#type',ge='http://www.w3.org/2000/01/rdf-schema#Literal',be=r.ns,ye=r.store,ve={},we={"http://www.w3.org/2002/07/owl#sameAs":!0,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":!0},xe={"http://www.w3.org/2001/XMLSchema#decimal":!0,"http://www.w3.org/2001/XMLSchema#float":!0,"http://www.w3.org/2001/XMLSchema#double":!0,"http://www.w3.org/2001/XMLSchema#integer":!0,"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":!0,"http://www.w3.org/2001/XMLSchema#positiveInteger":!0,"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":!0,"http://www.w3.org/2001/XMLSchema#negativeInteger":!0,"http://www.w3.org/2001/XMLSchema#long":!0,"http://www.w3.org/2001/XMLSchema#int":!0,"http://www.w3.org/2001/XMLSchema#short":!0,"http://www.w3.org/2001/XMLSchema#byte":!0,"http://www.w3.org/2001/XMLSchema#unsignedLong":!0,"http://www.w3.org/2001/XMLSchema#unsignedInt":!0,"http://www.w3.org/2001/XMLSchema#unsignedShort":!0,"http://www.w3.org/2001/XMLSchema#unsignedByte":!0},_e={"http://www.w3.org/2001/XMLSchema#dateTime":!0,"http://www.w3.org/2001/XMLSchema#date":!0},ke={"http://xmlns.com/foaf/0.1/Image":!0,"http://purl.org/dc/terms/Image":!0},Ce=a.keyVariable||'?_row',Te=0,Ee=null,Se=null,Ae=n.createElement('div'),Ie,Ne,je,Re;Ae.className='tableViewPane',Ae.appendChild(m());var Le=n.createElement('div');if(Ae.appendChild(Le),Ae.refresh=function(){ie(Oe.query,Oe.logicalRows,Oe.columns,Oe)},fe){var Oe=de(fe);Le.appendChild(Oe)}else{var Pe=P();Ie=Pe[0],Ne=Pe[1],ue||je.appendChild(S(Ie,Ne)),Se=le(Ne),Se?v(Se):v(Ie)}return Ae}},function(t,n,a){'use strict';var r={};t.exports=r;var o={icons:a(20),log:a(19),ns:a(7),store:a(14),tabs:r,widgets:a(21)},s=a(23);o.tabs.tabWidget=function(t){var n=o.store,a=t.subject,r=t.dom,d=r.createElement('div'),l=parseInt(t.orientation||'0'),c=t.backgroundColor||'#ddddcc',u=2&l,f=1&l,m=d.appendChild(r.createElement('table')),h=function t(n){for(var a=0,r=0;3>r;r++)a+=parseInt(n.slice(2*r+1,2*r+3),16);return 384<a},g=function t(n,a,r){for(var o='#',s='0123456789abcdef',d=0,c,u,f;3>d;d++){c=parseInt(n.slice(2*d+1,2*d+3),16),u=parseInt(a.slice(2*d+1,2*d+3),16),f=c*(1-r)+u*r;var m=parseInt((''+f).split('.')[0]),g=parseInt((''+m/16).split('.')[0]),h=parseInt((''+m%16).split('.')[0]);o+=s[g]+s[h]}return o},b,y,v,w,x,_;h(c)?(_=g(c,'#ffffff',0.3),b='#000000'):(_=g(c,'#000000',0.3),b='#ffffff');var k='resize: both; overflow: scroll; margin:0; border: 0.5em; border-style: solid; border-color: '+_+'; padding: 1em;  min-width: 30em; min-height: 450px; width:100%;';if(f){var C=m.appendChild(r.createElement('tr')),T=r.createElement('td');T.setAttribute('style','margin: 0;');var E=r.createElement('td');E.setAttribute('style','margin: 0;'),u?(C.appendChild(T),C.appendChild(E)):(C.appendChild(E),C.appendChild(T)),y=E.appendChild(r.createElement('table')),v='tr',x=E}else{y=r.createElement('tr');var S=m.appendChild(r.createElement('tr'));if(u)var S=m.appendChild(r.createElement('tr')),A=m.appendChild(r.createElement('tr'));else var A=m.appendChild(r.createElement('tr')),S=m.appendChild(r.createElement('tr'));y=A;var T=S.appendChild(r.createElement('td'));v='td'}var I=T.appendChild(r.createElement('table'));d.tabContainer=y,d.bodyContainer=I;var N=function r(){if(t.ordered){var o=n.the(a,t.predicate);return o.elements}return n.each(a,t.predicate)},j=['2em','2em','0','0'];j=j.concat(j).slice(l,l+4),j='border-radius: '+j.join(' ')+';';var R=['0.3em','0.3em','0','0.3em'];R=R.concat(R).slice(l,l+4),R='margin: '+R.join(' ')+';';var L=j+'padding: 0.7em; max-width: 20em;';L+='color: '+b+';';var O=L+'opacity: 50%; margin: 0.3em; background-color: '+c+';',P=L+R+' background-color: '+_+';',M='',D=M+'display: none;',B=function t(){for(var n=0;n<y.children.length;n++)y.children[n].firstChild.setAttribute('style',O)},U=function t(){for(var n=0;n<I.children.length;n++)I.children[n].setAttribute('style',D)},q=function n(a){var o=r.createElement(v);o.subject=a;var d=o.appendChild(r.createElement('div'));return d.setAttribute('style',O),d.addEventListener('click',function(n){n.metaKey||(B(),U()),d.setAttribute('style',P),o.bodyTR.setAttribute('style',M);var s=o.bodyTR.firstChild;s||(s=o.bodyTR.appendChild(r.createElement('div')),s.setAttribute('style',k)),t.renderTabSettings&&n.altKey?!0!==s.asSetttings&&(s.innerHTML='loading settings ...'+a,t.renderTabSettings(s,o.subject),s.asSetttings=!0):!1!==s.asSetttings&&(s.innerHTML='loading item ...'+a,t.renderMain(s,o.subject),s.asSetttings=!1)}),t.renderTab?t.renderTab(d,a):d.textContent=s.label(a),o},F=function t(){var n=N();f||T.setAttribute('colspan',n.length);var a=!1,o,s,d,l,c;for(l=0;l<y.children.length;l++)if(o=y.children[l],l>=n.length||!o.subject.sameTerm(n[l])){a=!0;break}if(a||n.length!==y.children.length){for(c=y.children.length-1;0<=c&&(o=y.children[c],d=c-y.children.length+n.length,!!o.subject.sameTerm(n[d]));c--);for(var u=n.slice(l,c-y.children.length+n.length+1);c>=l;)y.removeChild(y.children[l]),I.removeChild(I.children[l]),c-=1;for(s=0;s<u.length;s++){var m=q(u[s]),h=r.createElement('tr');m.bodyTR=h,r.createElement('tr'),l===y.children.length?(y.appendChild(m),I.appendChild(h)):(y.insertBefore(m,y.children[l+s]),I.insertBefore(h,I.children[l+s]))}}},z=function t(){var n=N();f||T.setAttribute('colspan',n.length);var a=[],r,o,s,d,l;for(o=0;o<y.children.length;o++)r=y.children[o],r.deleteMe=!0;for(s=0;s<n.length;s++){for(d=!1,o=0;o<y.children.length;o++)y.children[o].subject===n[s]&&(d=!0);d||a.push([s,n[s]])}for(s=0;s<a.length;s++)l=a[s],o=l[0],r=q(l[1]),o>=y.length?y.appendChild(r):y.insertBefore(r,y.children[o+1]);for(o=0;o<y.children.length;o++)r=y.children[o],r.deleteMe&&y.removeChild(r)},H=function n(){t.ordered?F():z()};return d.refresh=H,H(),!t.startEmpty&&y.children.length&&y.children[0].firstChild.click(),d}},function(t,n,a){'use strict';var r=function t(n){console.log(n.slice(0,-1))},o=t.exports={};o.list=[],o.paneForIcon=[],o.paneForPredicate=[],o.register=function(t,n){if(t.requireQueryButton=n,!t.name)return void r('***     No name for pane!\n');if(r('  registering pane: '+t.name+'\n'),!t.label)return void r('***     No label for pane!\n');if(o.list.push(t),t.name in o||(o[t.name]=t),t.icon&&(o.paneForIcon[t.icon]=t),t.predicates)for(var a in t.predicates)o.paneForPredicate[a]={pred:a,code:t.predicates[a]}},o.byName=function(t){for(var n=0;n<o.list.length;n++)if(o.list[n].name===t)return o.list[n]},o.OutlineManager=a(223),o.getOutliner=function(t){return t.outliner||(t.outliner=UI.panes.OutlineManager(t)),t.outliner},o.register(a(433)),o.register(a(434)),o.register(a(441)),o.register(a(442)),o.register(a(443)),o.register(a(444)),o.register(a(445)),o.register(a(446)),o.register(a(448)),o.register(a(449)),o.register(a(450)),o.register(a(451)),o.register(a(452)),o.register(a(453)),o.register(a(454)),o.register(a(455)),o.register(a(456)),o.register(a(457)),o.register(a(459)),o.register(a(460)),o.register(a(461)),o.register(a(463)),o.register(a(464)),o.register(a(465)),o.register(a(466)),o.register(a(467)),o.register(a(468)),o.register(a(469)),o.register(a(470)),o.register(a(471)),o.register(a(472)),o.register(a(473)),o.register(a(474)),o.register(a(475)),o.register(a(476))},function(t,n,a){'use strict';var r=t.exports={};r.util={},r.util.Event=function(){var t=[];return{on:function n(a,r,o,s,d){var l=function t(n){return o.call(s,n,s)};a.addEventListener(r,l,!1);var c=[a,r,d,l];t.push(c)},off:function n(a,r,o){var s=this._getCacheIndex(a,r,o);if(-1===s)return!1;var d=t[s];return a.removeEventListener(r,d[this.WFN],!1),delete t[s][this.WFN],delete t[s][this.FN],t.splice(s,1),!0},EL:0,TYPE:1,FNID:2,WFN:3,_getCacheIndex:function n(a,r,o){for(var s=0,d=t.length,l;s<d;++s)if(l=t[s],l&&l[this.FNID]==o&&l[this.EL]==a&&l[this.TYPE]==r)return s;return-1}}}(),r.util.DDExternalProxy=function t(n){this.initTarget(n)},r.util.DDExternalProxy.prototype={initTarget:function t(n){this.DDM=r.util.DDM,this.el=n},b4StartDrag:function t(n,a){o.onDragStart(n,a,this.el)},b4Drag:function t(n){},handleMouseDown:function t(n,a){var r=n.which||n.button;1<r||this.DDM.handleMouseDown(n,this)}},r.util.DDM=function t(){return{handleMouseDown:function t(n,a){this.dragCurrent=a;var r=a.el;this.startX=n.pageX,this.startY=n.pageY,this.deltaX=this.startX-r.offsetLeft,this.deltaY=this.startY-r.offsetTop,this.dragThreshMet=!1},handleMouseMove:function t(n){if(!this.dragCurrent)return!0;if(r.util.Event.isIE&&!n.button)return r.log('button failure','info','DragDropMgr'),this.stopEvent(n),this.handleMouseUp(n);if(!this.dragThreshMet){var a=_Mathabs(this.startX-n.pageX),o=_Mathabs(this.startY-n.pageY);(a>this.clickPixelThresh||o>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY)}return this.dragThreshMet,n.preventDefault(),!0},handleMouseUp:function t(n){this.dragCurrent&&(r.util.Event.off(this.dragCurrent.el,'mousemove','dragMouseMove'),r.util.Event.off(this.dragCurrent.el,'mouseup','dragMouseUp'),r.util.Event.off(this.dragCurrent.el,'mouseup','dragMouseUp'),this.dragThreshMet&&(o.onDropInside(n.target),this.dragThreshMet=!1),this.dragCurrent=null)},startDrag:function t(n,a){this.dragCurrent&&this.dragCurrent.b4StartDrag(n,a),this.dragThreshMet=!0},clickPixelThresh:3}}();var o={onDrop:function t(n,a,r){var o=ancestor(ancestor(n.originalTarget,'TABLE').parentNode,'TABLE').outline.selection,s=a.flavour.contentType,d=transferUtils.retrieveURLFromData(a.data,s);if(d){if('application/x-moz-file'==s&&0==a.data.fileSize){var l=kb.sym('chrome://tabulator/content/internalKnowledge.n3#defaultNew');kb.copyTo(l,kb.sym(d))}var c=o[0],u=ancestor(ancestor(c,'TABLE').parentNode,'TABLE'),f=u.outline;f.UserInput.insertTermTo(c,kb.sym(d))}},onDragEnter:function t(n,a){try{var o=ancestor(ancestor(n.originalTarget,'TABLE').parentNode,'TABLE').outline.selection}catch(t){return}for(var s=n.originalTarget;s;s=s.parentNode)if(s.tabulatorSelect){if(o[0]){try{o[0].tabulatorDeselect()}catch(t){throw o[0]+'causes'+t}r.util.Event.off(s,'mouseup','dragMouseUp')}s.tabulatorSelect();break}},onDragExit:function t(n,a){},onDropInside:function t(n){var a=n.ownerDocument.getElementById('outline'),r=a.outline;r.UserInput.insertTermTo(n,getAbout(kb,this.dragTarget))},onDragStart:function t(n,a,r){this.dragTarget=r;var o=Components.interfaces.nsIDragService,s={action:o.DRAGDROP_ACTION_COPY+o.DRAGDROP_ACTION_MOVE+o.DRAGDROP_ACTION_LINK},d=r.ownerDocument.getBoxObjectFor(r),l=Components.classes['@mozilla.org/gfx/region;1'].createInstance(Components.interfaces.nsIScriptableRegion);l.init(),l.unionRect(d.screenX,d.screenY,d.width,d.height);var c={data:null},u=tabulator.Util.getTerm(r);switch(u.termType){case'NamedNode':c.data=this.URItoTransferDataSet(u.uri);break;case'BlankNode':c.data=this.URItoTransferDataSet(u.toNT());break;case'Literal':c.data=this.URItoTransferDataSet(u.value);}c=c.data;var f=Components.classes['@mozilla.org/supports-array;1'].createInstance(Components.interfaces.nsISupportsArray),m=nsTransferable.set(c.dataList[0]);f.AppendElement(m.QueryInterface(Components.interfaces.nsISupports)),this.mDragService.invokeDragSession(r,f,l,s.action)},getSupportedFlavours:function t(){var n=new FlavourSet;return n.appendFlavour('text/x-moz-url'),n.appendFlavour('text/unicode'),n.appendFlavour('application/x-moz-file','nsIFile'),n},URItoTransferDataSet:function t(n){var a=new TransferDataSet,r=new TransferData;return r.addDataForFlavour('text/x-moz-url',n),r.addDataForFlavour('text/unicode',n),a.push(r),a},_mDS:null,get_mDragService:function t(){if(!this._mDS){var n='@mozilla.org/widget/dragservice;1',a=Components.interfaces.nsIDragService;this._mDS=Components.classes[n].getService(a)}return this._mDS},DDM:r.util.DDM}},function(t,n,a){'use strict';var r=t.exports={},o=a(1);r.src=[],r.tooltips=[],r.src.icon_expand=o.icons.originalIconBase+'tbl-expand-trans.png',r.src.icon_more=o.icons.originalIconBase+'tbl-more-trans.png',r.src.icon_collapse=o.icons.originalIconBase+'tbl-collapse.png',r.src.icon_internals=o.icons.originalIconBase+'tango/22-emblem-system.png',r.src.icon_instances=o.icons.originalIconBase+'tango/22-folder-open.png',r.src.icon_foaf=o.icons.originalIconBase+'foaf/foafTiny.gif',r.src.icon_social=o.icons.originalIconBase+'social/social.gif',r.src.icon_mb=o.icons.originalIconBase+'microblog/microblog.png',r.src.icon_shrink=o.icons.originalIconBase+'tbl-shrink.png',r.src.icon_rows=o.icons.originalIconBase+'tbl-rows.png',r.src.icon_unrequested=o.icons.originalIconBase+'16dot-blue.gif',r.src.icon_fetched=o.icons.originalIconBase+'16dot-green.gif',r.src.icon_failed=o.icons.originalIconBase+'16dot-red.gif',r.src.icon_requested=o.icons.originalIconBase+'16dot-yellow.gif',r.src.icon_CVPane=o.icons.originalIconBase+'CV.png',r.src.icon_defaultPane=o.icons.originalIconBase+'about.png',r.src.icon_visit=o.icons.originalIconBase+'tango/22-text-x-generic.png',r.src.icon_dataContents=o.icons.originalIconBase+'rdf_flyer.24.gif',r.src.icon_n3Pane=o.icons.originalIconBase+'w3c/n3_smaller.png',r.src.icon_RDFXMLPane=o.icons.originalIconBase+'22-text-xml4.png',r.src.icon_imageContents=o.icons.originalIconBase+'tango/22-image-x-generic.png',r.src.icon_airPane=o.icons.originalIconBase+'1pt5a.gif',r.src.icon_LawPane=o.icons.originalIconBase+'law.jpg',r.src.icon_pushbackPane=o.icons.originalIconBase+'pb-logo.png',r.src.icon_photoPane=o.icons.originalIconBase+'photo_small.png',r.src.icon_tagPane=o.icons.originalIconBase+'tag_small.png',r.src.icon_TinyTag=o.icons.originalIconBase+'tag_tiny.png',r.src.icon_photoBegin=o.icons.originalIconBase+'photo_begin.png',r.src.icon_photoNext=o.icons.originalIconBase+'photo_next.png',r.src.icon_photoBack=o.icons.originalIconBase+'photo_back.png',r.src.icon_photoEnd=o.icons.originalIconBase+'photo_end.png',r.src.icon_photoImportPane=o.icons.originalIconBase+'flickr_small.png',r.src.icon_retract=o.icons.originalIconBase+'retract.gif',r.src.icon_refresh=o.icons.originalIconBase+'refresh.gif',r.src.icon_optoff=o.icons.originalIconBase+'optional_off.PNG',r.src.icon_opton=o.icons.originalIconBase+'optional_on.PNG',r.src.icon_map=o.icons.originalIconBase+'compassrose.png',r.src.icon_retracted=r.src.icon_unrequested,r.src.icon_retracted=r.src.icon_unrequested,r.src.icon_time=o.icons.originalIconBase+'icons/Wclocksmall.png',r.src.icon_telephone=o.icons.originalIconBase+'silk/telephone.png',r.src.icon_time=o.icons.originalIconBase+'Wclocksmall.png',r.src.icon_remove_node=o.icons.originalIconBase+'tbl-x-small.png',r.src.icon_add_triple=o.icons.originalIconBase+'tango/22-list-add.png',r.src.icon_add_new_triple=o.icons.originalIconBase+'tango/22-list-add-new.png',r.src.icon_show_choices=o.icons.originalIconBase+'userinput_show_choices_temp.png',r.src.icon_display_reasons=o.icons.originalIconBase+'tango/22-help-browser.png',r.tooltips[r.src.icon_display_reasons]='Display explanations',r.tooltips[r.src.icon_add_triple]='Add more',r.tooltips[r.src.icon_add_new_triple]='Add one',r.tooltips[r.src.icon_remove_node]='Remove',r.tooltips[r.src.icon_expand]='View details.',r.tooltips[r.src.icon_collapse]='Hide details.',r.tooltips[r.src.icon_shrink]='Shrink list.',r.tooltips[r.src.icon_internals]='Under the hood',r.tooltips[r.src.icon_instances]='List',r.tooltips[r.src.icon_foaf]='Friends',r.tooltips[r.src.icon_rows]='Make a table of data like this',r.tooltips[r.src.icon_unrequested]='Fetch this.',r.tooltips[r.src.icon_fetched]='Fetched successfully.',r.tooltips[r.src.icon_failed]='Failed to load. Click to retry.',r.tooltips[r.src.icon_requested]='This is being fetched. Please wait...',r.tooltips[r.src.icon_visit]='View document',r.tooltips[r.src.icon_retract]='Remove this source and all its data from tabulator.',r.tooltips[r.src.icon_refresh]='Refresh this source and reload its triples.',r.OutlinerIcon=function(t,n,a,r,o){return this.src=t,this.alt=a,this.width=n,this.tooltip=r,this.filter=o,this},r.termWidgets={},r.termWidgets.optOn=new r.OutlinerIcon(r.src.icon_opton,20,'opt on','Make this branch of your query mandatory.'),r.termWidgets.optOff=new r.OutlinerIcon(r.src.icon_optoff,20,'opt off','Make this branch of your query optional.'),r.termWidgets.addTri=new r.OutlinerIcon(r.src.icon_add_triple,18,'add tri','Add one')},function(t,n,a){'use strict';var r='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t},o,d;t.exports=function t(n){var a=this,l=UI.store,s=n.document;this.menuId='predicateMenu1';var c=function t(n){dump(n+'\n')},u=function t(){return this.replace(/^\s+|\s+$/g,'')},f=UI.ns.foaf,m=UI.ns.rdf,h=UI.ns.rdfs,g=UI.ns.owl,b=UI.ns.dc,y=UI.ns.rss,v=UI.ns.contact,w=UI.ns.mo,x=UI.rdf.Namespace('http://purl.org/ontology/bibo/'),_=UI.rdf.Namespace('http://purl.org/dc/terms/'),k=UI.rdf.Namespace('http://purl.org/dc/elements/1.1/'),C=!1;return o||(o=new UI.rdf.Formula,o.superFormula=l),d||(d=new UI.rdf.IndexedFormula),d.name='TempFormula',UI.store.updater||(UI.store.updater=new UI.rdf.UpdateManager(l)),{sparqler:UI.store.updater,lastModified:null,lastModifiedStat:null,statIsInverse:!1,addNewPredicateObject:function t(a){if('bottom-border-active'==UI.utils.getTarget(a).className){var r=n.UserInput,o=UI.utils.getTarget(a),d=s.createElement('tr');UI.utils.ancestor(o,'DIV').insertBefore(d,UI.utils.ancestor(o,'TR'));var c=s.createElement('tr'),u=r.generateRequest('(TBD)',c,!0);d.appendChild(c.firstChild);var f=r.generateRequest('(Enter text or drag an object onto this field)',c,!1);if(d.appendChild(c.firstChild),UI.utils.ancestor(o,'TR').previousSibling&&UI.utils.ancestor(o,'TR').previousSibling.AJAR_statement)preStat=UI.utils.ancestor(o,'TR').previousSibling.AJAR_statement,r.formUndetStat(d,preStat.subject,u,f,preStat.why,!1);else{var m=UI.utils.getAbout(l,UI.utils.ancestor(o.parentNode.parentNode,'TD')),h=l.sym(UI.rdf.Util.uri.docpart(m.uri));r.formUndetStat(d,m,u,f,h,!1)}n.walk('moveTo',d.firstChild),UI.log.info('addNewPredicateObject: selection = '+n.getSelection().map(function(t){return t.textContent}).join(', ')),this.startFillInText(n.getSelection()[0])}},addNewObject:function t(a){var r=UI.utils.getTarget(a).parentNode.parentNode,o=UI.utils.getAbout(l,r),s=r.parentNode.AJAR_inverse;this.lastModifiedStat=r.parentNode.AJAR_statement;var d=this.appendToPredicate(r),c=this.generateRequest(' (Error) ',d,!1),u=d.previousSibling.AJAR_statement;s?this.formUndetStat(d,c,u.predicate,u.object,u.why,!0):this.formUndetStat(d,u.subject,u.predicate,c,u.why,!1),n.walk('moveTo',d.lastChild),this.startFillInText(d.lastChild)},Delete:function t(n){this.deleteTriple(n,!1)},Enter:function t(n){this.literalModification(n)},Click:function t(n){var a=UI.utils.getTarget(n);'Literal'!=UI.utils.getTerm(a).termType||(this.literalModification(a),n.preventDefault(),n.stopPropagation())},pasteFromClipboard:function t(n,a){function r(t){var n=tabulator.clipboard[t].shift();if(null==n)return void UI.log.warn('no more element in clipboard!');switch(t){case'predicates':case'objects':for(var a=tabulator.clipboard.all,r=0;!0;r++)if(n.sameTerm(allArray[r])){allArray.splice(r,1);break}break;case'all':var o=n.sameTerm(theCollection('objects').elements[0]);return o?tabulator.clipboard.objecs.shift():tabulator.clipboard.predicates.shift(),[n,o];}return n}var o;switch(a.className){case'undetermined selected':if(o=a.nextSibling?r('predicates'):r('objects'),!o)return;break;case'pred selected':if(o=r('objects'),!o)return;break;case'selected':var s=r('all');return s?(o=s[0],void this.insertTermTo(a,o,s[1])):void 0;}this.insertTermTo(a,o)},startFillInText:function t(n){switch(this.whatSortOfEditCell(n)){case'DatatypeProperty-like':UI.utils.emptyNode(n),this.lastModified=this.createInputBoxIn(n,' (Please Input) '),this.lastModified.isNew=!1,this.lastModified.select();break;case'predicate':this.performAutoCompleteEdit(n,'PredicateAutoComplete');break;case'ObjectProperty-like':case'no-idea':this.performAutoCompleteEdit(n,'GeneralAutoComplete');}},literalModification:function t(n){if(UI.log.debug('entering literal Modification with '+n+n.textContent),-1!=n.className.indexOf(' pendingedit'))return UI.log.warn('The node you attempted to edit has a request still pending.\nPlease wait for the request to finish (the text will turn black)\nbefore editing this node again.'),!0;var a=n,r=this.getStatementAbout(a);if(r){try{var o=UI.utils.getTerm(a),d=UI.utils.ancestor(a,'TR')}catch(t){UI.log.warn('userinput.js: '+t+UI.utils.getAbout(l,n)),UI.log.error(a+' getStatement Error:'+t)}try{var c=d.lastChild}catch(t){UI.log.error(t+'@'+a)}if('Literal'==o.termType){if(c.removeChild(c.firstChild),o.value.match('\n')){var u=s.createElement('textarea');u.appendChild(s.createTextNode(o.value)),u.setAttribute('rows',(o.value.match(/\n/g).length+1).toString()),u.setAttribute('cols','100'),u.setAttribute('class','textinput'),c.appendChild(u),this.lastModified=u}else this.lastModified=this.createInputBoxIn(c,o.value);this.lastModified.isNew=!1,this.lastModified.select()}return!0}},performAutoCompleteEdit:function t(n,a){UI.utils.emptyNode(n),c('perform AutoCompleteEdit. THIS IS='+this),this.lastModified=this.createInputBoxIn(n,''),this.lastModified.select(),this.lastModified.addEventListener('keypress',this.getAutoCompleteHandler(a),!1),this.getAutoCompleteHandler(a)(1)},backOut:function t(){this.deleteTriple(this.lastModified.parentNode,!0),this.lastModified=null},clearMenu:function t(){var n=s.getElementById(this.menuID);n&&n.parentNode.removeChild(n)},clearInputAndSave:function t(a){if(this.lastModified){if(!this.lastModified.isNew)try{var r=this.getStatementAbout(this.lastModified).object}catch(t){return}var o=this.lastModifiedStat;if(this.lastModified.value!=this.lastModified.defaultValue){if(''==this.lastModified.value)return this.lastModified.value=this.lastModified.defaultValue,void this.clearInputAndSave();if(this.lastModified.isNew){o=new UI.rdf.Statement(o.subject,o.predicate,l.literal(this.lastModified.value),o.why);var s=UI.utils.ancestor(this.lastModified,'TR');try{UI.store.updater.update([],[o],function(t,a,r){a||(UI.log.error('Error occurs while inserting '+o+'\n\n'+r+'\n'),n.UserInput.deleteTriple(s.lastChild,!0))})}catch(t){return void UI.log.error('Error inserting fact '+o+':\n\t'+t+'\n')}o=l.add(o.subject,o.predicate,l.literal(this.lastModified.value),o.why)}else{if(this.statIsInverse)return UI.log.error('Invalid Input: a literal can\'t be a subject in RDF/XML'),void this.backOut();switch(r.termType){case'Literal':var d=this.lastModified.value,s=UI.utils.ancestor(this.lastModified,'TR'),c=this.lastModified.defaultValue,u=$rdf.st(o.subject,o.predicate,l.literal(this.lastModified.value),o.why);try{UI.store.updater.update([o],[u],function(t,n,a){n?r.value=d:(UI.log.warn('Error occurs while editing '+o+'\n\n'+a),s.lastChild.textContent=c),s.lastChild.className=s.lastChild.className.replace(/ pendingedit/g,'')})}catch(t){return void UI.log.warn('Error occurs while editing '+o+':\n\t'+t)}break;case'BlankNode':var f=l.literal(this.lastModified.value,''),h;if('Collection'==o.predicate.termType){var g=o.predicate.elements[0];if(l.any(void 0,g,f)){if(!a){var b=this.lastModified.parentNode;a={},a.pageX=UI.utils.findPos(b)[0],a.pageY=UI.utils.findPos(b)[1]+b.clientHeight}this.showMenu(a,'DidYouMeanDialog',void 0,{dialogTerm:l.any(void 0,g,f),bnodeTerm:o.subject})}else{var y=UI.utils.ancestor(UI.utils.ancestor(this.lastModified,'TR').parentNode,'TR').AJAR_statement,u=$rdf.st(o.subject,g,f,o.why),v=l.the(o.subject,m('type')),w=l.anyStatementMatching(o.subject,m('type'),v,o.why),s=UI.utils.ancestor(UI.utils.ancestor(this.lastModified,'TR'),'TD').parentNode;try{UI.store.updater.update([],[y,u,w],function(t,a,r){a||(dump('Error occurs while editing '+y+'\n\n'+r),n.UserInput.deleteTriple(s.lastChild,!0))})}catch(t){return void dump('Error occurs while editing '+y+':\n\t'+t)}l.remove(o),h=l.add(o.subject,g,f,o.why)}var x=UI.utils.ancestor(this.lastModified.parentNode.parentNode,'TD');n.outline_expand(x,o.subject,{pane:defaultPane,already:!0}),n.walk('right',n.focusTd)}else return void this.fillInRequest('object',this.lastModified.parentNode,l.literal(this.lastModified.value));}}}else{if(this.lastModified.isNew){var _=UI.utils.ancestor(this.lastModified,'TR'),k=this.generateRequest('(To be determined. Re-type of drag an object onto this field)'),C=_.previousSibling.AJAR_statement;return this.formUndetStat(_,C.subject,C.predicate,k,C.why,!1),void(this.lastModified=null)}if('Collection'==o.predicate.termType){l.removeMany(o.subject);var T=UI.utils.ancestor(UI.utils.ancestor(this.lastModified,'TR').parentNode,'TR'),C=T.AJAR_statement,k=this.generateRequest('(To be determined. Re-type of drag an object onto this field)');return this.formUndetStat(T,C.subject,C.predicate,k,C.why,!1),n.replaceTD(n.outline_objectTD(k,E),T.lastChild),void(this.lastModified=null)}if('BlankNode'==o.object.termType&&!this.statIsInverse||'BlankNode'==o.subject.termType&&this.statIsInverse)return void this.backOut()}var _=UI.utils.ancestor(this.lastModified,'TR'),E=this.views.defaults[o.predicate.uri];this.statIsInverse?n.replaceTD(n.outline_objectTD(o.subject,E),_.lastChild):n.replaceTD(n.outline_objectTD(l.literal(this.lastModified.value),E),_.lastChild),this.lastModified.value!=this.lastModified.defaultValue&&(_.lastChild.className+=' pendingedit'),this.lastModified=null}},deleteTriple:function t(a,r){function o(){var t;for(t=s;1==t.childNodes.length;t=t.previousSibling);if(t==s){var n=t.nextSibling;if(n.nextSibling&&1==n.childNodes.length){var a=t.firstChild;a.setAttribute('rowspan',parseInt(a.getAttribute('rowspan'))-1),n.insertBefore(t.firstChild,n.firstChild)}s.parentNode.removeChild(s)}else if(!0){var a=t.firstChild;a.setAttribute('rowspan',parseInt(a.getAttribute('rowspan'))-1),s.parentNode.removeChild(s)}}if(UI.log.debug('deleteTriple entered'),!r&&-1!=a.className.indexOf(' pendingedit'))return dump('The node you attempted to edit has a request still pending.\nPlease wait for the request to finish (the text will turn black)\nbefore editing this node again.'),void n.walk('up');var d=this.getStatementAbout(a),s,c;if(!r&&!l.whether(d.object,m('type'),UI.ns.link('Request'))&&!l.whether(d.predicate,m('type'),UI.ns.link('Request'))&&!l.whether(d.subject,m('type'),UI.ns.link('Request'))){UI.log.debug('about to send SPARQLUpdate');try{UI.store.updater.update([d],[],function(t,n,r){n?o():(dump('Error occurs while deleting '+d+'\n\n'+r),a.className=a.className.replace(/ pendingedit/g,''))}),a.className+=' pendingedit'}catch(t){return UI.log.error(t),void UI.log.warn('Error deleting statement '+d+':\n\t'+t)}UI.log.debug('SPARQLUpdate sent')}else;UI.log.debug('about to remove '+d),UI.log.debug('removed'),n.walk('up'),s=a.parentNode,c=s.nextSibling,r&&o()},clipboardInit:function t(){tabulator.clipboard={},tabulator.clipboard.objects=[],tabulator.clipboard.predicates=[],tabulator.clipboard.all=[]},copyToClipboard:function t(n,a){var r=UI.utils.getTerm(a);switch(a.className){case'selected':case'obj selected':var o=tabulator.clipboard.objects;tabulator.clipboard.objects.unshift(r);break;case'pred selected':case'pred internal selected':tabulator.clipboard.predicates.unshift(r);}tabulator.clipboard.all.unshift(r)},insertTermTo:function t(a,r,d){switch(a.className){case'undetermined selected':var c=this.views.defaults[a.parentNode.AJAR_statement.predicate.uri];this.fillInRequest(a.nextSibling?'predicate':'object',a,r);break;case'pred selected':var u=this.appendToPredicate(a),f=a.parentNode.AJAR_statement,c=this.views.defaults[f.predicate.uri];u.appendChild(n.outline_objectTD(r,c));var m=a.parentNode.AJAR_inverse;m?u.AJAR_statemnet=l.add(r,f.predicate,f.object,f.why):u.AJAR_statement=l.add(f.subject,f.predicate,r,f.why);try{UI.store.updater.update([],[u.AJAR_statement],function(t,n,a){n||UI.log.error('userinput.js (pred selected): Fail trying to insert statement '+u.AJAR_statement+': '+UI.utils.stackString(e))})}catch(t){return void UI.log.error('Exception trying to insert statement '+u.AJAR_statement+': '+UI.utils.stackString(t))}u.AJAR_inverse=m,o.statements.push(u.AJAR_statement);break;case'selected':var h=UI.utils.ancestor(a,'TABLE').lastChild,g=h.insertBefore(s.createElement('tr'),h.lastChild);if(!1)var f=g.previousSibling.previousSibling.AJAR_statement;else var f=g.previousSibling.AJAR_statement;var d;if('undefined'==typeof d&&(d=!0),d)this.formUndetStat(g,f.subject,this.generateRequest('(TBD)',g,!0),r,f.why,!1),g.appendChild(n.outline_objectTD(r)),n.walk('moveTo',g.firstChild),this.startFillInText(g.firstChild);else{var b=this.generateRequest('(To be determined. Re-type of drag an object onto this field)',g);this.formUndetStat(g,f.subject,r,b,f.why,!1),g.insertBefore(n.outline_predicateTD(r,g,!1,!1),g.firstChild),n.walk('moveTo',g.lastChild),this.startFillInText(g.lastChild)}}},Refill:function t(n,a){UI.log.info('Refill'+a.textContent);var r=a.nextSibling;if(r){if('undetermined'==a.nextSibling.className){var o=UI.utils.getAbout(l,UI.utils.ancestor(a,'TABLE').parentNode),s=l.any(o,m('type')),d=[],c='.\n';d[0]='SELECT ?pred WHERE{\n?pred '+m('type')+m('Property')+'.\n?pred '+UI.ns.rdfs('domain')+s+'.}',d[1]='SELECT ?pred ?class\nWHERE{\n?pred '+m('type')+m('Property')+'.\n'+s+UI.ns.rdfs('subClassOf')+' ?class.\n?pred '+UI.ns.rdfs('domain')+' ?class.\n}',d[2]='SELECT ?pred WHERE{\n'+o+m('type')+l.variable('subjectClass')+c+l.variable('pred')+UI.ns.rdfs('domain')+l.variable('subjectClass')+c+'}';var u=d.map(SPARQLToQuery)}else var o=UI.utils.getAbout(l,UI.utils.ancestor(a,'TABLE').parentNode),s=l.any(o,m('type')),f=a.parentNode.AJAR_statement.object,h='Literal'==f.termType?UI.ns.rdfs('Literal'):l.any(f,m('type')),d='SELECT ?pred WHERE{'+o+m('type')+'?subjectClass.\n'+f+m('type')+'?objectClass.\n?pred '+UI.ns.rdfs('domain')+'?subjectClass.\n?pred '+UI.ns.rdfs('range')+'?objectClass.\n}',u=SPARQLToQuery(d);this.showMenu(n,'GeneralPredicateChoice',u,{isPredicate:r,selectedTd:a})}else{var g=a.parentNode.AJAR_statement.predicate;if((l.whether(g,m('type'),UI.ns.owl('DatatypeProperty'))||'Collection'==g.termType||l.whether(g,UI.ns.rdfs('range'),UI.ns.rdfs('Literal')))&&(a.className='',UI.utils.emptyNode(a),this.lastModified=this.createInputBoxIn(a,' (Please Input) '),this.lastModified.isNew=!1,this.lastModified.select()),a.parentNode.AJAR_statement.predicate.sameTerm(m('type'))){var d='SELECT ?class WHERE{?class '+m('type')+UI.ns.rdfs('Class')+'.}',b=SPARQLToQuery(d);this.showMenu(n,'TypeChoice',b,{isPredicate:r,selectedTd:a})}}},getAutoCompleteHandler:function t(a){c('\n\n***** In getAutoCompleteHandler ****** mode = '+a),'PredicateAutoComplete'==a?a='predicate':'JournalTAC'!=a&&(a='all');var o;return o='JournalTAC'==a?s.getElementById('inpid_journal_title'):this.lastModified||n.getSelection()[0].firstChild,c('InputBox='+o),c('InputBox.value='+o.value),function(t){function d(t){t&&(m.lastHighlight&&(m.lastHighlight.className=''),m.lastHighlight=t,m.lastHighlight.className='activeItem',n.showURI(UI.utils.getAbout(l,m.lastHighlight)))}c('ENTER EVENT='+t),c('1. outside (if eneterEvent)');var u={},f=o.parentNode;a||(a=f.nextSibling?'predicate':'all'),u.pageX=UI.utils.findPos(f)[0],u.pageY=UI.utils.findPos(f)[1]+f.clientHeight,c('epX='+u.pageX+', epY='+u.pageY+', mode='+a);var m=s.getElementById(n.UserInput.menuID);if(t){c('2. in (if enterEvent).  with type = '+('undefined'==typeof t?'undefined':r(t)));var h=o.value;if('object'==('undefined'==typeof t?'undefined':r(t)))switch(c('3. in typeof enterEvent is object, will switch to keys, arrows, etc. keycode = '+t.keyCode),t.stopPropagation(),m&&!m.lastHighlight&&d(m.firstChild.firstChild),t.keyCode){case 13:case 9:if(c('handler: Enter or Tab'),!m)return void n.UserInput.clearInputAndSave();if(!m.lastHighlight)return'JournalTAC'==a?(n.UserInput.clearMenu(),c('no lastH'),'no lastH'):void 0;if('INPUT'==m.lastHighlight.tagName)switch(m.lastHighlight.value){case'New...':c('subcase New'),n.UserInput.createNew();break;case'GiveURI':c('subcase GiveURI'),n.UserInput.inputURI();}else{if('JournalTAC'==a){if(c('movedArrow? '+C),C&&m.lastHighlight){var g=m.lastHighlight.firstChild.firstChild.innerHTML,b=m.lastHighlight.firstChild.nextSibling.innerHTML;return b=b.slice(4,-4),['gotdptitle',g,b]}return'asGivenTxt'}var y=UI.utils.getAbout(l,m.lastHighlight),v='predicate'==a?'predicate':'object';n.UserInput.clearMenu(),n.UserInput.fillInRequest(v,o.parentNode,y)}return void c('outside');case 38:return c('handler: Arrow UP'),C=!0,''!=h||'TR'!=m.lastHighlight.tagName||m.lastHighlight.previousSibling?d(m.lastHighlight.previousSibling):d(m.firstChild.firstChild),'I\'m a little Arrow Up';case 40:return c('handler: Arrow Down'),C=!0,'INPUT'==m.lastHighlight.tagName?d(m.childNodes[1].firstChild):d(m.lastHighlight.nextSibling),'I\'m a little Down Arrow';case 37:case 39:return c('handler: Arrow left, right'),void('INPUT'==m.lastHighlight.tagName&&(37==t.keyCode?d(m.lastHighlight.previousSibling):d(m.lastHighlight.nextSibling)));case 8:c('handler: Backspace'),h=h.slice(0,-1);break;case 27:return(c('handler: Esc'),!m)?void n.UserInput.backOut():void n.UserInput.clearMenu();break;default:c('handler: Default'),C=!1,c('oldtext='+h),h+=_StringfromCharCode(t.charCode),c('charcodent='+t.charCode),c('strcharcod='+_StringfromCharCode(t.charCode)),dump('DEFAULT txtstr='+h+'\n');}'all'==a?(c('generalAC after switch, newText='+h+'mode is all'),n.UserInput.clearMenu(),n.UserInput.showMenu(u,'GeneralAutoComplete',void 0,{inputText:h,selectedTd:f}),0==h.length&&n.UserInput.WildCardButtons()):'predicate'==a?(c('predicateAC after switch, newText='+h+'mode is predicate'),n.UserInput.clearMenu(),n.UserInput.showMenu(u,'PredicateAutoComplete',void 0,{inputText:h,isPredicate:!0,selectedTd:f})):'JournalTAC'==a&&(c('JouralTAC after switch, newText='+h),n.UserInput.clearMenu(),n.UserInput.showMenu(u,'JournalTitleAutoComplete',void 0,{inputText:h},'orderisuseless'));var m=s.getElementById(n.UserInput.menuID);return m?(c('at end of handler\n^^^^^^^^^^^^^^^^^\n\n'),d(m.firstChild.firstChild),n.showURI(UI.utils.getAbout(l,m.lastHighlight)),'nothing to return'):void c('No menu element.  Do not show menu.')}}},WildCardButtons:function t(){function a(t){var a=s.getElementById(n.UserInput.menuID);a.lastHighlight&&(a.lastHighlight.className=''),a.lastHighlight=UI.utils.ancestor(UI.utils.getTarget(t),'INPUT'),a.lastHighlight&&(a.lastHighlight.className='activeItem')}var r=s.getElementById(n.UserInput.menuID),o=r.insertBefore(s.createElement('div'),r.firstChild),d=o.appendChild(s.createElement('input')),l=o.appendChild(s.createElement('input'));d.type='button',d.value='New...',l.type='button',l.value='Know its URI',o.addEventListener('mouseover',a,!1),d.addEventListener('click',this.createNew,!1),l.addEventListener('click',this.inputURI,!1)},Keypress:function t(a){if(13==a.keyCode)if('TEXTAREA'!=n.targetOf(a).tagName)this.clearInputAndSave();else{var r=parseInt(this.lastModified.getAttribute('rows'));this.lastModified.setAttribute('rows',(r+1).toString()),a.stopPropagation()}},Mousedown:function n(a){c('MOUSING DOWN'),window.addEventListener('keypress',function(n){n.ctrlKey&&(115==n.charCode||113==n.charCode)&&t.switchMode()},!1),window.addEventListener('mousedown',t.Mousedown,!1),document.getElementById('outline').oncontextmenu=function(){return!1},2==a.button&&(t.switchMode(),a&&(a.preventDefault(),a.stopPropagation()))},Mouseover:function t(n){if(this.className='bottom-border-active',1==this._tabulatorMode)switch(UI.utils.getTarget(n).tagName){case'TD':var a=UI.utils.getTarget(n);'pred'==a.className&&(a.style.cursor='copy');break;case'DIV':var r=UI.utils.getTarget(n);'bottom-border'==UI.utils.getTarget(n).className&&(r.style.borderColor='rgb(100%,65%,0%)',r.style.cursor='copy');break;default:}},Mouseout:function t(n){if(this.className='bottom-border',1==this._tabulatorMode){var a=UI.utils.getTarget(n);'bottom-border'==UI.utils.getTarget(n).className&&(a.style.borderColor='transparent',a.style.cursor='auto')}},whatSortOfEditCell:function t(n){if(n.nextSibling)return'predicate';var a=this.getStatementAbout(n).predicate;return l.whether(a,UI.ns.rdf('type'),UI.ns.owl('DatatypeProperty'))||l.whether(a,UI.ns.rdfs('range'),UI.ns.rdfs('Literal'))||'Collection'==a.termType?'DatatypeProperty-like':l.whether(a,m('type'),UI.ns.owl('ObjectProperty'))?'ObjectProperty-like':'no-idea'},getStatementAbout:function t(n){var a=UI.utils.ancestor(n,'TR');if(!a)throw'No ancestor TR for the TD we clicked on:'+n;try{var r=a.AJAR_statement}catch(t){throw'No AJAR_statement!'+n+n.textContent+' has ancestor '+a;throw'TR not a statement TR';return}return this.lastModifiedStat=a.AJAR_statement,this.statIsInverse=a.AJAR_inverse,r},createInputBoxIn:function t(a,r){UI.log.info('myDocument in createInputBoxIn is now '+s.location),UI.log.info('outline.document is now '+n.document.location);var o=s.createElement('input');if(o.setAttribute('value',r),o.setAttribute('class','textinput'),'undetermined selected'!=a.className){var d=function t(a){(38==a.keyCode||40==a.keyCode)&&(n.OutlinerKeypressPanel(a),n.UserInput.clearInputAndSave())};o.setAttribute('size','100'),o.addEventListener('keypress',d,!1)}return a.appendChild(o),o},createNew:function t(a){n.UserInput.clearMenu();var r=n.getSelection()[0],o=r.parentNode.AJAR_statement.why,s=l.nextSymbol(o);n.UserInput.fillInRequest('object',r,s),n.outline_expand(n.getSelection()[0],s)},inputURI:function t(a){function r(t){switch(t.stopPropagation(),t.keyCode){case 13:case 9:if(this.value!=d){var n=this.value;o.fillInRequest('object',s,l.sym(n))}}}var o=n.UserInput;o.clearMenu();var s=n.getSelection()[0];UI.utils.emptyNode(s);var d=' (Type a URI) ';o.lastModified=o.createInputBoxIn(s,d),o.lastModified.select(),o.lastModified.addEventListener('keypress',r,!1)},appendToPredicate:function t(n){var a=!1,r;try{for(r=n.parentNode.nextSibling;1==r.childNodes.length&&r.AJAR_statement;r=r.nextSibling);}catch(t){a=!0}var o=s.createElement('tr');if(o.style.colspan='1',o.style.display='block',o.style.display='',n.hasAttribute('rowspan')&&n.setAttribute('rowspan',parseInt(n.getAttribute('rowspan'))+1),n.hasAttribute('rowspan')||n.setAttribute('rowspan','2'),!a)r.parentNode.insertBefore(o,r);else{var d=n.parentNode.parentNode;'defaultPane'==d.className?d.insertBefore(o,d.lastChild):d.appendChild(o)}return o},bnode2symbol:function t(n,a){l.copyTo(n,a,['two-direction','delete'])},generateRequest:function t(a,r,o,s){var l;s||(l=r?r:UI.utils.ancestor(this.lastModified,'TR'),UI.utils.emptyNode(l));var c=d,u=c.bnode();if(c.add(u,UI.ns.rdf('type'),UI.ns.link('Request')),10>a.length?c.add(u,UI.ns.link('message'),c.literal(a)):c.add(u,UI.ns.link('message'),c.literal(a)),c.add(u,UI.ns.link('to'),c.literal('The User')),c.add(u,UI.ns.link('from'),c.literal('The User')),!s){var f;f=o?l.appendChild(n.outline_predicateTD(u,l,!1,!1)):l.appendChild(n.outline_objectTD(u)),f.className='undetermined',f.textContent=a}return u},showMenu:function t(a,r,o,d,u){function f(t){y.lastHighlight&&(y.lastHighlight.className=''),y.lastHighlight=UI.utils.ancestor(UI.utils.getTarget(t),'TR'),y.lastHighlight&&(y.lastHighlight.className='activeItem')}function h(t){C.firstChild&&'no-suggest'==C.firstChild.className&&C.removeChild(C.firstChild);var n=UI.utils.predicateLabelForXML(t,!1);if(t.uri){var a='??';for(var r in I)if(UI.log.debug(I[r]),UI.rdf.Util.string_startswith(t.uri,I[r])){a=r;break}var o=C.appendChild(s.createElement('tr'));o.setAttribute('about',t);var d=o.appendChild(s.createElement('th'));d.appendChild(s.createElement('div')).appendChild(s.createTextNode(n)),o.appendChild(s.createElement('td')).appendChild(s.createTextNode(a.toUpperCase()))}}function g(t){return function(n){var a=n[t.vars[0]];h(a)}}UI.log.info('myDocument is now '+s.location),UI.log.info('outline.doucment is now '+n.document.location);var b=this,y=s.createElement('div');if(c('\n**** In showMenu, menuType = '+r+'\n'),d)for(var v in d)dump('\t extra '+v+': '+d[v]+'\n');dump('CREATED MENU\n'),y.id=this.menuID,y.className='outlineMenu',y.style.top=a.pageY+'px',y.style.left=a.pageX+'px';var w=function t(n){for(var a=0,r=0,o=0,s=0,d=0,l=0;n&&!isNaN(n.offsetLeft)&&!isNaN(n.offsetTop);)d=n.offsetLeft,l=n.offsetTop,d!=o&&(a+=n.offsetLeft-n.scrollLeft),l!=s&&(r+=n.offsetTop-n.scrollTop),o=d,s=l,n=n.parentNode;return{top:r+54,left:a-38}};if('JournalTitleAutoComplete'==r){var _=w(s.getElementById('inpid_journal_title'));_.left-=s.getElementById('inpid_journal_title').scrollTop,y.style.top=_.top+'px',y.style.left=_.left+'px'}dump('menu at top='+y.style.top+' left='+y.style.left+'\n'),s.body.appendChild(y);var C=y.appendChild(s.createElement('table'));y.lastHighlight=null;;switch(C.addEventListener('mouseover',f,!1),r){case'DidYouMeanDialog':var T=function t(a){c('DID YOU MEAN SELECT ITEM!!!!!');var r=UI.utils.ancestor(UI.utils.getTarget(a),'TR');2==r.childNodes.length&&r.nextSibling?(l.add(j,M,D),n.UserInput.clearMenu()):2==r.childNodes.length&&n.UserInput.clearMenu()};break;case'LimitedPredicateChoice':var E=d.clickedTd,T=function t(a){c('LIMITED P SELECT ITEM!!!!');for(var r=UI.utils.getAbout(l,UI.utils.getTarget(a)),o=E.parentNode.AJAR_statement.predicate.elements,s=0;s<o.length;s++)o[s].sameTerm(r)&&o.unshift(o.splice(s,1)[0]);n.UserInput.clearMenu();var d=E.parentNode,u=n.outline_predicateTD(d.AJAR_statement.predicate,d);d.insertBefore(u,E),d.removeChild(E),b.lastModified.select()};break;case'PredicateAutoComplete':case'GeneralAutoComplete':case'GeneralPredicateChoice':case'JournalTitleAutoComplete':case'TypeChoice':var S=d.isPredicate,A=d.selectedTd,T=function t(a){c('WOOHOO');var r=UI.utils.getAbout(l,UI.utils.getTarget(a));c('GENERAL SELECT ITEM!!!!!!='+r),c('target='+UI.utils.getTarget(a)),S?(c('1'),n.UserInput.fillInRequest('predicate',A,r)&&(c('2'),n.UserInput.clearMenu())):(c('3'),n.UserInput.fillInRequest('object',A,r)&&(c('4'),n.UserInput.clearMenu()))};break;default:throw'userinput: unexpected mode';}C.addEventListener('click',T,!1);var I={};switch(l.each(void 0,UI.ns.rdf('type'),UI.ns.owl('Ontology')).map(function(t){var n=UI.utils.label(t);if(n){var a=n.value.match(/\((.+?)\)/);a?I[a[1]]=t.uri:I[n.value]=t.uri}}),r){case'DidYouMeanDialog':var N=d.dialogTerm,j=d.bnodeTerm;y.style.width='auto';var R=C.appendChild(s.createElement('tr')),L=R.appendChild(s.createElement('th'));L.appendChild(s.createTextNode('Did you mean...'));var O=l.statementsMatching(N),P;for(P=0;P<O.length&&!l.whether(O[P].predicate,m('type'),UI.ns.owl('InverseFunctionalProperty'));P++);var M=O[P].predicate,D=l.any(N,O[P].predicate),B=UI.utils.label(N)+' who has '+UI.utils.label(M)+' '+D+'?',U=C.appendChild(s.createElement('tr')),q=U.appendChild(s.createElement('th'));q.appendChild(s.createTextNode(B)),L.setAttribute('colspan','2'),q.setAttribute('colspan','2');var F=C.appendChild(s.createElement('tr'));F.appendChild(s.createElement('th')).appendChild(s.createTextNode('Yes')),F.appendChild(s.createElement('td')).appendChild(s.createTextNode('BOOLEAN'));var z=C.appendChild(s.createElement('tr'));z.appendChild(s.createElement('th')).appendChild(s.createTextNode('No')),z.appendChild(s.createElement('td')).appendChild(s.createTextNode('BOOLEAN'));break;case'PredicateAutoComplete':var H=d.inputText,W=tabulator.lb.searchAdv(H,void 0,'predicate'),V=W[0];if(0==V.length)return dump('cm length 0\n'),void this.clearMenu();for(var P=0;P<V.length&&10>P;P++)h(V[P][1]);break;case'GeneralAutoComplete':var H=d.inputText;try{var W=tabulator.lb.search(H)}catch(t){dump('stop to see what happens '+d.selectedTd.textContent+'\n'+t+'\n')}var V=W[0],G=W[1];if(0==V.length)return dump('cm length 0\n'),void this.clearMenu();for(var P=0;P<V.length&&10>P;P++){var J=V[P][1].toNT(),K=C.appendChild(s.createElement('tr'));K.setAttribute('about',J);var X=K.appendChild(s.createElement('th'));X.appendChild(s.createElement('div')).appendChild(s.createTextNode(V[P][0]));var Z=V[P][1],Y=G[P],Q=Y?UI.utils.label(Y):'';K.appendChild(s.createElement('td')).appendChild(s.createTextNode(Q))}break;case'JournalTitleAutoComplete':var H=d.inputText;dump('testing searching text= '+H+' =====\n'),dump('\n===start JournalTitleAutoComplete\n');for(var ee=l.each(void 0,m('type'),x('Journal')),te=[],P=0;P<ee.length;P++){var ne=ee[P],ae=l.each(ne,k('title'),void 0),re=ae+'',ie=H.toLowerCase(),oe=re.toLowerCase();if(-1!=oe.search(ie)){c('FOUND A Journal Title Match!!!!!!'),te.push(ae);var K=C.appendChild(s.createElement('tr'));K.setAttribute('about','journalTitle');var X=K.appendChild(s.createElement('th'));X.appendChild(s.createElement('div')).appendChild(s.createTextNode(ae)),K.appendChild(s.createElement('td')).appendChild(s.createTextNode(ne))}}dump('matched: '+te+'\n'),dump('\\\\done showMenu\'s JTAutocomplete\n');break;case'LimitedPredicateChoice':var se=tabulator.util.getAbout(l,d.clickedTd);se.termType='Collection';for(var de=l.each(se,UI.ns.link('element')),P=0;P<de.length;P++)h(de[P]);break;default:var K=C.appendChild(s.createElement('tr'));K.className='no-suggest';var X=K.appendChild(s.createElement('th'));X.appendChild(s.createElement('div')).appendChild(s.createTextNode('No suggested choices. Try to type instead.')),K.appendChild(s.createElement('td')).appendChild(s.createTextNode('OK'));var b=this,le=function t(n){b.clearMenu(),n.stopPropagation};;K.addEventListener('click',le,'false');var pe=function t(){};switch(o.constructor.name){case'Array':for(var P=0;P<o.length;P++)l.query(o[P],g(o[P]),pe);break;case'undefined':throw'addPredicateChoice: query is not defined';break;default:l.query(o,g(o),pe);}}},fillInRequest:function t(a,r,c){var u=r.parentNode,f,m;f=u.AJAR_statement,m=u.AJAR_inverse;var h='object'==a?f.object:f.predicate,g=!1,b,y;if(l.any(h,UI.ns.link('onfillin'))&&(y=new Function('subject',l.any(h,UI.ns.link('onfillin')).value)),'predicate'==a){var v=n.outline_predicateTD(c,u,!1,!1);if('undetermined'!=r.nextSibling.className){var w=new UI.rdf.Statement(f.subject,c,f.object,f.why);try{UI.store.updater.update([],[w],function(t,n,a){n?(b=l.anyStatementMatching(f.subject,c,f.object,f.why),u.AJAR_statement=b,v.className=v.className.replace(/ pendingedit/g,'')):UI.log.warn('Failure occurs (#2) while inserting '+u.AJAR_statement+'\n\n'+a)})}catch(t){return UI.log.error(t),void UI.log.warn('Error when insert (#2) of statement '+w+':\n\t'+t)}v.className+=' pendingedit',this.lastModified=null}else this.formUndetStat(u,f.subject,c,f.object,f.why,!1),n.walk('right'),g=!0;n.replaceTD(v,r),d.remove(f)}else if('object'==a){var v=n.outline_objectTD(c);if(n.replaceTD(v,r),!r.previousSibling||'undetermined'!=r.previousSibling.className){var w;w=m?new UI.rdf.Statement(c,f.predicate,f.object,f.why):new UI.rdf.Statement(f.subject,f.predicate,c,f.why);try{UI.store.updater.update([],[w],function(t,n,a){UI.log.info('@@ usinput.js (object) callback ok='+n+' for statement:'+w+'\n '),n?(v.className=v.className.replace(/ pendingedit/g,''),newStats=m?l.statementsMatching(c,f.predicate,f.object,f.why):l.statementsMatching(f.subject,f.predicate,c,f.why),!newStats.length&&UI.log.error('userinput.js 1711: Can\'t find statememt!'),u.AJAR_statement=newStats[0]):UI.log.warn('userinput.js (object): Fail trying to insert statement '+w)})}catch(t){return UI.log.error('userinput.js (object): exception trying to insert statement '+w+': '+UI.utils.stackString(t)),void UI.log.warn('Error trying to insert statement '+w+':\n'+t)}this.lastModified=null,v.className+=' pendingedit'}else n.walk('left'),g=!0;d.remove(f)}return o.statements.push(b),y&&y(f.subject),!g||void this.startFillInText(n.getSelection()[0])},formUndetStat:function t(n,a,r,o,s,l){return n.AJAR_inverse=l,n.AJAR_statement=d.add(a,r,o,s),n.AJAR_statement},switchModeByRadio:function t(){var n=s.getElementsByName('mode');0==this._tabulatorMode&&!0==n[1].checked&&this.switchMode(),1==this._tabulatorMode&&!0==n[0].checked&&this.switchMode()},_tabulatorMode:0}}},function(t,n,a){'use strict';var r=a(1),o=!1;t.exports={icon:r.icons.iconBase+'noun_97839.svg',name:'issue',label:function n(a){var o=r.store,s=o.findTypeURIs(a);return s['http://www.w3.org/2005/01/wf/flow#Task']||o.holds(a,r.ns.wf('tracker'))?'issue':s['http://www.w3.org/2005/01/wf/flow#Tracker']?'tracker':null},render:function n(a,s){var d=r.store,l=r.ns,c=$rdf.Namespace('http://www.w3.org/2005/01/wf/flow#'),u=$rdf.Namespace('http://purl.org/dc/elements/1.1/'),f=$rdf.Namespace('http://purl.org/dc/terms/'),m=s.createElement('div'),g=r.panes.getOutliner(s);m.setAttribute('class','issuePane');var y=function t(n,a){return a||'http://www.w3.org/2000/01/rdf-schema#comment'!==n.uri?!1:!0},v=function n(r,s,d){if(o){if(!k(M,'trackLastModified'))return;var l=s.statementsMatching(a,f('modified')),l=l.concat(s.statementsMatching(a,c('modifiedBy'))),u=[$rdf.st(a,f('modified'),new Date,d)];t&&u.push($rdf.st(a,c('modifiedBy'),t,d)),I.update(l,u,function(t,n,a){})}},w=function t(n,a){var r=s.createElement('pre');return r.setAttribute('style',a?a:'color: grey'),m.appendChild(r),r.appendChild(s.createTextNode(n)),r},x=function t(n,a){n||console.log('Sorry, failed to save your change:\n'+a,'background-color: pink;')},_=function t(n){console.warn(n),m.appendChild(r.widgets.errorMessageBlock(s,n))},k=function t(n,a){var r=d.any(n,l.ui(a));return!!(r&&r.value)},C=this,T=function t(n){var r=n.parentNode,o=C.render(a,s);r.replaceChild(o,n)},E=function t(){var n=new Date;return''+n.getTime()},S=function t(n,a,o,s){var d=n.createElement('div'),h=a.any(o,c('stateStore')),b=function t(){w.setAttribute('class','pendingedit'),w.disabled=!0;var n=[],r=function t(n){var a=new $rdf.Literal(new Date()),r=''+new Date().getTime(),o=a.value.slice(0,4),s=a.value.slice(5,7),d=a.value.slice(8,10);return n.replace('{N}',r).replace('{YYYY}',o).replace('{MM}',s).replace('{DD}',d)},b=a.anyValue(o,c('issueURITemplate')),y,v;b?(b=$rdf.uri.join(b,h.uri),y=a.sym(r(b))):y=a.sym(h.uri+'#Iss'+E()),v=y.doc();var x=a.literal(w.value);n.push(new $rdf.Statement(y,c('tracker'),o,h)),n.push(new $rdf.Statement(y,u('title'),x,h)),n.push(new $rdf.Statement(y,f('created'),new Date(),h));var _=a.each(o,c('initialState'));0===_.length&&console.log('This tracker has no initialState');for(var k=0;k<_.length;k++)n.push(new $rdf.Statement(y,l.rdf('type'),_[k],h));s&&n.push(new $rdf.Statement(s,c('dependent'),y,h)),b&&(n.push(new $rdf.Statement(y,c('tracker'),o,v)),n.push(new $rdf.Statement(y,l.rdfs('seeAlso'),h,v)));var C=function t(n,a,r){a?(d.parentNode.removeChild(d),T(m),g.GotoSubject(y,!0,void 0,!0,void 0)):console.log('Error: can\'t save new issue:'+r)};I.update([],n,C)};r.store.fetcher.removeCallback('done','expand'),r.store.fetcher.removeCallback('fail','expand');var y=a.any(o,c('issueClass')),v=r.utils.label(y);d.innerHTML='<h2>Add new '+(s?'sub ':'')+v+'</h2><p>Title of new '+v+':</p>';var w=n.createElement('input');return w.setAttribute('type','text'),w.setAttribute('style','margin: 0.5em; font-size: 100%; padding: 0.3em;'),w.setAttribute('size','100'),w.setAttribute('maxLength','2048'),w.select(),w.addEventListener('keyup',function(t){13===t.keyCode&&b()},!1),d.appendChild(w),d},A=function t(n){var a=r.authn.newAppInstance(s,{noun:'tracker'},function(t,a){var o='issuetracker.w3.org';if(a||(a=d.any(t,s('uriPrefix')).value,'/'!==a.slice(-1)&&($rdf.log.error(o+': No / at end of uriPrefix '+a),a+='/'),a+=o+'/'+E()+'/',!!confirm('Make new tracker at '+a+'?'))){for(var s=r.ns.space,d=r.store,l=d.any(M,c('stateStore')),f=d.sym(a+'store.ttl'),u=n.doc(),m=u.uri.slice(0,u.uri.lastIndexOf('/')+1),h=function t(n){if(void 0!==n.elements)return n.elements.map(t);if(void 0===n.uri)return n;var r=n.uri;return r===l.uri?f:(r.slice(0,m.length)===m&&(r=a+r.slice(m.length),$rdf.log.debug(' Map '+n.uri+' to '+r)),d.sym(r))},g=h(u),b=h(n),y=d.statementsMatching(void 0,void 0,void 0,u),v=0,w;v<y.length;v++)w=y[v],d.add(h(w.subject),h(w.predicate),h(w.object),g);d.add(b,r.ns.space('inspiration'),n,l),d.add(b,r.ns.space('inspiration'),n,g),I.put(g,d.statementsMatching(void 0,void 0,void 0,g),'text/turtle',function(t,n,a){n?I.put(f,[],'text/turtle',function(t,n,a){n?console.info('Ok The tracker created OK at: '+b.uri+'\nMake a note of it, bookmark it. '):console.log('FAILED to set up new store at: '+f.uri+' : '+a)}):console.log('FAILED to save new tracker at: '+g.uri+' : '+a)})}});return a.setAttribute('style','margin: 0.5em 1em;'),a},I=d.updater,N=d.statementsMatching(a),j=d.statementsMatching(void 0,void 0,a),R=d.findTypeURIs(a),t=r.authn.currentUser(),L=function t(n,a){r.store.fetcher.unload(n),r.store.fetcher.nowOrWhenFetched(n.uri,void 0,function(t,n){t?a():console.log('Cant refresh data:'+n)})},O=function t(n){if(n.refresh)return void n.refresh();for(var a=0;a<n.children.length;a++)t(n.children[a])},P=function t(n,o){var l=r.ns,u={},f=function t(n){u[n.uri]=!0};f(l.rdf('type')),f(l.dc('title'));var m=function t(){var a=d.findTypeURIs(n),r='padding: 0.5em 1.5em 1em 1.5em; ',s=null;for(var l in a)if(s=d.any(d.sym(l),d.sym('http://www.w3.org/ns/ui#backgroundColor')),s)break;s=s?s.value:'#eee',r+='background-color: '+s+'; ',o.setAttribute('style',r)};m();var h=d.any(M,c('stateStore')),y=d.sym(n.uri.split('#')[0]);r.authn.checkUser();var C=d.any(M,c('issueClass'));if(!C)throw new Error('This tracker '+M+' has no issueClass');var T=r.widgets.makeSelectForCategory(s,d,n,C,h,function(t,n){t?(v(y,d,y),O(o)):console.log('Failed to change state:\n'+n)});o.appendChild(T);for(var A=d.each(M,c('issueCategory')),N=0;N<A.length;N++)o.appendChild(r.widgets.makeSelectForCategory(s,d,n,A[N],h,function(t,n){t?(v(y,d,y),O(o)):console.log('Failed to change category:\n'+n)}));var j=s.createElement('a');j.setAttribute('href',M.uri),j.setAttribute('style','float:right'),o.appendChild(j).textContent=r.utils.label(M),j.addEventListener('click',r.widgets.openHrefInOutlineMode,!0),f(l.wf('tracker')),o.appendChild(r.widgets.makeDescription(s,d,n,c('description'),y,function(t,n){t?v(y,d,y):console.log('Failed to description:\n'+n)})),f(c('description'));var a=d.statementsMatching(n,l.wf('assignee'));if(1<a.length){w('Weird, was assigned to more than one person. Fixing ..');var R=a.slice(1);I.update(R,[],function(t,n,a){n?w('Now fixed.'):_('Fixed failed: '+a)})}var L=a.length?a[0].object:null,P=d.statementsMatching(void 0,l.wf('assignee')),D=P.map(function(t){return t.object}),B=d.any(void 0,l.doap('bug-database'),M);if(B&&(D=D.concat(d.each(B,l.doap('developer')))),D.length){D.map(function(t){d.fetcher.lookUpThing(t)});var U={mint:'** Add new person **',nullLabel:'(unassigned)',mintStatementsFun:function t(n){var a=[$rdf.st(n,l.rdf('type'),l.foaf('Person'))];return B&&a.push($rdf.st(B,l.doap('developer'),n)),a}};o.appendChild(r.widgets.makeSelectForOptions(s,d,n,l.wf('assignee'),D,U,y,function(t,n){t?v(y,d,y):console.log('Failed to description:\n'+n)}))}if(f(l.wf('assignee')),k(M,'allowSubIssues')&&(g.appendPropertyTRs(o,J,!1,function(t,n){return!n&&t.sameTerm(c('dependent'))}),g.appendPropertyTRs(o,K,!0,function(t,n){return n&&t.sameTerm(c('dependent'))}),f(c('dependent'))),o.appendChild(s.createElement('br')),k(M,'allowSubIssues')){var q=s.createElement('button');q.setAttribute('type','button'),o.appendChild(q);var b=r.utils.label(C);q.innerHTML='New sub '+b,q.setAttribute('style','float: right; margin: 0.5em 1em;'),q.addEventListener('click',function(t){o.appendChild(S(s,d,M,n))},!1)}var F=d.any(M,l.wf('extrasEntryForm'));if(F){r.widgets.appendForm(s,o,{},n,F,h,x);var z=d.each(F,l.ui('part'));z.map(function(t){var n=d.any(t,l.ui('property'));n&&f(n)})}var H=o.appendChild(s.createElement('tr'));H.setAttribute('style','height: 1em');var W=d.anyValue(M,c('issueURITemplate')),V;if(W)V=n.doc();else{V=d.any(M,l.wf('messageStore')),V||(V=d.any(M,c('stateStore')));var G=d.sym(V.uri+'#Chat'+E())}d.fetcher.nowOrWhenFetched(V,function(t,a,l){if(!t){var c=s.createElement('p');c.textContent=a,o.insertBefore(c,H)}else{var u=r.messageArea(s,d,n,V);o.insertBefore(u,H)}}),f(l.wf('message'));var j=r.widgets.attachmentList(s,n,o,{promptIcon:r.icons.iconBase+'noun_25830.svg',predicate:l.wf('attachment')});f(l.wf('attachment'));var J=d.statementsMatching(n),K=d.statementsMatching(void 0,void 0,n);g.appendPropertyTRs(o,J,!1,function(t,n){return!(t.uri in u)}),g.appendPropertyTRs(o,K,!0,function(t,n){return!(t.uri in u)});var X=s.createElement('button');X.textContent='refresh',X.addEventListener('click',function(t){r.store.fetcher.unload(V),r.store.fetcher.nowOrWhenFetched(V.uri,void 0,function(t,n){t?O(o):console.log('Cant refresh messages'+n)})},!1),X.setAttribute('style','margin: 0.5em 1em;'),o.appendChild(X)};if(R['http://www.w3.org/2005/01/wf/flow#Task']||d.holds(a,r.ns.wf('tracker'))){var M=d.any(a,c('tracker'));if(!M)throw'This issue '+a+'has no tracker';var D=M.uri.split('#')[0];r.store.fetcher.load([M.doc(),l.wf('').doc()]).then(function(t){var n=d.any(M,c('stateStore'));r.store.fetcher.nowOrWhenFetched(n,a,function t(r,o){return r?void(P(a,m),I.addDownstreamChangeListener(n,function(){O(m)})):console.log('Failed to load state '+n+' '+o)})}).catch(function(t){return console.log('Failed to load config '+D+' '+t)}),r.store.fetcher.nowOrWhenFetched(D,a,function t(n,a){if(!n)return console.log('Failed to load config '+D+' '+a)})}else if(R['http://www.w3.org/2005/01/wf/flow#Tracker']){var M=a,B=d.any(a,c('issueClass')),U;if(!B)throw new Error('This tracker has no issueClass');var q=d.any(a,c('stateStore'));if(!q)throw new Error('This tracker has no stateStore');r.authn.checkUser();var F=s.createElement('h2');F.setAttribute('style','font-size: 150%'),m.appendChild(F);var h=r.utils.label(B);F.appendChild(s.createTextNode(h+' list'));var z=s.createElement('button'),b=s.createElement('div');z.setAttribute('type','button'),z.setAttribute('style','padding: 0.3em; font-size: 100%; margin: 0.5em;'),b.appendChild(z),m.appendChild(b);var H=s.createElement('img');H.setAttribute('src',r.icons.iconBase+'noun_19460_green.svg'),H.setAttribute('style','width: 1em; height: 1em; margin: 0.2em;'),z.appendChild(H);var W=s.createElement('span');W.innerHTML='New '+h,z.appendChild(W),z.addEventListener('click',function(t){z.setAttribute('disabled','true'),b.appendChild(S(s,d,a))},!1),r.store.fetcher.load([q,l.wf('').doc()]).then(function(t){for(var n=new $rdf.Query(r.utils.label(a)),o=d.each(M,c('issueCategory')),u=['issue','state','created'],f=0;f<o.length;f++)u.push('_cat_'+f);var h={};u.map(function(t){n.vars.push(h[t]=$rdf.variable(t))}),n.pat.add(h.issue,c('tracker'),M),n.pat.add(h.issue,l.dct('created'),h.created),n.pat.add(h.issue,l.rdf('type'),h.state),n.pat.add(h.state,l.rdfs('subClassOf'),B);for(var f=0;f<o.length;f++)n.pat.add(h.issue,l.rdf('type'),h['_cat_'+f]),n.pat.add(h['_cat_'+f],l.rdfs('subClassOf'),o[f]);n.pat.optional=[];var g=d.any(M,c('propertyList'));if(g)for(var b=g.elements,y=0;y<b.length;y++){var v=b[y],w='_prop_'+y;0<=v.uri.indexOf('#')&&(w=v.uri.split('#')[1]);var x=new $rdf.IndexedFormula;n.pat.optional.push(x),n.vars.push(h[w]=$rdf.variable(w)),x.add(h.issue,v,h[w])}var _={},k=d.each(void 0,l.rdfs('subClassOf'),B);k.map(function(t){(d.holds(t,l.rdfs('subClassOf'),c('Open'))||t.sameTerm(c('Open')))&&(_[t.uri]=!0)});var C=function t(n){U.innerHTML='';var a=U.appendChild(s.createElement('button'));a.textContent='X',a.addEventListener('click',function(t){U.innerHTML=''}),P(d.sym(n),U)},T=r.table(s,{query:n,keyVariable:'?issue',hints:{"?issue":{linkFunction:C},"?created":{cellFormat:'shortDate'},"?state":{initialSelection:_}}}),E,S;if(m.appendChild(T),E=m.appendChild(s.createElement('div')),E.setAttribute('style',' position: absolute; top: 100px; right: 20px; margin: 1em white;'),U=E.appendChild(s.createElement('div')),T.refresh){var N=s.createElement('button');N.textContent='refresh',N.addEventListener('click',function(t){r.store.fetcher.unload(q),r.store.fetcher.nowOrWhenFetched(q.uri,void 0,function(t,n){t?T.refresh():console.log('Cant refresh data:'+n)})},!1),m.appendChild(N)}else console.log('No refresh function?!');m.appendChild(A(a)),I.addDownstreamChangeListener(q,T.refresh)}).catch(function(t){return console.log('Cannot load state store: '+t)})}else console.log('Error: Issue pane: No evidence that '+a+' is either a bug or a tracker.');var V;return r.authn.checkUser().then(function(n){return n?(console.log('Web ID set already: '+n),void(t=n)):void(V=r.authn.loginStatusBox(s,function(n){n?(t=d.sym(n),console.log('Web ID set from login button: '+n),m.removeChild(V)):t=null}),V.setAttribute('style','margin: 0.5em 1em;'),m.appendChild(V))}),m}}},function(t,n,a){'use strict';var r=a(1),o=a(130),s=a(438),d=s.toolsPane;t.exports={icon:r.icons.iconBase+'noun_99101.svg',name:'contact',label:function n(a){var o=r.store,s=r.ns,d=o.findTypeURIs(a);return d[s.vcard('Individual').uri]?'Contact':d[s.vcard('Organization').uri]?'contact':d[s.vcard('Group').uri]?'Group':d[s.vcard('AddressBook').uri]?'Address book':null},mintClass:r.ns.vcard('AddressBook'),mintNew:function t(n){return new Promise(function(t,a){var o=n.dom,s=n.me,d=n.div,l=r.store,c=r.ns,u=n.newBase||n.newInstance.dir().uri,f=n.instanceClass||c.vcard('AddressBook');if(f.sameTerm(c.vcard('Group'))){var m=n.newInstance||l.sym(n.newBase+'index.ttl#this'),h=m.doc();return l.add(m,c.rdf('type'),c.vcard('Group'),h),l.add(m,c.vcard('fn'),n.instanceName||'untitled group',h),void l.fetcher.putBack(h,{contentType:'text/turtle'}).then(function(a){t(n)}).catch(function(t){a(new Error('Error creating document for new group '+t))})}var g='address book',b=function t(n){d.appendChild(r.widgets.errorMessageBlock(o,n,'pink'))},y='@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n  @prefix ab: <http://www.w3.org/ns/pim/ab#>.\n  @prefix dc: <http://purl.org/dc/elements/1.1/>.\n  @prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n  \n  <#this> a vcard:AddressBook;\n      dc:title "New address Book";\n      vcard:nameEmailIndex <people.ttl>;\n      vcard:groupIndex <groups.ttl>. \n\n';y+='<#this> <http://www.w3.org/ns/auth/acl#owner> <'+s.uri+'>.\n\n';var v=[{to:'index.ttl',content:y,contentType:'text/turtle'},{to:'groups.ttl',content:'',contentType:'text/turtle'},{to:'people.ttl',content:'',contentType:'text/turtle'},{to:'',existing:!0,aclOptions:{defaultForNew:!0}}],w=u+'index.html',x=r.authn.offlineTestID();x&&(v.push({to:'local.html',from:'local.html',contentType:'text/html'}),w=u+'local.html');var _=function a(r,s){console.log('Files created. App ready at '+r);var l=d.appendChild(o.createElement('p'));l.setAttribute('style','font-size: 140%;'),l.innerHTML='Your <a href=\''+r+'\'><b>new '+s+'</b></a> is ready. <br/><br/><a href=\''+r+'\'>Go to new '+s+'</a>',t(n)},k=function t(){if(0===v.length)_(w,g);else{var n=v.shift();console.log('Creating new file '+n.to+' in new instance ');var o=$rdf.uri.join(n.to,u),d=n.aclOptions||{},c=function l(c,u){return u?void r.authn.setACLUserPublic(o,s,d).then(function(){return t()}).catch(function(t){var r='Error setting access permissions for '+n.to+' : '+t.message;return b(r),a(new Error(r))}):(b('Error writing new file '+n.to),a(new Error('Error writing new file '+n.to)))};'content'in n?l.fetcher.webOperation('PUT',o,{data:n.content,saveMetadata:!0,contentType:n.contentType}).then(function(){return c(o,!0)}):'existing'in n?c(o,!0):a(new Error('copy not expected buiding new app'))}};k()})},render:function n(s,l,c){c=c||{};var f=r.store,m=r.ns,u=l.createElement('div'),h=s.doc();r.aclControl.preventBrowserDropEvents(l);var g='font-size: 100%; margin: 0.8em; padding:0.5em;';u.setAttribute('class','contactPane');var b=function t(n,a){return a||'http://www.w3.org/2000/01/rdf-schema#comment'!==n.uri?!1:!0},y=function t(n){console.log(n),u.appendChild(r.widgets.errorMessageBlock(l,n,'pink'))},v=function t(n,a){n||y('Error: '+a)},w=this,x=function t(){var n=new Date;return''+n.getTime()},_=function n(a){return r.authn.newAppInstance(l,{noun:'address book',appPathSegment:'contactorator.timbl.com'},function(n,r){w.clone(a,r,{me:t,div:u,dom:l})})},k=r.store.updater;r.aclControl.preventBrowserDropEvents(l);var C=f.statementsMatching(s),T=f.statementsMatching(void 0,void 0,s),E=f.findTypeURIs(s),t=r.authn.currentUser(),S={target:s,me:t,noun:'address book',div:u,dom:l},A=function t(n,a){r.store.fetcher.unload(n),r.store.fetcher.nowOrWhenFetched(n.uri,void 0,function(t,n){t?a():console.log('Cant refresh data:'+n)})},I=function t(n){if(n.refresh)return void n.refresh();for(var a=0;a<n.children.length;a++)t(n.children[a])},N=function t(n,a,r){f.fetcher.load(n).then(function(t){j(n,a,r)}).catch(function(t){y(t)})},j=function n(a,o,s){var h=r.utils.label(m.vcard('AddressBook')),b=r.utils.label(m.vcard('Individual')),w=a[0],x=f.any(w,m.vcard('groupIndex')),C={},T=s.foreignGroup||w,E=f.any(T,m.dc('title'))||f.any(T,m.vcard('fn'));c.solo&&E&&'undefined'!=typeof document&&(document.title=E.value),E=E?E.value:h;var S=function t(n){f.load(n).then(function(t){var a=f.any(n,m.vcard('nameEmailIndex')),r=f.any(n,m.vcard('groupIndex')),o={},s=f.any(n,m.dc('title'));s=s?s.value:h}).catch(function(t){r.widgets.complain(o,t)})},A=function t(n){if(n)return n;var a;for(var r in C){a=f.sym(r);var o=f.any(void 0,m.vcard('includesGroup'),a);if(o)return o}throw new Error('findBookFromGroups: Cant find address book which this group is part of')},I=function t(n,a,o,s){n=A(n);var d=f.any(n,m.vcard('nameEmailIndex')),l=r.utils.genUuid(),c=f.sym(n.dir().uri+'Person/'+l+'/index.ttl#this'),u=c.doc(),h=[[$rdf.st(c,m.vcard('inAddressBook'),n,d),$rdf.st(c,m.vcard('fn'),a,d)]];for(var b in o){var y=f.sym(b),g=y.doc();h.push([$rdf.st(y,m.vcard('hasMember'),c,g),$rdf.st(c,m.vcard('fn'),a,g)])}var v=function t(n,a,o){a?0<h.length?(console.log('Patching '+h[0]+'\n'),k.update([],h.shift(),t)):(console.log('Done patching. Now reading back in.\n'),r.store.fetcher.nowOrWhenFetched(u,void 0,function(t,n){t?(console.log('Read back in OK.\n'),s(!0,c)):(console.log('Read back in FAILED: '+n+'\n'),s(!1,n))})):(console.log('Error: can\'t update '+n+' for new contact:'+o+'\n'),s(!1,'Error: can\'t update '+n+' for new contact:'+o))};r.store.fetcher.nowOrWhenFetched(d,void 0,function(t,n){t?(console.log(' People index must be loaded\n'),k.put(u,[$rdf.st(c,m.vcard('fn'),a,u),$rdf.st(c,m.rdf('type'),m.vcard('Individual'),u)],'text/turtle',v)):(console.log('Error loading people index!'+d.uri+': '+n),s(!1,'Error loading people index!'+d.uri+': '+n+'\n'))})},N=function t(n,a,o){var s=f.any(n,m.vcard('groupIndex')),d=n.uri.split('#')[0],l=a.replace(' ','_'),c=f.sym(d.slice(0,d.lastIndexOf('/')+1)+'Group/'+l+'.ttl'),u=f.sym(c.uri+'#this');console.log(' New group will be: '+u+'\n'),r.store.fetcher.nowOrWhenFetched(s,function(t,r){if(t){console.log(' Group index must be loaded\n');var d=[$rdf.st(n,m.vcard('includesGroup'),u,s),$rdf.st(u,m.rdf('type'),m.vcard('Group'),s),$rdf.st(u,m.vcard('fn'),a,s)];k.update([],d,function(r,d,l){if(t){var f=[$rdf.st(n,m.vcard('includesGroup'),u,s),$rdf.st(u,m.rdf('type'),m.vcard('Group'),c),$rdf.st(u,m.vcard('fn'),a,c)];k.put(c,f,'text/turtle',function(t,n,a){o(n,n?u:'Can\'t save new group file '+c+a)})}else o(t,'Could not update group index '+l)})}else console.log('Error loading people index!'+s.uri+': '+r),o(!1,'Error loading people index!'+s.uri+': '+r+'\n')})},j=function t(n,a,o,s){var d=n.createElement('div');r.store.fetcher.removeCallback('done','expand'),r.store.fetcher.removeCallback('fail','expand'),d.innerHTML='<p>Name of new '+o+':</p>';var l=n.createElement('input');l.setAttribute('type','text'),l.setAttribute('size','100'),l.setAttribute('maxLength','2048'),l.select();var c=function t(){l.setAttribute('class','pendingedit'),l.disabled=!0,s(!0,l.value)};l.addEventListener('keyup',function(t){13===t.keyCode&&c()},!1),d.appendChild(l);var u=d.appendChild(n.createElement('br')),f=d.appendChild(n.createElement('button'));f.setAttribute('type','button'),f.style.cssText=g,f.innerHTML='Cancel',f.addEventListener('click',function(t){d.parentNode.removeChild(d),s(!1)},!1);var m=d.appendChild(n.createElement('button'));return m.setAttribute('type','button'),m.innerHTML='Continue',m.style.cssText=g,m.addEventListener('click',function(t){c()},!1),d},R=function t(n){var a=f.any(n,m.vcard('fn'))||f.any(n,m.foaf('name'))||f.any(n,m.vcard('organization-name'));return a?a.value:'???'},L=function t(n){var a=oe.value.trim().toLowerCase();if(0===a.length)return!0;for(var r=a.split(' '),o=0,s;o<r.length;o++)if(s=r[o],0>n.toLowerCase().indexOf(s))return!1;return!0},O=function t(){for(var n=0,a;n<te.children.length;n++)a=te.children[n],a.setAttribute('style',L(R(a.subject))?'':'display: none;')},P=function t(n,a,r){for(var o=a.children.length,s=[],d=0;d<a.children.length;d++){var l=a.children[d],c=l.subject,u=function t(a,d){d.setAttribute('style','background-color: #ffe;'),f.fetcher.nowOrWhenFetched(a.doc(),void 0,function(t,l){if(!t){var c='Can\'t load group file: '+a+': '+l;return s.push(c),v(t,c)}d.setAttribute('style','background-color: #cce;'),n[a.uri]=!0,z(),F(),o-=1,!o&&r&&r(0===s.length,s)})};u(c,l)}},M=function t(){var n=[];pe=[],s.foreignGroup&&pe.push(['',f.any(s.foreignGroup,m.vcard('fn')),s.foreignGroup]),w&&(a.map(function(t){var n=t?f.each(t,m.vcard('includesGroup')):[],a=n.map(function(n){return[t,f.any(n,m.vcard('fn')),n]});pe=pe.concat(a)}),pe.sort())},D=function t(n,a,o){var s=r.panes.byName(o),l=s.render(a,n);return l.setAttribute('style','border: 0.1em solid #444; border-radius: 0.5em'),l},B=function t(n,a){var r=R(n),s=R(a);if(r&&s){if(r=r.toLowerCase(),s=s.toLowerCase(),r>s)return 1;if(r<s)return-1}return n.uri>a.uri?1:n.uri<a.uri?-1:0},U=function t(n){function a(){0<s.length?k.update(s.shift(),[],function(t,r,o){return r?void a():void y('Eror deleting all trace of: '+n+': '+o)}):(console.log('Deleting resoure '+n.doc()),f.fetcher.delete(n.doc()).then(function(){console.log('Delete thing '+n+': complete.')}).catch(function(t){y('Error deleting thing '+n+': '+t)}))}var r=f.statementsMatching(n).concat(f.statementsMatching(void 0,void 0,n)),o={};r.map(function(t){o[t.why.uri]=t});var s=[];for(var d in o)s.push(r.filter(function(t){return t.why.uri===d})),console.log('Deleting '+s[s.length-1].length+' from '+d);a()},q=function t(n,a){for(var r=f.allAliases(n),o=w.dir().uri,s=0;s<r.length;s++)if(r[s].uri.slice(0,o.length)===o)return r[s];throw new Error('No local URI for '+n)},F=function t(){var n=[],o=0;for(var s in C)if(C[s]){var d=f.each(f.sym(s),m.vcard('hasMember'));n=n.concat(d),o+=1}n.sort(B);for(var a=0;a<n.length-1;)n[a].uri===n[a+1].uri?n.splice(a,1):a++;te.innerHTML='',X.textContent=5<n.length?''+n.length+' contacts':'contact';for(var c=0;c<n.length;c++){var u=te.appendChild(l.createElement('tr')),h=u.appendChild(l.createElement('td')),g=u.appendChild(l.createElement('td'));h.setAttribute('style',de);var b=n[c],y=R(b);h.textContent=y,u.subject=b,r.widgets.makeDraggable(u,b);var x=function n(a,o){r.widgets.deleteButtonWithCheck(l,g,'contact',function(){U(o),t(),se.innerHTML=''}),u.addEventListener('click',function(t){t.preventDefault(),se.innerHTML='loading...';var n=w?q(o):o;r.store.fetcher.nowOrWhenFetched(n.doc(),void 0,function(t,a){if(se.innerHTML='',!t)return v(t,'Can\'t load card: '+n+': '+a);se.appendChild(D(l,n,'contact')),se.appendChild(l.createElement('br'));var o=se.appendChild(r.widgets.linkIcon(l,n))})})};x(u,b)}O()},z=function t(){for(var n=0,a;n<Q.children.length;n++)a=Q.children[n],a.subject&&a.setAttribute('style',C[a.subject.uri]?'background-color: #cce;':'')},H=function t(){var n;M();var a;for(a=0;a<Q.children.length;a++){var o=Q.children[a];o.trashMe=!0}for(var s=0;s<pe.length;s++){var d=pe[s][0],c=pe[s][1],u=pe[s][2];for(n=!1,a=0;a<Q.children.length;a++){var o=Q.children[a];if(o.subject&&o.subject.sameTerm(u)){o.trashMe=!1,n=!0;break}}if(!n){var h=Q.appendChild(l.createElement('tr'));h.subject=u,r.widgets.makeDraggable(h,u),h.setAttribute('style',de),h.textContent=c;var g=function n(a,o,s){var d=function t(n){n.forEach(function(t){console.log('Dropped on group: '+t);var n=f.sym(t),a=[n.doc(),o.doc()];f.fetcher.load(a).then(function(t){var a=f.findTypeURIs(n);for(var r in a)console.log('    drop object type includes: '+r);if(m.vcard('Individual').uri in a||m.vcard('Organization').uri in a){var d=f.any(n,m.vcard('fn'));if(!d)return alert('No vcard name known for '+n);var l=f.holds(o,m.vcard('hasMember'),n,o.doc());if(l)return alert('ALREADY added '+d+' to group '+s);var c='Add '+d+' to group '+s+'?';if(confirm(c)){var u=[$rdf.st(o,m.vcard('hasMember'),n,o.doc()),$rdf.st(n,m.vcard('fn'),d,o.doc())];f.updater.update([],u,function(t,n,a){return n?void console.log('Added '+d+' to group '+s):y('Error adding member to group '+o+': '+a)})}}}).catch(function(t){y('Error looking up dropped thing '+n+' and group: '+t)})})};r.widgets.makeDropTarget(a,d),r.widgets.deleteButtonWithCheck(l,a,'group '+s,function(){U(o),t()}),a.addEventListener('click',function(t){t.preventDefault();var n=f.sym(o.uri.split('#')[0]);t.metaKey||(C={}),C[o.uri]=!C[o.uri],z(),te.innerHTML='',f.fetcher.nowOrWhenFetched(n.uri,void 0,function(a,s){if(!a)return v(a,'Can\'t load group file: '+n+': '+s);if(F(),!t.metaKey){se.innerHTML='';var d=!1,c=r.aclControl.ACLControlBox5(o,l,'group',f,function(t,n){t||(se.innerHTML='Failed: '+n)}),u=se.appendChild(l.createElement('button'));u.style.cssText='padding: 1em; margin: 1em';var m=u.appendChild(l.createElement('img'));m.style.cssText='width: 1.5em; height: 1.5em',m.setAttribute('src',r.icons.iconBase+'noun_123691.svg'),u.addEventListener('click',function(){d=!d,d?se.appendChild(c):se.removeChild(c)})}})},!0)};g(h,u,c)}}for(a=0;a<Q.children.length;a++){var o=Q.children[a];o.trashMe&&Q.removeChild(o)}z()},W=l.createElement('table');W.setAttribute('style','border-collapse: collapse; margin-right: 0;'),u.appendChild(W);var V=W.appendChild(l.createElement('tr')),G=W.appendChild(l.createElement('tr')),J=W.appendChild(l.createElement('tr')),K=V.appendChild(l.createElement('td')),X=V.appendChild(l.createElement('td')),Z=V.appendChild(l.createElement('td')),Y=G.appendChild(l.createElement('td')),Q=Y.appendChild(l.createElement('table')),ee=G.appendChild(l.createElement('td')),te=ee.appendChild(l.createElement('table')),ne=J.appendChild(l.createElement('td')),ae=J.appendChild(l.createElement('td')),re=J.appendChild(l.createElement('td')),ie=Z.appendChild(l.createElement('div')),oe=Z.appendChild(l.createElement('input'));oe.setAttribute('type','text'),oe.setAttribute('style','border: 0.1em solid #444; border-radius: 0.5em; width: 100%;'),oe.addEventListener('input',function(t){O()});var se=G.appendChild(l.createElement('td'));se.setAttribute('style','margin: 0;');var de='padding: 0.1em;';K.textContent='groups',K.setAttribute('style','min-width: 10em; padding-bottom 0.2em;');var le=function t(n){var a=n?'':'display: none;';K.setAttribute('style','min-width: 10em; padding-bottom 0.2em;'+a);var r='padding: 0.1em;';Y.setAttribute('style',r+a),ne.setAttribute('style',r+a)};le(!0);var pe;if(s.foreignGroup&&(C[s.foreignGroup.uri]=!0),w){var ce=K.appendChild(l.createElement('button'));ce.textContent='All';var ue='margin-left: 1em; font-size: 100%;';ce.setAttribute('style',ue),ce.addEventListener('click',function(t){ce.state=ce.state?0:1,te.innerHTML='',ce.state?(ce.setAttribute('style',ue+'background-color: #ff8;'),P(C,Q,function(t,n){return t?void(ce.setAttribute('style',ue+'background-color: black; color: white'),z()):y(n)})):(ce.setAttribute('style',ue+'background-color: #cfc;'),C={},z())}),r.store.fetcher.nowOrWhenFetched(x.uri,w,function(t,n){return t?void(H(),F()):console.log('Cannot load group index: '+n)})}else H(),F(),console.log('No book, only one group -> hide list of groups'),le(!1);X.textContent='name',X.setAttribute('style','min-width: 18em;'),ee.setAttribute('style','overflow:scroll;');var fe=l.createElement('button'),he=l.createElement('div');fe.setAttribute('type','button'),t||fe.setAttribute('disabled','true'),r.authn.checkUser().then(function(n){n&&(t=n,fe.removeAttribute('disabled'))}),he.appendChild(fe),fe.innerHTML='New Contact',ae.appendChild(he);var ge=function t(n,a){console.log('createdNewContactCallback1 '+n+' - '+a+'\n'),se.innerHTML='',n&&se.appendChild(D(l,a,'contact'))};if(fe.addEventListener('click',function(t){se.innerHTML='';var n=A(w);f.fetcher.load(n).then(function(t){if(!t.ok)throw new Error('Book won\'t load:'+n);var a=f.any(n,m.vcard('nameEmailIndex'));if(!a)throw new Error('Wot no nameEmailIndex?');return f.fetcher.load(a)}).then(function(t){console.log('Name index loaded async'+t.url)}),se.appendChild(j(l,f,'Contact',function(t,n){t&&I(w,n,C,function(t,n){t?(se.innerHTML='',F(),se.appendChild(D(l,n,'contact'))):console.log('Error: can\'t save new contact:'+n)})}))},!1),w){var be=ne.appendChild(l.createElement('button'));be.setAttribute('type','button'),be.innerHTML='New Group',be.addEventListener('click',function(t){se.innerHTML='';var n=f.any(w,m.vcard('groupIndex'));r.store.fetcher.nowOrWhenFetched(n,void 0,function(t,n){t?console.log(' Group index has been loaded\n'):console.log('Error: Group index has NOT been loaded'+n+'\n')}),se.appendChild(j(l,f,'Group',function(t,n){t&&N(w,n,function(t,n){t?(C={},C[n.uri]=!0,H(),se.innerHTML='',se.appendChild(r.aclControl.ACLControlBox5(n,l,'group',f,function(t,n){t||(se.innerHTML='Group sharing setup failed: '+n)}))):(console.log('Error: can\'t save new group:'+n),se.innerHTML='Failed to save group'+n)})}))},!1);var ye=re.appendChild(l.createElement('button'));ye.setAttribute('type','button'),ye.innerHTML='Tools',ye.addEventListener('click',function(n){se.innerHTML='',se.appendChild(d(P,C,Q,w,l,t))})}re.appendChild(_(w)),u.appendChild(l.createElement('hr'))},R=function t(s){var d=s,n=function t(n){f.fetcher.nowOrWhenFetched(n.doc(),function(t,a){if(!t)console.log('Error looking up dropped thing '+n+': '+a);else{var r=f.findTypeURIs(n);for(var o in r)console.log('    drop object type includes: '+o);console.log('Default: assume web page  '+n);var s=f.bnode();f.add(d,m.wf('attachment'),n,d.doc())}})},c=function t(a,r,l){var c=o.extension(r);r!==o.lookup(a)&&(a+='_.'+c,console.log('MIME TYPE MISMATCH -- adding extension: '+a));var u,h,g;r.startsWith('image')?(u='image_',h=m.vcard('hasPhoto'),g=!0):(u='attachment_',h=m.wf('attachment'),g=!1);var b,n;for(b=0;;b++){if(n=f.sym(d.dir().uri+a),!f.holds(s,m.vcard('hasPhoto'),n))break;a=u+b+'.'+c}f.add(s,h,n,s.doc()),console.log('Putting '+l.length+' bytes of '+r+' to '+n),f.fetcher.webOperation('PUT',n,{data:l,contentType:r}).then(function(t){return t.ok?(console.log(' Upload: put OK: '+n),f.fetcher.putBack(s.doc())):void y('Error uploading '+n+':'+t.status)}).then(function(){g&&_.setAttribute('src',n.uri)}).catch(function(t){console.log(' Upload: FAIL '+n+', Error: '+t)})},g=function t(a){a.map(function(t){var a=$rdf.sym(t);console.log('Dropped on mugshot thing '+a);var a=f.sym(t);return t.startsWith('http')&&0>t.indexOf('#')?void f.fetcher.webOperation('GET',a.uri).then(function(t){var n=t.headers.get('Content-Type'),r=a.uri.split('/').slice(-1)[0];r=r.split('?')[0],t.arrayBuffer().then(function(o){return t.ok?void c(r,n,o):void y('Error downloading '+a+':'+t.status)})}):void(console.log('Not a web document URI, cannot copy as picture: '+a),n(a))})},b=function t(n){for(var a=0,r;r=n[a];a++){console.log(' meeting: Filename: '+r.name+', type: '+(r.type||'n/a')+' size: '+r.size+' bytes, last modified: '+(r.lastModifiedDate?r.lastModifiedDate.toLocaleDateString():'n/a'));var o=new FileReader;o.onload=function(t){return function(n){var a=n.target.result;console.log(' File read byteLength : '+a.byteLength);var r=encodeURIComponent(t.name),o=t.type;c(r,o,a)}}(r),o.readAsArrayBuffer(r)}},w=f.sym('https://linkeddata.github.io/solid-app-set/contact/individualForm.ttl#form1'),x=w.doc(),_;if(!f.holds(void 0,void 0,void 0,x)){var k=a(439);$rdf.parse(k,f,x.uri,'text/turtle')}var C=r.ns.vcard('Type').doc();f.holds(void 0,void 0,void 0,C)||$rdf.parse(a(440),f,C.uri,'text/turtle');var T=[s.doc()];r.store.fetcher.load(T).catch(function(t){console.log('Error: Failed to load form or ontology: '+t)}).then(function(t){var n=function t(){var n=f.findTypeURIs(s),a='padding: 0.5em 1.5em 1em 1.5em; ',r=null;for(var o in n)if(r=f.any(f.sym(o),f.sym('http://www.w3.org/ns/ui#backgroundColor')),r)break;r=r?r.value:'#fff',a+='background-color: '+r+'; ',u.setAttribute('style',a)};n(),r.authn.checkUser(),_=u.appendChild(l.createElement('img')),_.setAttribute('style','max-height: 10em; border-radius: 1em; margin: 0.7em;'),r.widgets.setImage(_,s),r.widgets.makeDropTarget(_,g,b),r.widgets.appendForm(l,u,{},s,w,h,v),u.appendChild(l.createElement('tr')).setAttribute('style','height: 1em');var a=function t(n,a,s){var d=o.appendChild(n.createElement('tr'));d.setAttribute('style','margin-top: 0.1em solid #ccc;');var l=d.appendChild(n.createElement('td')),c=d.appendChild(n.createElement('td'));l.textContent=s.uri.split('/')[2],f.fetcher.load(s).then(function(t){l.textContent=s.uri.split('/')[2]+' ('+f.statementsMatching(void 0,void 0,void 0,s.doc()).length+')'}).catch(function(t){c.appendChild(r.widgets.errorMessageBlock(n,t,'pink'))});var u=c.appendChild(r.widgets.linkIcon(n,s))},o=u.appendChild(l.createElement('table')),d=f.allAliases(s);if(1<d.length)for(var c=0,y;c<d.length;c++)y=d[c],y.sameTerm(s)||a(l,o,y);var x=r.widgets.attachmentList(l,s,u,{predicate:r.ns.vcard('url')}),k=u.appendChild(l.createElement('hr')),C=f.each(s,m.vcard('url'));C.forEach(function(t){var n=f.any(t,m.rdf('type')),a=f.any(t,m.vcard('value'));if(a){var s=o.appendChild(l.createElement('tr'));s.setAttribute('style','margin-top: 0.1em solid #ccc;');var d=s.appendChild(l.createElement('td'));d.textContent=r.utils.label(n);var c=s.appendChild(l.createElement('td')),u=c.appendChild(l.createElement('a'));u.setAttribute('href',a.uri);var h=u.appendChild(l.createElement('span'));h.textContent=a.uri}})})};return E[m.vcard('Individual').uri]||E[m.vcard('Organization').uri]||E[m.foaf('Person').uri]?R(s):E[m.vcard('Group').uri]?r.authn.findAppInstances(S,m.vcard('AddressBook')).then(function(t){var n=t.instances,a={foreignGroup:s};0<n.length?N(n,t,a):N([],t,a)}).catch(function(t){r.widgets.complain(S,t)}):E[m.vcard('AddressBook').uri]?N([s],S,{}):console.log('Error: Contact pane: No evidence that '+s+' is anything to do with contacts.'),t=r.authn.currentUser(),t||console.log('(You do not have your Web Id set. Sign in or sign up to make changes.)'),'webapp'===tabulator.mode&&'undefined'!=typeof document&&document.location&&'http://localhost'===(''+document.location).slice(0,16)&&(t=f.any(s,r.ns.acl('owner')),console.log('Assuming user is '+t)),u}}},function(t,n,a){t.exports=a(436)},function(t,n){t.exports={"application/1d-interleaved-parityfec":{source:'iana'},"application/3gpdash-qoe-report+xml":{source:'iana'},"application/3gpp-ims+xml":{source:'iana'},"application/a2l":{source:'iana'},"application/activemessage":{source:'iana'},"application/alto-costmap+json":{source:'iana',compressible:!0},"application/alto-costmapfilter+json":{source:'iana',compressible:!0},"application/alto-directory+json":{source:'iana',compressible:!0},"application/alto-endpointcost+json":{source:'iana',compressible:!0},"application/alto-endpointcostparams+json":{source:'iana',compressible:!0},"application/alto-endpointprop+json":{source:'iana',compressible:!0},"application/alto-endpointpropparams+json":{source:'iana',compressible:!0},"application/alto-error+json":{source:'iana',compressible:!0},"application/alto-networkmap+json":{source:'iana',compressible:!0},"application/alto-networkmapfilter+json":{source:'iana',compressible:!0},"application/aml":{source:'iana'},"application/andrew-inset":{source:'iana',extensions:['ez']},"application/applefile":{source:'iana'},"application/applixware":{source:'apache',extensions:['aw']},"application/atf":{source:'iana'},"application/atfx":{source:'iana'},"application/atom+xml":{source:'iana',compressible:!0,extensions:['atom']},"application/atomcat+xml":{source:'iana',extensions:['atomcat']},"application/atomdeleted+xml":{source:'iana'},"application/atomicmail":{source:'iana'},"application/atomsvc+xml":{source:'iana',extensions:['atomsvc']},"application/atxml":{source:'iana'},"application/auth-policy+xml":{source:'iana'},"application/bacnet-xdd+zip":{source:'iana'},"application/batch-smtp":{source:'iana'},"application/bdoc":{compressible:!1,extensions:['bdoc']},"application/beep+xml":{source:'iana'},"application/calendar+json":{source:'iana',compressible:!0},"application/calendar+xml":{source:'iana'},"application/call-completion":{source:'iana'},"application/cals-1840":{source:'iana'},"application/cbor":{source:'iana'},"application/cccex":{source:'iana'},"application/ccmp+xml":{source:'iana'},"application/ccxml+xml":{source:'iana',extensions:['ccxml']},"application/cdfx+xml":{source:'iana'},"application/cdmi-capability":{source:'iana',extensions:['cdmia']},"application/cdmi-container":{source:'iana',extensions:['cdmic']},"application/cdmi-domain":{source:'iana',extensions:['cdmid']},"application/cdmi-object":{source:'iana',extensions:['cdmio']},"application/cdmi-queue":{source:'iana',extensions:['cdmiq']},"application/cdni":{source:'iana'},"application/cea":{source:'iana'},"application/cea-2018+xml":{source:'iana'},"application/cellml+xml":{source:'iana'},"application/cfw":{source:'iana'},"application/clue_info+xml":{source:'iana'},"application/cms":{source:'iana'},"application/cnrp+xml":{source:'iana'},"application/coap-group+json":{source:'iana',compressible:!0},"application/coap-payload":{source:'iana'},"application/commonground":{source:'iana'},"application/conference-info+xml":{source:'iana'},"application/cose":{source:'iana'},"application/cose-key":{source:'iana'},"application/cose-key-set":{source:'iana'},"application/cpl+xml":{source:'iana'},"application/csrattrs":{source:'iana'},"application/csta+xml":{source:'iana'},"application/cstadata+xml":{source:'iana'},"application/csvm+json":{source:'iana',compressible:!0},"application/cu-seeme":{source:'apache',extensions:['cu']},"application/cybercash":{source:'iana'},"application/dart":{compressible:!0},"application/dash+xml":{source:'iana',extensions:['mpd']},"application/dashdelta":{source:'iana'},"application/davmount+xml":{source:'iana',extensions:['davmount']},"application/dca-rft":{source:'iana'},"application/dcd":{source:'iana'},"application/dec-dx":{source:'iana'},"application/dialog-info+xml":{source:'iana'},"application/dicom":{source:'iana'},"application/dicom+json":{source:'iana',compressible:!0},"application/dicom+xml":{source:'iana'},"application/dii":{source:'iana'},"application/dit":{source:'iana'},"application/dns":{source:'iana'},"application/docbook+xml":{source:'apache',extensions:['dbk']},"application/dskpp+xml":{source:'iana'},"application/dssc+der":{source:'iana',extensions:['dssc']},"application/dssc+xml":{source:'iana',extensions:['xdssc']},"application/dvcs":{source:'iana'},"application/ecmascript":{source:'iana',compressible:!0,extensions:['ecma']},"application/edi-consent":{source:'iana'},"application/edi-x12":{source:'iana',compressible:!1},"application/edifact":{source:'iana',compressible:!1},"application/efi":{source:'iana'},"application/emergencycalldata.comment+xml":{source:'iana'},"application/emergencycalldata.control+xml":{source:'iana'},"application/emergencycalldata.deviceinfo+xml":{source:'iana'},"application/emergencycalldata.ecall.msd":{source:'iana'},"application/emergencycalldata.providerinfo+xml":{source:'iana'},"application/emergencycalldata.serviceinfo+xml":{source:'iana'},"application/emergencycalldata.subscriberinfo+xml":{source:'iana'},"application/emergencycalldata.veds+xml":{source:'iana'},"application/emma+xml":{source:'iana',extensions:['emma']},"application/emotionml+xml":{source:'iana'},"application/encaprtp":{source:'iana'},"application/epp+xml":{source:'iana'},"application/epub+zip":{source:'iana',extensions:['epub']},"application/eshop":{source:'iana'},"application/exi":{source:'iana',extensions:['exi']},"application/fastinfoset":{source:'iana'},"application/fastsoap":{source:'iana'},"application/fdt+xml":{source:'iana'},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:'iana'},"application/font-sfnt":{source:'iana'},"application/font-tdpfr":{source:'iana',extensions:['pfr']},"application/font-woff":{source:'iana',compressible:!1,extensions:['woff']},"application/font-woff2":{compressible:!1,extensions:['woff2']},"application/framework-attributes+xml":{source:'iana'},"application/geo+json":{source:'iana',compressible:!0,extensions:['geojson']},"application/geo+json-seq":{source:'iana'},"application/geoxacml+xml":{source:'iana'},"application/gml+xml":{source:'iana',extensions:['gml']},"application/gpx+xml":{source:'apache',extensions:['gpx']},"application/gxf":{source:'apache',extensions:['gxf']},"application/gzip":{source:'iana',compressible:!1,extensions:['gz']},"application/h224":{source:'iana'},"application/held+xml":{source:'iana'},"application/http":{source:'iana'},"application/hyperstudio":{source:'iana',extensions:['stk']},"application/ibe-key-request+xml":{source:'iana'},"application/ibe-pkg-reply+xml":{source:'iana'},"application/ibe-pp-data":{source:'iana'},"application/iges":{source:'iana'},"application/im-iscomposing+xml":{source:'iana'},"application/index":{source:'iana'},"application/index.cmd":{source:'iana'},"application/index.obj":{source:'iana'},"application/index.response":{source:'iana'},"application/index.vnd":{source:'iana'},"application/inkml+xml":{source:'iana',extensions:['ink','inkml']},"application/iotp":{source:'iana'},"application/ipfix":{source:'iana',extensions:['ipfix']},"application/ipp":{source:'iana'},"application/isup":{source:'iana'},"application/its+xml":{source:'iana'},"application/java-archive":{source:'apache',compressible:!1,extensions:['jar','war','ear']},"application/java-serialized-object":{source:'apache',compressible:!1,extensions:['ser']},"application/java-vm":{source:'apache',compressible:!1,extensions:['class']},"application/javascript":{source:'iana',charset:'UTF-8',compressible:!0,extensions:['js','mjs']},"application/jf2feed+json":{source:'iana',compressible:!0},"application/jose":{source:'iana'},"application/jose+json":{source:'iana',compressible:!0},"application/jrd+json":{source:'iana',compressible:!0},"application/json":{source:'iana',charset:'UTF-8',compressible:!0,extensions:['json','map']},"application/json-patch+json":{source:'iana',compressible:!0},"application/json-seq":{source:'iana'},"application/json5":{extensions:['json5']},"application/jsonml+json":{source:'apache',compressible:!0,extensions:['jsonml']},"application/jwk+json":{source:'iana',compressible:!0},"application/jwk-set+json":{source:'iana',compressible:!0},"application/jwt":{source:'iana'},"application/kpml-request+xml":{source:'iana'},"application/kpml-response+xml":{source:'iana'},"application/ld+json":{source:'iana',compressible:!0,extensions:['jsonld']},"application/lgr+xml":{source:'iana'},"application/link-format":{source:'iana'},"application/load-control+xml":{source:'iana'},"application/lost+xml":{source:'iana',extensions:['lostxml']},"application/lostsync+xml":{source:'iana'},"application/lxf":{source:'iana'},"application/mac-binhex40":{source:'iana',extensions:['hqx']},"application/mac-compactpro":{source:'apache',extensions:['cpt']},"application/macwriteii":{source:'iana'},"application/mads+xml":{source:'iana',extensions:['mads']},"application/manifest+json":{charset:'UTF-8',compressible:!0,extensions:['webmanifest']},"application/marc":{source:'iana',extensions:['mrc']},"application/marcxml+xml":{source:'iana',extensions:['mrcx']},"application/mathematica":{source:'iana',extensions:['ma','nb','mb']},"application/mathml+xml":{source:'iana',extensions:['mathml']},"application/mathml-content+xml":{source:'iana'},"application/mathml-presentation+xml":{source:'iana'},"application/mbms-associated-procedure-description+xml":{source:'iana'},"application/mbms-deregister+xml":{source:'iana'},"application/mbms-envelope+xml":{source:'iana'},"application/mbms-msk+xml":{source:'iana'},"application/mbms-msk-response+xml":{source:'iana'},"application/mbms-protection-description+xml":{source:'iana'},"application/mbms-reception-report+xml":{source:'iana'},"application/mbms-register+xml":{source:'iana'},"application/mbms-register-response+xml":{source:'iana'},"application/mbms-schedule+xml":{source:'iana'},"application/mbms-user-service-description+xml":{source:'iana'},"application/mbox":{source:'iana',extensions:['mbox']},"application/media-policy-dataset+xml":{source:'iana'},"application/media_control+xml":{source:'iana'},"application/mediaservercontrol+xml":{source:'iana',extensions:['mscml']},"application/merge-patch+json":{source:'iana',compressible:!0},"application/metalink+xml":{source:'apache',extensions:['metalink']},"application/metalink4+xml":{source:'iana',extensions:['meta4']},"application/mets+xml":{source:'iana',extensions:['mets']},"application/mf4":{source:'iana'},"application/mikey":{source:'iana'},"application/mmt-usd+xml":{source:'iana'},"application/mods+xml":{source:'iana',extensions:['mods']},"application/moss-keys":{source:'iana'},"application/moss-signature":{source:'iana'},"application/mosskey-data":{source:'iana'},"application/mosskey-request":{source:'iana'},"application/mp21":{source:'iana',extensions:['m21','mp21']},"application/mp4":{source:'iana',extensions:['mp4s','m4p']},"application/mpeg4-generic":{source:'iana'},"application/mpeg4-iod":{source:'iana'},"application/mpeg4-iod-xmt":{source:'iana'},"application/mrb-consumer+xml":{source:'iana'},"application/mrb-publish+xml":{source:'iana'},"application/msc-ivr+xml":{source:'iana'},"application/msc-mixer+xml":{source:'iana'},"application/msword":{source:'iana',compressible:!1,extensions:['doc','dot']},"application/mud+json":{source:'iana',compressible:!0},"application/mxf":{source:'iana',extensions:['mxf']},"application/n-quads":{source:'iana'},"application/n-triples":{source:'iana'},"application/nasdata":{source:'iana'},"application/news-checkgroups":{source:'iana'},"application/news-groupinfo":{source:'iana'},"application/news-transmission":{source:'iana'},"application/nlsml+xml":{source:'iana'},"application/nss":{source:'iana'},"application/ocsp-request":{source:'iana'},"application/ocsp-response":{source:'iana'},"application/octet-stream":{source:'iana',compressible:!1,extensions:['bin','dms','lrf','mar','so','dist','distz','pkg','bpk','dump','elc','deploy','exe','dll','deb','dmg','iso','img','msi','msp','msm','buffer']},"application/oda":{source:'iana',extensions:['oda']},"application/odx":{source:'iana'},"application/oebps-package+xml":{source:'iana',extensions:['opf']},"application/ogg":{source:'iana',compressible:!1,extensions:['ogx']},"application/omdoc+xml":{source:'apache',extensions:['omdoc']},"application/onenote":{source:'apache',extensions:['onetoc','onetoc2','onetmp','onepkg']},"application/oxps":{source:'iana',extensions:['oxps']},"application/p2p-overlay+xml":{source:'iana'},"application/parityfec":{source:'iana'},"application/passport":{source:'iana'},"application/patch-ops-error+xml":{source:'iana',extensions:['xer']},"application/pdf":{source:'iana',compressible:!1,extensions:['pdf']},"application/pdx":{source:'iana'},"application/pgp-encrypted":{source:'iana',compressible:!1,extensions:['pgp']},"application/pgp-keys":{source:'iana'},"application/pgp-signature":{source:'iana',extensions:['asc','sig']},"application/pics-rules":{source:'apache',extensions:['prf']},"application/pidf+xml":{source:'iana'},"application/pidf-diff+xml":{source:'iana'},"application/pkcs10":{source:'iana',extensions:['p10']},"application/pkcs12":{source:'iana'},"application/pkcs7-mime":{source:'iana',extensions:['p7m','p7c']},"application/pkcs7-signature":{source:'iana',extensions:['p7s']},"application/pkcs8":{source:'iana',extensions:['p8']},"application/pkix-attr-cert":{source:'iana',extensions:['ac']},"application/pkix-cert":{source:'iana',extensions:['cer']},"application/pkix-crl":{source:'iana',extensions:['crl']},"application/pkix-pkipath":{source:'iana',extensions:['pkipath']},"application/pkixcmp":{source:'iana',extensions:['pki']},"application/pls+xml":{source:'iana',extensions:['pls']},"application/poc-settings+xml":{source:'iana'},"application/postscript":{source:'iana',compressible:!0,extensions:['ai','eps','ps']},"application/ppsp-tracker+json":{source:'iana',compressible:!0},"application/problem+json":{source:'iana',compressible:!0},"application/problem+xml":{source:'iana'},"application/provenance+xml":{source:'iana'},"application/prs.alvestrand.titrax-sheet":{source:'iana'},"application/prs.cww":{source:'iana',extensions:['cww']},"application/prs.hpub+zip":{source:'iana'},"application/prs.nprend":{source:'iana'},"application/prs.plucker":{source:'iana'},"application/prs.rdf-xml-crypt":{source:'iana'},"application/prs.xsf+xml":{source:'iana'},"application/pskc+xml":{source:'iana',extensions:['pskcxml']},"application/qsig":{source:'iana'},"application/raptorfec":{source:'iana'},"application/rdap+json":{source:'iana',compressible:!0},"application/rdf+xml":{source:'iana',compressible:!0,extensions:['rdf']},"application/reginfo+xml":{source:'iana',extensions:['rif']},"application/relax-ng-compact-syntax":{source:'iana',extensions:['rnc']},"application/remote-printing":{source:'iana'},"application/reputon+json":{source:'iana',compressible:!0},"application/resource-lists+xml":{source:'iana',extensions:['rl']},"application/resource-lists-diff+xml":{source:'iana',extensions:['rld']},"application/rfc+xml":{source:'iana'},"application/riscos":{source:'iana'},"application/rlmi+xml":{source:'iana'},"application/rls-services+xml":{source:'iana',extensions:['rs']},"application/route-apd+xml":{source:'iana'},"application/route-s-tsid+xml":{source:'iana'},"application/route-usd+xml":{source:'iana'},"application/rpki-ghostbusters":{source:'iana',extensions:['gbr']},"application/rpki-manifest":{source:'iana',extensions:['mft']},"application/rpki-publication":{source:'iana'},"application/rpki-roa":{source:'iana',extensions:['roa']},"application/rpki-updown":{source:'iana'},"application/rsd+xml":{source:'apache',extensions:['rsd']},"application/rss+xml":{source:'apache',compressible:!0,extensions:['rss']},"application/rtf":{source:'iana',compressible:!0,extensions:['rtf']},"application/rtploopback":{source:'iana'},"application/rtx":{source:'iana'},"application/samlassertion+xml":{source:'iana'},"application/samlmetadata+xml":{source:'iana'},"application/sbml+xml":{source:'iana',extensions:['sbml']},"application/scaip+xml":{source:'iana'},"application/scim+json":{source:'iana',compressible:!0},"application/scvp-cv-request":{source:'iana',extensions:['scq']},"application/scvp-cv-response":{source:'iana',extensions:['scs']},"application/scvp-vp-request":{source:'iana',extensions:['spq']},"application/scvp-vp-response":{source:'iana',extensions:['spp']},"application/sdp":{source:'iana',extensions:['sdp']},"application/sep+xml":{source:'iana'},"application/sep-exi":{source:'iana'},"application/session-info":{source:'iana'},"application/set-payment":{source:'iana'},"application/set-payment-initiation":{source:'iana',extensions:['setpay']},"application/set-registration":{source:'iana'},"application/set-registration-initiation":{source:'iana',extensions:['setreg']},"application/sgml":{source:'iana'},"application/sgml-open-catalog":{source:'iana'},"application/shf+xml":{source:'iana',extensions:['shf']},"application/sieve":{source:'iana'},"application/simple-filter+xml":{source:'iana'},"application/simple-message-summary":{source:'iana'},"application/simplesymbolcontainer":{source:'iana'},"application/slate":{source:'iana'},"application/smil":{source:'iana'},"application/smil+xml":{source:'iana',extensions:['smi','smil']},"application/smpte336m":{source:'iana'},"application/soap+fastinfoset":{source:'iana'},"application/soap+xml":{source:'iana',compressible:!0},"application/sparql-query":{source:'iana',extensions:['rq']},"application/sparql-results+xml":{source:'iana',extensions:['srx']},"application/spirits-event+xml":{source:'iana'},"application/sql":{source:'iana'},"application/srgs":{source:'iana',extensions:['gram']},"application/srgs+xml":{source:'iana',extensions:['grxml']},"application/sru+xml":{source:'iana',extensions:['sru']},"application/ssdl+xml":{source:'apache',extensions:['ssdl']},"application/ssml+xml":{source:'iana',extensions:['ssml']},"application/tamp-apex-update":{source:'iana'},"application/tamp-apex-update-confirm":{source:'iana'},"application/tamp-community-update":{source:'iana'},"application/tamp-community-update-confirm":{source:'iana'},"application/tamp-error":{source:'iana'},"application/tamp-sequence-adjust":{source:'iana'},"application/tamp-sequence-adjust-confirm":{source:'iana'},"application/tamp-status-query":{source:'iana'},"application/tamp-status-response":{source:'iana'},"application/tamp-update":{source:'iana'},"application/tamp-update-confirm":{source:'iana'},"application/tar":{compressible:!0},"application/tei+xml":{source:'iana',extensions:['tei','teicorpus']},"application/thraud+xml":{source:'iana',extensions:['tfi']},"application/timestamp-query":{source:'iana'},"application/timestamp-reply":{source:'iana'},"application/timestamped-data":{source:'iana',extensions:['tsd']},"application/trig":{source:'iana'},"application/ttml+xml":{source:'iana'},"application/tve-trigger":{source:'iana'},"application/ulpfec":{source:'iana'},"application/urc-grpsheet+xml":{source:'iana'},"application/urc-ressheet+xml":{source:'iana'},"application/urc-targetdesc+xml":{source:'iana'},"application/urc-uisocketdesc+xml":{source:'iana'},"application/vcard+json":{source:'iana',compressible:!0},"application/vcard+xml":{source:'iana'},"application/vemmi":{source:'iana'},"application/vividence.scriptfile":{source:'apache'},"application/vnd.1000minds.decision-model+xml":{source:'iana'},"application/vnd.3gpp-prose+xml":{source:'iana'},"application/vnd.3gpp-prose-pc3ch+xml":{source:'iana'},"application/vnd.3gpp.access-transfer-events+xml":{source:'iana'},"application/vnd.3gpp.bsf+xml":{source:'iana'},"application/vnd.3gpp.gmop+xml":{source:'iana'},"application/vnd.3gpp.mcptt-info+xml":{source:'iana'},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:'iana'},"application/vnd.3gpp.mid-call+xml":{source:'iana'},"application/vnd.3gpp.pic-bw-large":{source:'iana',extensions:['plb']},"application/vnd.3gpp.pic-bw-small":{source:'iana',extensions:['psb']},"application/vnd.3gpp.pic-bw-var":{source:'iana',extensions:['pvb']},"application/vnd.3gpp.sms":{source:'iana'},"application/vnd.3gpp.sms+xml":{source:'iana'},"application/vnd.3gpp.srvcc-ext+xml":{source:'iana'},"application/vnd.3gpp.srvcc-info+xml":{source:'iana'},"application/vnd.3gpp.state-and-event-info+xml":{source:'iana'},"application/vnd.3gpp.ussd+xml":{source:'iana'},"application/vnd.3gpp2.bcmcsinfo+xml":{source:'iana'},"application/vnd.3gpp2.sms":{source:'iana'},"application/vnd.3gpp2.tcap":{source:'iana',extensions:['tcap']},"application/vnd.3lightssoftware.imagescal":{source:'iana'},"application/vnd.3m.post-it-notes":{source:'iana',extensions:['pwn']},"application/vnd.accpac.simply.aso":{source:'iana',extensions:['aso']},"application/vnd.accpac.simply.imp":{source:'iana',extensions:['imp']},"application/vnd.acucobol":{source:'iana',extensions:['acu']},"application/vnd.acucorp":{source:'iana',extensions:['atc','acutc']},"application/vnd.adobe.air-application-installer-package+zip":{source:'apache',extensions:['air']},"application/vnd.adobe.flash.movie":{source:'iana'},"application/vnd.adobe.formscentral.fcdt":{source:'iana',extensions:['fcdt']},"application/vnd.adobe.fxp":{source:'iana',extensions:['fxp','fxpl']},"application/vnd.adobe.partial-upload":{source:'iana'},"application/vnd.adobe.xdp+xml":{source:'iana',extensions:['xdp']},"application/vnd.adobe.xfdf":{source:'iana',extensions:['xfdf']},"application/vnd.aether.imp":{source:'iana'},"application/vnd.ah-barcode":{source:'iana'},"application/vnd.ahead.space":{source:'iana',extensions:['ahead']},"application/vnd.airzip.filesecure.azf":{source:'iana',extensions:['azf']},"application/vnd.airzip.filesecure.azs":{source:'iana',extensions:['azs']},"application/vnd.amazon.ebook":{source:'apache',extensions:['azw']},"application/vnd.amazon.mobi8-ebook":{source:'iana'},"application/vnd.americandynamics.acc":{source:'iana',extensions:['acc']},"application/vnd.amiga.ami":{source:'iana',extensions:['ami']},"application/vnd.amundsen.maze+xml":{source:'iana'},"application/vnd.android.package-archive":{source:'apache',compressible:!1,extensions:['apk']},"application/vnd.anki":{source:'iana'},"application/vnd.anser-web-certificate-issue-initiation":{source:'iana',extensions:['cii']},"application/vnd.anser-web-funds-transfer-initiation":{source:'apache',extensions:['fti']},"application/vnd.antix.game-component":{source:'iana',extensions:['atx']},"application/vnd.apache.thrift.binary":{source:'iana'},"application/vnd.apache.thrift.compact":{source:'iana'},"application/vnd.apache.thrift.json":{source:'iana'},"application/vnd.api+json":{source:'iana',compressible:!0},"application/vnd.apothekende.reservation+json":{source:'iana',compressible:!0},"application/vnd.apple.installer+xml":{source:'iana',extensions:['mpkg']},"application/vnd.apple.mpegurl":{source:'iana',extensions:['m3u8']},"application/vnd.apple.pkpass":{compressible:!1,extensions:['pkpass']},"application/vnd.arastra.swi":{source:'iana'},"application/vnd.aristanetworks.swi":{source:'iana',extensions:['swi']},"application/vnd.artsquare":{source:'iana'},"application/vnd.astraea-software.iota":{source:'iana',extensions:['iota']},"application/vnd.audiograph":{source:'iana',extensions:['aep']},"application/vnd.autopackage":{source:'iana'},"application/vnd.avistar+xml":{source:'iana'},"application/vnd.balsamiq.bmml+xml":{source:'iana'},"application/vnd.balsamiq.bmpr":{source:'iana'},"application/vnd.bekitzur-stech+json":{source:'iana',compressible:!0},"application/vnd.bint.med-content":{source:'iana'},"application/vnd.biopax.rdf+xml":{source:'iana'},"application/vnd.blink-idb-value-wrapper":{source:'iana'},"application/vnd.blueice.multipass":{source:'iana',extensions:['mpm']},"application/vnd.bluetooth.ep.oob":{source:'iana'},"application/vnd.bluetooth.le.oob":{source:'iana'},"application/vnd.bmi":{source:'iana',extensions:['bmi']},"application/vnd.businessobjects":{source:'iana',extensions:['rep']},"application/vnd.cab-jscript":{source:'iana'},"application/vnd.canon-cpdl":{source:'iana'},"application/vnd.canon-lips":{source:'iana'},"application/vnd.capasystems-pg+json":{source:'iana',compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:'iana'},"application/vnd.century-systems.tcp_stream":{source:'iana'},"application/vnd.chemdraw+xml":{source:'iana',extensions:['cdxml']},"application/vnd.chess-pgn":{source:'iana'},"application/vnd.chipnuts.karaoke-mmd":{source:'iana',extensions:['mmd']},"application/vnd.cinderella":{source:'iana',extensions:['cdy']},"application/vnd.cirpack.isdn-ext":{source:'iana'},"application/vnd.citationstyles.style+xml":{source:'iana'},"application/vnd.claymore":{source:'iana',extensions:['cla']},"application/vnd.cloanto.rp9":{source:'iana',extensions:['rp9']},"application/vnd.clonk.c4group":{source:'iana',extensions:['c4g','c4d','c4f','c4p','c4u']},"application/vnd.cluetrust.cartomobile-config":{source:'iana',extensions:['c11amc']},"application/vnd.cluetrust.cartomobile-config-pkg":{source:'iana',extensions:['c11amz']},"application/vnd.coffeescript":{source:'iana'},"application/vnd.collection+json":{source:'iana',compressible:!0},"application/vnd.collection.doc+json":{source:'iana',compressible:!0},"application/vnd.collection.next+json":{source:'iana',compressible:!0},"application/vnd.comicbook+zip":{source:'iana'},"application/vnd.commerce-battelle":{source:'iana'},"application/vnd.commonspace":{source:'iana',extensions:['csp']},"application/vnd.contact.cmsg":{source:'iana',extensions:['cdbcmsg']},"application/vnd.coreos.ignition+json":{source:'iana',compressible:!0},"application/vnd.cosmocaller":{source:'iana',extensions:['cmc']},"application/vnd.crick.clicker":{source:'iana',extensions:['clkx']},"application/vnd.crick.clicker.keyboard":{source:'iana',extensions:['clkk']},"application/vnd.crick.clicker.palette":{source:'iana',extensions:['clkp']},"application/vnd.crick.clicker.template":{source:'iana',extensions:['clkt']},"application/vnd.crick.clicker.wordbank":{source:'iana',extensions:['clkw']},"application/vnd.criticaltools.wbs+xml":{source:'iana',extensions:['wbs']},"application/vnd.ctc-posml":{source:'iana',extensions:['pml']},"application/vnd.ctct.ws+xml":{source:'iana'},"application/vnd.cups-pdf":{source:'iana'},"application/vnd.cups-postscript":{source:'iana'},"application/vnd.cups-ppd":{source:'iana',extensions:['ppd']},"application/vnd.cups-raster":{source:'iana'},"application/vnd.cups-raw":{source:'iana'},"application/vnd.curl":{source:'iana'},"application/vnd.curl.car":{source:'apache',extensions:['car']},"application/vnd.curl.pcurl":{source:'apache',extensions:['pcurl']},"application/vnd.cyan.dean.root+xml":{source:'iana'},"application/vnd.cybank":{source:'iana'},"application/vnd.d2l.coursepackage1p0+zip":{source:'iana'},"application/vnd.dart":{source:'iana',compressible:!0,extensions:['dart']},"application/vnd.data-vision.rdz":{source:'iana',extensions:['rdz']},"application/vnd.datapackage+json":{source:'iana',compressible:!0},"application/vnd.dataresource+json":{source:'iana',compressible:!0},"application/vnd.debian.binary-package":{source:'iana'},"application/vnd.dece.data":{source:'iana',extensions:['uvf','uvvf','uvd','uvvd']},"application/vnd.dece.ttml+xml":{source:'iana',extensions:['uvt','uvvt']},"application/vnd.dece.unspecified":{source:'iana',extensions:['uvx','uvvx']},"application/vnd.dece.zip":{source:'iana',extensions:['uvz','uvvz']},"application/vnd.denovo.fcselayout-link":{source:'iana',extensions:['fe_launch']},"application/vnd.desmume-movie":{source:'iana'},"application/vnd.desmume.movie":{source:'apache'},"application/vnd.dir-bi.plate-dl-nosuffix":{source:'iana'},"application/vnd.dm.delegation+xml":{source:'iana'},"application/vnd.dna":{source:'iana',extensions:['dna']},"application/vnd.document+json":{source:'iana',compressible:!0},"application/vnd.dolby.mlp":{source:'apache',extensions:['mlp']},"application/vnd.dolby.mobile.1":{source:'iana'},"application/vnd.dolby.mobile.2":{source:'iana'},"application/vnd.doremir.scorecloud-binary-document":{source:'iana'},"application/vnd.dpgraph":{source:'iana',extensions:['dpg']},"application/vnd.dreamfactory":{source:'iana',extensions:['dfac']},"application/vnd.drive+json":{source:'iana',compressible:!0},"application/vnd.ds-keypoint":{source:'apache',extensions:['kpxx']},"application/vnd.dtg.local":{source:'iana'},"application/vnd.dtg.local.flash":{source:'iana'},"application/vnd.dtg.local.html":{source:'iana'},"application/vnd.dvb.ait":{source:'iana',extensions:['ait']},"application/vnd.dvb.dvbj":{source:'iana'},"application/vnd.dvb.esgcontainer":{source:'iana'},"application/vnd.dvb.ipdcdftnotifaccess":{source:'iana'},"application/vnd.dvb.ipdcesgaccess":{source:'iana'},"application/vnd.dvb.ipdcesgaccess2":{source:'iana'},"application/vnd.dvb.ipdcesgpdd":{source:'iana'},"application/vnd.dvb.ipdcroaming":{source:'iana'},"application/vnd.dvb.iptv.alfec-base":{source:'iana'},"application/vnd.dvb.iptv.alfec-enhancement":{source:'iana'},"application/vnd.dvb.notif-aggregate-root+xml":{source:'iana'},"application/vnd.dvb.notif-container+xml":{source:'iana'},"application/vnd.dvb.notif-generic+xml":{source:'iana'},"application/vnd.dvb.notif-ia-msglist+xml":{source:'iana'},"application/vnd.dvb.notif-ia-registration-request+xml":{source:'iana'},"application/vnd.dvb.notif-ia-registration-response+xml":{source:'iana'},"application/vnd.dvb.notif-init+xml":{source:'iana'},"application/vnd.dvb.pfr":{source:'iana'},"application/vnd.dvb.service":{source:'iana',extensions:['svc']},"application/vnd.dxr":{source:'iana'},"application/vnd.dynageo":{source:'iana',extensions:['geo']},"application/vnd.dzr":{source:'iana'},"application/vnd.easykaraoke.cdgdownload":{source:'iana'},"application/vnd.ecdis-update":{source:'iana'},"application/vnd.ecowin.chart":{source:'iana',extensions:['mag']},"application/vnd.ecowin.filerequest":{source:'iana'},"application/vnd.ecowin.fileupdate":{source:'iana'},"application/vnd.ecowin.series":{source:'iana'},"application/vnd.ecowin.seriesrequest":{source:'iana'},"application/vnd.ecowin.seriesupdate":{source:'iana'},"application/vnd.efi.img":{source:'iana'},"application/vnd.efi.iso":{source:'iana'},"application/vnd.emclient.accessrequest+xml":{source:'iana'},"application/vnd.enliven":{source:'iana',extensions:['nml']},"application/vnd.enphase.envoy":{source:'iana'},"application/vnd.eprints.data+xml":{source:'iana'},"application/vnd.epson.esf":{source:'iana',extensions:['esf']},"application/vnd.epson.msf":{source:'iana',extensions:['msf']},"application/vnd.epson.quickanime":{source:'iana',extensions:['qam']},"application/vnd.epson.salt":{source:'iana',extensions:['slt']},"application/vnd.epson.ssf":{source:'iana',extensions:['ssf']},"application/vnd.ericsson.quickcall":{source:'iana'},"application/vnd.espass-espass+zip":{source:'iana'},"application/vnd.eszigno3+xml":{source:'iana',extensions:['es3','et3']},"application/vnd.etsi.aoc+xml":{source:'iana'},"application/vnd.etsi.asic-e+zip":{source:'iana'},"application/vnd.etsi.asic-s+zip":{source:'iana'},"application/vnd.etsi.cug+xml":{source:'iana'},"application/vnd.etsi.iptvcommand+xml":{source:'iana'},"application/vnd.etsi.iptvdiscovery+xml":{source:'iana'},"application/vnd.etsi.iptvprofile+xml":{source:'iana'},"application/vnd.etsi.iptvsad-bc+xml":{source:'iana'},"application/vnd.etsi.iptvsad-cod+xml":{source:'iana'},"application/vnd.etsi.iptvsad-npvr+xml":{source:'iana'},"application/vnd.etsi.iptvservice+xml":{source:'iana'},"application/vnd.etsi.iptvsync+xml":{source:'iana'},"application/vnd.etsi.iptvueprofile+xml":{source:'iana'},"application/vnd.etsi.mcid+xml":{source:'iana'},"application/vnd.etsi.mheg5":{source:'iana'},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:'iana'},"application/vnd.etsi.pstn+xml":{source:'iana'},"application/vnd.etsi.sci+xml":{source:'iana'},"application/vnd.etsi.simservs+xml":{source:'iana'},"application/vnd.etsi.timestamp-token":{source:'iana'},"application/vnd.etsi.tsl+xml":{source:'iana'},"application/vnd.etsi.tsl.der":{source:'iana'},"application/vnd.eudora.data":{source:'iana'},"application/vnd.evolv.ecig.profile":{source:'iana'},"application/vnd.evolv.ecig.settings":{source:'iana'},"application/vnd.evolv.ecig.theme":{source:'iana'},"application/vnd.ezpix-album":{source:'iana',extensions:['ez2']},"application/vnd.ezpix-package":{source:'iana',extensions:['ez3']},"application/vnd.f-secure.mobile":{source:'iana'},"application/vnd.fastcopy-disk-image":{source:'iana'},"application/vnd.fdf":{source:'iana',extensions:['fdf']},"application/vnd.fdsn.mseed":{source:'iana',extensions:['mseed']},"application/vnd.fdsn.seed":{source:'iana',extensions:['seed','dataless']},"application/vnd.ffsns":{source:'iana'},"application/vnd.filmit.zfc":{source:'iana'},"application/vnd.fints":{source:'iana'},"application/vnd.firemonkeys.cloudcell":{source:'iana'},"application/vnd.flographit":{source:'iana',extensions:['gph']},"application/vnd.fluxtime.clip":{source:'iana',extensions:['ftc']},"application/vnd.font-fontforge-sfd":{source:'iana'},"application/vnd.framemaker":{source:'iana',extensions:['fm','frame','maker','book']},"application/vnd.frogans.fnc":{source:'iana',extensions:['fnc']},"application/vnd.frogans.ltf":{source:'iana',extensions:['ltf']},"application/vnd.fsc.weblaunch":{source:'iana',extensions:['fsc']},"application/vnd.fujitsu.oasys":{source:'iana',extensions:['oas']},"application/vnd.fujitsu.oasys2":{source:'iana',extensions:['oa2']},"application/vnd.fujitsu.oasys3":{source:'iana',extensions:['oa3']},"application/vnd.fujitsu.oasysgp":{source:'iana',extensions:['fg5']},"application/vnd.fujitsu.oasysprs":{source:'iana',extensions:['bh2']},"application/vnd.fujixerox.art-ex":{source:'iana'},"application/vnd.fujixerox.art4":{source:'iana'},"application/vnd.fujixerox.ddd":{source:'iana',extensions:['ddd']},"application/vnd.fujixerox.docuworks":{source:'iana',extensions:['xdw']},"application/vnd.fujixerox.docuworks.binder":{source:'iana',extensions:['xbd']},"application/vnd.fujixerox.docuworks.container":{source:'iana'},"application/vnd.fujixerox.hbpl":{source:'iana'},"application/vnd.fut-misnet":{source:'iana'},"application/vnd.fuzzysheet":{source:'iana',extensions:['fzs']},"application/vnd.genomatix.tuxedo":{source:'iana',extensions:['txd']},"application/vnd.geo+json":{source:'iana',compressible:!0},"application/vnd.geocube+xml":{source:'iana'},"application/vnd.geogebra.file":{source:'iana',extensions:['ggb']},"application/vnd.geogebra.tool":{source:'iana',extensions:['ggt']},"application/vnd.geometry-explorer":{source:'iana',extensions:['gex','gre']},"application/vnd.geonext":{source:'iana',extensions:['gxt']},"application/vnd.geoplan":{source:'iana',extensions:['g2w']},"application/vnd.geospace":{source:'iana',extensions:['g3w']},"application/vnd.gerber":{source:'iana'},"application/vnd.globalplatform.card-content-mgt":{source:'iana'},"application/vnd.globalplatform.card-content-mgt-response":{source:'iana'},"application/vnd.gmx":{source:'iana',extensions:['gmx']},"application/vnd.google-apps.document":{compressible:!1,extensions:['gdoc']},"application/vnd.google-apps.presentation":{compressible:!1,extensions:['gslides']},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:['gsheet']},"application/vnd.google-earth.kml+xml":{source:'iana',compressible:!0,extensions:['kml']},"application/vnd.google-earth.kmz":{source:'iana',compressible:!1,extensions:['kmz']},"application/vnd.gov.sk.e-form+xml":{source:'iana'},"application/vnd.gov.sk.e-form+zip":{source:'iana'},"application/vnd.gov.sk.xmldatacontainer+xml":{source:'iana'},"application/vnd.grafeq":{source:'iana',extensions:['gqf','gqs']},"application/vnd.gridmp":{source:'iana'},"application/vnd.groove-account":{source:'iana',extensions:['gac']},"application/vnd.groove-help":{source:'iana',extensions:['ghf']},"application/vnd.groove-identity-message":{source:'iana',extensions:['gim']},"application/vnd.groove-injector":{source:'iana',extensions:['grv']},"application/vnd.groove-tool-message":{source:'iana',extensions:['gtm']},"application/vnd.groove-tool-template":{source:'iana',extensions:['tpl']},"application/vnd.groove-vcard":{source:'iana',extensions:['vcg']},"application/vnd.hal+json":{source:'iana',compressible:!0},"application/vnd.hal+xml":{source:'iana',extensions:['hal']},"application/vnd.handheld-entertainment+xml":{source:'iana',extensions:['zmm']},"application/vnd.hbci":{source:'iana',extensions:['hbci']},"application/vnd.hc+json":{source:'iana',compressible:!0},"application/vnd.hcl-bireports":{source:'iana'},"application/vnd.hdt":{source:'iana'},"application/vnd.heroku+json":{source:'iana',compressible:!0},"application/vnd.hhe.lesson-player":{source:'iana',extensions:['les']},"application/vnd.hp-hpgl":{source:'iana',extensions:['hpgl']},"application/vnd.hp-hpid":{source:'iana',extensions:['hpid']},"application/vnd.hp-hps":{source:'iana',extensions:['hps']},"application/vnd.hp-jlyt":{source:'iana',extensions:['jlt']},"application/vnd.hp-pcl":{source:'iana',extensions:['pcl']},"application/vnd.hp-pclxl":{source:'iana',extensions:['pclxl']},"application/vnd.httphone":{source:'iana'},"application/vnd.hydrostatix.sof-data":{source:'iana',extensions:['sfd-hdstx']},"application/vnd.hyper-item+json":{source:'iana',compressible:!0},"application/vnd.hyperdrive+json":{source:'iana',compressible:!0},"application/vnd.hzn-3d-crossword":{source:'iana'},"application/vnd.ibm.afplinedata":{source:'iana'},"application/vnd.ibm.electronic-media":{source:'iana'},"application/vnd.ibm.minipay":{source:'iana',extensions:['mpy']},"application/vnd.ibm.modcap":{source:'iana',extensions:['afp','listafp','list3820']},"application/vnd.ibm.rights-management":{source:'iana',extensions:['irm']},"application/vnd.ibm.secure-container":{source:'iana',extensions:['sc']},"application/vnd.iccprofile":{source:'iana',extensions:['icc','icm']},"application/vnd.ieee.1905":{source:'iana'},"application/vnd.igloader":{source:'iana',extensions:['igl']},"application/vnd.imagemeter.folder+zip":{source:'iana'},"application/vnd.imagemeter.image+zip":{source:'iana'},"application/vnd.immervision-ivp":{source:'iana',extensions:['ivp']},"application/vnd.immervision-ivu":{source:'iana',extensions:['ivu']},"application/vnd.ims.imsccv1p1":{source:'iana'},"application/vnd.ims.imsccv1p2":{source:'iana'},"application/vnd.ims.imsccv1p3":{source:'iana'},"application/vnd.ims.lis.v2.result+json":{source:'iana',compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:'iana',compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:'iana',compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:'iana',compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:'iana',compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:'iana',compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:'iana'},"application/vnd.informix-visionary":{source:'iana'},"application/vnd.infotech.project":{source:'iana'},"application/vnd.infotech.project+xml":{source:'iana'},"application/vnd.innopath.wamp.notification":{source:'iana'},"application/vnd.insors.igm":{source:'iana',extensions:['igm']},"application/vnd.intercon.formnet":{source:'iana',extensions:['xpw','xpx']},"application/vnd.intergeo":{source:'iana',extensions:['i2g']},"application/vnd.intertrust.digibox":{source:'iana'},"application/vnd.intertrust.nncp":{source:'iana'},"application/vnd.intu.qbo":{source:'iana',extensions:['qbo']},"application/vnd.intu.qfx":{source:'iana',extensions:['qfx']},"application/vnd.iptc.g2.catalogitem+xml":{source:'iana'},"application/vnd.iptc.g2.conceptitem+xml":{source:'iana'},"application/vnd.iptc.g2.knowledgeitem+xml":{source:'iana'},"application/vnd.iptc.g2.newsitem+xml":{source:'iana'},"application/vnd.iptc.g2.newsmessage+xml":{source:'iana'},"application/vnd.iptc.g2.packageitem+xml":{source:'iana'},"application/vnd.iptc.g2.planningitem+xml":{source:'iana'},"application/vnd.ipunplugged.rcprofile":{source:'iana',extensions:['rcprofile']},"application/vnd.irepository.package+xml":{source:'iana',extensions:['irp']},"application/vnd.is-xpr":{source:'iana',extensions:['xpr']},"application/vnd.isac.fcs":{source:'iana',extensions:['fcs']},"application/vnd.jam":{source:'iana',extensions:['jam']},"application/vnd.japannet-directory-service":{source:'iana'},"application/vnd.japannet-jpnstore-wakeup":{source:'iana'},"application/vnd.japannet-payment-wakeup":{source:'iana'},"application/vnd.japannet-registration":{source:'iana'},"application/vnd.japannet-registration-wakeup":{source:'iana'},"application/vnd.japannet-setstore-wakeup":{source:'iana'},"application/vnd.japannet-verification":{source:'iana'},"application/vnd.japannet-verification-wakeup":{source:'iana'},"application/vnd.jcp.javame.midlet-rms":{source:'iana',extensions:['rms']},"application/vnd.jisp":{source:'iana',extensions:['jisp']},"application/vnd.joost.joda-archive":{source:'iana',extensions:['joda']},"application/vnd.jsk.isdn-ngn":{source:'iana'},"application/vnd.kahootz":{source:'iana',extensions:['ktz','ktr']},"application/vnd.kde.karbon":{source:'iana',extensions:['karbon']},"application/vnd.kde.kchart":{source:'iana',extensions:['chrt']},"application/vnd.kde.kformula":{source:'iana',extensions:['kfo']},"application/vnd.kde.kivio":{source:'iana',extensions:['flw']},"application/vnd.kde.kontour":{source:'iana',extensions:['kon']},"application/vnd.kde.kpresenter":{source:'iana',extensions:['kpr','kpt']},"application/vnd.kde.kspread":{source:'iana',extensions:['ksp']},"application/vnd.kde.kword":{source:'iana',extensions:['kwd','kwt']},"application/vnd.kenameaapp":{source:'iana',extensions:['htke']},"application/vnd.kidspiration":{source:'iana',extensions:['kia']},"application/vnd.kinar":{source:'iana',extensions:['kne','knp']},"application/vnd.koan":{source:'iana',extensions:['skp','skd','skt','skm']},"application/vnd.kodak-descriptor":{source:'iana',extensions:['sse']},"application/vnd.las.las+json":{source:'iana',compressible:!0},"application/vnd.las.las+xml":{source:'iana',extensions:['lasxml']},"application/vnd.liberty-request+xml":{source:'iana'},"application/vnd.llamagraphics.life-balance.desktop":{source:'iana',extensions:['lbd']},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:'iana',extensions:['lbe']},"application/vnd.lotus-1-2-3":{source:'iana',extensions:['123']},"application/vnd.lotus-approach":{source:'iana',extensions:['apr']},"application/vnd.lotus-freelance":{source:'iana',extensions:['pre']},"application/vnd.lotus-notes":{source:'iana',extensions:['nsf']},"application/vnd.lotus-organizer":{source:'iana',extensions:['org']},"application/vnd.lotus-screencam":{source:'iana',extensions:['scm']},"application/vnd.lotus-wordpro":{source:'iana',extensions:['lwp']},"application/vnd.macports.portpkg":{source:'iana',extensions:['portpkg']},"application/vnd.mapbox-vector-tile":{source:'iana'},"application/vnd.marlin.drm.actiontoken+xml":{source:'iana'},"application/vnd.marlin.drm.conftoken+xml":{source:'iana'},"application/vnd.marlin.drm.license+xml":{source:'iana'},"application/vnd.marlin.drm.mdcf":{source:'iana'},"application/vnd.mason+json":{source:'iana',compressible:!0},"application/vnd.maxmind.maxmind-db":{source:'iana'},"application/vnd.mcd":{source:'iana',extensions:['mcd']},"application/vnd.medcalcdata":{source:'iana',extensions:['mc1']},"application/vnd.mediastation.cdkey":{source:'iana',extensions:['cdkey']},"application/vnd.meridian-slingshot":{source:'iana'},"application/vnd.mfer":{source:'iana',extensions:['mwf']},"application/vnd.mfmp":{source:'iana',extensions:['mfm']},"application/vnd.micro+json":{source:'iana',compressible:!0},"application/vnd.micrografx.flo":{source:'iana',extensions:['flo']},"application/vnd.micrografx.igx":{source:'iana',extensions:['igx']},"application/vnd.microsoft.portable-executable":{source:'iana'},"application/vnd.microsoft.windows.thumbnail-cache":{source:'iana'},"application/vnd.miele+json":{source:'iana',compressible:!0},"application/vnd.mif":{source:'iana',extensions:['mif']},"application/vnd.minisoft-hp3000-save":{source:'iana'},"application/vnd.mitsubishi.misty-guard.trustweb":{source:'iana'},"application/vnd.mobius.daf":{source:'iana',extensions:['daf']},"application/vnd.mobius.dis":{source:'iana',extensions:['dis']},"application/vnd.mobius.mbk":{source:'iana',extensions:['mbk']},"application/vnd.mobius.mqy":{source:'iana',extensions:['mqy']},"application/vnd.mobius.msl":{source:'iana',extensions:['msl']},"application/vnd.mobius.plc":{source:'iana',extensions:['plc']},"application/vnd.mobius.txf":{source:'iana',extensions:['txf']},"application/vnd.mophun.application":{source:'iana',extensions:['mpn']},"application/vnd.mophun.certificate":{source:'iana',extensions:['mpc']},"application/vnd.motorola.flexsuite":{source:'iana'},"application/vnd.motorola.flexsuite.adsi":{source:'iana'},"application/vnd.motorola.flexsuite.fis":{source:'iana'},"application/vnd.motorola.flexsuite.gotap":{source:'iana'},"application/vnd.motorola.flexsuite.kmr":{source:'iana'},"application/vnd.motorola.flexsuite.ttc":{source:'iana'},"application/vnd.motorola.flexsuite.wem":{source:'iana'},"application/vnd.motorola.iprm":{source:'iana'},"application/vnd.mozilla.xul+xml":{source:'iana',compressible:!0,extensions:['xul']},"application/vnd.ms-3mfdocument":{source:'iana'},"application/vnd.ms-artgalry":{source:'iana',extensions:['cil']},"application/vnd.ms-asf":{source:'iana'},"application/vnd.ms-cab-compressed":{source:'iana',extensions:['cab']},"application/vnd.ms-color.iccprofile":{source:'apache'},"application/vnd.ms-excel":{source:'iana',compressible:!1,extensions:['xls','xlm','xla','xlc','xlt','xlw']},"application/vnd.ms-excel.addin.macroenabled.12":{source:'iana',extensions:['xlam']},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:'iana',extensions:['xlsb']},"application/vnd.ms-excel.sheet.macroenabled.12":{source:'iana',extensions:['xlsm']},"application/vnd.ms-excel.template.macroenabled.12":{source:'iana',extensions:['xltm']},"application/vnd.ms-fontobject":{source:'iana',compressible:!0,extensions:['eot']},"application/vnd.ms-htmlhelp":{source:'iana',extensions:['chm']},"application/vnd.ms-ims":{source:'iana',extensions:['ims']},"application/vnd.ms-lrm":{source:'iana',extensions:['lrm']},"application/vnd.ms-office.activex+xml":{source:'iana'},"application/vnd.ms-officetheme":{source:'iana',extensions:['thmx']},"application/vnd.ms-opentype":{source:'apache',compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:['msg']},"application/vnd.ms-package.obfuscated-opentype":{source:'apache'},"application/vnd.ms-pki.seccat":{source:'apache',extensions:['cat']},"application/vnd.ms-pki.stl":{source:'apache',extensions:['stl']},"application/vnd.ms-playready.initiator+xml":{source:'iana'},"application/vnd.ms-powerpoint":{source:'iana',compressible:!1,extensions:['ppt','pps','pot']},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:'iana',extensions:['ppam']},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:'iana',extensions:['pptm']},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:'iana',extensions:['sldm']},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:'iana',extensions:['ppsm']},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:'iana',extensions:['potm']},"application/vnd.ms-printdevicecapabilities+xml":{source:'iana'},"application/vnd.ms-printing.printticket+xml":{source:'apache'},"application/vnd.ms-printschematicket+xml":{source:'iana'},"application/vnd.ms-project":{source:'iana',extensions:['mpp','mpt']},"application/vnd.ms-tnef":{source:'iana'},"application/vnd.ms-windows.devicepairing":{source:'iana'},"application/vnd.ms-windows.nwprinting.oob":{source:'iana'},"application/vnd.ms-windows.printerpairing":{source:'iana'},"application/vnd.ms-windows.wsd.oob":{source:'iana'},"application/vnd.ms-wmdrm.lic-chlg-req":{source:'iana'},"application/vnd.ms-wmdrm.lic-resp":{source:'iana'},"application/vnd.ms-wmdrm.meter-chlg-req":{source:'iana'},"application/vnd.ms-wmdrm.meter-resp":{source:'iana'},"application/vnd.ms-word.document.macroenabled.12":{source:'iana',extensions:['docm']},"application/vnd.ms-word.template.macroenabled.12":{source:'iana',extensions:['dotm']},"application/vnd.ms-works":{source:'iana',extensions:['wps','wks','wcm','wdb']},"application/vnd.ms-wpl":{source:'iana',extensions:['wpl']},"application/vnd.ms-xpsdocument":{source:'iana',compressible:!1,extensions:['xps']},"application/vnd.msa-disk-image":{source:'iana'},"application/vnd.mseq":{source:'iana',extensions:['mseq']},"application/vnd.msign":{source:'iana'},"application/vnd.multiad.creator":{source:'iana'},"application/vnd.multiad.creator.cif":{source:'iana'},"application/vnd.music-niff":{source:'iana'},"application/vnd.musician":{source:'iana',extensions:['mus']},"application/vnd.muvee.style":{source:'iana',extensions:['msty']},"application/vnd.mynfc":{source:'iana',extensions:['taglet']},"application/vnd.ncd.control":{source:'iana'},"application/vnd.ncd.reference":{source:'iana'},"application/vnd.nearst.inv+json":{source:'iana',compressible:!0},"application/vnd.nervana":{source:'iana'},"application/vnd.netfpx":{source:'iana'},"application/vnd.neurolanguage.nlu":{source:'iana',extensions:['nlu']},"application/vnd.nintendo.nitro.rom":{source:'iana'},"application/vnd.nintendo.snes.rom":{source:'iana'},"application/vnd.nitf":{source:'iana',extensions:['ntf','nitf']},"application/vnd.noblenet-directory":{source:'iana',extensions:['nnd']},"application/vnd.noblenet-sealer":{source:'iana',extensions:['nns']},"application/vnd.noblenet-web":{source:'iana',extensions:['nnw']},"application/vnd.nokia.catalogs":{source:'iana'},"application/vnd.nokia.conml+wbxml":{source:'iana'},"application/vnd.nokia.conml+xml":{source:'iana'},"application/vnd.nokia.iptv.config+xml":{source:'iana'},"application/vnd.nokia.isds-radio-presets":{source:'iana'},"application/vnd.nokia.landmark+wbxml":{source:'iana'},"application/vnd.nokia.landmark+xml":{source:'iana'},"application/vnd.nokia.landmarkcollection+xml":{source:'iana'},"application/vnd.nokia.n-gage.ac+xml":{source:'iana'},"application/vnd.nokia.n-gage.data":{source:'iana',extensions:['ngdat']},"application/vnd.nokia.n-gage.symbian.install":{source:'iana',extensions:['n-gage']},"application/vnd.nokia.ncd":{source:'iana'},"application/vnd.nokia.pcd+wbxml":{source:'iana'},"application/vnd.nokia.pcd+xml":{source:'iana'},"application/vnd.nokia.radio-preset":{source:'iana',extensions:['rpst']},"application/vnd.nokia.radio-presets":{source:'iana',extensions:['rpss']},"application/vnd.novadigm.edm":{source:'iana',extensions:['edm']},"application/vnd.novadigm.edx":{source:'iana',extensions:['edx']},"application/vnd.novadigm.ext":{source:'iana',extensions:['ext']},"application/vnd.ntt-local.content-share":{source:'iana'},"application/vnd.ntt-local.file-transfer":{source:'iana'},"application/vnd.ntt-local.ogw_remote-access":{source:'iana'},"application/vnd.ntt-local.sip-ta_remote":{source:'iana'},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:'iana'},"application/vnd.oasis.opendocument.chart":{source:'iana',extensions:['odc']},"application/vnd.oasis.opendocument.chart-template":{source:'iana',extensions:['otc']},"application/vnd.oasis.opendocument.database":{source:'iana',extensions:['odb']},"application/vnd.oasis.opendocument.formula":{source:'iana',extensions:['odf']},"application/vnd.oasis.opendocument.formula-template":{source:'iana',extensions:['odft']},"application/vnd.oasis.opendocument.graphics":{source:'iana',compressible:!1,extensions:['odg']},"application/vnd.oasis.opendocument.graphics-template":{source:'iana',extensions:['otg']},"application/vnd.oasis.opendocument.image":{source:'iana',extensions:['odi']},"application/vnd.oasis.opendocument.image-template":{source:'iana',extensions:['oti']},"application/vnd.oasis.opendocument.presentation":{source:'iana',compressible:!1,extensions:['odp']},"application/vnd.oasis.opendocument.presentation-template":{source:'iana',extensions:['otp']},"application/vnd.oasis.opendocument.spreadsheet":{source:'iana',compressible:!1,extensions:['ods']},"application/vnd.oasis.opendocument.spreadsheet-template":{source:'iana',extensions:['ots']},"application/vnd.oasis.opendocument.text":{source:'iana',compressible:!1,extensions:['odt']},"application/vnd.oasis.opendocument.text-master":{source:'iana',extensions:['odm']},"application/vnd.oasis.opendocument.text-template":{source:'iana',extensions:['ott']},"application/vnd.oasis.opendocument.text-web":{source:'iana',extensions:['oth']},"application/vnd.obn":{source:'iana'},"application/vnd.ocf+cbor":{source:'iana'},"application/vnd.oftn.l10n+json":{source:'iana',compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:'iana'},"application/vnd.oipf.contentaccessstreaming+xml":{source:'iana'},"application/vnd.oipf.cspg-hexbinary":{source:'iana'},"application/vnd.oipf.dae.svg+xml":{source:'iana'},"application/vnd.oipf.dae.xhtml+xml":{source:'iana'},"application/vnd.oipf.mippvcontrolmessage+xml":{source:'iana'},"application/vnd.oipf.pae.gem":{source:'iana'},"application/vnd.oipf.spdiscovery+xml":{source:'iana'},"application/vnd.oipf.spdlist+xml":{source:'iana'},"application/vnd.oipf.ueprofile+xml":{source:'iana'},"application/vnd.oipf.userprofile+xml":{source:'iana'},"application/vnd.olpc-sugar":{source:'iana',extensions:['xo']},"application/vnd.oma-scws-config":{source:'iana'},"application/vnd.oma-scws-http-request":{source:'iana'},"application/vnd.oma-scws-http-response":{source:'iana'},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:'iana'},"application/vnd.oma.bcast.drm-trigger+xml":{source:'iana'},"application/vnd.oma.bcast.imd+xml":{source:'iana'},"application/vnd.oma.bcast.ltkm":{source:'iana'},"application/vnd.oma.bcast.notification+xml":{source:'iana'},"application/vnd.oma.bcast.provisioningtrigger":{source:'iana'},"application/vnd.oma.bcast.sgboot":{source:'iana'},"application/vnd.oma.bcast.sgdd+xml":{source:'iana'},"application/vnd.oma.bcast.sgdu":{source:'iana'},"application/vnd.oma.bcast.simple-symbol-container":{source:'iana'},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:'iana'},"application/vnd.oma.bcast.sprov+xml":{source:'iana'},"application/vnd.oma.bcast.stkm":{source:'iana'},"application/vnd.oma.cab-address-book+xml":{source:'iana'},"application/vnd.oma.cab-feature-handler+xml":{source:'iana'},"application/vnd.oma.cab-pcc+xml":{source:'iana'},"application/vnd.oma.cab-subs-invite+xml":{source:'iana'},"application/vnd.oma.cab-user-prefs+xml":{source:'iana'},"application/vnd.oma.dcd":{source:'iana'},"application/vnd.oma.dcdc":{source:'iana'},"application/vnd.oma.dd2+xml":{source:'iana',extensions:['dd2']},"application/vnd.oma.drm.risd+xml":{source:'iana'},"application/vnd.oma.group-usage-list+xml":{source:'iana'},"application/vnd.oma.lwm2m+json":{source:'iana',compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:'iana'},"application/vnd.oma.pal+xml":{source:'iana'},"application/vnd.oma.poc.detailed-progress-report+xml":{source:'iana'},"application/vnd.oma.poc.final-report+xml":{source:'iana'},"application/vnd.oma.poc.groups+xml":{source:'iana'},"application/vnd.oma.poc.invocation-descriptor+xml":{source:'iana'},"application/vnd.oma.poc.optimized-progress-report+xml":{source:'iana'},"application/vnd.oma.push":{source:'iana'},"application/vnd.oma.scidm.messages+xml":{source:'iana'},"application/vnd.oma.xcap-directory+xml":{source:'iana'},"application/vnd.omads-email+xml":{source:'iana'},"application/vnd.omads-file+xml":{source:'iana'},"application/vnd.omads-folder+xml":{source:'iana'},"application/vnd.omaloc-supl-init":{source:'iana'},"application/vnd.onepager":{source:'iana'},"application/vnd.onepagertamp":{source:'iana'},"application/vnd.onepagertamx":{source:'iana'},"application/vnd.onepagertat":{source:'iana'},"application/vnd.onepagertatp":{source:'iana'},"application/vnd.onepagertatx":{source:'iana'},"application/vnd.openblox.game+xml":{source:'iana'},"application/vnd.openblox.game-binary":{source:'iana'},"application/vnd.openeye.oeb":{source:'iana'},"application/vnd.openofficeorg.extension":{source:'apache',extensions:['oxt']},"application/vnd.openstreetmap.data+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml-template":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:'iana',compressible:!1,extensions:['pptx']},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:'iana',extensions:['sldx']},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:'iana',extensions:['ppsx']},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:'apache',extensions:['potx']},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml-template":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:'iana',compressible:!1,extensions:['xlsx']},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:'apache',extensions:['xltx']},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.theme+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml-template":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:'iana',compressible:!1,extensions:['docx']},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:'apache',extensions:['dotx']},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:'iana'},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:'iana'},"application/vnd.openxmlformats-package.core-properties+xml":{source:'iana'},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:'iana'},"application/vnd.openxmlformats-package.relationships+xml":{source:'iana'},"application/vnd.oracle.resource+json":{source:'iana',compressible:!0},"application/vnd.orange.indata":{source:'iana'},"application/vnd.osa.netdeploy":{source:'iana'},"application/vnd.osgeo.mapguide.package":{source:'iana',extensions:['mgp']},"application/vnd.osgi.bundle":{source:'iana'},"application/vnd.osgi.dp":{source:'iana',extensions:['dp']},"application/vnd.osgi.subsystem":{source:'iana',extensions:['esa']},"application/vnd.otps.ct-kip+xml":{source:'iana'},"application/vnd.oxli.countgraph":{source:'iana'},"application/vnd.pagerduty+json":{source:'iana',compressible:!0},"application/vnd.palm":{source:'iana',extensions:['pdb','pqa','oprc']},"application/vnd.panoply":{source:'iana'},"application/vnd.paos+xml":{source:'iana'},"application/vnd.paos.xml":{source:'apache'},"application/vnd.pawaafile":{source:'iana',extensions:['paw']},"application/vnd.pcos":{source:'iana'},"application/vnd.pg.format":{source:'iana',extensions:['str']},"application/vnd.pg.osasli":{source:'iana',extensions:['ei6']},"application/vnd.piaccess.application-licence":{source:'iana'},"application/vnd.picsel":{source:'iana',extensions:['efif']},"application/vnd.pmi.widget":{source:'iana',extensions:['wg']},"application/vnd.poc.group-advertisement+xml":{source:'iana'},"application/vnd.pocketlearn":{source:'iana',extensions:['plf']},"application/vnd.powerbuilder6":{source:'iana',extensions:['pbd']},"application/vnd.powerbuilder6-s":{source:'iana'},"application/vnd.powerbuilder7":{source:'iana'},"application/vnd.powerbuilder7-s":{source:'iana'},"application/vnd.powerbuilder75":{source:'iana'},"application/vnd.powerbuilder75-s":{source:'iana'},"application/vnd.preminet":{source:'iana'},"application/vnd.previewsystems.box":{source:'iana',extensions:['box']},"application/vnd.proteus.magazine":{source:'iana',extensions:['mgz']},"application/vnd.publishare-delta-tree":{source:'iana',extensions:['qps']},"application/vnd.pvi.ptid1":{source:'iana',extensions:['ptid']},"application/vnd.pwg-multiplexed":{source:'iana'},"application/vnd.pwg-xhtml-print+xml":{source:'iana'},"application/vnd.qualcomm.brew-app-res":{source:'iana'},"application/vnd.quarantainenet":{source:'iana'},"application/vnd.quark.quarkxpress":{source:'iana',extensions:['qxd','qxt','qwd','qwt','qxl','qxb']},"application/vnd.quobject-quoxdocument":{source:'iana'},"application/vnd.radisys.moml+xml":{source:'iana'},"application/vnd.radisys.msml+xml":{source:'iana'},"application/vnd.radisys.msml-audit+xml":{source:'iana'},"application/vnd.radisys.msml-audit-conf+xml":{source:'iana'},"application/vnd.radisys.msml-audit-conn+xml":{source:'iana'},"application/vnd.radisys.msml-audit-dialog+xml":{source:'iana'},"application/vnd.radisys.msml-audit-stream+xml":{source:'iana'},"application/vnd.radisys.msml-conf+xml":{source:'iana'},"application/vnd.radisys.msml-dialog+xml":{source:'iana'},"application/vnd.radisys.msml-dialog-base+xml":{source:'iana'},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:'iana'},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:'iana'},"application/vnd.radisys.msml-dialog-group+xml":{source:'iana'},"application/vnd.radisys.msml-dialog-speech+xml":{source:'iana'},"application/vnd.radisys.msml-dialog-transform+xml":{source:'iana'},"application/vnd.rainstor.data":{source:'iana'},"application/vnd.rapid":{source:'iana'},"application/vnd.rar":{source:'iana'},"application/vnd.realvnc.bed":{source:'iana',extensions:['bed']},"application/vnd.recordare.musicxml":{source:'iana',extensions:['mxl']},"application/vnd.recordare.musicxml+xml":{source:'iana',extensions:['musicxml']},"application/vnd.renlearn.rlprint":{source:'iana'},"application/vnd.rig.cryptonote":{source:'iana',extensions:['cryptonote']},"application/vnd.rim.cod":{source:'apache',extensions:['cod']},"application/vnd.rn-realmedia":{source:'apache',extensions:['rm']},"application/vnd.rn-realmedia-vbr":{source:'apache',extensions:['rmvb']},"application/vnd.route66.link66+xml":{source:'iana',extensions:['link66']},"application/vnd.rs-274x":{source:'iana'},"application/vnd.ruckus.download":{source:'iana'},"application/vnd.s3sms":{source:'iana'},"application/vnd.sailingtracker.track":{source:'iana',extensions:['st']},"application/vnd.sbm.cid":{source:'iana'},"application/vnd.sbm.mid2":{source:'iana'},"application/vnd.scribus":{source:'iana'},"application/vnd.sealed.3df":{source:'iana'},"application/vnd.sealed.csf":{source:'iana'},"application/vnd.sealed.doc":{source:'iana'},"application/vnd.sealed.eml":{source:'iana'},"application/vnd.sealed.mht":{source:'iana'},"application/vnd.sealed.net":{source:'iana'},"application/vnd.sealed.ppt":{source:'iana'},"application/vnd.sealed.tiff":{source:'iana'},"application/vnd.sealed.xls":{source:'iana'},"application/vnd.sealedmedia.softseal.html":{source:'iana'},"application/vnd.sealedmedia.softseal.pdf":{source:'iana'},"application/vnd.seemail":{source:'iana',extensions:['see']},"application/vnd.sema":{source:'iana',extensions:['sema']},"application/vnd.semd":{source:'iana',extensions:['semd']},"application/vnd.semf":{source:'iana',extensions:['semf']},"application/vnd.shana.informed.formdata":{source:'iana',extensions:['ifm']},"application/vnd.shana.informed.formtemplate":{source:'iana',extensions:['itp']},"application/vnd.shana.informed.interchange":{source:'iana',extensions:['iif']},"application/vnd.shana.informed.package":{source:'iana',extensions:['ipk']},"application/vnd.sigrok.session":{source:'iana'},"application/vnd.simtech-mindmapper":{source:'iana',extensions:['twd','twds']},"application/vnd.siren+json":{source:'iana',compressible:!0},"application/vnd.smaf":{source:'iana',extensions:['mmf']},"application/vnd.smart.notebook":{source:'iana'},"application/vnd.smart.teacher":{source:'iana',extensions:['teacher']},"application/vnd.software602.filler.form+xml":{source:'iana'},"application/vnd.software602.filler.form-xml-zip":{source:'iana'},"application/vnd.solent.sdkm+xml":{source:'iana',extensions:['sdkm','sdkd']},"application/vnd.spotfire.dxp":{source:'iana',extensions:['dxp']},"application/vnd.spotfire.sfs":{source:'iana',extensions:['sfs']},"application/vnd.sss-cod":{source:'iana'},"application/vnd.sss-dtf":{source:'iana'},"application/vnd.sss-ntf":{source:'iana'},"application/vnd.stardivision.calc":{source:'apache',extensions:['sdc']},"application/vnd.stardivision.draw":{source:'apache',extensions:['sda']},"application/vnd.stardivision.impress":{source:'apache',extensions:['sdd']},"application/vnd.stardivision.math":{source:'apache',extensions:['smf']},"application/vnd.stardivision.writer":{source:'apache',extensions:['sdw','vor']},"application/vnd.stardivision.writer-global":{source:'apache',extensions:['sgl']},"application/vnd.stepmania.package":{source:'iana',extensions:['smzip']},"application/vnd.stepmania.stepchart":{source:'iana',extensions:['sm']},"application/vnd.street-stream":{source:'iana'},"application/vnd.sun.wadl+xml":{source:'iana',compressible:!0,extensions:['wadl']},"application/vnd.sun.xml.calc":{source:'apache',extensions:['sxc']},"application/vnd.sun.xml.calc.template":{source:'apache',extensions:['stc']},"application/vnd.sun.xml.draw":{source:'apache',extensions:['sxd']},"application/vnd.sun.xml.draw.template":{source:'apache',extensions:['std']},"application/vnd.sun.xml.impress":{source:'apache',extensions:['sxi']},"application/vnd.sun.xml.impress.template":{source:'apache',extensions:['sti']},"application/vnd.sun.xml.math":{source:'apache',extensions:['sxm']},"application/vnd.sun.xml.writer":{source:'apache',extensions:['sxw']},"application/vnd.sun.xml.writer.global":{source:'apache',extensions:['sxg']},"application/vnd.sun.xml.writer.template":{source:'apache',extensions:['stw']},"application/vnd.sus-calendar":{source:'iana',extensions:['sus','susp']},"application/vnd.svd":{source:'iana',extensions:['svd']},"application/vnd.swiftview-ics":{source:'iana'},"application/vnd.symbian.install":{source:'apache',extensions:['sis','sisx']},"application/vnd.syncml+xml":{source:'iana',extensions:['xsm']},"application/vnd.syncml.dm+wbxml":{source:'iana',extensions:['bdm']},"application/vnd.syncml.dm+xml":{source:'iana',extensions:['xdm']},"application/vnd.syncml.dm.notification":{source:'iana'},"application/vnd.syncml.dmddf+wbxml":{source:'iana'},"application/vnd.syncml.dmddf+xml":{source:'iana'},"application/vnd.syncml.dmtnds+wbxml":{source:'iana'},"application/vnd.syncml.dmtnds+xml":{source:'iana'},"application/vnd.syncml.ds.notification":{source:'iana'},"application/vnd.tableschema+json":{source:'iana',compressible:!0},"application/vnd.tao.intent-module-archive":{source:'iana',extensions:['tao']},"application/vnd.tcpdump.pcap":{source:'iana',extensions:['pcap','cap','dmp']},"application/vnd.tmd.mediaflex.api+xml":{source:'iana'},"application/vnd.tml":{source:'iana'},"application/vnd.tmobile-livetv":{source:'iana',extensions:['tmo']},"application/vnd.tri.onesource":{source:'iana'},"application/vnd.trid.tpt":{source:'iana',extensions:['tpt']},"application/vnd.triscape.mxs":{source:'iana',extensions:['mxs']},"application/vnd.trueapp":{source:'iana',extensions:['tra']},"application/vnd.truedoc":{source:'iana'},"application/vnd.ubisoft.webplayer":{source:'iana'},"application/vnd.ufdl":{source:'iana',extensions:['ufd','ufdl']},"application/vnd.uiq.theme":{source:'iana',extensions:['utz']},"application/vnd.umajin":{source:'iana',extensions:['umj']},"application/vnd.unity":{source:'iana',extensions:['unityweb']},"application/vnd.uoml+xml":{source:'iana',extensions:['uoml']},"application/vnd.uplanet.alert":{source:'iana'},"application/vnd.uplanet.alert-wbxml":{source:'iana'},"application/vnd.uplanet.bearer-choice":{source:'iana'},"application/vnd.uplanet.bearer-choice-wbxml":{source:'iana'},"application/vnd.uplanet.cacheop":{source:'iana'},"application/vnd.uplanet.cacheop-wbxml":{source:'iana'},"application/vnd.uplanet.channel":{source:'iana'},"application/vnd.uplanet.channel-wbxml":{source:'iana'},"application/vnd.uplanet.list":{source:'iana'},"application/vnd.uplanet.list-wbxml":{source:'iana'},"application/vnd.uplanet.listcmd":{source:'iana'},"application/vnd.uplanet.listcmd-wbxml":{source:'iana'},"application/vnd.uplanet.signal":{source:'iana'},"application/vnd.uri-map":{source:'iana'},"application/vnd.valve.source.material":{source:'iana'},"application/vnd.vcx":{source:'iana',extensions:['vcx']},"application/vnd.vd-study":{source:'iana'},"application/vnd.vectorworks":{source:'iana'},"application/vnd.vel+json":{source:'iana',compressible:!0},"application/vnd.verimatrix.vcas":{source:'iana'},"application/vnd.vidsoft.vidconference":{source:'iana'},"application/vnd.visio":{source:'iana',extensions:['vsd','vst','vss','vsw']},"application/vnd.visionary":{source:'iana',extensions:['vis']},"application/vnd.vividence.scriptfile":{source:'iana'},"application/vnd.vsf":{source:'iana',extensions:['vsf']},"application/vnd.wap.sic":{source:'iana'},"application/vnd.wap.slc":{source:'iana'},"application/vnd.wap.wbxml":{source:'iana',extensions:['wbxml']},"application/vnd.wap.wmlc":{source:'iana',extensions:['wmlc']},"application/vnd.wap.wmlscriptc":{source:'iana',extensions:['wmlsc']},"application/vnd.webturbo":{source:'iana',extensions:['wtb']},"application/vnd.wfa.p2p":{source:'iana'},"application/vnd.wfa.wsc":{source:'iana'},"application/vnd.windows.devicepairing":{source:'iana'},"application/vnd.wmc":{source:'iana'},"application/vnd.wmf.bootstrap":{source:'iana'},"application/vnd.wolfram.mathematica":{source:'iana'},"application/vnd.wolfram.mathematica.package":{source:'iana'},"application/vnd.wolfram.player":{source:'iana',extensions:['nbp']},"application/vnd.wordperfect":{source:'iana',extensions:['wpd']},"application/vnd.wqd":{source:'iana',extensions:['wqd']},"application/vnd.wrq-hp3000-labelled":{source:'iana'},"application/vnd.wt.stf":{source:'iana',extensions:['stf']},"application/vnd.wv.csp+wbxml":{source:'iana'},"application/vnd.wv.csp+xml":{source:'iana'},"application/vnd.wv.ssp+xml":{source:'iana'},"application/vnd.xacml+json":{source:'iana',compressible:!0},"application/vnd.xara":{source:'iana',extensions:['xar']},"application/vnd.xfdl":{source:'iana',extensions:['xfdl']},"application/vnd.xfdl.webform":{source:'iana'},"application/vnd.xmi+xml":{source:'iana'},"application/vnd.xmpie.cpkg":{source:'iana'},"application/vnd.xmpie.dpkg":{source:'iana'},"application/vnd.xmpie.plan":{source:'iana'},"application/vnd.xmpie.ppkg":{source:'iana'},"application/vnd.xmpie.xlim":{source:'iana'},"application/vnd.yamaha.hv-dic":{source:'iana',extensions:['hvd']},"application/vnd.yamaha.hv-script":{source:'iana',extensions:['hvs']},"application/vnd.yamaha.hv-voice":{source:'iana',extensions:['hvp']},"application/vnd.yamaha.openscoreformat":{source:'iana',extensions:['osf']},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:'iana',extensions:['osfpvg']},"application/vnd.yamaha.remote-setup":{source:'iana'},"application/vnd.yamaha.smaf-audio":{source:'iana',extensions:['saf']},"application/vnd.yamaha.smaf-phrase":{source:'iana',extensions:['spf']},"application/vnd.yamaha.through-ngn":{source:'iana'},"application/vnd.yamaha.tunnel-udpencap":{source:'iana'},"application/vnd.yaoweme":{source:'iana'},"application/vnd.yellowriver-custom-menu":{source:'iana',extensions:['cmp']},"application/vnd.zul":{source:'iana',extensions:['zir','zirz']},"application/vnd.zzazz.deck+xml":{source:'iana',extensions:['zaz']},"application/voicexml+xml":{source:'iana',extensions:['vxml']},"application/vq-rtcpxr":{source:'iana'},"application/watcherinfo+xml":{source:'iana'},"application/whoispp-query":{source:'iana'},"application/whoispp-response":{source:'iana'},"application/widget":{source:'iana',extensions:['wgt']},"application/winhlp":{source:'apache',extensions:['hlp']},"application/wita":{source:'iana'},"application/wordperfect5.1":{source:'iana'},"application/wsdl+xml":{source:'iana',extensions:['wsdl']},"application/wspolicy+xml":{source:'iana',extensions:['wspolicy']},"application/x-7z-compressed":{source:'apache',compressible:!1,extensions:['7z']},"application/x-abiword":{source:'apache',extensions:['abw']},"application/x-ace-compressed":{source:'apache',extensions:['ace']},"application/x-amf":{source:'apache'},"application/x-apple-diskimage":{source:'apache',extensions:['dmg']},"application/x-arj":{compressible:!1,extensions:['arj']},"application/x-authorware-bin":{source:'apache',extensions:['aab','x32','u32','vox']},"application/x-authorware-map":{source:'apache',extensions:['aam']},"application/x-authorware-seg":{source:'apache',extensions:['aas']},"application/x-bcpio":{source:'apache',extensions:['bcpio']},"application/x-bdoc":{compressible:!1,extensions:['bdoc']},"application/x-bittorrent":{source:'apache',extensions:['torrent']},"application/x-blorb":{source:'apache',extensions:['blb','blorb']},"application/x-bzip":{source:'apache',compressible:!1,extensions:['bz']},"application/x-bzip2":{source:'apache',compressible:!1,extensions:['bz2','boz']},"application/x-cbr":{source:'apache',extensions:['cbr','cba','cbt','cbz','cb7']},"application/x-cdlink":{source:'apache',extensions:['vcd']},"application/x-cfs-compressed":{source:'apache',extensions:['cfs']},"application/x-chat":{source:'apache',extensions:['chat']},"application/x-chess-pgn":{source:'apache',extensions:['pgn']},"application/x-chrome-extension":{extensions:['crx']},"application/x-cocoa":{source:'nginx',extensions:['cco']},"application/x-compress":{source:'apache'},"application/x-conference":{source:'apache',extensions:['nsc']},"application/x-cpio":{source:'apache',extensions:['cpio']},"application/x-csh":{source:'apache',extensions:['csh']},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:'apache',extensions:['deb','udeb']},"application/x-dgc-compressed":{source:'apache',extensions:['dgc']},"application/x-director":{source:'apache',extensions:['dir','dcr','dxr','cst','cct','cxt','w3d','fgd','swa']},"application/x-doom":{source:'apache',extensions:['wad']},"application/x-dtbncx+xml":{source:'apache',extensions:['ncx']},"application/x-dtbook+xml":{source:'apache',extensions:['dtb']},"application/x-dtbresource+xml":{source:'apache',extensions:['res']},"application/x-dvi":{source:'apache',compressible:!1,extensions:['dvi']},"application/x-envoy":{source:'apache',extensions:['evy']},"application/x-eva":{source:'apache',extensions:['eva']},"application/x-font-bdf":{source:'apache',extensions:['bdf']},"application/x-font-dos":{source:'apache'},"application/x-font-framemaker":{source:'apache'},"application/x-font-ghostscript":{source:'apache',extensions:['gsf']},"application/x-font-libgrx":{source:'apache'},"application/x-font-linux-psf":{source:'apache',extensions:['psf']},"application/x-font-otf":{source:'apache',compressible:!0,extensions:['otf']},"application/x-font-pcf":{source:'apache',extensions:['pcf']},"application/x-font-snf":{source:'apache',extensions:['snf']},"application/x-font-speedo":{source:'apache'},"application/x-font-sunos-news":{source:'apache'},"application/x-font-ttf":{source:'apache',compressible:!0,extensions:['ttf','ttc']},"application/x-font-type1":{source:'apache',extensions:['pfa','pfb','pfm','afm']},"application/x-font-vfont":{source:'apache'},"application/x-freearc":{source:'apache',extensions:['arc']},"application/x-futuresplash":{source:'apache',extensions:['spl']},"application/x-gca-compressed":{source:'apache',extensions:['gca']},"application/x-glulx":{source:'apache',extensions:['ulx']},"application/x-gnumeric":{source:'apache',extensions:['gnumeric']},"application/x-gramps-xml":{source:'apache',extensions:['gramps']},"application/x-gtar":{source:'apache',extensions:['gtar']},"application/x-gzip":{source:'apache'},"application/x-hdf":{source:'apache',extensions:['hdf']},"application/x-httpd-php":{compressible:!0,extensions:['php']},"application/x-install-instructions":{source:'apache',extensions:['install']},"application/x-iso9660-image":{source:'apache',extensions:['iso']},"application/x-java-archive-diff":{source:'nginx',extensions:['jardiff']},"application/x-java-jnlp-file":{source:'apache',compressible:!1,extensions:['jnlp']},"application/x-javascript":{compressible:!0},"application/x-latex":{source:'apache',compressible:!1,extensions:['latex']},"application/x-lua-bytecode":{extensions:['luac']},"application/x-lzh-compressed":{source:'apache',extensions:['lzh','lha']},"application/x-makeself":{source:'nginx',extensions:['run']},"application/x-mie":{source:'apache',extensions:['mie']},"application/x-mobipocket-ebook":{source:'apache',extensions:['prc','mobi']},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:'apache',extensions:['application']},"application/x-ms-shortcut":{source:'apache',extensions:['lnk']},"application/x-ms-wmd":{source:'apache',extensions:['wmd']},"application/x-ms-wmz":{source:'apache',extensions:['wmz']},"application/x-ms-xbap":{source:'apache',extensions:['xbap']},"application/x-msaccess":{source:'apache',extensions:['mdb']},"application/x-msbinder":{source:'apache',extensions:['obd']},"application/x-mscardfile":{source:'apache',extensions:['crd']},"application/x-msclip":{source:'apache',extensions:['clp']},"application/x-msdos-program":{extensions:['exe']},"application/x-msdownload":{source:'apache',extensions:['exe','dll','com','bat','msi']},"application/x-msmediaview":{source:'apache',extensions:['mvb','m13','m14']},"application/x-msmetafile":{source:'apache',extensions:['wmf','wmz','emf','emz']},"application/x-msmoney":{source:'apache',extensions:['mny']},"application/x-mspublisher":{source:'apache',extensions:['pub']},"application/x-msschedule":{source:'apache',extensions:['scd']},"application/x-msterminal":{source:'apache',extensions:['trm']},"application/x-mswrite":{source:'apache',extensions:['wri']},"application/x-netcdf":{source:'apache',extensions:['nc','cdf']},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:['pac']},"application/x-nzb":{source:'apache',extensions:['nzb']},"application/x-perl":{source:'nginx',extensions:['pl','pm']},"application/x-pilot":{source:'nginx',extensions:['prc','pdb']},"application/x-pkcs12":{source:'apache',compressible:!1,extensions:['p12','pfx']},"application/x-pkcs7-certificates":{source:'apache',extensions:['p7b','spc']},"application/x-pkcs7-certreqresp":{source:'apache',extensions:['p7r']},"application/x-rar-compressed":{source:'apache',compressible:!1,extensions:['rar']},"application/x-redhat-package-manager":{source:'nginx',extensions:['rpm']},"application/x-research-info-systems":{source:'apache',extensions:['ris']},"application/x-sea":{source:'nginx',extensions:['sea']},"application/x-sh":{source:'apache',compressible:!0,extensions:['sh']},"application/x-shar":{source:'apache',extensions:['shar']},"application/x-shockwave-flash":{source:'apache',compressible:!1,extensions:['swf']},"application/x-silverlight-app":{source:'apache',extensions:['xap']},"application/x-sql":{source:'apache',extensions:['sql']},"application/x-stuffit":{source:'apache',compressible:!1,extensions:['sit']},"application/x-stuffitx":{source:'apache',extensions:['sitx']},"application/x-subrip":{source:'apache',extensions:['srt']},"application/x-sv4cpio":{source:'apache',extensions:['sv4cpio']},"application/x-sv4crc":{source:'apache',extensions:['sv4crc']},"application/x-t3vm-image":{source:'apache',extensions:['t3']},"application/x-tads":{source:'apache',extensions:['gam']},"application/x-tar":{source:'apache',compressible:!0,extensions:['tar']},"application/x-tcl":{source:'apache',extensions:['tcl','tk']},"application/x-tex":{source:'apache',extensions:['tex']},"application/x-tex-tfm":{source:'apache',extensions:['tfm']},"application/x-texinfo":{source:'apache',extensions:['texinfo','texi']},"application/x-tgif":{source:'apache',extensions:['obj']},"application/x-ustar":{source:'apache',extensions:['ustar']},"application/x-virtualbox-hdd":{compressible:!0,extensions:['hdd']},"application/x-virtualbox-ova":{compressible:!0,extensions:['ova']},"application/x-virtualbox-ovf":{compressible:!0,extensions:['ovf']},"application/x-virtualbox-vbox":{compressible:!0,extensions:['vbox']},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:['vbox-extpack']},"application/x-virtualbox-vdi":{compressible:!0,extensions:['vdi']},"application/x-virtualbox-vhd":{compressible:!0,extensions:['vhd']},"application/x-virtualbox-vmdk":{compressible:!0,extensions:['vmdk']},"application/x-wais-source":{source:'apache',extensions:['src']},"application/x-web-app-manifest+json":{compressible:!0,extensions:['webapp']},"application/x-www-form-urlencoded":{source:'iana',compressible:!0},"application/x-x509-ca-cert":{source:'apache',extensions:['der','crt','pem']},"application/x-xfig":{source:'apache',extensions:['fig']},"application/x-xliff+xml":{source:'apache',extensions:['xlf']},"application/x-xpinstall":{source:'apache',compressible:!1,extensions:['xpi']},"application/x-xz":{source:'apache',extensions:['xz']},"application/x-zmachine":{source:'apache',extensions:['z1','z2','z3','z4','z5','z6','z7','z8']},"application/x400-bp":{source:'iana'},"application/xacml+xml":{source:'iana'},"application/xaml+xml":{source:'apache',extensions:['xaml']},"application/xcap-att+xml":{source:'iana'},"application/xcap-caps+xml":{source:'iana'},"application/xcap-diff+xml":{source:'iana',extensions:['xdf']},"application/xcap-el+xml":{source:'iana'},"application/xcap-error+xml":{source:'iana'},"application/xcap-ns+xml":{source:'iana'},"application/xcon-conference-info+xml":{source:'iana'},"application/xcon-conference-info-diff+xml":{source:'iana'},"application/xenc+xml":{source:'iana',extensions:['xenc']},"application/xhtml+xml":{source:'iana',compressible:!0,extensions:['xhtml','xht']},"application/xhtml-voice+xml":{source:'apache'},"application/xml":{source:'iana',compressible:!0,extensions:['xml','xsl','xsd','rng']},"application/xml-dtd":{source:'iana',compressible:!0,extensions:['dtd']},"application/xml-external-parsed-entity":{source:'iana'},"application/xml-patch+xml":{source:'iana'},"application/xmpp+xml":{source:'iana'},"application/xop+xml":{source:'iana',compressible:!0,extensions:['xop']},"application/xproc+xml":{source:'apache',extensions:['xpl']},"application/xslt+xml":{source:'iana',extensions:['xslt']},"application/xspf+xml":{source:'apache',extensions:['xspf']},"application/xv+xml":{source:'iana',extensions:['mxml','xhvml','xvml','xvm']},"application/yang":{source:'iana',extensions:['yang']},"application/yang-data+json":{source:'iana',compressible:!0},"application/yang-data+xml":{source:'iana'},"application/yang-patch+json":{source:'iana',compressible:!0},"application/yang-patch+xml":{source:'iana'},"application/yin+xml":{source:'iana',extensions:['yin']},"application/zip":{source:'iana',compressible:!1,extensions:['zip']},"application/zlib":{source:'iana'},"audio/1d-interleaved-parityfec":{source:'iana'},"audio/32kadpcm":{source:'iana'},"audio/3gpp":{source:'iana',compressible:!1,extensions:['3gpp']},"audio/3gpp2":{source:'iana'},"audio/ac3":{source:'iana'},"audio/adpcm":{source:'apache',extensions:['adp']},"audio/amr":{source:'iana'},"audio/amr-wb":{source:'iana'},"audio/amr-wb+":{source:'iana'},"audio/aptx":{source:'iana'},"audio/asc":{source:'iana'},"audio/atrac-advanced-lossless":{source:'iana'},"audio/atrac-x":{source:'iana'},"audio/atrac3":{source:'iana'},"audio/basic":{source:'iana',compressible:!1,extensions:['au','snd']},"audio/bv16":{source:'iana'},"audio/bv32":{source:'iana'},"audio/clearmode":{source:'iana'},"audio/cn":{source:'iana'},"audio/dat12":{source:'iana'},"audio/dls":{source:'iana'},"audio/dsr-es201108":{source:'iana'},"audio/dsr-es202050":{source:'iana'},"audio/dsr-es202211":{source:'iana'},"audio/dsr-es202212":{source:'iana'},"audio/dv":{source:'iana'},"audio/dvi4":{source:'iana'},"audio/eac3":{source:'iana'},"audio/encaprtp":{source:'iana'},"audio/evrc":{source:'iana'},"audio/evrc-qcp":{source:'iana'},"audio/evrc0":{source:'iana'},"audio/evrc1":{source:'iana'},"audio/evrcb":{source:'iana'},"audio/evrcb0":{source:'iana'},"audio/evrcb1":{source:'iana'},"audio/evrcnw":{source:'iana'},"audio/evrcnw0":{source:'iana'},"audio/evrcnw1":{source:'iana'},"audio/evrcwb":{source:'iana'},"audio/evrcwb0":{source:'iana'},"audio/evrcwb1":{source:'iana'},"audio/evs":{source:'iana'},"audio/fwdred":{source:'iana'},"audio/g711-0":{source:'iana'},"audio/g719":{source:'iana'},"audio/g722":{source:'iana'},"audio/g7221":{source:'iana'},"audio/g723":{source:'iana'},"audio/g726-16":{source:'iana'},"audio/g726-24":{source:'iana'},"audio/g726-32":{source:'iana'},"audio/g726-40":{source:'iana'},"audio/g728":{source:'iana'},"audio/g729":{source:'iana'},"audio/g7291":{source:'iana'},"audio/g729d":{source:'iana'},"audio/g729e":{source:'iana'},"audio/gsm":{source:'iana'},"audio/gsm-efr":{source:'iana'},"audio/gsm-hr-08":{source:'iana'},"audio/ilbc":{source:'iana'},"audio/ip-mr_v2.5":{source:'iana'},"audio/isac":{source:'apache'},"audio/l16":{source:'iana'},"audio/l20":{source:'iana'},"audio/l24":{source:'iana',compressible:!1},"audio/l8":{source:'iana'},"audio/lpc":{source:'iana'},"audio/melp":{source:'iana'},"audio/melp1200":{source:'iana'},"audio/melp2400":{source:'iana'},"audio/melp600":{source:'iana'},"audio/midi":{source:'apache',extensions:['mid','midi','kar','rmi']},"audio/mobile-xmf":{source:'iana'},"audio/mp3":{compressible:!1,extensions:['mp3']},"audio/mp4":{source:'iana',compressible:!1,extensions:['m4a','mp4a']},"audio/mp4a-latm":{source:'iana'},"audio/mpa":{source:'iana'},"audio/mpa-robust":{source:'iana'},"audio/mpeg":{source:'iana',compressible:!1,extensions:['mpga','mp2','mp2a','mp3','m2a','m3a']},"audio/mpeg4-generic":{source:'iana'},"audio/musepack":{source:'apache'},"audio/ogg":{source:'iana',compressible:!1,extensions:['oga','ogg','spx']},"audio/opus":{source:'iana'},"audio/parityfec":{source:'iana'},"audio/pcma":{source:'iana'},"audio/pcma-wb":{source:'iana'},"audio/pcmu":{source:'iana'},"audio/pcmu-wb":{source:'iana'},"audio/prs.sid":{source:'iana'},"audio/qcelp":{source:'iana'},"audio/raptorfec":{source:'iana'},"audio/red":{source:'iana'},"audio/rtp-enc-aescm128":{source:'iana'},"audio/rtp-midi":{source:'iana'},"audio/rtploopback":{source:'iana'},"audio/rtx":{source:'iana'},"audio/s3m":{source:'apache',extensions:['s3m']},"audio/silk":{source:'apache',extensions:['sil']},"audio/smv":{source:'iana'},"audio/smv-qcp":{source:'iana'},"audio/smv0":{source:'iana'},"audio/sp-midi":{source:'iana'},"audio/speex":{source:'iana'},"audio/t140c":{source:'iana'},"audio/t38":{source:'iana'},"audio/telephone-event":{source:'iana'},"audio/tone":{source:'iana'},"audio/uemclip":{source:'iana'},"audio/ulpfec":{source:'iana'},"audio/vdvi":{source:'iana'},"audio/vmr-wb":{source:'iana'},"audio/vnd.3gpp.iufp":{source:'iana'},"audio/vnd.4sb":{source:'iana'},"audio/vnd.audiokoz":{source:'iana'},"audio/vnd.celp":{source:'iana'},"audio/vnd.cisco.nse":{source:'iana'},"audio/vnd.cmles.radio-events":{source:'iana'},"audio/vnd.cns.anp1":{source:'iana'},"audio/vnd.cns.inf1":{source:'iana'},"audio/vnd.dece.audio":{source:'iana',extensions:['uva','uvva']},"audio/vnd.digital-winds":{source:'iana',extensions:['eol']},"audio/vnd.dlna.adts":{source:'iana'},"audio/vnd.dolby.heaac.1":{source:'iana'},"audio/vnd.dolby.heaac.2":{source:'iana'},"audio/vnd.dolby.mlp":{source:'iana'},"audio/vnd.dolby.mps":{source:'iana'},"audio/vnd.dolby.pl2":{source:'iana'},"audio/vnd.dolby.pl2x":{source:'iana'},"audio/vnd.dolby.pl2z":{source:'iana'},"audio/vnd.dolby.pulse.1":{source:'iana'},"audio/vnd.dra":{source:'iana',extensions:['dra']},"audio/vnd.dts":{source:'iana',extensions:['dts']},"audio/vnd.dts.hd":{source:'iana',extensions:['dtshd']},"audio/vnd.dvb.file":{source:'iana'},"audio/vnd.everad.plj":{source:'iana'},"audio/vnd.hns.audio":{source:'iana'},"audio/vnd.lucent.voice":{source:'iana',extensions:['lvp']},"audio/vnd.ms-playready.media.pya":{source:'iana',extensions:['pya']},"audio/vnd.nokia.mobile-xmf":{source:'iana'},"audio/vnd.nortel.vbk":{source:'iana'},"audio/vnd.nuera.ecelp4800":{source:'iana',extensions:['ecelp4800']},"audio/vnd.nuera.ecelp7470":{source:'iana',extensions:['ecelp7470']},"audio/vnd.nuera.ecelp9600":{source:'iana',extensions:['ecelp9600']},"audio/vnd.octel.sbc":{source:'iana'},"audio/vnd.presonus.multitrack":{source:'iana'},"audio/vnd.qcelp":{source:'iana'},"audio/vnd.rhetorex.32kadpcm":{source:'iana'},"audio/vnd.rip":{source:'iana',extensions:['rip']},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:'iana'},"audio/vnd.vmx.cvsd":{source:'iana'},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:'iana',compressible:!1},"audio/vorbis-config":{source:'iana'},"audio/wav":{compressible:!1,extensions:['wav']},"audio/wave":{compressible:!1,extensions:['wav']},"audio/webm":{source:'apache',compressible:!1,extensions:['weba']},"audio/x-aac":{source:'apache',compressible:!1,extensions:['aac']},"audio/x-aiff":{source:'apache',extensions:['aif','aiff','aifc']},"audio/x-caf":{source:'apache',compressible:!1,extensions:['caf']},"audio/x-flac":{source:'apache',extensions:['flac']},"audio/x-m4a":{source:'nginx',extensions:['m4a']},"audio/x-matroska":{source:'apache',extensions:['mka']},"audio/x-mpegurl":{source:'apache',extensions:['m3u']},"audio/x-ms-wax":{source:'apache',extensions:['wax']},"audio/x-ms-wma":{source:'apache',extensions:['wma']},"audio/x-pn-realaudio":{source:'apache',extensions:['ram','ra']},"audio/x-pn-realaudio-plugin":{source:'apache',extensions:['rmp']},"audio/x-realaudio":{source:'nginx',extensions:['ra']},"audio/x-tta":{source:'apache'},"audio/x-wav":{source:'apache',extensions:['wav']},"audio/xm":{source:'apache',extensions:['xm']},"chemical/x-cdx":{source:'apache',extensions:['cdx']},"chemical/x-cif":{source:'apache',extensions:['cif']},"chemical/x-cmdf":{source:'apache',extensions:['cmdf']},"chemical/x-cml":{source:'apache',extensions:['cml']},"chemical/x-csml":{source:'apache',extensions:['csml']},"chemical/x-pdb":{source:'apache'},"chemical/x-xyz":{source:'apache',extensions:['xyz']},"font/otf":{compressible:!0,extensions:['otf']},"image/apng":{compressible:!1,extensions:['apng']},"image/bmp":{source:'iana',compressible:!0,extensions:['bmp']},"image/cgm":{source:'iana',extensions:['cgm']},"image/dicom-rle":{source:'iana'},"image/emf":{source:'iana'},"image/fits":{source:'iana'},"image/g3fax":{source:'iana',extensions:['g3']},"image/gif":{source:'iana',compressible:!1,extensions:['gif']},"image/ief":{source:'iana',extensions:['ief']},"image/jls":{source:'iana'},"image/jp2":{source:'iana'},"image/jpeg":{source:'iana',compressible:!1,extensions:['jpeg','jpg','jpe']},"image/jpm":{source:'iana'},"image/jpx":{source:'iana'},"image/ktx":{source:'iana',extensions:['ktx']},"image/naplps":{source:'iana'},"image/pjpeg":{compressible:!1},"image/png":{source:'iana',compressible:!1,extensions:['png']},"image/prs.btif":{source:'iana',extensions:['btif']},"image/prs.pti":{source:'iana'},"image/pwg-raster":{source:'iana'},"image/sgi":{source:'apache',extensions:['sgi']},"image/svg+xml":{source:'iana',compressible:!0,extensions:['svg','svgz']},"image/t38":{source:'iana'},"image/tiff":{source:'iana',compressible:!1,extensions:['tiff','tif']},"image/tiff-fx":{source:'iana'},"image/vnd.adobe.photoshop":{source:'iana',compressible:!0,extensions:['psd']},"image/vnd.airzip.accelerator.azv":{source:'iana'},"image/vnd.cns.inf2":{source:'iana'},"image/vnd.dece.graphic":{source:'iana',extensions:['uvi','uvvi','uvg','uvvg']},"image/vnd.djvu":{source:'iana',extensions:['djvu','djv']},"image/vnd.dvb.subtitle":{source:'iana',extensions:['sub']},"image/vnd.dwg":{source:'iana',extensions:['dwg']},"image/vnd.dxf":{source:'iana',extensions:['dxf']},"image/vnd.fastbidsheet":{source:'iana',extensions:['fbs']},"image/vnd.fpx":{source:'iana',extensions:['fpx']},"image/vnd.fst":{source:'iana',extensions:['fst']},"image/vnd.fujixerox.edmics-mmr":{source:'iana',extensions:['mmr']},"image/vnd.fujixerox.edmics-rlc":{source:'iana',extensions:['rlc']},"image/vnd.globalgraphics.pgb":{source:'iana'},"image/vnd.microsoft.icon":{source:'iana'},"image/vnd.mix":{source:'iana'},"image/vnd.mozilla.apng":{source:'iana'},"image/vnd.ms-modi":{source:'iana',extensions:['mdi']},"image/vnd.ms-photo":{source:'apache',extensions:['wdp']},"image/vnd.net-fpx":{source:'iana',extensions:['npx']},"image/vnd.radiance":{source:'iana'},"image/vnd.sealed.png":{source:'iana'},"image/vnd.sealedmedia.softseal.gif":{source:'iana'},"image/vnd.sealedmedia.softseal.jpg":{source:'iana'},"image/vnd.svf":{source:'iana'},"image/vnd.tencent.tap":{source:'iana'},"image/vnd.valve.source.texture":{source:'iana'},"image/vnd.wap.wbmp":{source:'iana',extensions:['wbmp']},"image/vnd.xiff":{source:'iana',extensions:['xif']},"image/vnd.zbrush.pcx":{source:'iana'},"image/webp":{source:'apache',extensions:['webp']},"image/wmf":{source:'iana'},"image/x-3ds":{source:'apache',extensions:['3ds']},"image/x-cmu-raster":{source:'apache',extensions:['ras']},"image/x-cmx":{source:'apache',extensions:['cmx']},"image/x-freehand":{source:'apache',extensions:['fh','fhc','fh4','fh5','fh7']},"image/x-icon":{source:'apache',compressible:!0,extensions:['ico']},"image/x-jng":{source:'nginx',extensions:['jng']},"image/x-mrsid-image":{source:'apache',extensions:['sid']},"image/x-ms-bmp":{source:'nginx',compressible:!0,extensions:['bmp']},"image/x-pcx":{source:'apache',extensions:['pcx']},"image/x-pict":{source:'apache',extensions:['pic','pct']},"image/x-portable-anymap":{source:'apache',extensions:['pnm']},"image/x-portable-bitmap":{source:'apache',extensions:['pbm']},"image/x-portable-graymap":{source:'apache',extensions:['pgm']},"image/x-portable-pixmap":{source:'apache',extensions:['ppm']},"image/x-rgb":{source:'apache',extensions:['rgb']},"image/x-tga":{source:'apache',extensions:['tga']},"image/x-xbitmap":{source:'apache',extensions:['xbm']},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:'apache',extensions:['xpm']},"image/x-xwindowdump":{source:'apache',extensions:['xwd']},"message/cpim":{source:'iana'},"message/delivery-status":{source:'iana'},"message/disposition-notification":{source:'iana'},"message/external-body":{source:'iana'},"message/feedback-report":{source:'iana'},"message/global":{source:'iana'},"message/global-delivery-status":{source:'iana'},"message/global-disposition-notification":{source:'iana'},"message/global-headers":{source:'iana'},"message/http":{source:'iana',compressible:!1},"message/imdn+xml":{source:'iana',compressible:!0},"message/news":{source:'iana'},"message/partial":{source:'iana',compressible:!1},"message/rfc822":{source:'iana',compressible:!0,extensions:['eml','mime']},"message/s-http":{source:'iana'},"message/sip":{source:'iana'},"message/sipfrag":{source:'iana'},"message/tracking-status":{source:'iana'},"message/vnd.si.simp":{source:'iana'},"message/vnd.wfa.wsc":{source:'iana'},"model/3mf":{source:'iana'},"model/gltf+json":{source:'iana',compressible:!0,extensions:['gltf']},"model/gltf-binary":{compressible:!0,extensions:['glb']},"model/iges":{source:'iana',compressible:!1,extensions:['igs','iges']},"model/mesh":{source:'iana',compressible:!1,extensions:['msh','mesh','silo']},"model/vnd.collada+xml":{source:'iana',extensions:['dae']},"model/vnd.dwf":{source:'iana',extensions:['dwf']},"model/vnd.flatland.3dml":{source:'iana'},"model/vnd.gdl":{source:'iana',extensions:['gdl']},"model/vnd.gs-gdl":{source:'apache'},"model/vnd.gs.gdl":{source:'iana'},"model/vnd.gtw":{source:'iana',extensions:['gtw']},"model/vnd.moml+xml":{source:'iana'},"model/vnd.mts":{source:'iana',extensions:['mts']},"model/vnd.opengex":{source:'iana'},"model/vnd.parasolid.transmit.binary":{source:'iana'},"model/vnd.parasolid.transmit.text":{source:'iana'},"model/vnd.rosette.annotated-data-model":{source:'iana'},"model/vnd.valve.source.compiled-map":{source:'iana'},"model/vnd.vtu":{source:'iana',extensions:['vtu']},"model/vrml":{source:'iana',compressible:!1,extensions:['wrl','vrml']},"model/x3d+binary":{source:'apache',compressible:!1,extensions:['x3db','x3dbz']},"model/x3d+fastinfoset":{source:'iana'},"model/x3d+vrml":{source:'apache',compressible:!1,extensions:['x3dv','x3dvz']},"model/x3d+xml":{source:'iana',compressible:!0,extensions:['x3d','x3dz']},"model/x3d-vrml":{source:'iana'},"multipart/alternative":{source:'iana',compressible:!1},"multipart/appledouble":{source:'iana'},"multipart/byteranges":{source:'iana'},"multipart/digest":{source:'iana'},"multipart/encrypted":{source:'iana',compressible:!1},"multipart/form-data":{source:'iana',compressible:!1},"multipart/header-set":{source:'iana'},"multipart/mixed":{source:'iana',compressible:!1},"multipart/parallel":{source:'iana'},"multipart/related":{source:'iana',compressible:!1},"multipart/report":{source:'iana'},"multipart/signed":{source:'iana',compressible:!1},"multipart/vnd.bint.med-plus":{source:'iana'},"multipart/voice-message":{source:'iana'},"multipart/x-mixed-replace":{source:'iana'},"text/1d-interleaved-parityfec":{source:'iana'},"text/cache-manifest":{source:'iana',compressible:!0,extensions:['appcache','manifest']},"text/calendar":{source:'iana',extensions:['ics','ifb']},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:['coffee','litcoffee']},"text/css":{source:'iana',charset:'UTF-8',compressible:!0,extensions:['css']},"text/csv":{source:'iana',compressible:!0,extensions:['csv']},"text/csv-schema":{source:'iana'},"text/directory":{source:'iana'},"text/dns":{source:'iana'},"text/ecmascript":{source:'iana'},"text/encaprtp":{source:'iana'},"text/enriched":{source:'iana'},"text/fwdred":{source:'iana'},"text/grammar-ref-list":{source:'iana'},"text/hjson":{extensions:['hjson']},"text/html":{source:'iana',compressible:!0,extensions:['html','htm','shtml']},"text/jade":{extensions:['jade']},"text/javascript":{source:'iana',compressible:!0},"text/jcr-cnd":{source:'iana'},"text/jsx":{compressible:!0,extensions:['jsx']},"text/less":{extensions:['less']},"text/markdown":{source:'iana',compressible:!0,extensions:['markdown','md']},"text/mathml":{source:'nginx',extensions:['mml']},"text/mizar":{source:'iana'},"text/n3":{source:'iana',compressible:!0,extensions:['n3']},"text/parameters":{source:'iana'},"text/parityfec":{source:'iana'},"text/plain":{source:'iana',compressible:!0,extensions:['txt','text','conf','def','list','log','in','ini']},"text/provenance-notation":{source:'iana'},"text/prs.fallenstein.rst":{source:'iana'},"text/prs.lines.tag":{source:'iana',extensions:['dsc']},"text/prs.prop.logic":{source:'iana'},"text/raptorfec":{source:'iana'},"text/red":{source:'iana'},"text/rfc822-headers":{source:'iana'},"text/richtext":{source:'iana',compressible:!0,extensions:['rtx']},"text/rtf":{source:'iana',compressible:!0,extensions:['rtf']},"text/rtp-enc-aescm128":{source:'iana'},"text/rtploopback":{source:'iana'},"text/rtx":{source:'iana'},"text/sgml":{source:'iana',extensions:['sgml','sgm']},"text/slim":{extensions:['slim','slm']},"text/strings":{source:'iana'},"text/stylus":{extensions:['stylus','styl']},"text/t140":{source:'iana'},"text/tab-separated-values":{source:'iana',compressible:!0,extensions:['tsv']},"text/troff":{source:'iana',extensions:['t','tr','roff','man','me','ms']},"text/turtle":{source:'iana',extensions:['ttl']},"text/ulpfec":{source:'iana'},"text/uri-list":{source:'iana',compressible:!0,extensions:['uri','uris','urls']},"text/vcard":{source:'iana',compressible:!0,extensions:['vcard']},"text/vnd.a":{source:'iana'},"text/vnd.abc":{source:'iana'},"text/vnd.ascii-art":{source:'iana'},"text/vnd.curl":{source:'iana',extensions:['curl']},"text/vnd.curl.dcurl":{source:'apache',extensions:['dcurl']},"text/vnd.curl.mcurl":{source:'apache',extensions:['mcurl']},"text/vnd.curl.scurl":{source:'apache',extensions:['scurl']},"text/vnd.debian.copyright":{source:'iana'},"text/vnd.dmclientscript":{source:'iana'},"text/vnd.dvb.subtitle":{source:'iana',extensions:['sub']},"text/vnd.esmertec.theme-descriptor":{source:'iana'},"text/vnd.fly":{source:'iana',extensions:['fly']},"text/vnd.fmi.flexstor":{source:'iana',extensions:['flx']},"text/vnd.graphviz":{source:'iana',extensions:['gv']},"text/vnd.in3d.3dml":{source:'iana',extensions:['3dml']},"text/vnd.in3d.spot":{source:'iana',extensions:['spot']},"text/vnd.iptc.newsml":{source:'iana'},"text/vnd.iptc.nitf":{source:'iana'},"text/vnd.latex-z":{source:'iana'},"text/vnd.motorola.reflex":{source:'iana'},"text/vnd.ms-mediapackage":{source:'iana'},"text/vnd.net2phone.commcenter.command":{source:'iana'},"text/vnd.radisys.msml-basic-layout":{source:'iana'},"text/vnd.si.uricatalogue":{source:'iana'},"text/vnd.sun.j2me.app-descriptor":{source:'iana',extensions:['jad']},"text/vnd.trolltech.linguist":{source:'iana'},"text/vnd.wap.si":{source:'iana'},"text/vnd.wap.sl":{source:'iana'},"text/vnd.wap.wml":{source:'iana',extensions:['wml']},"text/vnd.wap.wmlscript":{source:'iana',extensions:['wmls']},"text/vtt":{charset:'UTF-8',compressible:!0,extensions:['vtt']},"text/x-asm":{source:'apache',extensions:['s','asm']},"text/x-c":{source:'apache',extensions:['c','cc','cxx','cpp','h','hh','dic']},"text/x-component":{source:'nginx',extensions:['htc']},"text/x-fortran":{source:'apache',extensions:['f','for','f77','f90']},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:['hbs']},"text/x-java-source":{source:'apache',extensions:['java']},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:['lua']},"text/x-markdown":{compressible:!0,extensions:['mkd']},"text/x-nfo":{source:'apache',extensions:['nfo']},"text/x-opml":{source:'apache',extensions:['opml']},"text/x-org":{compressible:!0,extensions:['org']},"text/x-pascal":{source:'apache',extensions:['p','pas']},"text/x-processing":{compressible:!0,extensions:['pde']},"text/x-sass":{extensions:['sass']},"text/x-scss":{extensions:['scss']},"text/x-setext":{source:'apache',extensions:['etx']},"text/x-sfv":{source:'apache',extensions:['sfv']},"text/x-suse-ymp":{compressible:!0,extensions:['ymp']},"text/x-uuencode":{source:'apache',extensions:['uu']},"text/x-vcalendar":{source:'apache',extensions:['vcs']},"text/x-vcard":{source:'apache',extensions:['vcf']},"text/xml":{source:'iana',compressible:!0,extensions:['xml']},"text/xml-external-parsed-entity":{source:'iana'},"text/yaml":{extensions:['yaml','yml']},"video/1d-interleaved-parityfec":{source:'iana'},"video/3gpp":{source:'iana',extensions:['3gp','3gpp']},"video/3gpp-tt":{source:'iana'},"video/3gpp2":{source:'iana',extensions:['3g2']},"video/bmpeg":{source:'iana'},"video/bt656":{source:'iana'},"video/celb":{source:'iana'},"video/dv":{source:'iana'},"video/encaprtp":{source:'iana'},"video/h261":{source:'iana',extensions:['h261']},"video/h263":{source:'iana',extensions:['h263']},"video/h263-1998":{source:'iana'},"video/h263-2000":{source:'iana'},"video/h264":{source:'iana',extensions:['h264']},"video/h264-rcdo":{source:'iana'},"video/h264-svc":{source:'iana'},"video/h265":{source:'iana'},"video/iso.segment":{source:'iana'},"video/jpeg":{source:'iana',extensions:['jpgv']},"video/jpeg2000":{source:'iana'},"video/jpm":{source:'apache',extensions:['jpm','jpgm']},"video/mj2":{source:'iana',extensions:['mj2','mjp2']},"video/mp1s":{source:'iana'},"video/mp2p":{source:'iana'},"video/mp2t":{source:'iana',extensions:['ts']},"video/mp4":{source:'iana',compressible:!1,extensions:['mp4','mp4v','mpg4']},"video/mp4v-es":{source:'iana'},"video/mpeg":{source:'iana',compressible:!1,extensions:['mpeg','mpg','mpe','m1v','m2v']},"video/mpeg4-generic":{source:'iana'},"video/mpv":{source:'iana'},"video/nv":{source:'iana'},"video/ogg":{source:'iana',compressible:!1,extensions:['ogv']},"video/parityfec":{source:'iana'},"video/pointer":{source:'iana'},"video/quicktime":{source:'iana',compressible:!1,extensions:['qt','mov']},"video/raptorfec":{source:'iana'},"video/raw":{source:'iana'},"video/rtp-enc-aescm128":{source:'iana'},"video/rtploopback":{source:'iana'},"video/rtx":{source:'iana'},"video/smpte292m":{source:'iana'},"video/ulpfec":{source:'iana'},"video/vc1":{source:'iana'},"video/vnd.cctv":{source:'iana'},"video/vnd.dece.hd":{source:'iana',extensions:['uvh','uvvh']},"video/vnd.dece.mobile":{source:'iana',extensions:['uvm','uvvm']},"video/vnd.dece.mp4":{source:'iana'},"video/vnd.dece.pd":{source:'iana',extensions:['uvp','uvvp']},"video/vnd.dece.sd":{source:'iana',extensions:['uvs','uvvs']},"video/vnd.dece.video":{source:'iana',extensions:['uvv','uvvv']},"video/vnd.directv.mpeg":{source:'iana'},"video/vnd.directv.mpeg-tts":{source:'iana'},"video/vnd.dlna.mpeg-tts":{source:'iana'},"video/vnd.dvb.file":{source:'iana',extensions:['dvb']},"video/vnd.fvt":{source:'iana',extensions:['fvt']},"video/vnd.hns.video":{source:'iana'},"video/vnd.iptvforum.1dparityfec-1010":{source:'iana'},"video/vnd.iptvforum.1dparityfec-2005":{source:'iana'},"video/vnd.iptvforum.2dparityfec-1010":{source:'iana'},"video/vnd.iptvforum.2dparityfec-2005":{source:'iana'},"video/vnd.iptvforum.ttsavc":{source:'iana'},"video/vnd.iptvforum.ttsmpeg2":{source:'iana'},"video/vnd.motorola.video":{source:'iana'},"video/vnd.motorola.videop":{source:'iana'},"video/vnd.mpegurl":{source:'iana',extensions:['mxu','m4u']},"video/vnd.ms-playready.media.pyv":{source:'iana',extensions:['pyv']},"video/vnd.nokia.interleaved-multimedia":{source:'iana'},"video/vnd.nokia.videovoip":{source:'iana'},"video/vnd.objectvideo":{source:'iana'},"video/vnd.radgamettools.bink":{source:'iana'},"video/vnd.radgamettools.smacker":{source:'iana'},"video/vnd.sealed.mpeg1":{source:'iana'},"video/vnd.sealed.mpeg4":{source:'iana'},"video/vnd.sealed.swf":{source:'iana'},"video/vnd.sealedmedia.softseal.mov":{source:'iana'},"video/vnd.uvvu.mp4":{source:'iana',extensions:['uvu','uvvu']},"video/vnd.vivo":{source:'iana',extensions:['viv']},"video/vp8":{source:'iana'},"video/webm":{source:'apache',compressible:!1,extensions:['webm']},"video/x-f4v":{source:'apache',extensions:['f4v']},"video/x-fli":{source:'apache',extensions:['fli']},"video/x-flv":{source:'apache',compressible:!1,extensions:['flv']},"video/x-m4v":{source:'apache',extensions:['m4v']},"video/x-matroska":{source:'apache',compressible:!1,extensions:['mkv','mk3d','mks']},"video/x-mng":{source:'apache',extensions:['mng']},"video/x-ms-asf":{source:'apache',extensions:['asf','asx']},"video/x-ms-vob":{source:'apache',extensions:['vob']},"video/x-ms-wm":{source:'apache',extensions:['wm']},"video/x-ms-wmv":{source:'apache',compressible:!1,extensions:['wmv']},"video/x-ms-wmx":{source:'apache',extensions:['wmx']},"video/x-ms-wvx":{source:'apache',extensions:['wvx']},"video/x-msvideo":{source:'apache',extensions:['avi']},"video/x-sgi-movie":{source:'apache',extensions:['movie']},"video/x-smv":{source:'apache',extensions:['smv']},"x-conference/x-cooltalk":{source:'apache',extensions:['ice']},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}},function(t,n,a){(function(t){function a(t,n){for(var a=0,r=t.length-1,o;0<=r;r--)o=t[r],'.'===o?t.splice(r,1):'..'===o?(t.splice(r,1),a++):a&&(t.splice(r,1),a--);if(n)for(;a--;a)t.unshift('..');return t}function r(t,n){if(t.filter)return t.filter(n);for(var a=[],r=0;r<t.length;r++)n(t[r],r,t)&&a.push(t[r]);return a}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(t){return o.exec(t).slice(1)};n.resolve=function(){for(var n='',o=!1,s=arguments.length-1,d;-1<=s&&!o;s--){if(d=0<=s?arguments[s]:t.cwd(),'string'!=typeof d)throw new TypeError('Arguments to path.resolve must be strings');else if(!d)continue;n=d+'/'+n,o='/'===d.charAt(0)}return n=a(r(n.split('/'),function(t){return!!t}),!o).join('/'),(o?'/':'')+n||'.'},n.normalize=function(t){var o=n.isAbsolute(t),s='/'===d(t,-1);return t=a(r(t.split('/'),function(t){return!!t}),!o).join('/'),t||o||(t='.'),t&&s&&(t+='/'),(o?'/':'')+t},n.isAbsolute=function(t){return'/'===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t,n){if('string'!=typeof t)throw new TypeError('Arguments to path.join must be strings');return t}).join('/'))},n.relative=function(t,a){function r(t){for(var n=0;n<t.length&&''===t[n];n++);for(var a=t.length-1;0<=a&&''===t[a];a--);return n>a?[]:t.slice(n,a-n+1)}t=n.resolve(t).substr(1),a=n.resolve(a).substr(1);for(var o=r(t.split('/')),s=r(a.split('/')),d=_Mathmin(o.length,s.length),l=d,c=0;c<d;c++)if(o[c]!==s[c]){l=c;break}for(var u=[],c=l;c<o.length;c++)u.push('..');return u=u.concat(s.slice(l)),u.join('/')},n.sep='/',n.delimiter=':',n.dirname=function(t){var n=s(t),a=n[0],r=n[1];return a||r?(r&&(r=r.substr(0,r.length-1)),a+r):'.'},n.basename=function(t,n){var a=s(t)[2];return n&&a.substr(-1*n.length)===n&&(a=a.substr(0,a.length-n.length)),a},n.extname=function(t){return s(t)[3]};var d='b'==='ab'.substr(-1)?function(t,n,a){return t.substr(n,a)}:function(t,n,a){return 0>n&&(n=t.length+n),t.substr(n,a)}}).call(n,a(13))},function(t,n,a){'use strict';var r=a(1),o=a(130),s=function t(n,a,o,s,d,l){var u=r.store,f=r.ns,c=r.store.updater,m=r.ns.acl,h=r.ns.vcard,g=$rdf.sym(s.uri.split('#')[0]),b='font-size: 100%; margin: 0.8em; padding:0.5em;',y=d.createElement('div'),v=y.appendChild(d.createElement('table'));v.setAttribute('style','font-size:120%; margin: 1em; border: 0.1em #ccc ;');var w=v.appendChild(d.createElement('tr'));w.textContent=r.utils.label(s)+' - tools',w.setAttribute('style','min-width: 20em; padding: 1em; font-size: 150%; border-bottom: 0.1em solid red; margin-bottom: 2em;');var x=v.appendChild(d.createElement('tr')),_=x.appendChild(d.createElement('div'));_.setAttribute('style','padding: 2em;');var k=v.appendChild(d.createElement('tr')),C=k.appendChild(d.createElement('table')),T=v.appendChild(d.createElement('tr'));context={target:s,me:l,noun:'address book',div:y,dom:d,statusRegion:_},C.appendChild(r.aclControl.ACLControlBox5(s.dir(),d,'book',u,function(t,n){t||(C.innerHTML='ACL control box Failed: '+n)})),r.authn.registrationControl(context,s,f.vcard('AddressBook')).then(function(t){console.log('Registration control finished.')}).catch(function(t){r.widgets.complain(context,t)});var E=k.appendChild(d.createElement('pre')),S=function t(n){console.log(n),E.textContent+=n+'\n'},A=function t(){var n=u.each(void 0,h('inAddressBook'),s).length;S(''+n+' cards loaded. ');var r=u.each(s,h('includesGroup'));S(''+r.length+' total groups. ');var o=[],d;for(d in a)o.push(d);S(''+o.length+' selected groups. ')},I=y.appendChild(d.createElement('button'));I.textContent='Load main index',I.style.cssText=b,I.addEventListener('click',function(t){I.setAttribute('style','background-color: #ffc;');var n=u.any(s,f.vcard('nameEmailIndex'));r.store.fetcher.nowOrWhenFetched(n,void 0,function(t,n){t?(I.setAttribute('style','background-color: #cfc;'),S(' People index has been loaded\n')):(I.setAttribute('style','background-color: #fcc;'),S('Error: People index has NOT been loaded'+n+'\n'))})});var N=y.appendChild(d.createElement('button'));N.textContent='Statistics',N.style.cssText=b,N.addEventListener('click',A);var j=k.appendChild(d.createElement('button'));j.textContent='Check inidividual card access of selected groups',j.style.cssText=b,j.addEventListener('click',function(t){var n=[],o;for(o in a)n.push(o);for(var s=0;s<n.length;s++){var o=u.sym(n[s]),d=u.each(o,f.vcard('hasMember'));S(r.utils.label(o)+': '+d.length+' members');for(var l=0;l<d.length;l++){var c=function t(n){r.widgets.fixIndividualCardACL(n,S,function(t,a){t?S('Sucess for '+r.utils.label(n)):S('Failure for '+r.utils.label(n)+': '+a)})},m=d[l];S(r.utils.label(m)),c(m)}}});var R=k.appendChild(d.createElement('button'));R.textContent='Find duplicate cards',R.style.cssText=b,R.addEventListener('click',function(t){var a={};a.book=s,a.nameEmailIndex=u.any(s,f.vcard('nameEmailIndex')),S('Loading name index...'),r.store.fetcher.nowOrWhenFetched(a.nameEmailIndex,void 0,function(t,n){S('Loaded name index.'),a.cards=[],a.duplicates=[],a.definitive=[],a.nameless=[],a.exactDuplicates=[],a.nameOnlyDuplicates=[],a.uniquesSet=[],a.groupProblems=[];var r=function t(n){return new Promise(function(t,r){var o=function o(){var s=u.connectedStatements(n,a.nameEmailIndex);S('Bits of the name index file:'+s),S('Patching main index file...'),u.updater.update(s,[],function(n,a,o){a?(S('Success'),t(null)):(S('Error patching index file! '+o),r('Error patching index file! '+o))})}});var r=[n.doc()],o=u.any(n,f.vcard('hasPhoto'));if(o&&r.push(o),r.push(n.dir()),S('Files to delete: '+r),!confirm('DELETE card '+n.dir()+' for '+name+', with '+desc.length+'statements?'))return resolve('Cancelled by user');var s=function t(){var a=r.shift();return a?void(S('Deleting ... '+a),u.fetcher.delete(a).then(function(){S('Deleted ok: '+a),t()}).catch(function(t){var r='*** ERROR deleteing '+a+': '+t;S(r),confirm('Patch out index file for card '+n.dir()+' EVEN THOUGH card DELETE errors?')?removeFromMainIndex():reject(r)})):(S('All deleted'),void removeFromMainIndex())};s()};a.nameDupLog=u.sym(s.dir().uri+'dedup-nameDupLog.ttl'),a.exactDupLog=u.sym(s.dir().uri+'dedup-exactDupLog.ttl');var o=function t(n){return new Promise(function(t,r){var o=u.anyValue(n,f.vcard('fn')),s=definitive[o];u.fetcher.load([n,s]).then(function(r){var o={};o[f.vcard('hasUID').uri]=!0,o[f.dc('created').uri]=!0,o[f.dc('modified').uri]=!0;var d=function t(n){return u.statementsMatching(null,null,null,n.doc()).filter(function(t){return!o[t.predicate.uri]})},l=d(n),c=d(s);if(l.length!==c.length)return S('CARDS to NOT match lengths '),a.nameOnlyDuplicates.push(n),t(!1);if(!l.length)return S('@@@@@@  Zero length '),a.nameOnlyDuplicates.push(n),t(!1);var m=new $rdf.Serializer(u).setBase(n.doc().uri).statementsToN3(l),h=new $rdf.Serializer(u).setBase(s.doc().uri).statementsToN3(c);if(m!==h)return S('Texts differ'),a.nameOnlyDuplicates.push(n),t(!1);for(var g=u.each(null,f.vcard('hasMember'),n),b=u.each(null,f.vcard('hasMember'),s),y=0,v;y<g.length;y++){v=!1;for(var w=0;w<b.length;w++)b[w].sameTerm(g[y])&&(v=!0);if(!v)return S('This one groups: '+g),S('Other one groups: '+b),S('Cant delete this one because it has a group, '+g[y]+', which the other does not.'),a.nameOnlyDuplicates.push(n),t(!1)}console.log('Group check done -- exact duplicate: '+n),a.exactDuplicates.push(n),t(!0)}).catch(function(r){S('Cant load a card! '+[n,s]+': '+r),a.nameOnlyDuplicates.push(n),t(!1)})})};a.nameOnlyErrors=[],a.nameLessZeroData=[],a.nameLessIndex=[],a.namelessUniques=[],a.nameOnlyDuplicatesGroupDiff=[];var d=function t(n){return new Promise(function(t,r){u.fetcher.load(n).then(function(r){S(' Nameless check '+n);var o={};o[f.vcard('hasUID').uri]=!0,o[f.dc('created').uri]=!0,o[f.dc('modified').uri]=!0;var s=function t(n){return u.statementsMatching(null,null,null,n.doc()).filter(function(t){return!o[t.predicate.uri]})},d=s(n);if(!d.length)return S('  Zero length '+n),a.nameLessZeroData.push(n),t(!1);var l=new $rdf.Serializer(u).setBase(n.doc().uri).statementsToN3(d),c=a.nameLessIndex[l];if(c){S('  Matches with '+c);for(var m=u.each(null,f.vcard('hasMember'),n),h=u.each(null,f.vcard('hasMember'),c),g=0,b;g<m.length;g++){b=!1;for(var y=0;y<h.length;y++)h[y].sameTerm(m[g])&&(b=!0);if(!b)return S('This one groups: '+m),S('Other one groups: '+h),S('Cant skip this one because it has a group, '+m[g]+', which the other does not.'),a.nameOnlyDuplicatesGroupDiff.push(n),t(!1)}console.log('Group check done -- exact duplicate: '+n)}else S('First nameless like: '+n.doc()),S('___________________________________________'),S(l),S('___________________________________________'),a.nameLessIndex[l]=n,a.namelessUniques.push(n);t(!0)}).catch(function(r){S('Cant load a nameless card! '+other+': '+r),a.nameOnlyErrors.push(n),t(!1)})})},l=a.duplicates.slice(),c=function t(){return new Promise(function(n,a){var r=l.shift();return r?void o(r).then(function(n){var a=n?exactDupLog:nameDupLog,o=n?'ExactDuplicate':'NameOnlyDuplicate';u.updater.update([],$rdf.st(r,f.rdf('type'),f.vcard(o),a),function(n,a,r){a?t():S('Stop: log write failure '+r)})}):n(!0)})},m=function t(){return a.namelessToCheck=a.namelessToCheck||a.nameless.slice(),S('Nameless check left: '+a.namelessToCheck.length),new Promise(function(n,r){var o=a.namelessToCheck.shift();if(!o){if(S('namelessUniques: '+a.namelessUniques.length),S('namelessUniques: '+a.namelessUniques),confirm('Add all '+a.namelessUniques.length+' nameless cards to the rescued set?')){a.uniques=a.uniques.concat(a.namelessUniques);for(var s=0;s<a.namelessUniques.length;s++)a.uniqueSet[a.namelessUniques[s].uri]=!0}return n(!0)}d(o).then(function(n){S('    Namelessc check returns '+n),t()})})},g=function t(){return new Promise(function(t,n){var r=0,o;for(S('Groups loaded'),o=0;o<a.uniques.length;o++)a.uniquesSet[a.uniques[o].uri]=!0;a.groupMembers=u.statementsMatching(null,f.vcard('hasMember')).map(function(t){return t.object}),S('  Naive group members '+a.groupMembers.length),a.groupMemberSet=[];for(var s=0;s<a.groupMembers.length;s++)a.groupMemberSet[a.groupMembers[s].uri]=a.groupMembers[s];for(var d in a.groupMembers2=[],a.groupMemberSet)a.groupMembers2.push(a.groupMemberSet[d]);if(S('  Compact group members '+a.groupMembers2.length),!1){for(o=0;o<a.groupMembers.length;o++){var l=a.groupMembers[o];a.uniquesSet[l.uri]?r+=1:(S('  Not in uniques: '+l),a.groupProblems.push(l),a.duplicateSet[l.uri]?S('    ** IN duplicates alas:'+l):S('   **** WTF?'))}S('Problem cards: '+a.groupProblems.length)}t(!0)})},b=function t(){return new Promise(function(t,r){a.cards=u.each(void 0,h('inAddressBook'),a.book),S(''+a.cards.length+' total cards');var o=0,s,d,l;for(s=0;s<a.cards.length;s++){if(d=a.cards[s],l=u.anyValue(d,f.vcard('fn')),!l){a.nameless.push(d);continue}if(a.definitive[l]===d);else if(a.definitive[l]){var c=a.duplicates.length;100>c||1e3>c&&0==c%10||0==c%100,a.duplicates.push(d)}else a.definitive[l]=d}a.duplicateSet=[];for(var n=0;n<a.duplicates.length;n++)a.duplicateSet[a.duplicates[n].uri]=a.duplicates[n];for(a.namelessSet=[],n=0;n<a.nameless.length;n++)a.namelessSet[a.nameless[n].uri]=a.nameless[n];for(a.uniques=[],a.uniqueSet=[],n=0;n<a.cards.length;n++){var m=a.cards[n].uri;a.duplicateSet[m]||a.namelessSet[m]||(a.uniques.push(a.cards[n]),a.uniqueSet[m]=a.cards[n])}S('Uniques: '+a.uniques.length),S(''+a.nameless.length+' nameless cards.'),S(''+a.duplicates.length+' name-duplicate cards, leaving '+(a.cards.length-a.duplicates.length)),t(!0)})},y=function t(){var n;return Promise.resolve().then(function(){n=u.sym(a.book.dir().uri+'clean-people.ttl');var t=[];for(i=0;i<a.uniques.length;i++)t=t.concat(u.connectedStatements(a.uniques[i],a.nameEmailIndex));var r=new $rdf.Serializer(u).setBase(a.nameEmailIndex.uri);S('Serializing index of uniques...');var o=r.statementsToN3(t);return u.fetcher.webOperation('PUT',n,{data:o,contentType:'text/turtle'})}).then(function(){return S('Done uniques log '+n),!0}).catch(function(t){S('Error saving uniques: '+t)})},v=function t(n){var r;return Promise.resolve().then(function(){var t=n.uri.replace('/Group/','/NewGroup/');r=u.sym(t);var o=[];for(i=0;i<a.uniques.length;i++)o=o.concat(u.connectedStatements(a.uniques[i],n.doc()));var s=new $rdf.Serializer(u).setBase(n.uri);S('   Regenerating group of uniques...'+r);var d=s.statementsToN3(o);return u.fetcher.webOperation('PUT',r,{data:d})}).then(function(){return S('     Done uniques group '+r),!0}).catch(function(t){S('Error saving : '+t)})},w=function t(){return S('Saving ALL GROUPS'),Promise.all(a.groupObjects.map(v))};a.groupObjects=groups.map(function(t){return t[2]}),S('Loading '+a.groupObjects.length+' groups... '),u.fetcher.load(a.groupObjects).then(b).then(g).then(m).then(function(t,n){confirm('Write new clean versions?')?t(!0):n()}).then(y).then(w).then(function(t,n){S('Done!')})})});var L=k.appendChild(d.createElement('button'));return L.style.cssText=b,L.textContent='Find inidividuals with no group',L.addEventListener('click',function(t){S('Loading groups...'),n(a,o,function(t,n){if(!t)return void S('Failed: '+n);var a=u.any(s,f.vcard('nameEmailIndex'));r.store.fetcher.nowOrWhenFetched(a,void 0,function(t,n){S('Loaded groups and name index.');var o={},d=[],l=u.each(s,h('includesGroup'));S(''+l.length+' total groups. ');for(var m=0;m<l.length;m++){var b=l[m],g=u.each(b,f.vcard('hasMember'));S(r.utils.label(b)+': '+g.length+' members');for(var a=0;a<g.length;a++)u.allAliases(g[a]).forEach(function(t){o[t.uri]=b})}var y=u.each(void 0,h('inAddressBook'),s);S(''+y.length+' total cards');var v,c;for(v=0;v<y.length;v++)o[y[v].uri]||(d.push(y[v]),S('   groupless '+r.utils.label(y[v])));S(''+d.length+' groupless cards.')})})}),y};t.exports={},t.exports.toolsPane=s},function(t,n,a){'use strict';t.exports='\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n@prefix : <#>.\n\n<http://www.w3.org/2006/vcard/ns#Individual>\n    ui:creationForm <#form1> .\n\n\n<#form1>\n    <http://purl.org/dc/elements/1.1/title> "Contact Details" ;\n    a ui:Form ;\n    ui:part\n        <#fullNameField>,   <#roleField>,   <#fullNameFieldC>, <#addressesComment>, <#addresses>,\n        <#emailComment>, <#eMails>,\n        <#telephoneComment>, <#telephones>, <#noteComment>, <#noteField> ;\n    ui:parts (\n                <#fullNameField>  <#roleField> <#fullNameFieldC>\n                 <#addressesComment> <#addresses>\n                <#emailComment> <#eMails>\n                <#telephoneComment> <#telephones> <#noteComment> <#noteField> ) .\n\n    <#fullNameField>\n        a <http://www.w3.org/ns/ui#SingleLineTextField> ;\n        ui:label "Name";\n        <http://www.w3.org/ns/ui#maxLength> "128" ;\n        <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#fn> ;\n        <http://www.w3.org/ns/ui#size> "40" .\n\n    <#roleField>\n        a <http://www.w3.org/ns/ui#SingleLineTextField> ;\n        <http://www.w3.org/ns/ui#maxLength> "128" ;\n        <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#role> ;\n        <http://www.w3.org/ns/ui#size> "40" .\n\n      <#fullNameFieldC>\n          a <http://www.w3.org/ns/ui#SingleLineTextField> ;\n          <http://www.w3.org/ns/ui#maxLength> "128" ;\n          <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#organization-name> ;\n          <http://www.w3.org/ns/ui#size> "40" .\n\n\n<#addressesComment>\n    a <http://www.w3.org/ns/ui#Comment> ;\n    <http://www.w3.org/ns/ui#contents> "Address" .\n\n\n<#addresses>\n    <http://purl.org/dc/elements/1.1/title> "Address details" ;\n    a <http://www.w3.org/ns/ui#Multiple> ;\n    <http://www.w3.org/ns/ui#part> <#oneAddress> ;\n    <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#hasAddress> .\n\n<#oneAddress>\n    a <http://www.w3.org/ns/ui#Group> ;\n    <http://www.w3.org/ns/ui#parts> ( <#id1409437207443> <#id1409437292400> <#id1409437421996> <#id1409437467649> <#id1409437569420> <#id1409437646712> ).\n\n<#id1409437207443>\n    a <http://www.w3.org/ns/ui#SingleLineTextField> ;\n    <http://www.w3.org/ns/ui#maxLength> "128" ;\n    <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#street-address> ;\n    <http://www.w3.org/ns/ui#size> "40" .\n\n<#id1409437292400>\n    a <http://www.w3.org/ns/ui#SingleLineTextField> ;\n    <http://www.w3.org/ns/ui#maxLength> "128" ;\n    <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#locality> ;\n    <http://www.w3.org/ns/ui#size> "40" .\n\n<#id1409437421996>\n    a <http://www.w3.org/ns/ui#SingleLineTextField> ;\n    <http://www.w3.org/ns/ui#maxLength> "25" ;\n    <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#postal-code> ;\n    <http://www.w3.org/ns/ui#size> "25" .\n\n<#id1409437467649>\n    a <http://www.w3.org/ns/ui#SingleLineTextField> ;\n    <http://www.w3.org/ns/ui#maxLength> "128" ;\n    <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#region> ;\n    <http://www.w3.org/ns/ui#size> "40" .\n\n<#id1409437569420>\n    a <http://www.w3.org/ns/ui#SingleLineTextField> ;\n    <http://www.w3.org/ns/ui#maxLength> "128" ;\n    <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#country-name> ;\n    <http://www.w3.org/ns/ui#size> "40" .\n\n<#id1409437646712>\n    a <http://www.w3.org/ns/ui#Classifier> ;\n    <http://www.w3.org/ns/ui#from> rdf:Class ;\n    <http://www.w3.org/ns/ui#property> <http://purl.org/dc/terms/type> .\n\n\n##############################\n\n<#emailComment>\n    a <http://www.w3.org/ns/ui#Comment> ;\n    <http://www.w3.org/ns/ui#contents> "Email" .\n\n\n<#eMails>\n    a <http://www.w3.org/ns/ui#Multiple> ;\n    <http://www.w3.org/ns/ui#part> <#oneEMail> ;\n    <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#hasEmail> .\n\n<#oneEMail>\n    a <http://www.w3.org/ns/ui#Group> ;\n    <http://www.w3.org/ns/ui#part> <#emailValue>, <#emailType> .\n\n<#emailValue>\n    a <http://www.w3.org/ns/ui#EmailField> ; ui:label "email";\n    <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#value> ;\n    <http://www.w3.org/ns/ui#size> "50" .\n\n<#emailType>\n    a <http://www.w3.org/ns/ui#Classifier> ;\n    <http://www.w3.org/ns/ui#canMintNew> "0" ;\n    <http://www.w3.org/ns/ui#category> <http://www.w3.org/2006/vcard/ns#Type> ;\n    <http://www.w3.org/ns/ui#from> <http://www.w3.org/2006/vcard/ns#Type> ;\n    <http://www.w3.org/ns/ui#property> <http://purl.org/dc/terms/type> .\n\n##############################\n\n<#telephoneComment>\n    a <http://www.w3.org/ns/ui#Comment> ;\n    <http://www.w3.org/ns/ui#contents> "Phones" .\n\n\n<#telephones>\n    a <http://www.w3.org/ns/ui#Multiple> ;\n    <http://www.w3.org/ns/ui#part> <#onetelephone> ;\n    <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#hasTelephone> .\n\n<#onetelephone>\n    a <http://www.w3.org/ns/ui#Group> ;\n    <http://www.w3.org/ns/ui#part> <#telephoneValue>, <#telephoneType> .\n\n<#telephoneValue>\n    a <http://www.w3.org/ns/ui#PhoneField> ;\n    <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#value> ;\n    <http://www.w3.org/ns/ui#size> "50" .\n\n<#telephoneType>\n    a <http://www.w3.org/ns/ui#Classifier> ;\n    <http://www.w3.org/ns/ui#canMintNew> "0" ;\n    <http://www.w3.org/ns/ui#category> <http://www.w3.org/2006/vcard/ns#Type> ;\n    <http://www.w3.org/ns/ui#from> <http://www.w3.org/2006/vcard/ns#Type> ;\n    <http://www.w3.org/ns/ui#property> <http://purl.org/dc/terms/type> .\n\n##############################\n\n<#noteComment>\n    a <http://www.w3.org/ns/ui#Comment> ;\n    <http://www.w3.org/ns/ui#contents> "General Notes" .\n\n<#noteField>\n    a <http://www.w3.org/ns/ui#MultiLineTextField> ;\n    <http://www.w3.org/ns/ui#property> <http://www.w3.org/2006/vcard/ns#note> .\n'},function(t,n,a){'use strict';t.exports='\n@prefix : <http://www.w3.org/2006/vcard/ns#> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix xml: <http://www.w3.org/XML/1998/namespace> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n:Acquaintance a owl:Class ;\n    rdfs:label "Acquaintance"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Agent a owl:Class ;\n    rdfs:label "Agent"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:BBS a owl:Class ;\n    rdfs:label "BBS"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Car a owl:Class ;\n    rdfs:label "Car"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Cell a owl:Class ;\n    rdfs:label "Cell"@en ;\n    rdfs:comment "Also called mobile telephone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Child a owl:Class ;\n    rdfs:label "Child"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Colleague a owl:Class ;\n    rdfs:label "Colleague"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Contact a owl:Class ;\n    rdfs:label "Contact"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Coresident a owl:Class ;\n    rdfs:label "Coresident"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Coworker a owl:Class ;\n    rdfs:label "Coworker"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Crush a owl:Class ;\n    rdfs:label "Crush"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Date a owl:Class ;\n    rdfs:label "Date"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Dom a owl:Class ;\n    rdfs:label "Dom"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Emergency a owl:Class ;\n    rdfs:label "Emergency"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Fax a owl:Class ;\n    rdfs:label "Fax"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Female a owl:Class ;\n    rdfs:label "Female"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Friend a owl:Class ;\n    rdfs:label "Friend"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Home a owl:Class ;\n    rdfs:label "Home"@en ;\n    rdfs:comment "This implies that the property is related to an individual\'s personal life"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type .\n\n:ISDN a owl:Class ;\n    rdfs:label "ISDN"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Internet a owl:Class ;\n    rdfs:label "Internet"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Intl a owl:Class ;\n    rdfs:label "Intl"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Kin a owl:Class ;\n    rdfs:label "Kin"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Label a owl:Class ;\n    rdfs:label "Label"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Male a owl:Class ;\n    rdfs:label "Male"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Me a owl:Class ;\n    rdfs:label "Me"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Met a owl:Class ;\n    rdfs:label "Met"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Modem a owl:Class ;\n    rdfs:label "Modem"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Msg a owl:Class ;\n    rdfs:label "Msg"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Muse a owl:Class ;\n    rdfs:label "Muse"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Neighbor a owl:Class ;\n    rdfs:label "Neighbor"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:None a owl:Class ;\n    rdfs:label "None"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Other a owl:Class ;\n    rdfs:label "Other"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:PCS a owl:Class ;\n    rdfs:label "PCS"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType ;\n    owl:deprecated true .\n\n:Pager a owl:Class ;\n    rdfs:label "Pager"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Parcel a owl:Class ;\n    rdfs:label "Parcel"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Parent a owl:Class ;\n    rdfs:label "Parent"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Postal a owl:Class ;\n    rdfs:label "Postal"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Pref a owl:Class ;\n    rdfs:label "Pref"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:Sibling a owl:Class ;\n    rdfs:label "Sibling"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Spouse a owl:Class ;\n    rdfs:label "Spouse"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Sweetheart a owl:Class ;\n    rdfs:label "Sweetheart"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :RelatedType .\n\n:Tel a owl:Class ;\n    rdfs:label "Tel"@en ;\n    rdfs:comment "This class is deprecated. Use the hasTelephone object property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:Text a owl:Class ;\n    rdfs:label "Text"@en ;\n    rdfs:comment "Also called sms telephone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:TextPhone a owl:Class ;\n    rdfs:label "Text phone"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Unknown a owl:Class ;\n    rdfs:label "Unknown"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Gender .\n\n:Video a owl:Class ;\n    rdfs:label "Video"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Voice a owl:Class ;\n    rdfs:label "Voice"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :TelephoneType .\n\n:Work a owl:Class ;\n    rdfs:label "Work"@en ;\n    rdfs:comment "This implies that the property is related to an individual\'s work place"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type .\n\n:X400 a owl:Class ;\n    rdfs:label "X400"@en ;\n    rdfs:comment "This class is deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Type ;\n    owl:deprecated true .\n\n:adr a owl:ObjectProperty ;\n    rdfs:label "address"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasAddress .\n\n:agent a owl:ObjectProperty ;\n    rdfs:label "agent"@en ;\n    rdfs:comment "This object property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:anniversary a owl:DatatypeProperty ;\n    rdfs:label "anniversary"@en ;\n    rdfs:comment "The date of marriage, or equivalent, of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range [ a rdfs:Datatype ;\n            owl:unionOf ( xsd:dateTime xsd:gYear ) ] .\n\n:bday a owl:DatatypeProperty ;\n    rdfs:label "birth date"@en ;\n    rdfs:comment "To specify the birth date of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range [ a rdfs:Datatype ;\n            owl:unionOf ( xsd:dateTime xsd:dateTimeStamp xsd:gYear ) ] .\n\n:category a owl:DatatypeProperty ;\n    rdfs:label "category"@en ;\n    rdfs:comment "The category information about the object, also known as tags"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:class a owl:DatatypeProperty ;\n    rdfs:label "class"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:email a owl:ObjectProperty ;\n    rdfs:label "email"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasEmail .\n\n:extended-address a owl:DatatypeProperty ;\n    rdfs:label "extended address"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:geo a owl:ObjectProperty ;\n    rdfs:label "geo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasGeo .\n\n:hasAdditionalName a owl:ObjectProperty ;\n    rdfs:label "has additional name"@en ;\n    rdfs:comment "Used to support property parameters for the additional name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarBusy a owl:ObjectProperty ;\n    rdfs:label "has calendar busy"@en ;\n    rdfs:comment "To specify the busy time associated with the object. (Was called FBURL in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarLink a owl:ObjectProperty ;\n    rdfs:label "has calendar link"@en ;\n    rdfs:comment "To specify the calendar associated with the object. (Was called CALURI in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCalendarRequest a owl:ObjectProperty ;\n    rdfs:label "has calendar request"@en ;\n    rdfs:comment "To specify the calendar user address to which a scheduling request be sent for the object. (Was called CALADRURI in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCategory a owl:ObjectProperty ;\n    rdfs:label "has category"@en ;\n    rdfs:comment "Used to support property parameters for the category data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasCountryName a owl:ObjectProperty ;\n    rdfs:label "has country name"@en ;\n    rdfs:comment "Used to support property parameters for the country name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasFN a owl:ObjectProperty ;\n    rdfs:label "has formatted name"@en ;\n    rdfs:comment "Used to support property parameters for the formatted name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasFamilyName a owl:ObjectProperty ;\n    rdfs:label "has family name"@en ;\n    rdfs:comment "Used to support property parameters for the family name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasGender a owl:ObjectProperty ;\n    rdfs:label "has gender"@en ;\n    rdfs:comment "To specify  the sex or gender identity of the object. URIs are recommended to enable interoperable sex and gender codes to be used."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasGivenName a owl:ObjectProperty ;\n    rdfs:label "has given name"@en ;\n    rdfs:comment "Used to support property parameters for the given name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasHonorificPrefix a owl:ObjectProperty ;\n    rdfs:label "has honorific prefix"@en ;\n    rdfs:comment "Used to support property parameters for the honorific prefix data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasHonorificSuffix a owl:ObjectProperty ;\n    rdfs:label "has honorific suffix"@en ;\n    rdfs:comment "Used to support property parameters for the honorific suffix data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasInstantMessage a owl:ObjectProperty ;\n    rdfs:label "has messaging"@en ;\n    rdfs:comment "To specify the instant messaging and presence protocol communications with the object. (Was called IMPP in RFC6350)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasLanguage a owl:ObjectProperty ;\n    rdfs:label "has language"@en ;\n    rdfs:comment "Used to support property parameters for the language data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasLocality a owl:ObjectProperty ;\n    rdfs:label "has locality"@en ;\n    rdfs:comment "Used to support property parameters for the locality data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasNickname a owl:ObjectProperty ;\n    rdfs:label "has nickname"@en ;\n    rdfs:comment "Used to support property parameters for the nickname data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:seeAlso :nickname .\n\n:hasNote a owl:ObjectProperty ;\n    rdfs:label "has note"@en ;\n    rdfs:comment "Used to support property parameters for the note data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasOrganizationName a owl:ObjectProperty ;\n    rdfs:label "has organization name"@en ;\n    rdfs:comment "Used to support property parameters for the organization name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasOrganizationUnit a owl:ObjectProperty ;\n    rdfs:label "has organization unit name"@en ;\n    rdfs:comment "Used to support property parameters for the organization unit name data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasPostalCode a owl:ObjectProperty ;\n    rdfs:label "has postal code"@en ;\n    rdfs:comment "Used to support property parameters for the postal code data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRegion a owl:ObjectProperty ;\n    rdfs:label "has region"@en ;\n    rdfs:comment "Used to support property parameters for the region data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRelated a owl:ObjectProperty ;\n    rdfs:label "has related"@en ;\n    rdfs:comment "To specify a relationship between another entity and the entity represented by this object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasRole a owl:ObjectProperty ;\n    rdfs:label "has role"@en ;\n    rdfs:comment "Used to support property parameters for the role data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasSource a owl:ObjectProperty ;\n    rdfs:label "has source"@en ;\n    rdfs:comment "To identify the source of directory information of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasStreetAddress a owl:ObjectProperty ;\n    rdfs:label "has street address"@en ;\n    rdfs:comment "Used to support property parameters for the street address data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasTitle a owl:ObjectProperty ;\n    rdfs:label "has title"@en ;\n    rdfs:comment "Used to support property parameters for the title data property"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasUID a owl:ObjectProperty ;\n    rdfs:label "has uid"@en ;\n    rdfs:comment "To specify a value that represents a globally unique identifier corresponding to the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasValue a owl:ObjectProperty ;\n    rdfs:label "has value"@en ;\n    rdfs:comment "Used to indicate the resource value of an object property that requires property parameters"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:label a owl:DatatypeProperty ;\n    rdfs:label "label"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:language a owl:DatatypeProperty ;\n    rdfs:label "language"@en ;\n    rdfs:comment "To specify the language that may be used for contacting the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:latitude a owl:DatatypeProperty ;\n    rdfs:label "latitude"@en ;\n    rdfs:comment "This data property has been deprecated. See hasGeo"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:longitude a owl:DatatypeProperty ;\n    rdfs:label "longitude"@en ;\n    rdfs:comment "This data property has been deprecated. See hasGeo"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:mailer a owl:DatatypeProperty ;\n    rdfs:label "mailer"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:note a owl:DatatypeProperty ;\n    rdfs:label "note"@en ;\n    rdfs:comment "A note associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:org a owl:ObjectProperty ;\n    rdfs:label "organization"@en ;\n    rdfs:comment "This object property has been mapped. Use the organization-name data property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :organization-name .\n\n:organization-unit a owl:DatatypeProperty ;\n    rdfs:label "organizational unit name"@en ;\n    rdfs:comment "To specify the organizational unit name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string ;\n    rdfs:subPropertyOf :organization-name .\n\n:post-office-box a owl:DatatypeProperty ;\n    rdfs:label "post office box"@en ;\n    rdfs:comment "This data property has been deprecated"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:prodid a owl:DatatypeProperty ;\n    rdfs:label "product id"@en ;\n    rdfs:comment "To specify the identifier for the product that created the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:rev a owl:DatatypeProperty ;\n    rdfs:label "revision"@en ;\n    rdfs:comment "To specify revision information about the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:dateTime .\n\n:role a owl:DatatypeProperty ;\n    rdfs:label "role"@en ;\n    rdfs:comment "To specify the function or part played in a particular situation by the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:sort-string a owl:DatatypeProperty ;\n    rdfs:label "sort as"@en ;\n    rdfs:comment "To specify the string to be used for national-language-specific sorting. Used as a property parameter only."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:title a owl:DatatypeProperty ;\n    rdfs:label "title"@en ;\n    rdfs:comment "To specify the position or job of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:tz a owl:DatatypeProperty ;\n    rdfs:label "time zone"@en ;\n    rdfs:comment "To indicate time zone information that is specific to the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:value a owl:DatatypeProperty ;\n    rdfs:label "value"@en ;\n    rdfs:comment "Used to indicate the literal value of a data property that requires property parameters"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:Address a owl:Class ;\n    rdfs:label "Address"@en ;\n    rdfs:comment "To specify the components of the delivery address for the  object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:unionOf ( [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :country-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :country-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :locality ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :locality ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :postal-code ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :postal-code ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :region ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :region ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :street-address ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :street-address ] ) ] ) ] .\n\n:Email a owl:Class ;\n    rdfs:label "Email"@en ;\n    rdfs:comment "To specify the electronic mail address for communication with the object the vCard represents. Use the hasEmail object property."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:deprecated true .\n\n:Group a owl:Class ;\n    rdfs:label "Group"@en ;\n    rdfs:comment "Object representing a group of persons or entities.  A group object will usually contain hasMember properties to specify the members of the group."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Individual,\n        :Location,\n        :Organization ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:intersectionOf ( [ a owl:Restriction ;\n                        owl:onProperty :hasMember ;\n                        owl:someValuesFrom :Kind ] [ a owl:Restriction ;\n                        owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;\n                        owl:onClass :Kind ;\n                        owl:onProperty :hasMember ] ) ] .\n\n:Individual a owl:Class ;\n    rdfs:label "Individual"@en ;\n    rdfs:comment "An object representing a single person or entity"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Location,\n        :Organization .\n\n:Name a owl:Class ;\n    rdfs:label "Name"@en ;\n    rdfs:comment "To specify the components of the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Class ;\n            owl:unionOf ( [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :additional-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :additional-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :family-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :family-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :given-name ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:maxCardinality "1"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :given-name ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :honorific-prefix ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :honorific-prefix ] ) ] [ a owl:Class ;\n                        owl:intersectionOf ( [ a owl:Restriction ;\n                                    owl:onProperty :honorific-suffix ;\n                                    owl:someValuesFrom xsd:string ] [ a owl:Restriction ;\n                                    owl:minCardinality "0"^^xsd:nonNegativeInteger ;\n                                    owl:onProperty :honorific-suffix ] ) ] ) ] .\n\n:VCard a owl:Class ;\n    rdfs:label "VCard"@en ;\n    rdfs:comment "The vCard class is  equivalent to the new Kind class, which is the parent for the four explicit types of vCards (Individual, Organization, Location, Group)"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass :Kind .\n\n:fn a owl:DatatypeProperty ;\n    rdfs:label "formatted name"@en ;\n    rdfs:comment "The formatted text corresponding to the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:hasAddress a owl:ObjectProperty ;\n    rdfs:label "has address"@en ;\n    rdfs:comment "To specify the components of the delivery address for the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Address .\n\n:hasEmail a owl:ObjectProperty ;\n    rdfs:label "has email"@en ;\n    rdfs:comment "To specify the electronic mail address for communication with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Email .\n\n:hasGeo a owl:ObjectProperty ;\n    rdfs:label "has geo"@en ;\n    rdfs:comment "To specify information related to the global positioning of the object. May also be used as a property parameter."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:hasKey a owl:ObjectProperty ;\n    rdfs:label "has key"@en ;\n    rdfs:comment "To specify a public key or authentication certificate associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :key .\n\n:hasLogo a owl:ObjectProperty ;\n    rdfs:label "has logo"@en ;\n    rdfs:comment "To specify a graphic image of a logo associated with the object "@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :logo .\n\n:hasName a owl:ObjectProperty ;\n    rdfs:label "has name"@en ;\n    rdfs:comment "To specify the components of the name of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Name ;\n    owl:equivalentProperty :n .\n\n:hasPhoto a owl:ObjectProperty ;\n    rdfs:label "has photo"@en ;\n    rdfs:comment "To specify an image or photograph information that annotates some aspect of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :photo .\n\n:hasSound a owl:ObjectProperty ;\n    rdfs:label "has sound"@en ;\n    rdfs:comment "To specify a digital sound content information that annotates some aspect of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :sound .\n\n:hasTelephone a owl:ObjectProperty ;\n    rdfs:label "has telephone"@en ;\n    rdfs:comment "To specify the telephone number for telephony communication with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :tel .\n\n:hasURL a owl:ObjectProperty ;\n    rdfs:label "has url"@en ;\n    rdfs:comment "To specify a uniform resource locator associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :url .\n\n:key a owl:ObjectProperty ;\n    rdfs:label "key"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasKey .\n\n:logo a owl:ObjectProperty ;\n    rdfs:label "logo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasLogo .\n\n:n a owl:ObjectProperty ;\n    rdfs:label "name"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasName .\n\n:nickname a owl:DatatypeProperty ;\n    rdfs:label "nickname"@en ;\n    rdfs:comment "The nick name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:photo a owl:ObjectProperty ;\n    rdfs:label "photo"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasPhoto .\n\n:sound a owl:ObjectProperty ;\n    rdfs:label "sound"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasSound .\n\n:tel a owl:ObjectProperty ;\n    rdfs:label "telephone"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasTelephone .\n\n:url a owl:ObjectProperty ;\n    rdfs:label "url"@en ;\n    rdfs:comment "This object property has been mapped"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentProperty :hasURL .\n\n:Location a owl:Class ;\n    rdfs:label "Location"@en ;\n    rdfs:comment "An object representing a named geographical place"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind ;\n    owl:disjointWith :Organization .\n\n:additional-name a owl:DatatypeProperty ;\n    rdfs:label "additional name"@en ;\n    rdfs:comment "The additional name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:country-name a owl:DatatypeProperty ;\n    rdfs:label "country name"@en ;\n    rdfs:comment "The country name associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:family-name a owl:DatatypeProperty ;\n    rdfs:label "family name"@en ;\n    rdfs:comment "The family name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:given-name a owl:DatatypeProperty ;\n    rdfs:label "given name"@en ;\n    rdfs:comment "The given name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:hasMember a owl:ObjectProperty ;\n    rdfs:label "has member"@en ;\n    rdfs:comment "To include a member in the group this object represents. (This property can only be used by Group individuals)"@en ;\n    rdfs:domain :Group ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range :Kind .\n\n:honorific-prefix a owl:DatatypeProperty ;\n    rdfs:label "honorific prefix"@en ;\n    rdfs:comment "The honorific prefix of the name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:honorific-suffix a owl:DatatypeProperty ;\n    rdfs:label "honorific suffix"@en ;\n    rdfs:comment "The honorific suffix of the name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:locality a owl:DatatypeProperty ;\n    rdfs:label "locality"@en ;\n    rdfs:comment "The locality (e.g. city or town) associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:organization-name a owl:DatatypeProperty ;\n    rdfs:label "organization name"@en ;\n    rdfs:comment "To specify the organizational name associated with the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:postal-code a owl:DatatypeProperty ;\n    rdfs:label "postal code"@en ;\n    rdfs:comment "The postal code associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:region a owl:DatatypeProperty ;\n    rdfs:label "region"@en ;\n    rdfs:comment "The region (e.g. state or province) associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:street-address a owl:DatatypeProperty ;\n    rdfs:label "street address"@en ;\n    rdfs:comment "The street address associated with the address of the object"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:range xsd:string .\n\n:Organization a owl:Class ;\n    rdfs:label "Organization"@en ;\n    rdfs:comment """An object representing an organization.  An organization is a single entity, and might represent a business or government, a department or division within a business or government, a club, an association, or the like.\n"""@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    rdfs:subClassOf :Kind .\n\n:Gender a owl:Class ;\n    rdfs:label "Gender"@en ;\n    rdfs:comment "Used for gender codes. The URI of the gender code must be used as the value for Gender."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:Kind a owl:Class ;\n    rdfs:label "Kind"@en ;\n    rdfs:comment "The parent class for all objects"@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> ;\n    owl:equivalentClass [ a owl:Restriction ;\n            owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;\n            owl:onDataRange xsd:string ;\n            owl:onProperty :fn ],\n        :VCard .\n\n:Type a owl:Class ;\n    rdfs:label "Type"@en ;\n    rdfs:comment "Used for type codes. The URI of the type code must be used as the value for Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:TelephoneType a owl:Class ;\n    rdfs:label "Phone"@en ;\n    rdfs:comment "Used for telephone type codes. The URI of the telephone type code must be used as the value for the Telephone Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n:RelatedType a owl:Class ;\n    rdfs:label "Relation Type"@en ;\n    rdfs:comment "Used for relation type codes. The URI of the relation type code must be used as the value for the Relation Type."@en ;\n    rdfs:isDefinedBy <http://www.w3.org/2006/vcard/ns> .\n\n<http://www.w3.org/2006/vcard/ns> a owl:Ontology ;\n    rdfs:label "Ontology for vCard"@en ;\n    rdfs:comment "Ontology for vCard based on RFC6350"@en ;\n    owl:versionInfo "Final"@en .\n\n\n'},function(t,n,a){'use strict';var r=a(1),o=r.ns;t.exports={icon:r.icons.iconBase+'noun_79217.svg',name:'pad',label:function n(a){var o=r.store,s=o.findTypeURIs(a);return s['http://www.w3.org/ns/pim/pad#Notepad']?'pad':null},mintClass:o.pad('Notepad'),mintNew:function t(n){var a=r.store,o=r.ns,s=a.updater;if(n.me&&!n.me.uri)throw new Error('notepad mintNew:  Invalid userid');var d=n.newInstance=n.newInstance||a.sym(n.newBase+'index.ttl#this'),l=d.doc();a.add(d,o.rdf('type'),o.pad('Notepad'),l),a.add(d,o.dc('title'),'Shared Notes',l),a.add(d,o.dc('created'),new Date,l),n.me&&a.add(d,o.dc('author'),n.me,l);var c=a.sym(d.uri+'_line0');return a.add(d,o.pad('next'),c,l),a.add(c,o.pad('next'),d,l),a.add(c,o.dc('author'),n.me,l),a.add(c,o.sioc('content'),'',l),new Promise(function(t,r){s.put(l,a.statementsMatching(void 0,void 0,void 0,l),'text/turtle',function(a,o,s){o?t(n):r(new Error('FAILED to save new tool at: '+a+' : '+s));;})})},render:function t(n,a,o){var s=function t(n,o){n||E.appendChild(r.widgets.errorMessageBlock(a,o,'pink'))},d=function t(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n},l=function t(n,o,s){var d=$rdf.graph(),l=$rdf.Namespace('http://www.w3.org/ns/auth/acl#'),c=d.sym(o+'#a1'),a=d.sym(o),u=d.sym(n);return d.add(c,r.ns.rdf('type'),l('Authorization'),a),d.add(c,l('accessTo'),u,a),d.add(c,l('agent'),A,a),d.add(c,l('mode'),l('Read'),a),d.add(c,l('mode'),l('Write'),a),d.add(c,l('mode'),l('Control'),a),c=d.sym(o+'#a2'),d.add(c,r.ns.rdf('type'),l('Authorization'),a),d.add(c,l('accessTo'),u,a),d.add(c,l('agentClass'),_.foaf('Agent'),a),d.add(c,l('mode'),l('Read'),a),s&&d.add(c,l('mode'),l('Write'),a),$rdf.serialize(a,d,o,'text/turtle')},c=function t(n,a,r){var o=v.any(v.sym(n),v.sym('http://www.iana.org/assignments/link-relations/acl'));if(o){var s=l(n,o.uri,a);return w.webOperation('PUT',o.uri,{data:s,contentType:'text/turtle'}).then(function(t){return r(!0)}).catch(function(t){r(!1,t.message)})}return w.load(n).catch(function(t){r(!1,'Getting headers for ACL: '+t)}).then(function(){var t=v.any(v.sym(n),v.sym('http://www.iana.org/assignments/link-relations/acl'));if(!t)throw new Error('No Link rel=ACL header for '+n);var r=l(n,t.uri,a);return w.webOperation('PUT',t.uri,{data:r,contentType:'text/turtle'})}).then(function(t){return r(!0)}).catch(function(t){r(!1,t.message)})},u=function t(){var r=E.appendChild(a.createElement('button'));return r.textContent='Start another pad',r.addEventListener('click',function(){return f(n,W,'pad')}),r},f=function t(n,o,s){var l=d(o),c={noun:'notepad'},u=l.appendChild(r.authn.newAppInstance(a,c,m)),f=l.appendChild(a.createElement('hr')),g=l.appendChild(a.createElement('p'));g.textContent='Where would you like to store the data for the '+s+'?  Give the URL of the directory where you would like the data stored.';var b=l.appendChild(a.createElement('input'));b.setAttribute('type','text'),b.size=80,b.label='base URL',b.autocomplete='on',l.appendChild(a.createElement('br'));var y=l.appendChild(a.createElement('button'));y.textContent='Start new '+s+' at this URI',y.addEventListener('click',function(t){var a=b.value;'/'!==a.slice(-1)&&(a+='/'),h(n,a)})},m=function t(n){var a=v.any(n,_.space('uriPrefix'));a=a?a.value:n.uri.split('#')[0],'/'!==a.slice(-1)&&($rdf.log.error(y+': No / at end of uriPrefix '+a),a+='/');var r=new Date;a+=y+'/id'+r.getTime()+'/',h(C,a)},h=function t(n,o){var d=$rdf.sym(n.uri.split('#')[0]),l=r.ns.space,u=r.store,m=u.sym(o+'pad.ttl'),h=u.sym(o+'index.html');toBeCopied=[{local:'index.html',contentType:'text/html'}],newInstance=u.sym(m.uri+'#thisPad'),agenda=[];var g,f,b;for(g=0;g<toBeCopied.length;g++){var y=toBeCopied[g],v=function t(n){agenda.push(function(){var t=o+n.local;console.log('Copying '+base+n.local+' to '+t);var a=function n(){c(t,!1,function(n,a){n?agenda.shift()():(s(n,'FAILED to set ACL '+t+' : '+a),console.log('FAILED to set ACL '+t+' : '+a))})};u.fetcher.webCopy(base+n.local,o+n.local,n.contentType).then(function(){return r.authn.checkUser()}).then(function(t){A=t,a()}).catch(function(t){console.log('FAILED to copy '+base+n.local+' : '+t.message),s(!1,'FAILED to copy '+base+n.local+' : '+t.message)})})};v(y)}agenda.push(function t(){u.add(newInstance,_.rdf('type'),k('Notepad'),m),u.add(newInstance,_.dc('created'),new Date,m),A&&u.add(newInstance,_.dc('author'),A,m),u.add(newInstance,k('next'),newInstance,m),u.add(newInstance,r.ns.space('inspiration'),n,T),u.add(newInstance,r.ns.space('inspiration'),n,m),x.put(m,u.statementsMatching(void 0,void 0,void 0,m),'text/turtle',function(t,n,a){n?agenda.shift()():(s(n,'FAILED to save new notepad at: '+there.uri+' : '+a),console.log('FAILED to save new notepad at: '+there.uri+' : '+a))})}),agenda.push(function(){c(m.uri,!0,function(t,n){s(t,'Failed to set Read-Write ACL on pad data file: '+n),t&&agenda.shift()()})}),agenda.push(function(){var t=E.appendChild(a.createElement('p'));t.setAttribute('style','font-size: 140%;'),t.innerHTML='Your <a href=\''+h.uri+'\'><b>new notepad</b></a> is ready. <br/><br/><a href=\''+h.uri+'\'>Go to new pad</a>'}),agenda.shift()()},g=function t(s){console.log('showResults()'),A=r.authn.currentUser(),r.authn.checkUser().then(function(t){A=t});var d=v.any(n,_.dc('title'))||v.any(n,_.vcard('fn'));o.solo&&'undefined'!=typeof window&&d&&(window.document.title=d.value),X.exists=s,I=r.pad.notepad(a,T,n,A,X),M.appendChild(I);var l=v.any(n,_.meeting('parentMeeting'))||n;r.pad.manageParticipation(a,U,T,l,A,X);var c=r.store.updater.setRefreshHandler(T,I.reloadAndSync)},b=function t(){w.nowOrWhenFetched(T.uri,void 0,function(t,a,r){t?(d(M),v.holds(n,_.rdf('type'),_.wf('TemplateInstance'))&&f(n,M,'pad'),g(!0),q.appendChild(u())):404===r.status?(console.log('Initializing results file '+T),x.put(T,[],'text/turtle',function(t,n,a){n?(d(M),g(!1)):(s(n,'FAILED to create results file at: '+T.uri+' : '+a),console.log('FAILED to craete results file at: '+T.uri+' : '+a))})):s(t,'FAILED to read results file: '+a)})},y='app-pad.timbl.com',v=r.store,w=r.store.fetcher,x=r.store.updater,_=r.ns,k=$rdf.Namespace('http://www.w3.org/ns/pim/pad#'),C=n,T=n.doc(),E=a.createElement('div'),S=E.appendChild(a.createElement('table')),A,I;S.setAttribute('style','background-color: white; min-width: 94%; margin-right:3% margin-left: 3%; min-height: 13em;');var N=S.appendChild(a.createElement('tr')),j=N.appendChild(a.createElement('td')),R=N.appendChild(a.createElement('td')),L=N.appendChild(a.createElement('td')),O=null,P=S.appendChild(a.createElement('tr')),M=P.appendChild(a.createElement('td'));M.setAttribute('colspan','3');var D=S.appendChild(a.createElement('tr')),B=D.appendChild(a.createElement('td')),U=D.appendChild(a.createElement('td')),q=D.appendChild(a.createElement('td')),F=S.appendChild(a.createElement('tr')),z=F.appendChild(a.createElement('div')),H=S.appendChild(a.createElement('tr')),W=H.appendChild(a.createElement('div')),V=S.appendChild(a.createElement('tr'));V.setAttribute('class','naviMenu');var G=V.appendChild(a.createElement('td')),J=V.appendChild(a.createElement('td')),K=V.appendChild(a.createElement('td')),X={statusArea:z,timingArea:B};return b(),E}}},function(t,n,a){'use strict';(function(t,n){t.exports={icon:(t.__dirname||n)+'/icon_argument.png',name:'argument',label:function n(a){var r=UI.store,o=r.findTypeURIs(a);return o[UI.ns.arg('Position').uri]?'Argument':null},render:function t(n,a){var r=UI.panes.getOutliner(dom),o=UI.rdf,s=UI.store,d=UI.ns.arg;n=s.canon(n);var l=s.findTypeURIs(n),c=a.createElement('div');c.setAttribute('class','argumentPane');var u=s.any(n,UI.ns.rdfs('comment'));if(u){var f=a.createElement('p');f.setAttribute('style','margin-left: 2em; font-style: italic;'),c.appendChild(f),f.textContent=u.value}var m=s.statementsMatching(n,d('support'));r.appendPropertyTRs(c,m,!1);var m=s.statementsMatching(n,d('opposition'));return r.appendPropertyTRs(c,m,!1),c}}}).call(n,a(10)(t),'/')},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.iconBase+'noun_106746.svg',name:'transaction',label:function n(a){var o=r.store,s=o.findTypeURIs(a);return s['http://www.w3.org/2000/10/swap/pim/qif#Transaction']?'$$':o.any(a,r.ns.qu('amount'))?'$$$':s['http://www.w3.org/ns/pim/trip#Trip']?'Trip $':null},render:function n(o,s){var d=r.store,l=d.fetcher,c=r.ns,a=$rdf.Namespace('http://www.w3.org/2005/01/wf/flow#'),u=$rdf.Namespace('http://purl.org/dc/terms/'),f=$rdf.Namespace('http://www.w3.org/2000/10/swap/pim/qif#'),m=$rdf.Namespace('http://www.w3.org/ns/pim/trip#'),h=s.createElement('div');h.setAttribute('class','transactionPane');var g=function t(n,a){a==void 0&&(a='color: grey');var r=s.createElement('pre');r.setAttribute('style',a),h.appendChild(r),r.appendChild(s.createTextNode(n))},b=function t(n){return g(n,'color: #100; background-color: #fee')},y=this,v=function t(n){var a=n.parentNode,r=y.render(o,s);a.replaceChild(r,n)},w=r.store.updater,x=d.statementsMatching(o),_=d.statementsMatching(void 0,void 0,o),k=d.findTypeURIs(o),t=r.authn.currentUser(),C={},T=function t(n){C[n.uri]=!0},E=function t(){var n='padding: 0.5em 1.5em 1em 1.5em; ';if(M){var a=d.any(M,r.ns.ui('backgroundColor'));a&&(n+='background-color: '+a.value+'; ')}h.setAttribute('style',n)},S=function t(a){if(a===void 0)return'';var n=''+a;return 0<=n.indexOf('.')?n.split('.')[0]+'.'+(n.split('.')[1]+'00').slice(0,2):n+'.00'},A=function t(n,a){var r=s.createElement('td');return 0===0+n&&a||(r.textContent=S(n)),r.setAttribute('style','width: 6em; text-align: right; '),r},I=function t(n){var a=s.createElement('th');return a.textContent=n,a.setAttribute('style','text-align: right; '),a},N=function t(n,a){if(dx=r.store.any(n,c.qu('date')),dy=r.store.any(a,c.qu('date')),void 0!==dx&&void 0!==dy){if(dx.value<dy.value)return-1;if(dx.value>dy.value)return 1}return n.uri<a.uri?-1:n.uri>a.uri?1:0},R=function t(n,a,o){var s=r.panes.byName(o),l=s.render(a,n);return l.setAttribute('style','border: 0.1em solid green;'),l},j=function t(n,a,r,o,s){var d=a.parentNode.children;if(s)for(var l=d.length-1;0<=l;l--)d[l].expanded&&(d[l].parentNode.removeChild(d[l].expanded),d[l].expanded=!1);var c=n.createElement('tr'),u=c.appendChild(n.createElement('td'));u.setAttribute('style','width: 98%; padding: 1em; border: 0.1em solid grey;');var f=a.children.length;a.nextSibling?a.parentNode.insertBefore(c,a.nextSibling):a.parentNode.appendChild(c),a.expanded=c,u.setAttribute('colspan',''+f),u.appendChild(R(n,r,o))},L=function t(n,a,r,o,s){a.expanded?(a.parentNode.removeChild(a.expanded),a.expanded=!1):j(n,a,r,o,s)},O=function t(n,a,o){var s=n.createElement('table');s.setAttribute('style','padding-left: 0.5em; padding-right: 0.5em; font-size: 9pt; width: 85%;');var l=function t(n,a){var o=n.createElement('tr'),s=function t(n,a){var o='\'padding-left: 0.5em; padding-right: 0.5em; padding-top: 0.1em;';if(a){var s=d.any(a,r.ns.ui('backgroundColor'));s&&(o+='background-color: '+s.value+'; ')}n.setAttribute('style',o)},l=d.any(a,c.qu('toAccount'));s(o,l);var u=o.appendChild(n.createElement('td')),f=d.any(a,c.qu('date'));u.textContent=f?f.value.slice(0,10):'???',u.setAttribute('style','width: 7em;');var m=o.appendChild(n.createElement('td'));m.setAttribute('style','width: 36em;');var h=d.any(a,c.qu('payee'));m.textContent=h?h.value:'???';var g=m.appendChild(n.createElement('a'));g.textContent=' \u279C',g.setAttribute('href',a.uri);var b=o.appendChild(n.createElement('td')),y=d.any(a,c.qu('in_USD'));return b.textContent=y?S(y.value):'???',b.setAttribute('style','width: 6em; text-align: right; '),o.addEventListener('click',function(t){L(n,o,a,'transaction',!t.shiftKey)},!1),o},u=o?a.filter(o):a.slice();u.sort(N);for(var f=0;f<u.length;f++)s.appendChild(l(n,u[f]));return s};if(k['http://www.w3.org/2000/10/swap/pim/qif#Transaction']||d.any(o,c.qu('toAccount'))){var P=d.any(o,a('trip')),c=r.ns;T(c.rdf('type'));var E=function t(n){var a='padding: 0.5em 1.5em 1em 1.5em; ';if(n){var o=d.any(n,r.ns.ui('backgroundColor'));o&&(a+='background-color: '+o.value+'; ')}h.setAttribute('style',a)},M=d.any(o,r.ns.qu('toAccount'));E(M),M==void 0&&b('(Error: There is no bank account known for this transaction <'+o.uri+'>,\n -- every transaction needs one.)');var D=null,B=d.any(o,r.ns.qu('accordingTo'));B==void 0?b('(Error: There is no back link to the original data source foir this transaction <'+o.uri+'>,\nso I can\'t tell how to annotate it.)'):(D=B==void 0?null:d.any(B,r.ns.qu('annotationStore')),D==void 0&&b('(There is no annotation document for this statement\n<'+B.uri+'>,\nso you cannot classify this transaction.)'));var U=s.createElement('div');U.setAttribute('style','float:right'),h.appendChild(U);var q=function t(n,l){T(n);var c=d.any(o,n);if(c){var u=s.createElement('a');u.setAttribute('href',c.uri),u.setAttribute('style','float:right'),U.appendChild(u).textContent=l?l:r.utils.label(c),U.appendChild(s.createElement('br'))}};q(r.ns.qu('toAccount')),q(r.ns.qu('accordingTo'),'Statement'),q(m('trip'));var F=s.createElement('table');h.appendChild(F);var z=['date','payee','amount','in_USD','currency'].map(f),H=z.map(function(t){T(t);var n=d.any(o,t),a=n?r.utils.labelForXML(n):'';return'<tr><td style="text-align: right; padding-right: 0.6em">'+r.utils.labelForXML(t)+'</td><td style="font-weight: bold;">'+a+'</td></tr>'}).join('\n');F.innerHTML=H;var W=function t(n,a){n||b('Sorry, failed to save your change:\n'+a)};D&&d.fetcher.nowOrWhenFetched(D.uri,o,function(t,n){t||b('Cannot load store '+D+' '+n);var u=d.any(D,c.qu('calendarYear')),f=function t(){h.insertBefore(r.widgets.makeSelectForNestedCategory(s,d,o,r.ns.qu('Classified'),D,W),F.nextSibling)};d.any(void 0,c.rdfs('subClassOf'),c.qu.Classified)?f():u?l.load(u).then(function(t){l.load(d.each(u,c.rdfs('seeAlso'))).then(function(){f()}).catch(function(t){console.log('Error loading background data: '+t)})}).catch(function(t){console.log('Error loading calendarYear: '+t)}):console.log('Can\'t get categories, because no calendarYear'),h.appendChild(r.widgets.makeDescription(s,d,o,r.ns.rdfs('comment'),D,W));var g=d.statementsMatching(void 0,m('trip'),void 0,D).map(function(t){return t.object}),y=d.each(void 0,r.ns.rdf('type'),m('Trip'));g=g.concat(y).sort();var v=function t(n,a,r,o){return l2=a.map(function(t){var a=n.any(t,r);return a=a?a.value:'9999-12-31',[a,t]}),l2.sort(),o&&l2.reverse(),l2.map(function(t){return t[1]})};g=v(d,g,r.ns.cal('dtstart'),!0),1<g.length&&h.appendChild(r.widgets.makeSelectForOptions(s,d,o,m('trip'),g,{multiple:!1,nullLabel:'-- what trip? --',mint:'New Trip *',mintClass:m('Trip'),mintStatementsFun:function t(n){var a=[$rdf.st(n,r.ns.rdf('type'),m('Trip'),n.doc())];return a}},D,W)),h.appendChild(s.createElement('br'));var w=r.panes.getOutliner(s);T(c.rdfs('comment'));var k=r.widgets.attachmentList(s,o,h);T(c.wf('attachment')),h.appendChild(s.createElement('tr')).setAttribute('style','height: 1em'),w.appendPropertyTRs(h,x,!1,function(t,n){return!(t.uri in C)}),w.appendPropertyTRs(h,_,!0,function(t,n){return!(t.uri in C)})})}else if(k['http://www.w3.org/ns/pim/trip#Trip']){var V=function t(){var n={},a={},l={},u=d.each(void 0,m('trip'),o),f=u.map(function(n){return n.doc()});d.fetcher.load(f).then(function(){u.map(function(o){var t=d.the(o,c.qu('date')),s=t?(''+t.value).slice(0,4):'????',u=d.the(o,c.rdf('type'));if(u||(u=r.ns.qu('ErrorNoType')),u&&u.uri){var f=u.uri;a[s]||(a[s]=0),l[s]||(l[s]={}),n[f]||(n[f]=0),l[s][f]||(l[s][f]=0);var m=d.any(o,r.ns.qu('in_USD'));if(m||b('@@ No amount in USD: '+m+' for '+o),m){var h=parseFloat(m.value);n[f]+=h,l[s][f]+=h,a[s]+=h}}});var t=[],f=0,m=[],g;for(var v in l)l.hasOwnProperty(v)&&m.push(v);m.sort();var y=m.length,w=h.appendChild(s.createElement('table')),x;if(w.setAttribute('style','font-size: 120%; margin-left:auto; margin-right:1em; margin-top: 1em; border: 0.05em solid gray; padding: 1em;'),1<y){var _=w.appendChild(s.createElement('tr'));for(_.appendChild(I('')),g=0;g<y;g++)_.appendChild(I(m[g]));_.appendChild(I('total'))}for(var k in n)n.hasOwnProperty(k)&&(t.push(k),f+=n[k]);t.sort();for(var C=0,T,E,N,j;C<t.length;C++){if(j=d.sym(t[C]),T=w.appendChild(s.createElement('tr')),E=T.appendChild(s.createElement('td')),E.textContent=r.utils.label(j),1<y)for(g=0;g<y;g++)N=l[m[g]][t[C]],x=T.appendChild(A(N,!0));T.appendChild(A(n[t[C]],!0))}if(1<t.length){if(T=w.appendChild(s.createElement('tr')),T.appendChild(I('total')),1<y)for(g=0;g<y;g++)N=a[m[g]],x=T.appendChild(A(N?S(N):''));x=T.appendChild(A(f)),x.setAttribute('style','font-weight: bold; text-align: right;')}var R=O(s,u);R.setAttribute('style','margin-left:auto; margin-right:1em; margin-top: 1em; border: padding: 1em;'),h.appendChild(R),r.widgets.attachmentList(s,o,h)}).catch(function(t){b('Error loading transactions: '+t)})};V()}return h}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.iconBase+'noun_142708.svg',name:'period',label:function n(a){var o=r.store,s=o.findTypeURIs(a);return s['http://www.w3.org/2000/10/swap/pim/qif#Period']?'period':null},render:function n(a,o){var s=r.store,d=r.ns,l=o.createElement('div');l.setAttribute('class','periodPane');var c=function t(n,a){return a||'http://www.w3.org/2000/01/rdf-schema#comment'!=n.uri?!1:!0},u=function t(n,a){a==void 0&&(a='color: grey');var r=o.createElement('pre');r.setAttribute('style',a),l.appendChild(r),r.appendChild(o.createTextNode(n))},f=function t(n){return u('\u2713 '+n,'color: #010; background-color: #efe')},m=function t(n){return u(n,'color: #100; background-color: #fee')},h=this,g=function t(n){var r=n.parentNode,s=h.render(a,o);r.replaceChild(s,n)},b=r.store.updater,v=s.statementsMatching(a),w=s.statementsMatching(void 0,void 0,a),x=s.findTypeURIs(a);if(x['http://www.w3.org/2000/10/swap/pim/qif#Period']){var t=s.any(a,d.cal('dtstart'));t===void 0&&m('(Error: There is no start date known for this period <'+a.uri+'>,\n -- every period needs one.)');;var _=s.any(a,d.cal('dtend'));_===void 0&&m('(Error: There is no end date known for this period <'+a.uri+'>,\n -- every period needs one.)');;var k=s.any(a,r.ns.qu('annotationStore'))||null,C=s.each(a,d.rdfs('seeAlso')),T={},E=function t(n){T[n.uri]=!0};E(d.rdf('type'));var S=function n(a){return!!(a&&a>=t&&a<_)},A=function t(a){var n=''+a;return 0<=n.indexOf('.')?n.split('.')[0]+'.'+(n.split('.')[1]+'00').slice(0,2):n+'.00'},I=function t(n){return S(s.any(n,d.qu('date')))},N=function t(n,a){if(dx=r.store.any(n,d.qu('date')),dy=r.store.any(a,d.qu('date')),void 0!==dx&&void 0!==dy){if(dx.value<dy.value)return-1;if(dx.value>dy.value)return 1}return n.uri<a.uri?-1:n.uri>a.uri?1:0},R=function t(){var n='padding: 0.5em 1.5em 1em 1.5em; ';if(account){var a=s.any(account,r.ns.ui('backgroundColor'));a&&(n+='background-color: '+a.value+'; ')}l.setAttribute('style',n)},L=l.appendChild(o.createElement('h2'));L.textContent='Period '+t.value.slice(0,10)+' - '+_.value.slice(0,10);var O=function t(n,a,o){var s=r.panes.byName(o),l=s.render(a,n);return l.setAttribute('style','border: 0.1em solid green;'),l},P=function t(n,a,r,o,s){var d=a.parentNode.children;if(s)for(var l=d.length-1;0<=l;l--)d[l].expanded&&(d[l].parentNode.removeChild(d[l].expanded),d[l].expanded=!1);var c=n.createElement('tr'),u=c.appendChild(n.createElement('td'));u.setAttribute('style','width: 98%; padding: 1em; border: 0.1em solid grey;');var f=a.children.length;a.nextSibling?a.parentNode.insertBefore(c,a.nextSibling):a.parentNode.appendChild(c),a.expanded=c,u.setAttribute('colspan',''+f),u.appendChild(O(n,r,o))},M=function t(n,a,r,o,s){a.expanded?(a.parentNode.removeChild(a.expanded),a.expanded=!1):P(n,a,r,o,s)},D=function t(n,a){var o=n.createElement('table');o.setAttribute('style','margin-left: 100; font-size: 9pt; width: 85%;');var l=function t(n,a){var o=n.createElement('tr'),l=function t(n,a){var o='margin-left: 8em; padding-left: 5em;';if(a){var d=s.any(a,r.ns.ui('backgroundColor'));d&&(o+='background-color: '+d.value+'; ')}n.setAttribute('style',o)},c=s.any(a,d.qu('toAccount'));l(o,c);var u=o.appendChild(n.createElement('td')),f=s.any(a,d.qu('date'));u.textContent=f?f.value.slice(0,10):'???',u.setAttribute('style','width: 7em;');var m=o.appendChild(n.createElement('td'));m.setAttribute('style','width: 36em;');var h=s.any(a,d.qu('payee'));m.textContent=h?h.value:'???';var g=m.appendChild(n.createElement('a'));g.textContent=' \u279C',g.setAttribute('href',a.uri);var b=o.appendChild(n.createElement('td')),y=s.any(a,d.qu('in_USD'));return b.textContent=y?A(y.value):'???',b.setAttribute('style','width: 6em; text-align: right; '),o.addEventListener('click',function(t){M(n,o,a,'transaction',!t.shiftKey)},!1),o},c=a.filter(I);c.sort(N);for(var u=0;u<c.length;u++)o.appendChild(l(n,c[u]));return o},B={"http://www.w3.org/2000/10/swap/pim/qif#Transaction":!0,"http://www.w3.org/2000/10/swap/pim/qif#Unclassified":!0,"http://www.w3.org/2000/10/swap/pim/qif#UnclassifiedOutgoing":!0,"http://www.w3.org/2000/10/swap/pim/qif#UnclassifiedIncome":!0},U=s.findMemberURIs(d.qu('Transaction')),q=[],F=[],H,W,z,x,V;for(var j in U)if(U.hasOwnProperty(j)){for(W=s.sym(j),z=s.each(W,d.rdf('type')),classified=!1,V=0;V<z.length;V++)x=z[V],void 0===B[x.uri]&&(classified=!0);;classified||(H=s.any(W,d.qu('in_USD')),H===void 0&&(H=s.any(W,d.qu('amount'))),H&&0<=(''+H.value).indexOf('-')?F.push(s.sym(j)):q.push(s.sym(j)))}var y,G;q.length?(y=D(o,q),G=y.children.length,l.appendChild(o.createElement('h3')).textContent='Unclassified Income'+(4>G?'':' ('+G+')'),l.appendChild(y)):f('No unclassified income'),F.length?(y=D(o,F),G=y.children.length,l.appendChild(o.createElement('h3')).textContent='Unclassified Outgoings'+(4>G?'':' ('+G+')'),l.appendChild(y)):f('No unclassified outgoings ');var J=function t(n){var a=s.findSubClassesNT(d.qu('Transaction')),r;for(r in a){if(a.hasOwnProperty(r)&&r.slice(1,-1).split('#')[1]===n)return s.sym(r.slice(1,-1));;};return null},K=function t(n,a){var c=J(n),u=[],f=0,h,f;if(!c)return m('Error: No category correspnding to '+n),null;for(var g=s.each(void 0,d.rdf('type'),c),b=0;b<g.length;b++)s.any(g[b],a)||u.push(g[b]);return u.length&&(h=D(o,u),f=h.children.length,l.appendChild(o.createElement('h3')).textContent=r.utils.label(c)+' with no '+r.utils.label(a)+(4>f?'':' ('+f+')'),l.appendChild(h)),f};0===K('Reimbursables',d.trip('trip'))&&f('Reimbursables all have trips'),0===K('Other_Inc_Speaking',d.trip('trip'))&&f('Speaking income all has trips')}return l}}},function(t,n,a){'use strict';var r=a(1),o=r.ns,s=r.store;t.exports={icon:r.icons.iconBase+'noun_346319.svg',name:'chat',label:function t(a){var d=r.store.each(a,o.wf('message')).length;return 0<d?'Chat ('+d+')':s.holds(a,o.rdf('type'),o.meeting('Chat'))?'Meeting chat':s.holds(void 0,o.rdf('type'),o.foaf('ChatChannel'),a)?'IRC log':null},mintClass:o.meeting('Chat'),mintNew:function t(n){var a=s.updater;if(n.me&&!n.me.uri)throw new Error('chat mintNew:  Invalid userid');var r=n.newInstance=n.newInstance||s.sym(n.newBase+'index.ttl#this'),d=r.doc();return s.add(r,o.rdf('type'),o.meeting('Chat'),d),s.add(r,o.dc('title'),'Chat',d),s.add(r,o.dc('created'),new Date,d),n.me&&s.add(r,o.dc('author'),n.me,d),new Promise(function(t,r){a.put(d,s.statementsMatching(void 0,void 0,void 0,d),'text/turtle',function(a,o,s){o?t(n):r(new Error('FAILED to save new tool at: '+a+' : '+s));;})})},render:function t(n,a){var d=function t(n,r){var o=a.createElement('pre');o.setAttribute('style','background-color: '+r||'#eed;'),l.appendChild(o),o.appendChild(a.createTextNode(n))},l=a.createElement('div');l.setAttribute('class','chatPane');var c={},u;if(s.holds(n,o.rdf('type'),o.meeting('Chat')))u=n.doc();else if(s.any(n,r.ns.wf('message')))u=r.store.any(n,r.ns.wf('message')).doc();else if(s.holds(void 0,o.rdf('type'),o.foaf('ChatChannel'),n)||s.holds(n,o.rdf('type'),o.foaf('ChatChannel'))){var f=function t(){var n=new $rdf.Query('IRC log entries'),a=[],r=['chan','msg','date','list','pred','creator','content'];return r.map(function(t){n.vars.push(a[t]=$rdf.variable(t))}),n.pat.add(a.chan,o.foaf('chatEventList'),a.list),n.pat.add(a.list,a.pred,a.msg),n.pat.add(a.msg,o.dc('date'),a.date),n.pat.add(a.msg,o.dc('creator'),a.creator),n.pat.add(a.msg,o.dc('description'),a.content),n};u=n,c.query=f()}else d('Unknown chat type');var m={dom:a,div:l};return r.authn.logIn(m).then(function(t){l.appendChild(r.messageArea(a,s,n,u,c)),s.updater.addDownstreamChangeListener(u,function(){r.widgets.refreshTree(l)})}),l}}},function(t,n,a){'use strict';var r=a(1),o=a(130),s=a(447);t.exports={icon:r.icons.iconBase+'noun_66617.svg',name:'meeting',label:function t(n){var a=r.store,o=r.ns;return a.holds(n,o.rdf('type'),o.meeting('Meeting'))?'Meeting':null},mintClass:r.ns.meeting('Meeting'),mintNew:function t(n){return new Promise(function(t,a){var o=r.store,s=r.ns;n.newInstance=n.newInstance||o.sym(n.newBase+'index.ttl#this');var d=n.newInstance,l=d.doc(),c=r.authn.currentUser();c&&o.add(d,s.dc('author'),c,l),o.add(d,s.rdf('type'),s.meeting('Meeting'),l),o.add(d,s.dc('created'),new Date,l),o.add(d,s.ui('backgroundColor'),new $rdf.Literal('#ddddcc',void 0,s.xsd('color')),l);var u=new $rdf.Collection;o.add(d,s.meeting('toolList'),u,l),u.elements.push(d),o.updater.put(l,o.statementsMatching(void 0,void 0,void 0,l),'text/turtle',function(r,o,s){o?t(n):a(new Error('Error writing meeting configuration: '+s))})})},render:function t(n,a){var d=r.store,l=r.ns,c=d.updater,u=this,f=function t(n,r){console.log(n);var o=a.createElement('pre');o.setAttribute('style','background-color: '+r||'#eed;'),y.appendChild(o),o.appendChild(a.createTextNode(n))},m=function t(n,a){n||f(a)},h=n,g=n.doc(),b=n.dir().uri,y=a.createElement('div'),v=y.appendChild(a.createElement('table')),w=v.appendChild(a.createElement('tr'));w.appendChild(a.createElement('div'));var x=v.appendChild(a.createElement('tr')),_=v.appendChild(a.createElement('td')),k=_.appendChild(a.createElement('table')),C=k.appendChild(a.createElement('tr'));w.setAttribute('style','height: 2em;');var T=null,E=function t(){c.put(g,d.statementsMatching(void 0,void 0,void 0,g),'text/turtle',function(t,n,a){n?(he.refresh(),se()):(a='FAILED to save new thing at: '+g+' : '+a,f(a))})},S=function t(n,a,r){var o=a.doc();r&&d.add(h,r,a,o),d.add(a,l.meeting('parentMeeting'),h,o),c.put(o,d.statementsMatching(void 0,void 0,void 0,o),'text/turtle',function(t,n,r){n?E():f('FAILED to save new tool at: '+a+' : '+r)})},A=function t(n,a,o,s){a&&d.add(h,a,n,g);var c=r.widgets.newThing(g);o&&d.add(c,l.rdfs('label'),o,g),s&&d.add(c,l.meeting('icon'),d.sym(s),g),d.add(c,l.rdf('type'),l.meeting('Tool'),g),d.add(c,l.meeting('target'),n,g);var u=d.the(h,l.meeting('toolList'));return u.elements.push(c),c},I=function t(a){return new Promise(function(t,o){var s=function t(n){var a=A(n,r.ns.wf('attachment'),r.utils.label(n),null);d.add(a,r.ns.meeting('view'),'iframe',g)},c=function t(a){var o=l.wf('attachment');d.add(n,o,a,n.doc());var s={icon:'noun_160581.svg',limit:1,shareTab:!0},c={newInstance:d.sym(n.doc().uri+'#LinkListTool'),pane:r.panes.link,predicate:l.meeting('attachmentTool'),tabTitle:'Links',noIndexHTML:!0};return U(s,c)},b=function t(n){var a=d.any(n,l.foaf('preferredURI')),o=a?d.sym(a):n,s=d.any(h,l.meeting('attendeeGroup')),c=function t(n,a){var o=[$rdf.st(a,r.ns.vcard('hasMember'),n,a.doc())],s=d.any(n,l.vcard('fn'))||d.any(n,l.foaf('name'));s&&o.push($rdf.st(n,r.ns.vcard('fn'),s,a.doc())),d.fetcher.nowOrWhenFetched(a.doc(),void 0,function(t,r){return t?void d.updater.update([],o,function(t,a,r){m(a,r),a&&console.log('Addded to particpants OK: '+n)}):void f('Can\'t read group to add person'+a)})};return s?void c(o,s):void M().then(function(t){var n=t.newInstance;c(o,n),d.fetcher.putBack(g,{contentType:'text/turtle'}).then(function(t){console.log('Particiants Group created: '+n)})}).catch(function(t){f(t)})};console.log('Dropped on thing '+a);var y=a.uri;return y.startsWith('http:')&&0>y.indexOf('#')?(c(a),t(a)):void d.fetcher.nowOrWhenFetched(a,function(n,o){if(!n)return console.log('Error looking up dropped thing '+a+': '+o),t(null);var c=a,u=d.findTypeURIs(c);for(var f in u)console.log('    drop object type includes: '+f);if(l.vcard('Individual').uri in u||l.foaf('Person').uri in u||l.foaf('Agent').uri in u)return b(a),t(a);if(y.startsWith('https:')&&0>y.indexOf('#')){var m=d.fetcher.getHeader(a,'x-frame-options'),h=!0;if(m)for(var v=0;v<m.length;v++)console.log('x-frame-options: '+m[v]),0>m[v].indexOf('sameorigin')&&(h=!1),0>m[v].indexOf('deny')&&(h=!1);if(h)return s(a),t(a)}console.log('Default: assume web page attachement '+a);var w=A(a,r.ns.wf('attachment'),r.utils.label(a),null);return d.add(w,r.ns.meeting('view'),'iframe',g),t(a)})})},N=function t(n){Promise.all(n.map(function(t){var n=$rdf.sym(t);return I(n)})).then(function(t){E()})},j=function t(n){for(var a=0,s;n[a];a++){s=n[a],console.log(' meeting: Filename: '+s.name+', type: '+(s.type||'n/a')+' size: '+s.size+' bytes, last modified: '+(s.lastModifiedDate?s.lastModifiedDate.toLocaleDateString():'n/a'));var d=new FileReader;d.onload=function(t){return function(n){var a=n.target.result;console.log(' File read byteLength : '+a.byteLength);var s=t.type.startsWith('image/')?'Pictures':'Files',d=h.dir().uri+s+'/'+encodeURIComponent(t.name),l=o.extension(t.type);t.type!==o.lookup(t.name)&&(d+='_.'+l,console.log('MIME TYPE MISMATCH -- adding extension: '+d)),r.store.fetcher.webOperation('PUT',d,{data:a,contentType:t.type}).then(function(){console.log(' Upload: put OK: '+d),t.type.startsWith('image/')?O(s):P(s)}).catch(function(t){console.log(' Upload: FAIL '+d+', Error: '+t)})}}(s),d.readAsArrayBuffer(s)}},R=function t(n){var a=b+'Group/',o=r.store,s=o.any(h,l.meeting('particpants'));s||(s=$rdf.sym(a+'index.ttl#this')),console.log('Participant group: '+s);var d=A(s,l.meeting('particpants'),'Particpants',r.icons.iconBase+'noun_339237.svg');o.add(d,r.ns.meeting('view'),'peoplePicker',g),E()},L=function t(n){var a={useExisting:h,pane:r.panes.schedule,view:'schedule',tabTitle:'Schedule poll',noIndexHTML:!0};return U(n,a)},O=function t(n){var a={icon:'noun_598334.svg',limit:1,shareTab:!0},o={newInstance:d.sym(h.dir().uri+n+'/'),pane:r.panes.folder,predicate:l.meeting('pictures'),tabTitle:n,noIndexHTML:!0};return U(a,o)},P=function t(n){var a={icon:'noun_681601.svg',limit:1,shareTab:!0},o={newInstance:d.sym(h.dir().uri+'Files/'),pane:r.panes.folder,predicate:l.meeting('materialsFolder'),tabTitle:'Materials',noIndexHTML:!0};return U(a,o)},M=function t(){var a={icon:'noun_339237.svg',limit:1,shareTab:!0},o={newInstance:d.sym(h.dir().uri+'Attendees/index.ttl#this'),pane:r.panes.contact,predicate:l.meeting('attendeeGroup'),tabTitle:'Attendees',instanceClass:l.vcard('Group'),instanceName:r.utils.label(n)+' attendees',noIndexHTML:!0};return U(a,o)},D=function t(n){var a={newBase:b+'SharedNotes/',predicate:r.ns.meeting('sharedNotes'),tabTitle:'Shared Notes',pane:r.panes.pad};return U(n,a)},B=function t(n){r.widgets.askName(a,d,Y,l.foaf('name'),r.ns.meeting('Meeting')).then(function(t){if(!t)return se();var a=encodeURIComponent(t),o={newBase:b+a+'/',predicate:r.ns.meeting('subMeeting'),tabTitle:t,pane:r.panes.meeting};return U(n,o)}).catch(function(t){f('Error making new sub-meeting: '+t)})},U=function t(n,a){return new Promise(function(t,o){var s=r.store;if(!a.useExisting){var d=s.any(h,a.predicate);if(d){if(f('Already have '+d+' as '+r.utils.label(a.predicate)),n.limit&&1===n.limit)return f('Cant have two'),t(null);if(n.shareTab)return t({me:T,newInstance:d,instanceClass:a.instanceClass})}}T||a.me||o(new Error('Username not defined for new tool')),a.me=a.me||T,a.newInstance=a.useExisting||a.newInstance||s.sym(a.newBase+'index.ttl#this'),a.pane.mintNew(a).then(function(n){var a=A(n.newInstance,n.predicate,n.tabTitle,n.pane.icon);n.view&&s.add(a,r.ns.meeting('view'),n.view,g),E(),s.fetcher.putBack(g,{contentType:'text/turtle'}).then(function(a){t(n)}).catch(function(t){o(t)})}).catch(function(t){f(t),o(t)})})},q=function t(n){},F=function t(n){var a=b+'Actions/',o=r.store;if(o.holds(h,l.meeting('actions')))return void console.log('Ignored - already have actions');var s=o.sym(a+'config.ttl'),d=o.sym(a+'config.ttl#this'),c=o.sym(a+'state.ttl');o.add(d,l.dc('title'),(o.anyValue(h,l.cal('summary'))||'Meeting ')+' actions',s),o.add(d,l.wf('issueClass'),l.wf('Task'),s),o.add(d,l.wf('initialState'),l.wf('Open'),s),o.add(d,l.wf('stateStore'),c,s),o.add(d,l.wf('assigneeClass'),l.foaf('Person'),s),o.add(d,l.rdf('type'),l.wf('Tracker'),s),o.add(d,l.rdf('type'),l.wf('Tracker'),s);var u=A(d,l.meeting('actions'),'Actions',r.icons.iconBase+'noun_17020.svg');S(u,d,l.meeting('actions'))},z=function t(n){var a=b+'Chat/',o=r.store;if(o.holds(h,l.meeting('chat')))return void console.log('Ignored - already have chat');var s=o.sym(a+'chat.ttl');o.add(s,l.rdf('type'),l.meeting('Chat'),s);var d=A(s,l.meeting('chat'),'Chat',r.icons.iconBase+'noun_346319.svg');S(d,s,l.meeting('chat'))},H=function t(n){var a=r.store,o=$rdf.sym('https://appear.in/'+r.utils.genUuid());if(a.holds(h,l.meeting('videoCallPage')))return void console.log('Ignored - already have a videoCallPage');a.add(o,l.rdf('type'),l.meeting('VideoCallPage'),g);var s=A(o,l.meeting('videoCallPage'),'Video call',r.icons.iconBase+'noun_260227.svg');a.add(s,l.meeting('view'),'iframe',g),E()},W=function t(n){r.widgets.askName(a,d,Y,l.log('uri'),r.ns.rdf('Resource')).then(function(t){if(!t)return se();var n=r.store,a=r.ns,o=n.sym(t),s=A(o,a.wf('attachment'),r.utils.label(o),null);n.add(s,a.meeting('view'),'iframe',g),E()}).catch(function(t){f('Error making new sub-meeting: '+t)})},V=function t(n){var a=r.store,o=r.ns,s=h.dir();if(n.limit&&1===n.limit&&a.holds(h,o.wf('sharingControl')))return void f('Ignored - already have '+r.utils.label(fe.predicate));var d=A(s,o.wf('sharingControl'),'Sharing',r.icons.iconBase+'noun_123691.svg');a.add(d,o.meeting('view'),'sharing',g),E()},G=function t(){var n={noun:'meeting'},o=function t(n,o){u.mintNew({newBase:o}).then(function(t){var n=t.newInstance;Y.removeChild(s);var r=Y.appendChild(a.createElement('p'));r.setAttribute('style','font-size: 140%;'),r.innerHTML='Your <a target=\'_blank\' href=\''+n.uri+'\'><b>new meeting</b></a> is ready to be set up. <br/><br/><a target=\'_blank\' href=\''+n.uri+'\'>Go to your new meeting.</a>'}).catch(function(t){Y.removeChild(s),Y.appendChild(r.widgets.errorMessageBlock(a,t))})},s=r.widgets.selectWorkspace(a,n,o);Y.appendChild(s)},J=[{icon:'noun_339237.svg',maker:R,hint:'Make a group of people',limit:1},{icon:'noun_346777.svg',maker:L,hint:'Make a poll to schedule the meeting'},{icon:'noun_48218.svg',maker:q,limit:1,hint:'Add an agenda list',disabled:!0},{icon:'noun_79217.svg',maker:D,hint:'Add a shared notepad'},{icon:'noun_346319.svg',maker:z,limit:1,hint:'Add a chat channel for the meeting'},{icon:'noun_17020.svg',maker:F,limit:1,hint:'Add a list of action items'},{icon:'noun_260227.svg',maker:H,limit:1,hint:'Add a video call for the meeting'},{icon:'noun_25830.svg',maker:W,hint:'Attach meeting materials',disabled:!1},{icon:'noun_123691.svg',maker:V,limit:1,hint:'Control Sharing',disabled:!1},{icon:'noun_66617.svg',maker:B,hint:'Make a sub meeting',disabled:!1}],K=$rdf.sym('https://linkeddata.github.io/solid-app-set/meeting/meetingDetailsForm.ttl#settings');$rdf.parse(s,d,K.doc().uri,'text/turtle');var X='padding: 1em; width: 3em; height: 3em;',Z=C.appendChild(a.createElement('td')),Y=C.appendChild(a.createElement('td')),Q=Z.appendChild(a.createElement('img')),ee=!1;Q.setAttribute('src',r.icons.iconBase+'noun_19460_green.svg'),Q.setAttribute('style',X+'opacity: 50%;'),Q.setAttribute('title','Add another tool to the meeting');var te=function t(n){ee=!ee,Q.setAttribute('style',X+(ee?'background-color: yellow;':'')),oe(ee?'':'display: none;')},ne;r.authn.checkUser().then(function(t){return t?(T=t,Q.addEventListener('click',te),void Q.setAttribute('style',X)):void(ne=r.authn.loginStatusBox(a,function(t){t?(T=d.sym(t),Y.removeChild(ne),Q.addEventListener('click',te),Q.setAttribute('style',X)):(console.log('(Logged out)'),T=null)}),ne.setAttribute('style','margin: 0.5em 1em;'),Y.appendChild(ne))});for(var ae=[],re=0,ie;re<J.length;re++)ie=function t(){var n=J[re],o=Z.appendChild(a.createElement('img'));o.setAttribute('src',r.icons.iconBase+n.icon),o.setAttribute('style',X+'display: none;'),ae.push(o),o.tool=n;var s=n.maker;n.disabled||o.addEventListener('click',function(t){de(o),s(n)})},ie();var oe=function t(n){for(var a=0,r;a<ae.length;a++)r=X+n,J[a].disabled&&(r+='opacity: 0.3;'),ae[a].setAttribute('style',r)},se=function t(){oe('display: none;'),Q.setAttribute('style',X)},de=function t(n){oe('display: none;'),n.setAttribute('style',X+'background-color: yellow;')},le=function t(n,o){if(d.holds(o,l.rdf('type'),l.meeting('Tool'))){var c=d.any(o,l.meeting('target')),u=d.any(o,l.rdfs('label'));u=u?u.value:r.utils.label(c);var f=n.appendChild(a.createElement('div'));f.textContent=u,f.setAttribute('style','margin-left: 0.7em');var s=d.any(o,l.meeting('icon'));if(s){var m=n.appendChild(a.createElement('table')),h=m.appendChild(a.createElement('tr')),g=h.appendChild(a.createElement('td')),b=h.appendChild(a.createElement('td')),y=g.appendChild(a.createElement('img'));y.setAttribute('src',s.uri),y.setAttribute('style','width: 1.5em; height: 1.5em;'),y.setAttribute('title',u),b.appendChild(f)}else n.appendChild(f)}else n.textContent=r.utils.label(o)},pe=function t(n){var r=a.createElement('div'),o=r.appendChild(a.createElement('p'));return o.setAttribute('style','margin: 0em; padding:3em; color: #888;'),o.textContent='Tip: '+n,r},ce=function t(n,o){if(n.innerHTML='',n.style+='border-color: #eed;',n.appendChild(a.createElement('h3')).textContent='Adjust this tab',d.holds(o,l.rdf('type'),l.meeting('Tool'))){var s=$rdf.sym('https://linkeddata.github.io/solid-app-set/meeting/meetingDetailsForm.ttl#settings');r.widgets.appendForm(document,n,{},o,s,h.doc(),m);var c=r.widgets.deleteButtonWithCheck(a,n,'tab',function(){for(var t=d.the(h,l.meeting('toolList')),n=0;n<t.elements.length;n++)if(t.elements[n].sameTerm(o)){t.elements.splice(n,1);break}var a=d.any(o,l.meeting('target')),r=d.statementsMatching(o).concat(d.statementsMatching(void 0,void 0,o)).concat(d.statementsMatching(h,void 0,a));d.remove(r),E()});c.setAttribute('style','width: 1.5em; height: 1.5em;')}else n.appendChild(a.createElement('h4')).textContent='(No adjustments available)'},ue=function t(n,o){var s=null,c=null,u;n.innerHTML='';var m=function t(a,r){a||(n.textContent=''+r)},b=function t(r){var o=n.appendChild(a.createElement('iframe'));o.setAttribute('src',r.uri),o.setAttribute('style','border: none; margin: 0; padding: 0; height: 100%; width: 100%;')},y=function t(){var o={div:n,dom:a};n.appendChild(a.createElement('h4')).textContent='Meeting Participants';var s=function t(n){var a=[$rdf.st(h,l.meeting('particpantGroup'),n,h.doc())];d.updater.update([],a,{},function(t,a,r){a?c=n:f('Cant save participants group: '+r)})};c=d.any(h,l.meeting('particpantGroup')),r.authn.loadTypeIndexes(o).then(function(t){var n={defaultNewGroupName:'Meeting Participants',selectedGroup:c},a=new r.widgets.PeoplePicker(t.div,t.index.private[0],s,n);a.render()})},v=function t(){n.appendChild(a.createElement('h3')).textContent='Details of meeting';var o=$rdf.sym('https://linkeddata.github.io/solid-app-set/meeting/meetingDetailsForm.ttl#main');r.widgets.appendForm(document,n,{},h,o,h.doc(),m),n.appendChild(pe('Drag URL-bar icons of web pages into the tab bar on the left to add new meeting materials.')),T=r.authn.currentUser(),T&&d.add(h,l.dc('author'),T,g);var s={noun:'meeting',me:T,statusArea:n,div:n,dom:a};r.authn.registrationControl(s,h,l.meeting('Meeting')).then(function(t){console.log('Registration control finsished.')});var c={};r.pad.manageParticipation(a,n,g,h,T,c);var u='height: 2em; width: 2em; margin:0.5em;',f=n.appendChild(a.createElement('div')),b=f.appendChild(a.createElement('img'));b.setAttribute('src',r.icons.iconBase+'noun_145978.svg'),b.setAttribute('title','Make a fresh new meeting'),b.addEventListener('click',G),b.setAttribute('style',u);var y=f.appendChild(a.createElement('a'));y.setAttribute('href','https://github.com/linkeddata/solid-app-set'),y.setAttribute('target','_blank');var v=y.appendChild(a.createElement('img'));v.setAttribute('src',r.icons.iconBase+'noun_368567.svg'),v.setAttribute('title','Fork me on github'),v.setAttribute('style',u+'opacity: 50%;')};if(d.holds(o,l.rdf('type'),l.meeting('Tool'))){var w=d.any(o,l.meeting('target'));if(w.sameTerm(h)&&!d.any(o,l.meeting('view')))v();else{var x=d.any(o,l.meeting('view'));x=x?x.value:null,'details'===x?v():'peoplePicker'===x?y():'iframe'===x?b(w):(s=x?r.panes.byName(x):null,u=n.appendChild(a.createElement('table')),r.outline.GotoSubject(w,!0,s,!1,void 0,u))}}else if(o.sameTerm(h))v();else if(o.sameTerm(o.doc())&&!d.holds(o,r.ns.rdf('type'),r.ns.meeting('Chat'))&&!d.holds(o,r.ns.rdf('type'),r.ns.meeting('PaneView')));else u=n.appendChild(a.createElement('table')),r.outline.GotoSubject(o,!0,void 0,!1,void 0,u)},fe={dom:a};fe.predicate=l.meeting('toolList'),fe.subject=n,fe.ordered=!0,fe.orientation=1,fe.renderMain=ue,fe.renderTab=le,fe.renderTabSettings=ce,fe.backgroundColor=d.anyValue(n,l.ui('backgroundColor'))||'#ddddcc';var he=x.appendChild(r.tabs.tabWidget(fe));return r.aclControl.preventBrowserDropEvents(a),r.widgets.makeDropTarget(he.tabContainer,N,j),r.widgets.makeDropTarget(Z,N,j),y}}},function(t,n,a){'use strict';t.exports='@prefix : <http://www.w3.org/ns/ui#> .\n@prefix f: <#> .\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix cal: <http://www.w3.org/2002/12/cal/ical#>.\n@prefix meeting: <http://www.w3.org/ns/pim/meeting#>.\n@prefix ns: <http://www.w3.org/2006/vcard/ns#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix te: <http://purl.org/dc/terms/> .\n@prefix dc: <http://purl.org/dc/elements/1.1/>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n@prefix ui: <http://www.w3.org/ns/ui#>.\n\n  f:main    a :Form;\n      cal:summary "Meeting Details";\n      :part f:titleField, f:locationField, f:startField,\n                    f:endField, f:eventComment, f:colorField .\n\n  f:titleField     a :SingleLineTextField;\n       :maxLength 256;\n       :property cal:summary;\n       :label "Name of meeting";\n       :size 80 .\n\n   f:locationField     a :SingleLineTextField;\n        :maxLength 128;\n        :property cal:location;\n        :size 40 .\n\n    f:startField     a :DateField;\n        :label "Start";\n         :property cal:dtstart .\n\n   f:endField     a :DateField;\n       :label "End";\n          :property cal:dtend .\n\n    f:colorField     a :ColorField;\n        :label "Tab color";\n  #      :default "#ddddcc"^^xsd:color;\n           :property ui:backgroundColor .\n\n      f:eventComment\n           a    ui:MultiLineTextField;\n       #    ui:maxLength\n       #       "1048";\n       #    ui:size\n       #       "40".\n           ui:property\n              cal:comment.\n\n###################################################\n\nf:settings a :Form;\n    dc:title "Tab settings";\n    :part f:labelField, f:targetField, f:viewField.\n\n    f:labelField     a :SingleLineTextField;\n         :maxLength 128;\n         :property rdfs:label;\n         :label "Label on tab";\n         :size 40 .\n\n   f:targetField     a :NamedNodeURIField;\n     :maxLength 1024;  # Longer?\n     :property meeting:target;\n     :label "URL of resource";\n     :size 80 .\n\n   f:colorField2     a :ColorField;\n       :label "Tab color";\n #      :default "#ddddcc"^^xsd:color;\n          :property ui:backgroundColor .\n\n   f:viewField     a :SingleLineTextField;\n        :maxLength 128;\n        :property meeting:view;\n        :label "View mode (experts only)";\n        :size 40 .\n\n#\n'},function(t,n,a){'use strict';var r=a(1),o=r.ns,s=r.store;t.exports={icon:r.icons.iconBase+'noun_688606.svg',name:'tabbed',label:function t(n){var a=r.store,o=r.ns,s=a.findTypeURIs(n);return o.meeting('Cluster').uri in s?'Tabbed':null},render:function t(n,a){var d=a.createElement('div');return s.fetcher.load(n).then(function(t){var l=function t(n,o){n.appendChild(r.widgets.personTR(a,f,o,{}))},c=function t(n,o){var s=null;n.innerHTML='';var d=n.appendChild(a.createElement('table'));r.outline.GotoSubject(o,!0,s,!1,void 0,d)},u=s.anyValue(n,o.meeting('orientation'))||0,f=s.the(n,o.meeting('predicate')),m={dom:a,subject:n};m.predicate=s.any(n,o.meeting('predicate'))||o.meeting('toolList'),m.ordered=!0,m.orientation=s.anyValue(n,o.meeting('orientation'))||0,m.renderMain=c,m.renderTab=l,m.backgroundColor=s.anyValue(n,o.ui('backgroundColor'))||'#ddddcc';var h=d.appendChild(r.tabs.tabWidget(m))}),d}}},function(t,n,a){'use strict';var r=a(1),o=r.rdf,s=r.ns,d=[s.sched('No'),s.sched('Maybe'),s.sched('Yes')];t.exports={icon:r.icons.iconBase+'noun_346777.svg',name:'schedule',label:function n(a){var o=r.store,s=o.findTypeURIs(a);return s['http://www.w3.org/ns/pim/schedule#SchedulableEvent']?'Scheduling poll':null},mintClass:s.sched('SchedulableEvent'),mintNew:function t(n){return new Promise(function(t,a){var s=r.ns,d=r.store,l=n.newBase,c=n.useExisting||o.sym(n.newBase+'index.ttl#this'),u=function t(n,r){n||(console.log('Error in Schedule Pane: Error constructing new scheduler: '+r),a(new Error(r)))},m=function t(n,d,l){var c=o.graph(),u=o.Namespace('http://www.w3.org/ns/auth/acl#'),f=c.sym(d+'#a1'),a=c.sym(d),m=c.sym(n);return c.add(f,r.ns.rdf('type'),u('Authorization'),a),c.add(f,u('accessTo'),m,a),c.add(f,u('agent'),y,a),c.add(f,u('mode'),u('Read'),a),c.add(f,u('mode'),u('Write'),a),c.add(f,u('mode'),u('Control'),a),f=c.sym(d+'#a2'),c.add(f,r.ns.rdf('type'),u('Authorization'),a),c.add(f,u('accessTo'),m,a),c.add(f,u('agentClass'),s.foaf('Agent'),a),c.add(f,u('mode'),u('Read'),a),l&&c.add(f,u('mode'),u('Write'),a),o.serialize(a,c,d,'text/turtle')},h=function t(n,a,r){var o=d.any(d.sym(n),d.sym('http://www.iana.org/assignments/link-relations/acl'));if(o){var s=m(n,o.uri,a);return g.webOperation('PUT',o.uri,{data:s,contentType:'text/turtle'}).then(function(t){return r(!0)}).catch(function(t){r(!1,t.message)})}return g.load(n).catch(function(t){r(!1,'Getting headers for ACL: '+t)}).then(function(){var t=d.any(d.sym(n),d.sym('http://www.iana.org/assignments/link-relations/acl'));if(!t)throw new Error('No Link rel=ACL header for '+n);var r=m(n,t.uri,a);return g.webOperation('PUT',t.uri,{data:r,contentType:'text/turtle'})}).then(function(t){return r(!0)}).catch(function(t){r(!1,t.message)})},g=d.fetcher,b=d.updater,y=r.authn.currentUser();if(!y)return console.log('MUST BE LOGGED IN'),void alert('NOT LOGGED IN');var v=c.dir().uri,w,x;if(!n.useExisting)w=d.sym(l+'details.ttl'),x=d.sym(w.uri+'#event');else if(x=n.useExisting,l=c.dir().uri,w=x.doc(),n.newBase)throw new Error('mint new scheduler: Illegal - have both new base and existing event');for(var _=d.sym(l+'results.ttl'),k=n.noIndexHTML?{}:[{local:'index.html',contentType:'text/html'}],C=[],T=0;T<k.length;T++){var f=k[T],E=function t(n){C.push(function(){var t=l+n.local;console.log('Copying '+v+n.local+' to '+t);var a=function n(){h(t,!1,function(n,a){n?C.shift()():(u(n,'FAILED to set ACL '+t+' : '+a),console.log('FAILED to set ACL '+t+' : '+a))})};d.fetcher.webCopy(v+n.local,l+n.local,n.contentType).then(function(){return r.authn.checkUser()}).then(function(t){y=t,a()}).catch(function(t){console.log('FAILED to copy '+v+n.local+' : '+t.message),u(!1,'FAILED to copy '+v+n.local+' : '+t.message)})})};E(f)}C.push(function t(){d.add(x,s.rdf('type'),s.sched('SchedulableEvent'),w),y&&d.add(x,s.dc('author'),y,w),d.add(x,s.dc('created'),new Date,w),d.add(x,s.sched('resultsDocument'),w),b.put(w,d.statementsMatching(void 0,void 0,void 0,w),'text/turtle',function(t,n,a){n?C.shift()():(u(n,'FAILED to save new scheduler at: '+w+' : '+a),console.log('FAILED to save new scheduler at: '+w+' : '+a))})}),C.push(function(){d.fetcher.webOperation('PUT',_.uri,{data:'',contentType:'text/turtle'}).then(function(){C.shift()()}).catch(function(t){u(!1,'Failed to initialize empty results file: '+t.message)})}),C.push(function(){h(_.uri,!0,function(t,n){u(t,'Failed to set Read-Write ACL on results file: '+n),t&&C.shift()()})}),C.push(function(){h(w.uri,!1,function(t,n){u(t,'Failed to set read ACL on configuration file: '+n),t&&C.shift()()})}),C.push(function(){console.log('Finished minting new scheduler'),t(n)}),C.shift()()})},render:function t(n,a){var s=r.store,d=r.ns,l=n,c='app-when-can-we.w3.org',u=r.store.fetcher,f=s.updater,m=!1,h=o.Namespace('http://www.w3.org/2002/12/cal/ical#'),g=n,b=n.doc(),y=b.dir(),v=y.uri,w=o.sym(v+'results.ttl'),x='https://linkeddata.github.io/solid-app-set/schedule/formsForSchedule.ttl',_=s.sym(x+'#form1'),k=s.sym(x+'#form2'),C=s.sym(x+'#form3'),T='background-color: #eef; padding: 0.5em;  border: .5em solid white;',E=function t(n,o){n||z.appendChild(r.widgets.errorMessageBlock(a,o,'pink'))},S=function t(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n},A=function t(n,a){var o=s.any(a,r.ns.ui('backgroundColor'));o&&n.setAttribute('style','padding: 0.3em; text-align: center; background-color: '+o+';')},I;r.authn.checkUser().then(function(t){I=t,V&&V.refresh(),t&&m&&(m=!1,M())}),console.log('me: '+I);var N=function t(){var n=r.authn.newAppInstance(a,{noun:'scheduler'},j);return n.firstChild.setAttribute('style',T),n},j=function t(n){var a=s.any(n,d.space('uriPrefix'));a=a?a.value:n.uri.split('#')[0],'/'!==a.slice(-1)&&(o.log.error(c+': No / at end of uriPrefix '+a),a+='/');var r=new Date;a+=c+'/id'+r.getTime()+'/',R(g,a)},R=function t(n,r){var o={thisInstance:n,newBase:r};this.mintNew(o).then(function(t){var n=z.appendChild(a.createElement('p'));n.setAttribute('style','font-size: 140%;'),n.innerHTML='Your <a href=\''+t.newInstance.uri+'\'><b>new scheduler</b></a> is ready to be set up. <br/><br/><a href=\''+t.newInstance.uri+'\'>Say when you what days work for you.</a>'}).catch(function(t){E(!1,'Error createing new scheduler at '+o.newInstance+': '+t)})},L=function t(){console.log('getforms()'),u.nowOrWhenFetched(x,void 0,function(t,n){return console.log('getforms() ok? '+t),t?void O():E(t,n)})},O=function t(){console.log('getDetails()'),u.nowOrWhenFetched(b.uri,void 0,function(t,n){return console.log('getDetails() ok? '+t),t?void M():E(t,n)})},P=function t(){var n=window.addEventListener?'addEventListener':'attachEvent',a=window[n],r='attachEvent'==n?'onmessage':'message';a(r,function(t){if('User:'===t.data.slice(0,5)){var n=t.data.slice(5,t.data.length);'http'===n.slice(0,4)&&setUser(n)}},!1)},M=function t(){console.log('showAppropriateDisplay()'),r.authn.checkUser().then(function(t){if(!t)return D();if(!r.store.updater.editable(b.uri,s)||s.holds(n,d.rdf('type'),d.wf('TemplateInstance')))return void B(z);var a=s.any(n,d.sched('ready'));a?q():U()})},D=function t(){var n=S(J),a=window&&window.location?window.location.origin:'';n.innerHTML='<p style="font-size: 120%; background-color: #ffe; padding: 2em; margin: 1em; border-radius: 1em;">You need to be logged in.<br />To be able to use this app you need to log in with webid account at a storage provider.</p> <iframe class="text-center" src="https://solid.github.io/solid-idps/?origin='+a+'" style="margin-left: 1em; margin-right: 1em; width: 95%; height: 40em;"  sandbox="allow-same-origin allow-scripts allow-forms" frameborder="0"></iframe>',P(),m=!0},B=function t(){var n=S(J);n.appendChild(r.authn.newAppInstance(a,{noun:'poll'},j)),n.appendChild(a.createElement('hr'));var o=n.appendChild(a.createElement('p'));o.textContent='Where would you like to store the data for the poll?  Give the URL of the directory where you would like the data stored.';var s=n.appendChild(a.createElement('input'));s.setAttribute('type','text'),s.size=80,s.label='base URL',s.autocomplete='on',n.appendChild(a.createElement('br'));var d=n.appendChild(a.createElement('button'));d.setAttribute('style',T),d.textContent='Start new poll at this URI',d.addEventListener('click',function(t){var n=s.value;'/'!==n.slice(-1)&&(n+='/'),R(g,n)})},U=function t(){var l=J,c=!0,u=0,m=!1;if(c){var h=[_,k,C],g=[];u=0;for(var y=0,f;y<h.length;y++)f=a.createElement('div'),r.widgets.appendForm(document,f,{},n,h[y],b,E),g.push(f);var x=function t(){S(J).appendChild(g[u]),0==u?A.setAttribute('disabled',''):A.removeAttribute('disabled'),u==g.length-1?(I.setAttribute('disabled',''),!m&&(Z.appendChild(L),Z.appendChild(R),m=!0)):I.removeAttribute('disabled')},A=S(X).appendChild(a.createElement('button'));A.setAttribute('style',T),A.textContent='<- go back',A.addEventListener('click',function(t){0<u&&(u-=1,x())},!1);var I=S(Y).appendChild(a.createElement('button'));I.setAttribute('style',T),I.textContent='continue ->',I.addEventListener('click',function(t){u<g.length-1&&(u+=1,x())},!1),x()}else{var N=l.appendChild(a.createElement('table'));r.widgets.appendForm(document,N,{},n,_,b,E),r.widgets.appendForm(document,N,{},n,k,b,E),r.widgets.appendForm(document,N,{},n,C,b,E),Z.appendChild(R)}var j=[o.st(n,d.sched('availabilityOptions'),d.sched('YesNoMaybe'),b),o.st(n,d.sched('ready'),new Date,b),o.st(n,d.sched('results'),w,b)],R=a.createElement('button');R.setAttribute('style',T),R.textContent='Go to poll',R.addEventListener('click',function(t){s.any(n,d.sched('ready'))?(q(),Y.appendChild(L)):(Y.appendChild(L),r.store.updater.update([],j,function(t,n,a){n?q():E(n,a)}))},!1);var L=a.createElement('button');L.setAttribute('style',T);var O=L.appendChild(a.createElement('img'));O.setAttribute('src',r.icons.iconBase+'noun_480183.svg'),L.textContent='email invitations',L.addEventListener('click',function(t){var a=''+(s.any(n,d.dc('title'))||''),r='mailto:'+s.each(n,d.sched('invitee')).map(function(t){var n=s.any(t,d.foaf('mbox'));return n?''+n:''}).join(',')+'?subject='+encodeURIComponent(a+'-- When can we meet?')+'&body='+encodeURIComponent(a+'\n\nWhen can you?\n\nSee '+v+'index.html\n');console.log('Mail: '+r),window.location.href=r},!1)},q=function t(){u.nowOrWhenFetched(w.uri,function(t,n,a){t?(S(J),F()):404===a.status?(console.log('Initializing details file '+w),f.put(w,[],'text/turtle',function(t,n,a){n?(S(J),F()):(E(n,'FAILED to create results file at: '+w.uri+' : '+a),console.log('FAILED to craete results file at: '+w.uri+' : '+a))})):E(t,'FAILED to read results file: '+n)})},F=function t(){var c=s.any(l,d.dc('title')),u=s.any(l,d.rdfs('comment')),f=s.any(l,h('location')),m=J;c&&(m.appendChild(a.createElement('h3')).textContent=c),f&&(m.appendChild(a.createElement('address')).textContent=f.value),u&&(m.appendChild(a.createElement('p')).textContent=u.value);var g=s.any(l,d.dc('author'));if(g){var b=s.any(g,d.foaf('name'));b&&(m.appendChild(a.createElement('p')).textContent=b)}var y=new o.Query('Responses'),_={},v=['time','author','value','resp','cell'];v.map(function(t){y.vars.push(_[t]=o.variable(t))}),y.pat.add(l,d.sched('response'),_.resp),y.pat.add(_.resp,d.dc('author'),_.author),y.pat.add(_.resp,d.sched('cell'),_.cell),y.pat.add(_.cell,d.sched('availabilty'),_.value),y.pat.add(_.cell,h('dtstart'),_.time);var x={};x.set_x=s.each(n,d.sched('option')),x.set_x=x.set_x.map(function(t){return s.any(t,h('dtstart'))}),x.set_y=s.each(n,d.sched('response')),x.set_y=x.set_y.map(function(t){return s.any(t,d.dc('author'))});var k=s.each(l,d.sched('option')).map(function(t){return s.any(t,h('dtstart'))}),C=function t(){var o=m.appendChild(r.matrix.matrixForQuery(a,y,_.time,_.author,_.value,x,function(){}));o.setAttribute('class','matrix');var s=a.createElement('button');s.setAttribute('style',T),s.textContent='refresh',s.addEventListener('click',function(t){s.disabled=!0,r.store.fetcher.nowOrWhenFetched(n.doc(),void 0,function(t,n){t?(o.refresh(),s.disabled=!1):console.log('Cant refresh matrix'+n)})},!1),S(Z),Z.appendChild(s)},I=[SCHED('No'),SCHED('Maybe'),SCHED('Yes')],R=r.authn.currentUser(),L=[];if(R){var O=w;x.set_y=x.set_y.filter(function(t){return!t.sameTerm(R)}),x.set_y.push(R),x.cellFunction=function(t,n,o,l){if(null!==l&&s.fetcher.nowOrWhenFetched(l.uri.split('#')[0],void 0,function(n,a,r){A(t,l)}),o.sameTerm(R)){var c=function n(){A(t,l)},u={},f=d.sched('availabilty'),m=L[n.toNT()],h=r.widgets.makeSelectForOptions(a,s,m,f,I,u,w,c);t.appendChild(h)}else null!==l&&(t.textContent=r.utils.label(l))};var P=s.each(l,d.sched('response')),M=null;P.map(function(t){s.holds(t,d.dc('author'),R)&&(M=t)});var D=[],B=r.widgets.newThing(O).uri;if(null===M)M=o.sym(B+'_response'),D.push(o.st(l,d.sched('response'),M,O)),D.push(o.st(M,d.dc('author'),R,O));else{var q=s.each(M,d.sched('cell'));q.map(function(t){var n=s.any(t,h('dtstart'));L[n.toNT()]=t})}for(var F=0;F<k.length;F++)if(!L[k[F].toNT()]){var j=o.sym(B+'_'+F);D.push(o.st(M,d.sched('cell'),j,O)),D.push(o.st(j,h('dtstart'),k[F],O)),L[k[F].toNT()]=j}D.length?r.store.updater.update([],D,function(t,n,a){n?C():E(n,a)}):C()}else;var z=s.any(n,d.dc('author'));if(!z||z.sameTerm(R)){var H=a.createElement('button');H.setAttribute('style',T),H.textContent='(Modify the poll)',H.addEventListener('click',function(t){S(m),U()},!1),S(X),X.appendChild(H)}S(Y),Y.appendChild(N())},z=a.createElement('div'),H=z.appendChild(a.createElement('table'));H.setAttribute('style','background-color: white; min-width: 40em; min-height: 13em;');var W=H.appendChild(a.createElement('tr'));W.appendChild(a.createElement('td')),W.appendChild(a.createElement('td')),W.appendChild(a.createElement('td'));var V=null,G=H.appendChild(a.createElement('tr')),J=G.appendChild(a.createElement('td'));J.setAttribute('colspan','3');var K=H.appendChild(a.createElement('tr'));K.setAttribute('class','naviMenu'),K.setAttribute('style',' text-align: middle; vertical-align: middle; padding-top: 4em; ');var X=K.appendChild(a.createElement('td')),Z=K.appendChild(a.createElement('td')),Y=K.appendChild(a.createElement('td'));return L(),z}}},function(t,n,a){'use strict';var r=a(1),o=r.ns,s=r.store,d=o.wf('attachment');t.exports={icon:r.icons.iconBase+'noun_160581.svg',name:'link',label:function t(n){var a=s.any(n,o.meeting('target'))||n,l=s.each(a,d).length;return 0<l?r.utils.label(d)+' '+l:null},mintNew:function t(n){return new Promise(function(t,a){t(n)})},render:function t(n,a){var l=s.any(n,o.meeting('target'))||n;createNewRow=function t(n){var o={};return r.widgets.personTR(a,d,n,o)};var c=a.createElement('div'),u=c.appendChild(a.createElement('table')),f=function t(){var n=s.each(l,d);r.utils.syncTableToArray(u,n,createNewRow)};return c.refresh=f,f(),c}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.iconBase+'noun_62007.svg',name:'travel expenses',label:function n(a){var o=$rdf.Namespace('http://www.w3.org/2000/10/swap/pim/qif#'),s=r.store,d=s.findTypeURIs(a);return r.ns.qu('Transaction')in s.findSuperClassesNT(a)?'by Trip':d['http://www.w3.org/ns/pim/trip#Trip']?'Trip $':null},render:function n(a,o){var s=r.store,d=r.ns,l=$rdf.Namespace('http://www.w3.org/2002/12/cal/ical#'),c=$rdf.Namespace('http://www.w3.org/2005/01/wf/flow#'),u=$rdf.Namespace('http://purl.org/dc/elements/1.1/'),f=$rdf.Namespace('http://purl.org/dc/terms/'),m=$rdf.Namespace('http://www.w3.org/2000/10/swap/pim/qif#'),h=$rdf.Namespace('http://www.w3.org/ns/pim/trip#'),g=o.createElement('div');g.setAttribute('class','transactionPane'),g.innerHTML='<h2>Trip transactions</h2>';var b=function t(n,a){return a||'http://www.w3.org/2000/01/rdf-schema#comment'!=n.uri?!1:!0},y=function t(n,a){a==void 0&&(a='color: grey');var r=o.createElement('pre');r.setAttribute('style',a),g.appendChild(r),r.appendChild(o.createTextNode(n))},v=this,w=function t(n){var r=n.parentNode,s=v.render(a,o);r.replaceChild(s,n)},_=s.statementsMatching(a),k=s.statementsMatching(void 0,void 0,a),C=s.findTypeURIs(a),t=r.authn.currentUser(),T=function t(n,a){var l=new $rdf.Query(r.utils.label(n)),c=['date','transaction','comment','type','in_USD'],u={};c.map(function(t){l.vars.push(u[t]=$rdf.variable(t))}),l.pat.add(u.transaction,h('trip'),n);var f=s.formula();f.add(u.transaction,d.rdf('type'),u.type),l.pat.optional.push(f),l.pat.add(u.transaction,r.ns.qu('date'),u.date);var f=s.formula();f.add(u.transaction,d.rdfs('comment'),u.comment),l.pat.optional.push(f),l.pat.add(u.transaction,r.ns.qu('in_USD'),u.in_USD);var m=function t(){var a={},o=s.each(void 0,h('trip'),n);o.map(function(n){var t=s.the(n,d.rdf('type'));if(t||(t=r.ns.qu('ErrorNoType')),t&&t.uri){var o=t.uri;a[o]||(a[o]=0);var l=s.any(n,r.ns.qu('in_USD'));l||y('    @@ No amount in USD: '+l+' for '+n),l&&(a[o]+=parseFloat(l.value))}});var l='',c=0,u=0;for(var f in a)l+=r.utils.label(s.sym(f))+': '+a[f]+'; ',c++,u+=a[f];y('Totals of '+o.length+' transactions: '+l,''),1<c&&y('Overall net: '+u,'text-treatment: bold;')},g=r.table(o,{query:l,onDone:m});a.appendChild(g)};if(r.ns.qu('Transaction')in s.findSuperClassesNT(a)){ts=s.each(void 0,d.rdf('type'),a);for(var E=[],S=[],A=0;A<ts.length;A++){var I=ts[A],N=s.any(I,h('trip'));if(!N)E.push(I);else{I in S||(S[N]={total:0,transactions:[]});var R=s.any(I,r.ns.qu('in_USD'));R&&(S[N].total+=R);var L=s.any(I,r.ns.qu('date'));S[N.toNT()].transactions.push([L,I])}}var O=[],P;for(var x in S){var M=s.fromNT(x);O.push([s.any(M,l('dtstart')),M])}O.sort();for(var D=0,j;D<O.length;D++)j=O[D][1],T(j,g)}else C['http://www.w3.org/ns/pim/trip#Trip']&&T(a,g);return g}}},function(t,n,a){'use strict';var r=a(1),o=r.rdf.Namespace('http://dig.csail.mit.edu/TAMI/2007/amord/air#'),s=r.rdf.Namespace('http://dig.csail.mit.edu/TAMI/2007/amord/tms#'),d=o('compliant-with'),l=o('non-compliant-with'),c=s('antecedent-expr'),u=s('justification'),f=s('sub-expr'),m=s('description'),h=s('rule-name'),g=s('premise'),b=o('instanceOf'),y=[],v=t.exports={};v.name='air',v.icon=r.icons.originalIconBase+'1pt5a.gif',v.label=function(t){y=[];for(var n=r.store.statementsMatching(void 0,u,void 0,t),a=null,o=0;o<n.length;o++)if('Graph'==n[o].subject.termType&&n[o].object!=g.toString()){var s=n[o].subject.statements;if(1!=s.length)throw new Error('There should be only ONE statement indicating some event is (non-)compliant with some policy!');if(s[0].predicate.toString()==d.toString()){var c=r.utils.label(s[0].subject)+' is compliant with '+r.utils.label(s[0].object),f=[];f.push(s[0].object),f.push(d.toString()),f.push(c),y.push(f)}if(s[0].predicate.toString()==l.toString()){var m=r.utils.label(s[0].subject)+' is non compliant with '+r.utils.label(s[0].object),h=[];h.push(s[0].object),h.push(l.toString()),h.push(m),y.push(h)}a='Justify'}return a},v.render=function(t,n){var a=r.panes.dataContentPane.statementsAsTables,s=n.createElement('div'),w=r.widgets.extractLogURI(n.location.toString()),x;s.setAttribute('class','dataContentPane'),s.setAttribute('id','dataContentPane');var _=n.createElement('select'),k=n.createElement('div');k.setAttribute('id','outcome'),v.render.showSelected=function(){if(null!=n.getElementById('outcome')&&(n.getElementById('outcome').innerHTML=''),v.render.showSelected.hide=function(){null!=n.getElementById('outcome')&&(n.getElementById('outcome').innerHTML='');var t=n.getElementById('dataContentPane'),a=n.getElementById('justification'),r=n.getElementById('hide'),s=n.getElementById('more'),d=n.getElementById('outcome'),o=n.getElementById('whyButton');null!=t&&null!=s&&t.removeChild(s),null!=t&&null!=a&&null!=r&&(t.removeChild(a),t.removeChild(r)),null!=t&&null!=d&&t.removeChild(d),null!=t&&null!=o&&t.removeChild(o)},v.render.showSelected.hide(),0!=this.selectedIndex){selected=y[this.selectedIndex-1];for(var x=r.store.statementsMatching(void 0,u,void 0,t),_=0;_<x.length;_++)if('Graph'==x[_].subject.termType&&x[_].object!=g.toString()&&x[_].subject.statements[0].object.toString()==selected[0].toString()){var C=x[_].subject.statements[0],T;selected[1].toString()==l.toString()?(k.setAttribute('class','nonCompliantPane'),k.setAttribute('style','border-top: solid 1px red; border-left: solid 1px red; border-bottom: solid 1px red; border-right: solid 1px red; padding: 0.5em; background-color: #fbf0f7; margin-top: 0.5em; margin-bottom: 0.5em; border-radius: 1em;')):selected[1].toString()==d.toString()?(k.setAttribute('class','compliantPane'),k.setAttribute('style','border-top: solid 1px green; border-left: solid 1px green; border-bottom: solid 1px green;border-right: solid 1px green;padding: 0.5em; background-color: #def8e0;margin-top: 0.5em; margin-bottom: 0.5em;border-radius: 1em;')):alert('something went terribly wrong');var E=n.createElement('table'),S=n.createElement('tr'),A=n.createElement('td'),I=n.createElement('a');I.setAttribute('href',C.subject.uri),I.appendChild(n.createTextNode(r.utils.label(C.subject))),A.appendChild(I),S.appendChild(A);var N=n.createElement('td');N.appendChild(n.createTextNode(' is ')),S.appendChild(N);var j=n.createElement('td'),R=n.createElement('a');R.setAttribute('href',C.predicate.uri),R.appendChild(n.createTextNode(r.utils.label(C.predicate))),j.appendChild(R),S.appendChild(j);var L=n.createElement('td'),O=n.createElement('a');O.setAttribute('href',C.object.uri),O.appendChild(n.createTextNode(r.utils.label(C.object))),L.appendChild(O),S.appendChild(L),E.appendChild(S),k.appendChild(E),s.appendChild(k),v.render.showSelected.addInitialButtons=function(){if(null==n.getElementById('whyButton')){var t=n.createElement('input');t.setAttribute('type','button'),t.setAttribute('id','whyButton'),t.setAttribute('value','Why?'),s.appendChild(t),t.addEventListener('click',v.render.showSelected.because,!1)}s.appendChild(n.createTextNode('   '))},v.render.showSelected.because=function(){var y=o('closed-world-assumption'),_=r.store.statementsMatching(void 0,y,void 0,t),C=!1,E=n.getElementById('whyButton'),S=n.getElementById('dataContentPane');null!=S&&null!=E&&S.removeChild(E),v.render.showSelected.because.displayDesc=function(t){for(var a=0;a<t.elements.length;a++)if(dump(t.elements[a]),dump('\n'),'NamedNode'==t.elements[a].termType){var o=n.createElement('a');o.setAttribute('href',t.elements[a].uri),o.appendChild(n.createTextNode(r.utils.label(t.elements[a]))),N.appendChild(o)}else'Literal'==t.elements[a].termType?void 0!=t.elements[a].value&&N.appendChild(n.createTextNode(t.elements[a].value)):'Graph'==t.elements[a].termType&&N.appendChild(n.createTextNode(t.elements[a]))},v.render.showSelected.because.moreInfo=function(o){var s=r.store.statementsMatching(o,u,g,t);if(void 0!=s[0])R.appendChild(n.createElement('br')),R.appendChild(n.createElement('br')),R.appendChild(n.createTextNode('No more information available from the reasoner!')),R.appendChild(n.createElement('br')),R.appendChild(n.createElement('br'));else{for(var d=r.store.statementsMatching(void 0,void 0,o,t),l=r.store.statementsMatching(void 0,void 0,d[0].object),y=0;y<l.length;y++)if(l[y].predicate==b.toString())for(var w=r.store.statementsMatching(l[y].subject,void 0,void 0,t),x=0;x<w.length;x++)w[x].predicate==m.toString()&&'Collection'==w[x].object.termType&&(N.appendChild(n.createElement('br')),v.render.showSelected.because.displayDesc(w[x].object),N.appendChild(n.createElement('br')),N.appendChild(n.createElement('br')));correctCurrentRule='';for(var y=0;y<d.length;y++)if('BlankNode'==d[y].subject.termType){correctCurrentRule=d[y].subject;break}var _=r.store.statementsMatching(correctCurrentRule,u,void 0,t),k=r.store.statementsMatching(_[0].object,h,void 0,t);T=k[0].object;for(var C=r.store.statementsMatching(_[0].object,c,void 0,t),E=r.store.statementsMatching(C[0].object,f,void 0,t),S=!1,A=!1,y=0;y<E.length;y++)'Graph'==E[y].object.termType?(R.appendChild(a(E[y].object.statements,n)),S=!0):'BlankNode'==E[y].object.termType&&(A=!0);A&&(R.appendChild(n.createElement('br')),R.appendChild(n.createTextNode('  No premises applicable.')),R.appendChild(n.createElement('br')),R.appendChild(n.createElement('br')))}},v.render.showSelected.because.justify=function(){n.getElementById('premises').innerHTML='',v.render.showSelected.because.moreInfo(T),I.appendChild(R),s.appendChild(I)};var d=n.createElement('input');d.setAttribute('type','button'),d.setAttribute('id','more'),d.setAttribute('value','More Information'),d.addEventListener('click',v.render.showSelected.because.justify,!1),s.appendChild(d),s.appendChild(n.createTextNode('   ')),s.appendChild(n.createTextNode('   '));var A=n.createElement('input');A.setAttribute('type','button'),A.setAttribute('id','hide'),A.setAttribute('value','Start Over'),s.appendChild(A),A.addEventListener('click',v.render.showSelected.hide,!1);var I=n.createElement('div');I.setAttribute('class','justification'),I.setAttribute('id','justification'),I.appendChild(n.createElement('br'));var N=n.createElement('div');N.setAttribute('class','description'),N.setAttribute('id','description');var R=n.createElement('div');R.setAttribute('class','premises'),R.setAttribute('id','premises');for(var L=r.store.statementsMatching(void 0,m,void 0,t),O=0,j;O<L.length;O++)'Graph'==L[O].subject.termType&&'Collection'==L[O].object.termType&&L[O].subject.statements[0].object.toString()==selected[0].toString()&&(N.appendChild(n.createElement('br')),v.render.showSelected.because.displayDesc(L[O].object),N.appendChild(n.createElement('br')),N.appendChild(n.createElement('br'))),I.appendChild(N);if(I.appendChild(n.createElement('br')),I.appendChild(n.createElement('br')),I.appendChild(n.createElement('b').appendChild(n.createTextNode('Premises:'))),I.appendChild(n.createElement('br')),I.appendChild(n.createElement('br')),C){R.appendChild(n.createElement('br')),R.appendChild(n.createElement('br')),R.appendChild(n.createTextNode('Nothing interesting found in the '));var P=n.createElement('a');P.setAttribute('href',unescape(w)),P.appendChild(n.createTextNode('log file')),R.appendChild(P),R.appendChild(n.createElement('br')),R.appendChild(n.createElement('br'))}for(var O=0;O<x.length;O++)if('Graph'==x[O].subject.termType&&'BlankNode'==x[O].object.termType){var M=r.store.statementsMatching(x[O].object,h,void 0,t);if(T=M[0].object,!C)for(var D=r.store.statementsMatching(x[O].object,c,void 0,t),B=0,k;B<D.length;B++){k=r.store.statementsMatching(D[B].object,void 0,void 0,t);for(var U=0;U<k.length;U++)'BlankNode'==k[U].subject.termType&&'Graph'==k[U].object.termType&&(j=k,R.appendChild(n.createElement('br')),R.appendChild(a(k[U].object.statements,n)),R.appendChild(n.createElement('br')))}}I.appendChild(R),s.appendChild(I)},v.render.showSelected.addInitialButtons()}}};var C=n.createElement('option'),T=n.createTextNode(' ');C.appendChild(T),_.appendChild(C);for(var E=0;E<y.length;E++){var S=n.createElement('option'),A=n.createTextNode(y[E][2]);S.appendChild(A),_.appendChild(S)}return s.appendChild(_),_.addEventListener('change',v.render.showSelected,!1),s.appendChild(n.createElement('br')),s.appendChild(n.createElement('br')),s},v.renderReasonsForStatement=function t(n,a){var o=myDocument.createElement('div');o.setAttribute('class','description');var s=r.store.statementsMatching(n,u);if(1<s.length)for(var d=0,l;d<s.length;d++)l=a.appendChild(document.createElement('h3')),l.textContent='Reason '+(d+1+''),+':',v.render.because.displayDesc(s[d].object,o),a.appendChild(o),o=o.cloneNode(!1);else v.render.because.displayDesc(s[0].object,o),a.appendChild(o)},v.renderExplanationForStatement=function t(n){var a=myDocument.createElement('div'),s=r.store.statementsMatching(n,u),d=myDocument.createElement('div'),l='compliantPane',y,w,x,_,k;if(k=s[0].subject.statements[0],void 0!=k){d.setAttribute('class',l),d.setAttribute('id','outcome');var C=myDocument.createElement('table'),T=myDocument.createElement('tr'),E=myDocument.createElement('td');E.appendChild(myDocument.createTextNode('The reason ')),T.appendChild(E);var S=myDocument.createElement('td'),A=myDocument.createElement('a');A.setAttribute('href',k.subject.uri),A.appendChild(myDocument.createTextNode(r.utils.label(k.subject))),S.appendChild(A),T.appendChild(S);var I=myDocument.createElement('td'),N=myDocument.createElement('a');N.setAttribute('href',k.predicate.uri),N.appendChild(myDocument.createTextNode(r.utils.label(k.predicate))),I.appendChild(N),T.appendChild(I);var j=myDocument.createElement('td'),R=null;if('Literal'==k.object.termType)R=myDocument.createTextNode(k.object.value);else{var R=myDocument.createElement('a');R.setAttribute('href',k.object.uri),R.appendChild(myDocument.createTextNode(r.utils.label(k.object)))}j.appendChild(R),T.appendChild(j);var L=myDocument.createElement('td');L.appendChild(myDocument.createTextNode(' is because: ')),T.appendChild(L),C.appendChild(T),d.appendChild(C),a.appendChild(d);var O=myDocument.createElement('input');O.setAttribute('type','button'),O.setAttribute('id','hide'),O.setAttribute('value','Start Over')}return v.render.addInitialButtons=function(){var t=myDocument.createElement('input');t.setAttribute('type','button'),t.setAttribute('id','whyButton'),t.setAttribute('value','Why?'),a.appendChild(t),t.addEventListener('click',v.render.because,!1),a.appendChild(myDocument.createTextNode('   '))},v.render.hide=function(){var t=myDocument.getElementById('dataContentPane'),n=myDocument.getElementById('justification'),a=myDocument.getElementById('hide'),r=myDocument.getElementById('more');null!=t&&null!=r&&t.removeChild(r),null!=t&&null!=n&&null!=a&&(t.removeChild(n),t.removeChild(a)),v.render.addInitialButtons()},v.render.because=function(){var t=o('closed-world-assumption'),s=r.store.statementsMatching(void 0,t,void 0,y),l=!1;0<s.length&&(l=!0);var x=myDocument.getElementById('whyButton'),_=myDocument.getElementById('dataContentPane');null!=_&&null!=x&&_.removeChild(x),v.render.because.displayDesc=function(t,n){function a(t,s){for(var l=0;l<t.statements.length;l++){var c=t.statements[l],f=[c.subject,c.predicate,c.object],m=null;if(s){if(m=myDocument.createElement('p'),'NamedNode'==c.subject.termType){var h=Util.uri.docpart(c.subject.uri);0>n.waitingFor.indexOf(h)&&'undefined'==typeof sf.requested[h]&&n.waitingFor.push(h)}if('NamedNode'==c.object.termType){var h=Util.uri.docpart(c.object.uri);0>n.waitingFor.indexOf(h)&&'undefined'==typeof sf.requested[h]&&n.waitingFor.push(h)}}else m=a.current_p;for(var b=0,y;3>b;b++)switch(y=f[b],y.termType){case'Graph':m.appendChild(myDocument.createTextNode('{ ')),a.current_p=m,a(y,!1),m.appendChild(myDocument.createTextNode(' }'));break;case'NamedNode':var w=myDocument.createElement('a');w.setAttribute('href',y.uri),w.appendChild(myDocument.createTextNode(r.utils.label(y))),m.appendChild(w),m.appendChild(myDocument.createTextNode(' '));break;case'Literal':m.appendChild(myDocument.createTextNode(y.value));}if(m.appendChild(myDocument.createTextNode('. ')),s){var x=function t(n,a,s){return function t(l){if(s.waitingFor.remove(l),r.store.any(a.AJAR_formula,u)){if(s.informationFound=!0,'#text'==a.lastChild.nodeName){var c=a.appendChild(myDocument.createElement('img'));c.src=r.icons.originalIconBase+'tango/22-help-browser.png';var f=function t(){v.renderReasonsForStatement(a.AJAR_formula,d)};c.addEventListener('click',f,!1)}return g&&o&&o(),!1}for(var m=0;2>m;m++)for(var h=[n.subject,n.object][m],b=r.store.uris(h),y=0,w;y<b.length;y++)w=Util.uri.docpart(b[y]),'undefined'==typeof sf.requested[w]&&0>s.waitingFor.indexOf(w)&&(s.waitingFor.push(w),sf.lookUpThing(r.store.sym(w)));return 0==s.waitingFor.length?(g&&o&&o(),!1):(g&&o&&o(),!0)}};n.appendChild(m);var _=new r.rdf.IndexedFormula;_.statements.push(c),m.AJAR_formula=_;var k=x(c,m,n);k(),sf.addCallback('done',k),sf.addCallback('fail',k)}}}function o(t){if(n.waitingFor.remove(t),n.informationFound)return g.removeChild(g.firstChild),g.textContent='More information found!',!1;if(0==n.waitingFor.length){var a=!1;return a?(g.removeChild(g.firstChild),g.textContent='More information found!'):(g.removeChild(g.firstChild),g.textContent='No more information.'),!1}return!0}var s=r.store.the(t,c),l=r.store.each(s,f),m=null;m='Graph'==l[0].termType?l[0]:l[1],n.waitingFor=[],n.informationFound=!1,a(m,!0);var g=myDocument.createElement('p');g.setAttribute('class','ap_premise_loading');var h=g.appendChild(myDocument.createElement('img'));h.src=r.icons.originalIconBase+'loading.png',g.appendChild(myDocument.createTextNode('Looking for more information...')),n.appendChild(g),o();for(var b=0;b<n.waitingFor.length;b++)sf.lookUpThing(r.store.sym(n.waitingFor[b]))},v.render.because.moreInfo=function(t){var n=r.store.statementsMatching(t,u,g,y);if(void 0!=n[0])divPremises.appendChild(myDocument.createElement('br')),divPremises.appendChild(myDocument.createElement('br')),divPremises.appendChild(myDocument.createTextNode('No more information available from the reasoner!')),divPremises.appendChild(myDocument.createElement('br')),divPremises.appendChild(myDocument.createElement('br'));else{for(var a=r.store.statementsMatching(void 0,void 0,t),o=r.store.statementsMatching(void 0,void 0,a[0].object),s=0;s<o.length;s++)if(o[s].predicate==b.toString())for(var d=r.store.statementsMatching(o[s].subject,void 0,void 0,y),l=0;l<d.length;l++)d[l].predicate==m.toString()&&'Collection'==d[l].object.termType&&(k.appendChild(myDocument.createElement('br')),v.render.because.displayDesc(d[l].object),k.appendChild(myDocument.createElement('br')),k.appendChild(myDocument.createElement('br')));var x=r.store.statementsMatching(a[0].subject,u,void 0),_=r.store.statementsMatching(x[0].object,h,void 0);w=_[0].object;for(var C=r.store.statementsMatching(x[0].object,c,void 0),T=r.store.statementsMatching(C[0].object,f,void 0),s=0;s<T.length;s++)'Graph'==T[s].object.termType&&divPremises.appendChild(statementsAsTables(T[s].object.statements,myDocument))}},v.render.because.justify=function(){myDocument.getElementById('premises').innerHTML='',v.render.because.moreInfo(w),d.appendChild(divPremises),a.appendChild(d)};var d=myDocument.createElement('div');d.setAttribute('class','justification'),d.setAttribute('id','justification');var k=myDocument.createElement('div');k.setAttribute('class','description');var C;v.renderReasonsForStatement(n,d),a.appendChild(d)},v.render.because(),a}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.originalIconBase+'tango/22-image-x-generic.png',name:'image',label:function t(n){var a=r.store,o=r.ns;if(!a.anyStatementMatching(n,r.ns.rdf('type'),a.sym('http://purl.org/dc/terms/Image')))return null;var s=function t(n,a,r){var o=n.fetcher.getHeader(a,'content-type');if(o)for(var s=0;s<o.length;s++)for(var d=0;d<r.length;d++)if(0<=o[s].indexOf(r[d]))return!0;return!1},d=['application/pdf'];return s(a,n,d)?null:'view'},render:function t(n,a){var r=a.createElement('div');r.setAttribute('class','imageView');var o=a.createElement('IMG');o.setAttribute('src',n.uri),o.setAttribute('style','max-width: 100%; max-height: 100%;');var s=a.createElement('TR');return s.appendChild(o),r.appendChild(s),r}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.iconBase+'noun_1619.svg',name:'playlistSlot',label:function t(n){var a=r.store;return a.anyStatementMatching(n,r.ns.rdf('type'),a.sym('http://purl.org/ontology/pbo/core#PlaylistSlot'))?'playlist slot':null},render:function t(n,o){function a(t,n){if(!t)return{html5:!0};var a=t.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-_%]+)/i),r=t.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),o=t.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),s=t.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return a?{youtube:a}:r?{vimeo:r}:o?{dailymotion:o}:s?{vk:s}:void 0}var s=function t(n,s){if(!s)return n;var d=o.createElement('a');return d.setAttribute('href',s),d.appendChild(n),d.addEventListener('click',r.widgets.openHrefInOutlineMode,!0),d},d=function t(n){return o.createTextNode(n)},l=r.store,c=l.any(n,$rdf.sym('http://purl.org/ontology/pbo/core#playlist_item')),u=l.any(n,$rdf.sym('http://purl.org/ontology/olo/core#index')),f=c.uri,m=a(f),h=o.createElement('div'),g;if(m&&m.youtube?(f=f.replace('watch?v=','embed/'),h.setAttribute('class','imageView'),g=o.createElement('IFRAME'),g.setAttribute('src',f),g.setAttribute('width',560),g.setAttribute('height',315),g.setAttribute('frameborder',0),g.setAttribute('style','max-width: 850px; max-height: 100%;'),g.setAttribute('allowfullscreen','true')):(h.setAttribute('class','imageView'),g=o.createElement('IMG'),g.setAttribute('src',c.value),g.setAttribute('width',560),g.setAttribute('height',315),g.setAttribute('style','max-width: 560; max-height: 315;')),u){for(var b=l.statementsMatching(null,$rdf.sym('http://purl.org/ontology/olo/core#index')),y=[],v=0;v<b.length;v++)b[v]&&y.push(parseInt(b[v].object.value));u=parseInt(u.value);var w=o.createElement('div'),x=y[(y.indexOf(u)-1+y.length)%y.length],_=y[(y.indexOf(u)+1+y.length)%y.length],k=s(d('<<'),n.uri.split('#')[0]+'#'+x);w.appendChild(k);var C=o.createElement('span');C.innerHTML=' Playlist slot : '+u+' ',w.appendChild(C);var T=s(d('>>'),n.uri.split('#')[0]+'#'+_);w.appendChild(T)}var E=o.createElement('TR');return E.appendChild(g),w&&E.appendChild(w),h.appendChild(E),h}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.iconBase+'noun_1619.svg',name:'video',label:function n(a){var o=r.store,s=r.ns,d=o.findTypeURIs(a),l=$rdf.Util.mediaTypeClass('video/*').uri.split('*')[0];for(var c in d)if(c.startsWith(l))return'Play video';return null},render:function t(n,a){var o=r.store,s=r.ns,d=a.createElement('div'),l=d.appendChild(a.createElement('video'));return l.setAttribute('controls','yes'),l.setAttribute('src',n.uri),l.setAttribute('width','100%'),d}}},function(t,n,a){'use strict';var r=a(1),o=r.ns,s=r.store;t.exports={icon:r.icons.iconBase+'noun_534313.svg',name:'audio',label:function n(a){var o=r.store,s=r.ns,d=o.findTypeURIs(a),l=$rdf.Util.mediaTypeClass('audio/*').uri.split('*')[0];for(var c in d)if(c.startsWith(l))return'Play audio';return null},render:function t(n,a){var r={autoplay:!1,chain:!0,chainAlbums:!0,loop:!1},d=n,l=function t(n){var a=n.lastIndexOf('.');if(0>a)return n;var r=n.lastIndexOf('/');return a<r?n:n.slice(0,a)},c=function t(n){var a=s.any(void 0,o.ldp('contains'),n);if(!a)return!1;var r=s.each(a,o.ldp('contains'));if(2>r.length)return!1;for(var d=n.uri,c=0,u;c<r.length;c++){if(u=r[c].uri,d.length>u.length&&d.startsWith(l(u)))return!0;if(d.endsWith('.m4a')&&u.endsWith('.mp3')&&l(d)===l(u))return!0}return!1},u=function t(n){var r=n.uri.split('/').slice(-3),a=function t(n){try{return decodeURIComponent(n)}catch(t){return n}};v.textContent=a(r[0]),w.textContent=a(r[1]),_.textContent=a(l(r[2]))},f=function t(n,a){return new Promise(function(d,l){if(a=a||0,!r.chain)return d(null);var c=s.any(void 0,o.ldp('contains'),n)||n.dir();return c?void s.fetcher.load(c).then(function(l){var u=s.each(c,o.ldp('contains')),f;u.sort();for(var m=0;m<u.length;m++)if(n.uri===u[m].uri)if(f=(m+1)%u.length,0===f){if(!r.chainAlbums)return r.loop?d(u[f]):d(null);if(1===a||!r.chainAlbums)return d(null);t(c,a+1).then(function(t){t&&s.fetcher.load(t).then(function(n){var a=s.each(t,o.ldp('contains'));return 0===a.length?d(null):(a.sort(),console.log('New Album: '+t),d(a[0]))})})}else return d(u[f])}):d(null)})},m=function t(n){var a=s.sym(n.target.getAttribute('src'));if(r.chain){var o=function t(a){var r=a;f(r).then(function(a){return a?c(a)?void(console.log('Ignoring redundant '+a),t(a)):(console.log('Moving on to '+a),u(a),x.appendChild(h(a,!0)),void x.removeChild(n.target)):void console.log('No successor to '+r)})};o(a)}},h=function t(n,r){var o=a.createElement('audio');return o.setAttribute('controls','yes'),o.setAttribute('src',n.uri),r&&o.setAttribute('autoplay','autoplay'),o.addEventListener('ended',m,!1),o},g=a.createElement('div'),b=g.appendChild(a.createElement('table')),y='padding: 0.3em; color:white; background-color: black;',v=b.appendChild(a.createElement('tr'));v.style.cssText=y;var w=b.appendChild(a.createElement('tr'));w.style.cssText=y;var _=b.appendChild(a.createElement('tr'));_.style.cssText=y;var x=b.appendChild(a.createElement('tr'));return u(n),x.appendChild(h(n,r.autoplay)),!s.holds(void 0,o.ldp('contains'),n)&&n.dir()&&s.fetcher.load(n.dir()),g}}},function(t,n,a){'use strict';var r=a(1),o='https://dokie.li/new',s=a(458);t.exports={icon:r.icons.iconBase+'dokieli-logo.png',name:'Dokieli',mintClass:r.ns.solid('DokieliDocument'),label:function n(a,o){if(tabulator.isExtension&&o.location==a.uri)return null;var s=r.store,d=r.ns,l=['text/html','application/xhtml+xml'],c=function t(n,a,r){var o=n.fetcher.getHeader(a,'content-type');if(o)for(var s=0;s<o.length;s++)for(var d=0;d<r.length;d++)if(0<=o[s].indexOf(r[d]))return!0;return!1},u=function n(r,o,s){for(var d=r.findTypeURIs(a),t=0;t<s.length;t++)if($rdf.Util.mediaTypeClass(s[t]).uri in d)return!0;return!1};if(!a.uri)return null;var f=s.findTypeURIs(a);return f[d.link('WebPage').uri]?'view':c(s,a,l)||u(s,a,l)?'Dok':null},mintNew:function t(n){var a=r.store,o=a.updater,d=n.newInstance||a.sym(n.newBase);console.log('New dok called with '+d);var l=d.uri;return l.endsWith('/')&&(l+='index.html'),l.endsWith('.html')||(l+='.html'),n.newInstance=d=a.sym(l),console.log('New dok will make: '+d),new Promise(function(t,r){a.fetcher.webOperation('PUT',d.uri,{data:s,contentType:'text/html'}).then(function(){console.log('new Dokieli document created at '+n.newInstance),t(n)}).catch(function(t){console.log('Error creating dokelili dok at '+n.newInstance+': '+t)})})},render:function t(n,a){var o=a.createElement('div'),s=r.store;o.setAttribute('class','docView');var d=a.createElement('IFRAME');d.setAttribute('src',n.uri),d.setAttribute('class','doc');var l=s.fetcher.getHeader(n.doc(),'content-type'),c=l?l[0]:null;c?console.log('humanReadablePane: c-t:'+c):console.log('humanReadablePane: unknown content-type?'),d.setAttribute('style','resize = both; height: 120em; width:80em;');var u=a.createElement('TR');return u.appendChild(d),o.appendChild(u),o}}},function(t,n,a){'use strict';t.exports='\n<!DOCTYPE html>\n<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">\n    <head>\n        <meta charset="utf-8" />\n        <title></title>\n        <meta content="width=device-width, initial-scale=1" name="viewport" />\n        <link href="https://dokie.li/media/css/basic.css" media="all" rel="stylesheet" title="Basic" />\n        <link href="https://dokie.li/media/css/do.css" media="all" rel="stylesheet" />\n        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" media="all" rel="stylesheet" />\n        <script src="https://dokie.li/scripts/simplerdf.js"></script>\n        <script src="https://dokie.li/scripts/medium-editor.min.js"></script>\n        <script src="https://dokie.li/scripts/medium-editor-tables.min.js"></script>\n        <script src="https://dokie.li/scripts/do.js"></script>\n    </head>\n\n    <body about="" prefix="rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns# rdfs: http://www.w3.org/2000/01/rdf-schema# owl: http://www.w3.org/2002/07/owl# xsd: http://www.w3.org/2001/XMLSchema# dcterms: http://purl.org/dc/terms/ dctypes: http://purl.org/dc/dcmitype/ foaf: http://xmlns.com/foaf/0.1/ pimspace: http://www.w3.org/ns/pim/space# cc: https://creativecommons.org/ns# skos: http://www.w3.org/2004/02/skos/core# prov: http://www.w3.org/ns/prov# qb: http://purl.org/linked-data/cube# schema: http://schema.org/ void: http://rdfs.org/ns/void# rsa: http://www.w3.org/ns/auth/rsa# cert: http://www.w3.org/ns/auth/cert# wgs: http://www.w3.org/2003/01/geo/wgs84_pos# bibo: http://purl.org/ontology/bibo/ sioc: http://rdfs.org/sioc/ns# doap: http://usefulinc.com/ns/doap# dbr: http://dbpedia.org/resource/ dbp: http://dbpedia.org/property/ sio: http://semanticscience.org/resource/ opmw: http://www.opmw.org/ontology/ deo: http://purl.org/spar/deo/ doco: http://purl.org/spar/doco/ cito: http://purl.org/spar/cito/ fabio: http://purl.org/spar/fabio/ oa: http://www.w3.org/ns/oa# as: https://www.w3.org/ns/activitystreams# ldp: http://www.w3.org/ns/ldp# solid: http://www.w3.org/ns/solid/terms# acl: http://www.w3.org/ns/auth/acl# dio: https://w3id.org/dio#" typeof="schema:CreativeWork sioc:Post prov:Entity">\n        <main>\n            <article about="" typeof="schema:Article">\n\n            </article>\n        </main>\n    </body>\n</html>\n'},function(t,n,a){'use strict';var r=a(1),o=r.ns;t.exports={icon:r.icons.originalIconBase+'tango/22-folder-open.png',name:'folder',mintNew:function t(n){var a=r.store,o=n.newInstance||a.sym(n.newBase),s=o.uri;s.endsWith('/')&&(s=s.slice(0,-1)),n.newInstance=a.sym(s+'/');var d=o.dir().uri,l=s.lastIndexOf('/'),c=s.slice(l+1);return a.fetcher.webOperation('PUT',o.uri+'.dummy').then(function(){return console.log('New folder created: '+o.uri),a.fetcher.delete(o.uri+'.dummy')}).then(function(){return console.log('Dummy file deleted : '+o.uri+'.dummy'),a.fetcher.createContainer(d,c)}).then(function(){return console.log('New container created: '+o.uri),n})},label:function t(a){var s=r.store,d=s.each(a,o.ldp('contains')).length;return 0<d?'Contents ('+d+')':s.holds(a,o.rdf('type'),o.ldp('Container'))?'Container (0)':null},render:function t(n,a){var s=r.panes.getOutliner(a),d=r.store,l=function t(n,r){var o=a.createElement('pre');console.log(n),o.setAttribute('style','background-color: '+r||'#eed;'),c.appendChild(o),o.appendChild(a.createTextNode(n))},c=a.createElement('div'),u;c.setAttribute('class','instancePane'),c.setAttribute('style','  border-top: solid 1px #777; border-bottom: solid 1px #777; margin-top: 0.5em; margin-bottom: 0.5em ');var f=function t(n){var a=n.uri.slice(n.dir().uri.length);return!(a.startsWith('.')||a.endsWith('.acl')||a.endsWith('~'))},m=n.uri.endsWith('/')?n.uri:n.uri+'/',h=d.sym(m+'index.ttl#this');if(d.holds(n,o.ldp('contains'),h.doc())){console.log('View of folder with be view of indexThing. Loading '+h);var g=c.appendChild(a.createElement('div'));return g.style.cssText='border-top: 0.2em solid #ccc;',d.fetcher.load(h.doc()).then(function(){u=g.appendChild(a.createElement('table')),r.outline.GotoSubject(h,!0,void 0,!1,void 0,u)}),c}if(!0){u=c.appendChild(a.createElement('table'));var b=function t(){var l=d.each(n,o.ldp('contains')).filter(f);l=l.map(function(t){return[r.utils.label(t).toLowerCase(),t]}),l.sort(),l=l.map(function(t){return t[1]}),r.utils.syncTableToArray(u,l,function(t){var r=d.statementsMatching(n,o.ldp('contains'),t)[0],l=s.VIEWAS_boring_default,c=s.propertyTR(a,r,!1);return c.firstChild.textContent='',c.firstChild.style.cssText+='min-width: 3em;',c.appendChild(s.outline_objectTD(t,l,void 0,r)),c})};u.refresh=b,b()}var y=c.appendChild(a.createElement('div')),v=r.authn.currentUser(),w={folder:n,div:y,dom:a,statusArea:y,me:v};w.refreshTarget=u;var x=r.create.newThingUI(w,r.panes),_=function t(a){for(var s=0,c;a[s];s++){c=a[s],console.log(' folder: dropped filename: '+c.name+', type: '+(c.type||'n/a')+' size: '+c.size+' bytes, last modified: '+(c.lastModifiedDate?c.lastModifiedDate.toLocaleDateString():'n/a'));var f=new FileReader;f.onload=function(t){return function(a){var s=a.target.result;if(console.log(' File read byteLength : '+s.byteLength),!n.uri.endsWith('/'))return void console.log('FAIL: - folder name should end in /');var c=d.sym(n.uri+t.name);return d.holds(n,o.ldp('contains'),c)?(l('Sorry, '+n.uri+' already has something called '+t.name),void console.log('Drag-drop upload aborted: resource already exists: '+c)):void r.store.fetcher.webOperation('PUT',c,{data:s,contentType:t.type}).then(function(){console.log(' Upload: put OK: '+c),d.add(n,o.ldp('contains'),c,n.doc()),u.refresh()}).catch(function(t){l(' Upload: FAILED '+c+', Error: '+t)})}}(c),f.readAsArrayBuffer(c)}};r.aclControl.preventBrowserDropEvents(a);var k=!1,C;if(k){var T=y.firstChild.style.cssText;arget=y.insertBefore(a.createElement('img'),y.firstChild),C.style.cssText=T,C.setAttribute('src',r.icons.iconBase+'noun_748003.svg'),C.setAttribute('style','width: 2em; height: 2em')}else C=y.firstChild;return r.widgets.makeDropTarget(C,null,_),c}}},function(t,n,a){'use strict';var r=a(1),o=r.ns;t.exports={icon:r.icons.originalIconBase+'tango/22-folder-open.png',name:'classInstance',label:function t(a){var s=r.store,d=s.each(void 0,o.rdf('type'),a).length;return 0<d?'List ('+d+')':null},render:function t(n,a){var s=r.panes.getOutliner(a),d=r.store,l=function t(n,r){var o=a.createElement('pre');o.setAttribute('style','background-color: '+r||'#eed;'),c.appendChild(o),o.appendChild(a.createTextNode(n))},c=a.createElement('div');c.setAttribute('class','instancePane'),c.setAttribute('style','  border-top: solid 1px #777; border-bottom: solid 1px #777; margin-top: 0.5em; margin-bottom: 0.5em ');var u=d.statementsMatching(void 0,o.rdf('type'),n);if(0<u.length){var f={},m=[];for(var h in u.map(function(t){f[t.subject.toNT()]=t}),d.findMembersNT(n))f[h]||m.push($rdf.st(d.fromNT(h),o.rdf('type'),n));if(m.length&&l('There are '+u.length+' explicit and '+m.length+' implicit members of '+r.utils.label(n)),n.sameTerm(o.rdf('Property')));else if(n.sameTerm(o.rdfs('Class'))){var g=d.statementsMatching(void 0,o.rdf('type'),void 0),b={};g.map(function(t){b[t.object]=t});var y=[];for(var v in b)y.push($rdf.st($rdf.sym(v),o.rdf('type'),o.rdfs('Class')));l('Total of '+g.length+' type statments and '+y.length+' unique types.')}if(10<u.length){var w=a.createElement('TR');w.appendChild(a.createTextNode(''+u.length)),c.appendChild(w)}s.appendPropertyTRs(c,u,!0,function(t){return!0}),m.length&&(l('Implcit:'),s.appendPropertyTRs(c,m,!0,function(t){return!0}))}return c}}},function(t,n,a){'use strict';var r=a(1),o=a(462);t.exports={icon:r.icons.iconBase+'noun_138712.svg',name:'slideshow',label:function n(a){var o=r.store,s=r.ns,d=o.findTypeURIs(a);if(d[s.ldp('Container').uri]||d[s.ldp('BasicContainer').uri]){var t=o.each(a,s.ldp('contains')),l=0;return t.map(function(t){r.widgets.isImage(t)&&l++}),0<l?'Slideshow':null}return null},render:function n(a,s){var d='https://leemark.github.io/better-simple-slideshow/css/simple-slideshow-styles.css';r.widgets.addStyleSheet(s,d);var l=r.store,c=r.ns,u=s.createElement('div');u.setAttribute('class','bss-slides');var f=l.findTypeURIs(a),t;(f[c.ldp('BasicContainer').uri]||f[c.ldp('Container').uri])&&(t=c.ldp('contains'));var m=l.each(a,t);m.sort();for(var h=0;h<m.length;h++)if(r.widgets.isImage(m[h])){var g=u.appendChild(s.createElement('figure')),b=g.appendChild(s.createElement('img'));b.setAttribute('src',m[h].uri),b.setAttribute('width','100%'),g.appendChild(s.createElement('figcaption'))}var y={dom:s};return setTimeout(function(){o('.bss-slides',y)},1e3),u}}},function(t,n){var a=function(t,n){if('undefined'==typeof a)var a=n.dom;var r=a.querySelectorAll(t),o={},s={init:function(t,n){this.counter=0,this.el=t,this.$items=t.querySelectorAll('figure'),this.numItems=this.$items.length,n=n||{},n.auto=n.auto||!1,this.opts={auto:'undefined'!=typeof n.auto&&n.auto,speed:'undefined'==typeof n.auto.speed?1500:n.auto.speed,pauseOnHover:'undefined'!=typeof n.auto.pauseOnHover&&n.auto.pauseOnHover,fullScreen:'undefined'!=typeof n.fullScreen&&n.fullScreen,swipe:'undefined'!=typeof n.swipe&&n.swipe},this.$items[0].classList.add('bss-show'),this.injectControls(t),this.addEventListeners(t),this.opts.auto&&this.autoCycle(this.el,this.opts.speed,this.opts.pauseOnHover),this.opts.fullScreen&&this.addFullScreen(this.el),this.opts.swipe&&this.addSwipe(this.el)},showCurrent:function(t){this.counter=0<t?this.counter+1===this.numItems?0:this.counter+1:0>this.counter-1?this.numItems-1:this.counter-1,[].forEach.call(this.$items,function(t){t.classList.remove('bss-show')}),this.$items[this.counter].classList.add('bss-show')},injectControls:function(t){var n=a.createElement('span'),r=a.createElement('span'),o=a.createDocumentFragment();n.classList.add('bss-prev'),r.classList.add('bss-next'),n.innerHTML='&laquo;',r.innerHTML='&raquo;',o.appendChild(n),o.appendChild(r),t.appendChild(o)},addEventListeners:function(t){var n=this;t.querySelector('.bss-next').addEventListener('click',function(){n.showCurrent(1)},!1),t.querySelector('.bss-prev').addEventListener('click',function(){n.showCurrent(-1)},!1),t.onkeydown=function(t){t=t||window.event,37===t.keyCode?n.showCurrent(-1):39===t.keyCode&&n.showCurrent(1)}},autoCycle:function(t,n,a){var r=this,o=window.setInterval(function(){r.showCurrent(1)},n);a&&(t.addEventListener('mouseover',function(){o=clearInterval(o)},!1),t.addEventListener('mouseout',function(){o=window.setInterval(function(){r.showCurrent(1)},n)},!1))},addFullScreen:function(t){var n=this,r=a.createElement('span');r.classList.add('bss-fullscreen'),t.appendChild(r),t.querySelector('.bss-fullscreen').addEventListener('click',function(){n.toggleFullScreen(t)},!1)},addSwipe:function(t){var n=this,a=new Hammer(t);a.on('swiperight',function(t){n.showCurrent(-1)}),a.on('swipeleft',function(t){n.showCurrent(1)})},toggleFullScreen:function(t){a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement?a.exitFullscreen?a.exitFullscreen():a.msExitFullscreen?a.msExitFullscreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitExitFullscreen&&a.webkitExitFullscreen():a.documentElement.requestFullscreen?t.requestFullscreen():a.documentElement.msRequestFullscreen?t.msRequestFullscreen():a.documentElement.mozRequestFullScreen?t.mozRequestFullScreen():a.documentElement.webkitRequestFullscreen&&t.webkitRequestFullscreen(t.ALLOW_KEYBOARD_INPUT)}};[].forEach.call(r,function(t){o=Object.create(s),o.init(t,n)})};'undefined'!=typeof t&&t.exports&&(t.exports=a)},function(t,n,a){'use strict';var o=a(1);t.exports={icon:o.icons.originalIconBase+'foaf/foafTiny.gif',name:'social',label:function t(n){return o.store.whether(n,o.ns.rdf('type'),o.ns.foaf('Person'))?'Friends':null},render:function n(c,s){var u=function t(n,a){for(var r=[],o=0;o<n.length;o++)for(var s=0;s<a.length;s++)if(a[s].sameTerm(n[o])){r.push(a[s]);break}return r},m=function t(a){var n=' ';return n+=a||'no',1===a?n+' person':n+' people'},h=function t(n){console.log(n);var a=s.createElement('p');a.textContent=n,M.appendChild(a)},g=function t(n,r){if(!r)return n;var o=s.createElement('a');return o.setAttribute('href',r),o.appendChild(n),o},b=function t(n){return s.createTextNode(n)},y=function t(n,a,r){var d=s.createElement('form'),l=s.createElement('input');d.appendChild(l);var c=s.createTextNode(n);c.className='question',d.appendChild(c),l.setAttribute('type','checkbox');var u=function t(n){if(c.className='pendingedit',this.checked)try{w.UserInput.sparqler.insert_statement(a,function(t,n,r){return c.className='question',n?void x.add(a.subject,a.predicate,a.object,a.why):(o.log.alert(null,'Message','Error occurs while inserting '+a+'\n\n'+r),void(l.checked=!1))})}catch(t){o.log.error('Data write fails:'+t),o.log.alert('Data write fails:'+t),l.checked=!1,c.className='question'}else try{w.UserInput.sparqler.delete_statement(a,function(t,n,r){c.className='question',n?x.removeMany(a.subject,a.predicate,a.object,a.why):(o.log.alert('Error occurs while deleting '+a+'\n\n'+r),this.checked=!0)})}catch(t){return o.log.alert('Delete fails:'+t),void(this.checked=!0)}};return l.checked=r,l.addEventListener('click',u,!1),d},v=function t(n,a){return o.widgets.personTR(s,o.ns.foaf('knows'),n,{})},w=o.panes.getOutliner(s),x=o.store,_=s.createElement('div');_.setAttribute('class','socialPane');var C=o.ns.foaf,T='background-color: #eee; width: 25%; border: 0; padding: 0.5em; margin: 0;',E='background-color: #fff; color: #000; width: 46%; margin: 0; border-left: 1px solid #ccc; border-right: 1px solid #ccc; border-bottom: 1px solid #ccc; padding: 0;',S=' width: 100% ; border: none; margin: 0; padding: 0;',A=_.appendChild(s.createElement('table')),I=A.appendChild(s.createElement('tr')),N=I.appendChild(s.createElement('td')),R=I.appendChild(s.createElement('td')),L=I.appendChild(s.createElement('td')),O=N;O.style.cssText=T;var P=R.appendChild(s.createElement('table'));P.style.cssText=E;var M=L;M.style.cssText=T;var D=x.any(c,C('img'))||x.any(c,C('depiction'));if(D){var B=s.createElement('IMG');B.setAttribute('src',D.uri),B.style.cssText=S,O.appendChild(B)}var U=x.anyValue(c,C('name'))||'???',q=s.createElement('H3');q.appendChild(s.createTextNode(U));var F=o.authn.currentUser(),z=F?F.uri:null,H=o.authn.loginStatusBox(s,function(t){F=x.sym(t),o.widgets.refreshTree(_)});M.appendChild(H);var W=F&&x.sameThings(F,c),V=C('knows'),G=x.anyValue(c,C('givenname'))||x.anyValue(c,C('firstName'))||x.anyValue(c,C('nick'))||x.anyValue(c,C('name'))||x.anyValue(c,vcard('fn')),J=x.each(c,V),K=null,X=!1;if(F){for(var Z=x.each(void 0,C('primaryTopic'),F),Y='',Q=0;Q<Z.length;Q++)if(x.whether(Z[Q],o.ns.rdf('type'),C('PersonalProfileDocument')))if(X=w.UserInput.sparqler.editable(Z[Q].uri,x),!X)Y+='Your profile <'+o.utils.escapeForXML(Z[Q].uri)+'> is not remotely editable.';else{K=Z[Q];break}if(K?(h('Editing your profile '+K+'.'),X=w.UserInput.sparqler.editable(K.uri,x)):h(Y+'\nI couldn\'t find your editable personal profile document.'),W);else{q=s.createElement('h3'),q.appendChild(s.createTextNode('You and '+G)),O.appendChild(q);var ee=x.canon(F),te=x.whether(c,V,ee),ne=!1,ae=x.statementsMatching(ee,V,c);ae.length&&(ne=!0,!K&&(K=ae[0].why));var I=s.createElement('tr');O.appendChild(I);var re=function t(){I.appendChild(g(b('You'),z)),I.appendChild(b(' and ')),I.appendChild(g(b(G),c.uri))};if(te?ne?(re(),I.appendChild(b(' say you know each other.'))):(I.appendChild(g(b(G),c.uri)),I.appendChild(b(' knows ')),I.appendChild(g(b('you'),z)),I.appendChild(b(' (unconfirmed).')),I.appendChild(b(' confirm you know ')),I.appendChild(g(b(G),c.uri)),I.appendChild(b('.'))):ne?(I.appendChild(g(b('You'),z)),I.appendChild(b(' know ')),I.appendChild(g(b(G),c.uri)),I.appendChild(b(' (unconfirmed)'))):(re(),I.appendChild(b(' have not said you know each other.'))),X){var ie=y('You know '+G,new o.rdf.Statement(F,V,c,K),ne);O.appendChild(ie)}if(J){var f=x.each(F,C('knows'));if(f.length){var oe=u(J,f),se=s.createElement('tr');if(O.appendChild(se),se.appendChild(s.createTextNode('You'+(G?' and '+G:'')+' know'+m(oe.length)+' found in common')),oe)for(var de=0;de<oe.length;de++)se.appendChild(s.createTextNode(',  '+o.utils.label(oe[de])))}var le=s.createElement('tr');O.appendChild(le)}}}if(!0)var pe=o.widgets.attachmentList(s,c,P,{doc:K,modify:!!X,predicate:C('knows'),noun:'friend'});else{ne=x.each(c,C('knows')),te=x.each(void 0,C('knows'),c);for(var ce=[],ue=[],fe=[],he=0;he<ne.length;he++){for(var ge=ne[he],be=!1,ye=0;ye<te.length;ye++)if(te[ye].sameTerm(ge)){be=!0;break}be?ce.push(ge):ue.push(ge)}for(var j=0;j<te.length;j++){for(var ve=te[j],we=!1,xe=0;xe<ne.length;xe++)if(ne[xe].sameTerm(ve)){we=!0;break}we||fe.push(ve)}for(var _e=[['Acquaintances',ne],['Mentioned as acquaintances by: ',fe]],ke=0;ke<_e.length;ke++){var Ce=_e[ke],Te=Ce[1];if(0!==Te.length){var Ee=s.createElement('h3');Ee.textContent=Ce[0];var Se=s.createElement('tr');Se.appendChild(Ee),P.appendChild(Se);for(var Ae=[],Ie=0;Ie<Te.length;Ie++)Ae.push([o.utils.label(Te[Ie]),Te[Ie]]);Ae.sort();for(var Ne=null,je=0,Re;je<Ae.length;je++)Re=Ae[je][1],Re.sameTerm(Ne)||(Ne=Re,'...'!==o.utils.label(Re)&&P.appendChild(v(Re)))}}}q=s.createElement('h3'),q.appendChild(s.createTextNode('Basic Information')),O.appendChild(q);for(var Le=[o.ns.foaf('homepage'),o.ns.foaf('weblog'),o.ns.foaf('workplaceHomepage'),o.ns.foaf('schoolHomepage')],Oe=0;Oe<Le.length;Oe++){var Pe=Le[Oe],Me=x.statementsMatching(c,Pe);if(0===Me.length);else{for(var De=[],Be=0,Ue;Be<Me.length;Be++)Ue=Me[Be],Ue.object.uri&&De.push(Ue.object.uri);De.sort();for(var qe='',Fe=0,k,ze;Fe<De.length;Fe++)if(ze=De[Fe],ze!==qe){qe=ze;var He='';if(k=o.utils.label(Pe),1<De.length){var We=ze.indexOf('//');if(0<We){var l=ze.indexOf('/',We+2),r=ze.lastIndexOf('.',l);0<r&&(l=r),He=ze.slice(We+2,l)}}He&&(k=He+' '+k);var Ve=s.createTextNode(k),t=s.createElement('a');t.appendChild(Ve),t.setAttribute('href',ze);var a=s.createElement('div');a.style.cssText='width: 80%; background-color: #fff; border: solid 0.05em #ccc;  margin-top: 0.1em; margin-bottom: 0.1em; padding: 0.1em; text-align: center;',a.appendChild(t),O.appendChild(a)}}}for(var d=[o.ns.foaf('openid'),o.ns.foaf('nick')],Ge=0;Ge<d.length;Ge++){var Je=d[Ge],Ke=x.statementsMatching(c,Je);0===Ke.length||w.appendPropertyTRs(O,Ke,!1,function(t){return!0})}return _}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.originalIconBase+'tango/22-text-x-generic.png',name:'humanReadable',label:function n(a,o){if(tabulator.isExtension&&o.location==a.uri)return null;var s=r.store,d=r.ns,l=['text/plain','text/html','application/xhtml+xml','image/png','image/jpeg','application/pdf','video/mp4'],c=function t(n,a,r){var o=n.fetcher.getHeader(a,'content-type');if(o)for(var s=0;s<o.length;s++)for(var d=0;d<r.length;d++)if(0<=o[s].indexOf(r[d]))return!0;return!1},u=function n(r,o,s){for(var d=r.findTypeURIs(a),t=0;t<s.length;t++)if($rdf.Util.mediaTypeClass(s[t]).uri in d)return!0;return!1};if(!a.uri)return null;var f=s.findTypeURIs(a);return f[d.link('WebPage').uri]?'view':c(s,a,l)||u(s,a,l)?'View':null},render:function t(n,a){var o=a.createElement('div'),s=r.store;o.setAttribute('class','docView');var d=a.createElement('IFRAME');d.setAttribute('src',n.uri),d.setAttribute('class','doc');var l=s.fetcher.getHeader(n.doc(),'content-type'),c=l?l[0]:null;c?console.log('humanReadablePane: c-t:'+c):console.log('humanReadablePane: unknown content-type?'),d.setAttribute('style','resize = both; height: 120em; width:80em;');var u=a.createElement('TR');return u.appendChild(d),o.appendChild(u),o}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.originalIconBase+'rdf_flyer.24.gif',name:'dataContents',label:function t(a){if('http://www.w3.org/2007/ont/link#ProtocolEvent'in r.store.findTypeURIs(a))return null;var o=r.store.statementsMatching(void 0,void 0,void 0,a).length;return 0==o?null:'Data ('+o+')'},statementsAsTables:function t(n,a,o){function s(t){var n=a.createElement('table'),o=null,s=h[u.toStr(t)];if(!s)return n.appendChild(a.createTextNode('...')),n;s.sort();for(var l=0,c=0,f;c<s.length;c++){var m=s[c],g=a.createElement('tr');if(m.predicate.uri!=o){o&&1<l&&f.setAttribute('rowspan',''+l),f=a.createElement('td'),f.setAttribute('class','pred');var b=a.createElement('a');b.setAttribute('href',m.predicate.uri),b.addEventListener('click',r.widgets.openHrefInOutlineMode,!0),b.appendChild(a.createTextNode(r.utils.predicateLabelForXML(m.predicate))),f.appendChild(b),g.appendChild(f),o=m.predicate.uri,l=0}l++;var y=a.createElement('td');y.appendChild(d(m.object)),g.appendChild(y),n.appendChild(g)}return o&&1<l&&f.setAttribute('rowspan',''+l),n}function d(t){var n;switch(t.termType){case'NamedNode':var o=a.createElement('a');return o.setAttribute('href',t.uri),o.addEventListener('click',r.widgets.openHrefInOutlineMode,!0),o.appendChild(a.createTextNode(r.utils.label(t))),o;case'Literal':if(!t.datatype||!t.datatype.uri)return n=a.createElement('div'),n.setAttribute('style','white-space: pre-wrap;'),n.textContent=t.value,n;if('http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral'==t.datatype.uri)return n=a.createElement('div'),n.setAttribute('class','embeddedXHTML'),n.innerHTML=t.value,n;;return a.createTextNode(t.value);case'BlankNode':if(t.toNT()in v){w[t.toNT()]=!0;var o=a.createElement('a');return o.setAttribute('href','#'+t.toNT().slice(2)),o.setAttribute('class','bnodeRef'),o.textContent='*'+t.toNT().slice(3),o}v[t.toNT()]=!0;var l=s(t);return v[t.toNT()]=l,l.style.backgroundColor=r.utils.ancestor(l,'TABLE')&&'white'==r.utils.ancestor(l,'TABLE').style.backgroundColor?'#eee':'white',l;case'Collection':var n=a.createElement('table');n.setAttribute('class','collectionAsTables');for(var c=0,u;c<t.elements.length;c++)u=a.createElement('tr'),n.appendChild(u),u.appendChild(d(t.elements[c]));return n;case'Graph':var n=r.panes.dataContents.statementsAsTables(t.statements,a);return n.setAttribute('class','nestedFormula'),n;case'Variable':var n=a.createTextNode('?'+t.uri);return n;}throw'Unhandled node type: '+t.termType}var l=r.panes.getOutliner(a),c=a.createElement('table'),u=r.rdf.Serializer(r.store),f=u.rootSubjects(n),m=f.roots,h=f.subjects,g=f.loopBreakers;for(var b in g)dump('\tdataContentPane: loopbreaker:'+b+'\n');var y=l,v={},w={};o&&(m=o.concat(m.filter(function(t){for(var n=0;n<o.length;n++)if(t.sameTerm(o[n]))return!1;return!0})));for(var x=0,_;x<m.length;x++){_=a.createElement('tr'),c.appendChild(_);var k=a.createElement('td');_.appendChild(k);var C=a.createElement('td');_.appendChild(C);var T=m[x];'BlankNode'==T.termType?k.appendChild(a.createTextNode(r.utils.label(T))):k.appendChild(d(T)),C.appendChild(s(T))}for(var E in w){var S=v[E],_=a.createElement('tr'),A=a.createElement('a');A.setAttribute('id',E.slice(2)),A.setAttribute('class','bnodeDef'),A.textContent=E.slice(3)+')',S.insertBefore(A,S.firstChild)}return c},render:function t(n,a){var o=r.panes.getOutliner(a),s=r.store,d=a.createElement('div');d.setAttribute('class','dataContentPane');var l=s.statementsMatching(void 0,void 0,void 0,n);if(1){var c=[];s.holds(n,void 0,void 0,n)&&c.push(n);var u=s.any(n,r.ns.foaf('primaryTopic'),void 0,n);u&&c.push(u),d.appendChild(r.panes.dataContents.statementsAsTables(l,a,c))}else{var f=r.rdf.Serializer(r.store),m=f.rootSubjects(l),h=m.roots,g={};g.render=function(t){var r=a.createElement('div');r.setAttribute('class','withinDocumentPane');var o=s.statementsMatching(t,void 0,void 0,n);return appendPropertyTRs(r,o,!1,function(t,n){return!0}),r};for(var b=0;b<h.length;b++){var y=a.createElement('TR'),v=h[b];y.style.verticalAlign='top';var w=o.outline_objectTD(v,void 0,y);y.appendChild(w),d.appendChild(y),outline_expand(w,v,{pane:g})}}return d}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.originalIconBase+'w3c/n3_smaller.png',name:'n3',label:function t(a){if('http://www.w3.org/2007/ont/link#ProtocolEvent'in r.store.findTypeURIs(a))return null;var o=r.store.statementsMatching(void 0,void 0,void 0,a).length;return 0===o?null:'Data ('+o+') as N3'},render:function t(n,a){var o=r.store,s=a.createElement('div');s.setAttribute('class','n3Pane');var d=o.statementsMatching(void 0,void 0,void 0,n),l=r.rdf.Serializer(o);l.suggestNamespaces(o.namespaces),l.setBase(n.uri);var c=l.statementsToN3(d),u=a.createElement('PRE');return u.appendChild(a.createTextNode(c)),s.appendChild(u),s}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.originalIconBase+'22-text-xml4.png',name:'RDFXML',label:function t(a){if('http://www.w3.org/2007/ont/link#ProtocolEvent'in r.store.findTypeURIs(a))return null;var o=r.store.statementsMatching(void 0,void 0,void 0,a).length;return 0==o?null:'As RDF/XML ('+o+')'},render:function t(n,a){var o=r.store,s=a.createElement('div');s.setAttribute('class','RDFXMLPane');var d=o.statementsMatching(void 0,void 0,void 0,n),l=r.rdf.Serializer(o);l.suggestNamespaces(o.namespaces),l.setBase(n.uri);var c=l.statementsToXML(d),u=a.createElement('PRE');return u.appendChild(a.createTextNode(c)),s.appendChild(u),s}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.iconBase+'noun_122196.svg',name:'form',label:function t(a){var o=r.widgets.formsFor(a).length;return r.log.debug('Form pane: forms for '+a+': '+o),o?''+o+' forms':null},render:function n(a,o){var l=r.store,c=r.ns,s=$rdf.Namespace('http://www.w3.org/2005/01/wf/flow#'),u=$rdf.Namespace('http://purl.org/dc/elements/1.1/'),f=$rdf.Namespace('http://purl.org/dc/terms/'),m=function t(n,a){var r=o.createElement('p');return r.setAttribute('style',a?a:'color: grey; background-color: white'),w.appendChild(r).textContent=n,r},h=function t(n,a){m(n,'style',a?a:'color: grey; background-color: #fdd;')},g=function t(n,a){n||h('Sorry, failed to save your change:\n'+a)},b=this,y=function t(n){var r=n.parentNode,s=b.render(a,o);r.replaceChild(s,n)},v=l.findTypeURIs(a),t=r.authn.currentUser(),w=o.createElement('div');if(w.setAttribute('class','formPane'),!t)m('You are not logged in. If you log in and have workspaces then you would be able to select workspace in which to put this new information');else{var x=l.each(t,c.ui('workspace'));(x.length=0)&&m('You don\'t seem to have any workspaces defined.  A workspace is a place on the web (http://..) or in the file system (file:///) to store application data.\n')}var _=function t(n,a){l.fetcher.nowOrWhenFetched(n.uri,a,function(t,s){if(!t)return h('Cannot load store '+n.uri+': '+s);for(var d=r.widgets.formsFor(a),l=0;l<d.length;l++){var c=d[l],u=o.createElement('h4');if(w.appendChild(u),c.uri){var f=$rdf.Util.uri.document(c);if(f.uri!==c.uri){var m=w.appendChild(r.widgets.editFormButton(o,w,c,f,g));m.setAttribute('style','float: right;')}}var b=o.createElement('a');b.setAttribute('href',c.uri),u.appendChild(b),b.textContent=r.utils.label(c,!0),r.widgets.appendForm(o,w,{},a,c,n,g)}})},k=null,C=$rdf.Util.uri.docpart(a.uri);if(k=a.uri!==C&&l.updater.editable(C,l)?l.sym($rdf.Util.uri.docpart(a.uri)):l.any(l.sym(C),c.link('annotationStore')),!k){var T={},E=[];for(var S in l.statementsMatching(a).map(function(t){T[t.why.uri]=1}),l.statementsMatching(void 0,void 0,a).map(function(t){T[t.why.uri]=2}),T)E.push(T[S],S);E.sort();for(var d=0,A;d<E.length;d++)if(A=E[d][1],A&&l.updater.editable(A)){k=l.sym(A);break}}var I=function t(n,a,r){if(0===r.length)return[a];for(var o=n.each(subj,r[0]),s=[],d=0;d<o.length;d++)s=s.concat(t(n,o[d],r.slice(1)));return s},N='2014';if(k)_(k,a);else{h('No suitable store is known, to edit <'+a.uri+'>.');var j=r.authn.selectWorkspace(o,function(t){m('Workspace selected OK: '+t);for(var n=l.each(void 0,c.space('workspace'),t),r=0;r<n.length;d++){var o=n[r],u=l.any(t,c.space('store')),s=l.any(t,c.ical('dtstart')).value(),f=l.any(t,c.ical('dtend')).value();if(u&&s&&f&&s<=N&&f>N){_(u,a);break}else h('Note no suitable annotation store in activity: '+o)}});w.appendChild(j)}return w}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.iconBase+'noun_25830.svg',name:'attachments',label:function n(a){var o=r.store,s=o.findTypeURIs(a),t=$rdf.Namespace('http://www.w3.org/2000/10/swap/pim/qif#'),d=$rdf.Namespace('http://www.w3.org/2005/01/wf/flow#');return s['http://www.w3.org/ns/pim/trip#Trip']||'http://www.w3.org/ns/pim/trip#Trip'==a.uri||s['http://www.w3.org/2005/01/wf/flow#Task']||s['http://www.w3.org/2000/10/swap/pim/qif#Transaction']||t('Transaction')in o.findSuperClassesNT(a)||o.holds(a,d('attachment'))?'attachments':null},render:function t(n,a){var d=r.store,o=r.ns,s=$rdf.Namespace('http://www.w3.org/2005/01/wf/flow#'),l=$rdf.Namespace('http://www.w3.org/2002/12/cal/ical#'),c=$rdf.Namespace('http://purl.org/dc/elements/1.1/'),u=$rdf.Namespace('http://purl.org/dc/terms/'),f=$rdf.Namespace('http://www.w3.org/ns/pim/trip#'),m=$rdf.Namespace('http://www.w3.org/2000/10/swap/pim/qif#'),h=function t(a,r,o){var d=r.statementsMatching(n,u('modified')),d=d.concat(r.statementsMatching(n,s('modifiedBy'))),l=[$rdf.st(n,u('modified'),new Date,o)];me&&l.push($rdf.st(n,s('modifiedBy'),me,o)),sparqlService.update(d,l,function(t,n,a){})},g=function t(n){var r=a.createElement('pre');r.setAttribute('style','background-color: pink'),w.appendChild(r),r.appendChild(a.createTextNode(n))},b=this,y=function t(r){var o=r.parentNode,s=b.render(n,a);o.replaceChild(s,r)},v=function t(n,a){if(n.updater.editable(a.doc(),n))return a.doc();var r=n.any(a.doc(),m('annotationStore'));return r},w=a.createElement('div'),x=r.utils.escapeForXML;w.setAttribute('class','attachPane'),w.innerHTML='<h1>'+x(r.utils.label(n,!0))+' attachments</h1>';var _=s('attachment'),C=m('SupportingDocument'),T={},E=0,S=null,A=null,I=null,N=null,j=m('SupportingDocument'),R=function t(a){var o=d.sym({"http://www.w3.org/2005/01/wf/flow#Task":'http://purl.org/dc/elements/1.1/created',"http://www.w3.org/ns/pim/trip#Trip":'http://www.w3.org/2002/12/cal/ical#dtstart',"http://www.w3.org/2000/10/swap/pim/qif#Transaction":'http://www.w3.org/2000/10/swap/pim/qif#date',"http://www.w3.org/2000/10/swap/pim/qif#SupportingDocument":'http://purl.org/dc/elements/1.1/date'}[n.uri]);return o||(o=d.any(n,r.ns.ui('sortBy'))),o},L=function t(n){var a=R(n.uri);if(a)return a;var r=d.findSuperClassesNT(n);for(var o in r)if(a=R(d.fromNT(o).uri),a)return a},O=function t(n){var a=L(n),r=d.findMemberURIs(n),o=[],s=[],l,c,u;for(l in r)r.hasOwnProperty(l)&&(c=d.sym(l),a?(u=d.any(c,a),u=u?u.value:'8888-12-31'):(g('No sortby '+a+' for '+c),u='9999-12-31'),o.push([u,c]));o.sort(),o.reverse();for(var f=0;f<o.length;f++)s.push(o[f][1]);return s},P,M;'http://www.w3.org/ns/pim/trip#Trip'==n.uri||m('Transaction')in d.findSuperClassesNT(n)?(M=!0,P=O(n)):(S=n,E=1,P=[n],M=!1);var D=O(C);D||g('objects:'+D.length);var B=function t(){A=null,X.innerHTML=''},U=function t(n){var o=0==n?D:1==n?null===S?D.filter(function(t){return!!d.holds(void 0,_,t)}):D.filter(function(t){return!!d.holds(S,_,t)}):D.filter(function(t){return 0==d.each(void 0,_,t).length});r.widgets.selectorPanelRefresh(K,a,d,j,_,!0,o,T,W,F),1==o.length?(A=o[0],W(A,null,!0)):B()},q=function t(n,a,r,o){if(d.holds(n,_,a)!=r){var s=r?'attach':'detach',l=function t(r,d,l){d?o():g('Error: Unable to '+s+' '+a.uri+' to '+n.uri+':\n'+l)},c=v(d,n);if(!c)g('There is no annotation store for: '+n.uri);else{var u=[$rdf.st(n,_,a,c)];r?d.updater.update([],u,l):d.updater.update(u,[],l)}}},F=function t(n,a,r,l){var c,s;if(r){if(!S)return void g('No subject for the link has been selected');c=S,s=n}else{if(!A)return void g('No object for the link has been selected');c=n,s=A}q(c,s,!d.holds(c,_,s),l)},z=function t(n,a,r){r?S=n:(S=null,1==E&&B()),0!=E&&U(E)};if(M){var H=r.widgets.selectorPanel(a,d,n,_,!1,P,T,z,F);H.setAttribute('style','background-color: white;  width: 25em; height: 100%; padding: 0 em; overflow:scroll; float:left'),w.appendChild(H)}var W=function t(n,o,s){if(!s)return B(),void(X.innerHTML='');A=n;try{var l=function t(n,a){var r=n.fetcher.getHeader(a,'content-type');if(r)for(var o=['text/html','image/png','application/pdf'],s=0;s<r.length;s++)for(var d=0;d<o.length;d++)if(0<=r[s].indexOf(o[d]))return!0;return!1};X.innerHTML='Loading ....',n.uri&&d.fetcher.load(n.uri).then(function(){var t=r.panes.getOutliner(a),o=t.propertyTable(n);X.innerHTML='',X.appendChild(o)}).catch(function(t){X.textContent='Error loading '+n.uri+': '+t})}catch(t){X.innerHTML='<span style="background-color: pink;">Error:'+t+'</span>'}};w.setAttribute('style','background-color: white; width:40cm; height:20cm;');var V=function t(n,a,r,o){var s=n.createElement('table'),d=r;s.setAttribute('style','float: left; width: 30em; padding: 0.5em; height: 1.5em; background-color: #ddd; color: #444; font-weight: bold');var l=n.createElement('tr'),c='border-radius: 0.6em; text-align: center;',u=c+'background-color: #ccc; color: black;';s.appendChild(l);var f=function t(){for(h=0;h<a.length;h++)m[h].setAttribute('style',h==d?u:c)},m=[],h,g;for(h=0;h<a.length;h++){g=m[h]=n.createElement('td'),g.textContent=a[h],l.appendChild(m[h]);var b=function t(n,a){n.addEventListener('click',function(t){d=a,f(),o(a)})};b(g,h)}return f(),s},G=function t(n){n!==E&&(E=n,B(),U(n))},J=a.createElement('div');J.setAttribute('style',' width: 30em; height: 100%;  padding: 0em; float:left;'),w.appendChild(J),J.appendChild(V(a,['all','attached','not attached'],E,G));var K=r.widgets.selectorPanel(a,d,j,_,!0,D,T,W,F);K.setAttribute('style','background-color: #ffe;  width: 30em; height: 100%; padding: 0em; overflow:scroll;'),J.appendChild(K);var X=a.createElement('div');if(X.setAttribute('style','padding: 0em; margin: 0;  height: 100%; overflow:scroll;'),w.appendChild(X),U(E),0<P.length&&M){for(var Z={},Y=0,k;Y<P.length;Y++)k=v(d,P[Y]),k&&(Z[k.uri]=P[Y]);for(var Q in Z){var k=d.sym(Q),ee=a.createElement('div');if(ee.setAttribute('style','clear: left; width: 20em; margin-top:2em; background-color:#ccc; border-radius: 1em; padding: 1em; font-weight: bold;'),ee.textContent='+ New '+r.utils.label(n),!0){ee.textContent+=' in '+r.utils.label(k);var te=a.createElement('span');te.setAttribute('style','font-weight: normal; font-size: 80%; color: #777;'),te.textContent=Q,ee.appendChild(a.createElement('br')),ee.appendChild(te)}ee.addEventListener('click',function(t){var o=r.widgets.promptForNew(a,d,n,_,n,null,k,function(t,n){!t});try{w.insertBefore(o,ee.nextSibling)}catch(t){w.appendChild(o)}var s=o.AJAR_subject},!1),w.appendChild(ee)}}return w}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.originalIconBase+'table.png',name:'tableOfClass',label:function t(a){if(!r.store.any(void 0,r.ns.rdf('type'),a))return null;var o=r.store.statementsMatching(void 0,r.ns.rdf('type'),a).length;return 0==o?null:15<o?null:r.utils.label(a)+' table'},render:function t(n,a){var o=a.createElement('div');return o.setAttribute('class','tablePane'),o.appendChild(r.table(a,{tableClass:n})),o}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.originalIconBase+'about.png',name:'default',label:function t(n){return'about '},render:function t(n,a){var o=function t(n,a){return'undefined'==typeof r.panes.internal.predicates[n.uri]&&(a&&'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'==n.uri?!1:!0)},s=r.panes.getOutliner(a),d=r.store,l=s;r.log.info('@defaultPane.render, dom is now '+a.location),n=d.canon(n);var c=a.createElement('div');c.setAttribute('class','defaultPane');var u=d.statementsMatching(n);if(s.appendPropertyTRs(c,u,!1,o),u=d.statementsMatching(void 0,void 0,n),s.appendPropertyTRs(c,u,!0,o),'Literal'==n.termType&&'http://'==n.value.slice(0,7)&&s.appendPropertyTRs(c,[$rdf.st(d.sym(n.value),r.ns.link('uri'),n)],!0,o),'NamedNode'==n.termType&&d.updater.editable(r.rdf.Util.uri.docpart(n.uri),d)||'BlankNode'==n.termType&&d.anyStatementMatching(n)&&d.anyStatementMatching(n).why&&d.anyStatementMatching(n).why.uri&&d.updater.editable(d.anyStatementMatching(n).why.uri)/*! && HCIoptions["bottom insert highlights"].enabled*/){var f=a.createElement('tr'),m=a.createElement('td');m.setAttribute('colspan','2'),m.setAttribute('notSelectable','true');var h=a.createElement('img');h.src=r.icons.originalIconBase+'tango/22-list-add-new.png',h.addEventListener('click',function t(n){return s.UserInput.addNewPredicateObject(n),n.stopPropagation(),void n.preventDefault()}),h.className='bottom-border-active',c.appendChild(f).appendChild(m).appendChild(h)}return c},sync:function t(n,a,o){r.log.info('Re-expand: '+o);var d={},l=o,c,u;for(c=l.firstChild;c;c=c.nextSibling)c.childNodes[1]&&'TABLE'==c.childNodes[1].firstChild.nodeName&&(u=c.AJAR_statement,d[u.predicate.toString()]||(d[u.predicate.toString()]={}),d[u.predicate.toString()][u.object.toString()]=c.childNodes[1].childNodes[1]);var s=propertyTable(n,void 0,pane);for(c=s.firstChild;c;c=c.nextSibling)if(u=c.AJAR_statement,u&&d[u.predicate.toString()]){var f=d[u.predicate.toString()][u.object.toString()];f&&c.childNodes[1].replaceChild(f,c.childNodes[1].firstChild)}}}},function(t,n,a){'use strict';(function(t,n){var r=a(1);t.exports={icon:(t.__dirname||n)+'22-builder.png',name:'ui',label:function n(a){var o=r.ns,s=r.store,d=s.findTypeURIs(a);return d[o.rdfs('Class').uri]?'creation forms':d[o.ui('Form').uri]?'edit form':null},render:function n(a,o){var s=r.store,d=r.ns,l=o.createElement('div');l.setAttribute('class','formPane');var c=r.utils.label(a),u=function t(n,a){var r=o.createElement('p');return r.setAttribute('style',a||'color: grey; background-color: white'),l.appendChild(r).textContent=n,r},f=function t(n,a){u(n,'style',a||'color: grey; background-color: #fdd')},m=function t(n,a){n||f('Sorry, failed to save your change:\n'+a)},h=this,g=function t(n){var r=n.parentNode,s=h.render(a,o);r.replaceChild(s,n)},b=s.statementsMatching(a),y=s.statementsMatching(void 0,void 0,a),v=s.findTypeURIs(a),t=null;if(a.uri){var w=$rdf.Util.uri.docpart(a.uri);a.uri!==w&&r.store.updater.editable(w)&&(t=s.sym($rdf.Util.uri.docpart(a.uri)))}t||(t=s.any(s.sym(w),d.link('annotationStore'))),t||(t=r.widgets.defaultAnnotationStore(a)),t||(t=s.sym('http://tabulator.org/wiki/ontologyAnnotation/common'));var x;v[d.rdfs('Class').uri];var _=u('(Loading data from: '+t+')');return s.fetcher.nowOrWhenFetched(t.uri,a,function(n,h){if(!n)return void f('Cannot load store '+t+' :'+h);if(l.removeChild(_),v[d.rdfs('Class').uri]){var g=function n(h,g){var b=s.statementsMatching(a,h);if(b.length){for(var y=0;y<b.length;y++){r.outline.appendPropertyTRs(l,[b[y]]);var v=b[y].object,w=o.createElement('td');l.lastChild.appendChild(w),g&&w.appendChild(r.widgets.newButton(o,s,null,null,a,v,t,function(t,n){t||f('Sorry, failed to save your change:\n'+n)}));var x=s.statementsMatching(v,d.rdf('type'));x.length||(x=s.statementsMatching(v)),x.length?r.widgets.editFormButton(o,l,v,x[0].why,m):f('No data about form')}l.appendChild(o.createElement('hr'))}else u('There are currently no known forms to make a '+c+'.')};x=d.ui('creationForm'),l.appendChild(o.createElement('h2')).textContent=r.utils.label(x),u('Creation forms allow you to add information about a new thing,                                    in this case a new '+c+'.'),g(x,!0),l.appendChild(o.createElement('hr')),u('You can make a new creation form:'),l.appendChild(r.widgets.newButton(o,s,a,x,d.ui('Form'),null,t,m)),l.appendChild(o.createElement('hr')),x=d.ui('annotationForm'),l.appendChild(o.createElement('h2')).textContent=r.utils.label(x),u('Annotaion forms allow you to add extra information about a ,                                '+c+' we already know about.'),g(x,!1),l.appendChild(o.createElement('hr')),u('You can make a new annotation form:'),l.appendChild(r.widgets.newButton(o,s,a,x,d.ui('Form'),null,t,m)),u('(Storing new forms in: '+t+')')}else v[d.ui('Form').uri]?r.widgets.appendForm(o,l,s,a,d.ui('FormForm'),t,m):f('ui/pane internal error -- Eh?')}),l}}}).call(n,a(10)(t),'/')},function(t,n,a){'use strict';var o=a(1);t.exports={icon:o.icons.originalIconBase+'microblog/microblog.png',name:'microblogPane',label:function t(n){var a=o.rdf.Namespace('http://rdfs.org/sioc/types#');return o.store.whether(n,o.ns.rdf('type'),o.ns.foaf('Person'))?'Microblog':null},render:function t(n,a){var d=o.rdf.Namespace('http://rdfs.org/sioc/ns#'),l=o.rdf.Namespace('http://rdfs.org/sioc/types#'),r=o.rdf.Namespace('http://purl.org/rss/1.0/'),u=o.rdf.Namespace('http://xmlns.com/foaf/0.1/'),s=o.rdf.Namespace('http://purl.org/dc/terms/'),m=o.ns.rdf,g=o.store,c=140,h=o.store.fetcher,f=g.updater;Date.prototype.getISOdate=function(){var t=function t(a){return 10>a?'0'+a:a},n=this.getUTCFullYear()+'-'+t(this.getUTCMonth())+'-'+t(this.getUTCDate())+'T'+t(this.getUTCHours())+':'+t(this.getUTCMinutes())+':'+t(this.getUTCSeconds())+'Z';return n},Date.prototype.parseISOdate=function(t){var n=t.split('T'),a=n[0].split('-'),r=n[1].replace('Z','').split(':');return this.setUTCDate(1),this.setUTCFullYear(a[0]),this.setUTCMonth(a[1]),this.setUTCDate(a[2]),this.setUTCHours(r[0]),this.setUTCMinutes(r[1]),this.setUTCSeconds(r[2]),this};var b=function t(n){this.userlist={},this.uris={};var a=g.each(g.sym(n),d('follows'));for(var r in a)this.add(g.any(a[r],d('id')),a[r].uri)};b.prototype.add=function(t,n){this.userlist[t]?!(n in this.uris)&&(this.userlist[t].push(n),this.uris[n]=''):this.userlist[t]=[n]},b.prototype.selectUser=function(t){return this.userlist[t]?[1==this.userlist[t].length,this.userlist[t]]:[!1,[]]};var y=function t(n){if(this.favorites={},this.favoritesURI='',!!n)for(var a in this.user=n.split('#')[0],created=g.each(g.sym(n),d('creator_of')),created)if(g.whether(created[a],m('type'),l('FavouriteThings'))){this.favoritesURI=created[a];var r=g.each(created[a],d('container_of'));for(var o in r)this.favorites[r[o]]='';break}};y.prototype.favorited=function(t){return g.sym(t)in this.favorites},y.prototype.add=function(t,n){var r=new o.rdf.Statement(this.favoritesURI,d('container_of'),g.sym(t),g.sym(this.user));f.insert_statement(r,function(t,a,o){a&&g.add(r.subject,r.predicate,r.object,r.why),n(t,a,o)})},y.prototype.remove=function(t,n){var r=new o.rdf.Statement(this.favoritesURI,d('container_of'),g.sym(t),g.sym(this.user));f.delete_statement(r,function(t,a,o){a&&g.add(r.subject,r.predicate,r.object,r.why),n(t,a,o)})};var v=function t(n){this.kb=n;var a=o.authn.currentUser();if(a){var r=tabulator.preferences.get('acct');r&&(r=n.sym(r)),a&&r&&n.add(a,u('holdsAccount'),r,a.uri.split('#')[0])}};v.prototype.getUser=function(t){var n={name:g.any(t,d('name'))?g.any(t,d('name')):'',avatar:g.any(t,d('avatar'))?g.any(t,d('avatar')):'',id:g.any(t,d('id')),sym:t};return n},v.prototype.getPost=function(t){Post={};var n=new Date;n=n.parseISOdate(g.any(t,s('created'))+'');var r=n.getHours(),o=12<r?' PM':' AM';r=12<r?r-12:r;var a=n.getMinutes();a=10>a?'0'+a:a;var l=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],c=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],u=c[n.getDay()]+' '+n.getDate()+' '+l[n.getMonth()]+' '+n.getFullYear();return n=r+':'+a+o+' on '+u,Post.date=n,Post.mentions='',Post.message=g.any(t,d('content'))+'',Post.creator=g.any(t,d('has_creator')),Post.uri='',Post},v.prototype.gen_random_uri=function(t){var n=t+'#n'+_Mathfloor(1e10*Math.random());return g.sym(n)},v.prototype.statusUpdate=function(t,n,a,c){var u=this.getMyURI();myUser=g.sym(u.split('#')[0]);var h=this.gen_random_uri(myUser.uri),b=g.each(g.sym(u),d('creator_of')),y;for(var v in b)if(g.whether(b[v],m('type'),l('Microblog'))&&!g.whether(b[v],d('topic'),g.sym(this.getMyURI()))){y=b[v];break}var w=[new o.rdf.Statement(h,m('type'),l('MicroblogPost'),myUser),new o.rdf.Statement(h,d('has_creator'),g.sym(u),myUser),new o.rdf.Statement(h,d('content'),t,myUser),new o.rdf.Statement(h,s('created'),new Date().getISOdate()+'',myUser),new o.rdf.Statement(y,d('container_of'),h,myUser)];for(var x in a&&w.push(new o.rdf.Statement(h,d('reply_of'),g.sym(a),myUser)),c.recipients){w.push(new o.rdf.Statement(h,d('topic'),g.sym(c.recipients[x]),myUser)),w.push(new o.rdf.Statement(g.any(),d('container_of'),h,myUser));var r=g.each(g.sym(c.recipients[x]),d('creator_of'));for(var _ in r)if(g.whether(r[_],d('topic'),g.sym(c.recipients[x]))){var k=new o.rdf.Statement(r[_],d('container_of'),h,g.sym(c.recipients[x].split('#')[0]));f.insert_statement(k)}}f.insert_statement(w,function(t,a,r){n(t,a,r,w)})},v.prototype.getMyURI=function(){var t=o.authn.currentUser();dump(t);var n=g.any(g.sym(t),u('holdsAccount'));return dump('\n\n'+n),!!n&&n.uri},v.prototype.generateNewMB=function(t,a,r,s){var c=s+'/'+t,h=function n(){tabulator.preferences.set('acct',c+'#'+t)},b=function n(r,a,o,s){if(a)for(var d in notify('Microblog generated at '+c+'#'+t+'please add <b>'+c+'</b> to your foaf.'),mbCancelNewMB(),h(),s)g.add(s[d].subject,s[d].predicate,s[d].object,s[d].why)},y=[new o.rdf.Statement(g.sym(c+'#'+t),m('type'),d('User'),g.sym(c)),new o.rdf.Statement(g.sym(c+'#'+t),d('creator_of'),g.sym(c+'#mb'),g.sym(c)),new o.rdf.Statement(g.sym(c+'#'+t),d('creator_of'),g.sym(c+'#mbn'),g.sym(c)),new o.rdf.Statement(g.sym(c+'#'+t),d('creator_of'),g.sym(c+'#fav'),g.sym(c)),new o.rdf.Statement(g.sym(c+'#'+t),d('name'),a,g.sym(c)),new o.rdf.Statement(g.sym(c+'#'+t),d('id'),t,g.sym(c)),new o.rdf.Statement(g.sym(c+'#'+t),m('label'),t,g.sym(c)),new o.rdf.Statement(n,u('holdsAccount'),g.sym(c+'#'+t),g.sym(c)),new o.rdf.Statement(g.sym(c+'#mb'),m('type'),l('Microblog'),g.sym(c)),new o.rdf.Statement(g.sym(c+'#mb'),d('has_creator'),g.sym(c+'#'+t),g.sym(c)),new o.rdf.Statement(g.sym(c+'#mbn'),m('type'),l('Microblog'),g.sym(c)),new o.rdf.Statement(g.sym(c+'#mbn'),d('topic'),g.sym(c+'#'+t),g.sym(c)),new o.rdf.Statement(g.sym(c+'#mbn'),d('has_creator'),g.sym(c+'#'+t),g.sym(c)),new o.rdf.Statement(g.sym(c+'#fav'),m('type'),l('FavouriteThings'),g.sym(c)),new o.rdf.Statement(g.sym(c+'#fav'),d('has_creator'),g.sym(c+'#'+t),g.sym(c))];r&&y.push(new o.rdf.Statement(g.sym(c+'#'+t),d('avatar'),g.sym(r),g.sym(c))),f.insert_statement(y,b)};var w=new v(g),y=new y(w.getMyURI()),b=new b(w.getMyURI()),x=function t(n,r,s){var c=function t(n){this.tablist={},this.doc=n,this.tabView=n.createElement('ul'),this.tabView.className='tabslist'};c.prototype.create=function(t,n,a,o){var s=this.doc.createElement('li');s.innerHTML=n,o&&(s.className='active'),s.id=t,change=this.change,tablist=this.tablist,s.addEventListener('click',function(t){change(t.target.id,tablist,r)},!1),this.tablist[t]={view:a.id,tab:s},this.tabView.appendChild(s)},c.prototype.getTabView=function(){return this.tabView},c.prototype.change=function(t,n,a){for(var r in n)if(r==t)n[t].tab.className='active',a.getElementById(n[t].view).className+=' active';else{var o=a.getElementById(n[r].view);o.className=o.className.replace(/\w*active\w*/,''),n[r].tab.className=n[t].tab.className.replace(/\w*active\w*/,'')}},this.microblogPane=s;var f=g.each(n,u('holdsAccount'));for(var h in f)if(g.whether(f[h],m('type'),d('User'))&&g.whether(g.any(f[h],d('creator_of')),m('type'),l('Microblog'))){var a=f[h];break}this.Ifollow=g.whether(g.sym(w.getMyURI()),d('follows'),a);var b=g.any(n,m('type'));if(b.uri===l('Microblog').uri||b.uri===l('MicroblogPost').uri)this.thisIsMe=g.any(n,d('has_creator')).uri===w.getMyURI();else if(b.uri===d('User').uri)this.thisIsMe=n.uri===w.getMyURI();else if(b.uri===u('Person').uri){var y=o.authn.currentUser(),v=y&&y.uri;this.thisIsMe=n.uri===v}else this.thisIsMe=!1;this.Tab=new c(r)};x.prototype.notify=function(t){var n=a.createElement('li');n.className='notify',n.innerHTML=t,a.getElementById('notify-container').appendChild(n),setTimeout(function(){a.getElementById('notify-container').removeChild(n)},4e3)},x.prototype.header=function(t,n){postNotificationContainer=this.postNotificationContainer;var a=this;lsFollowUser=function t(){var n=g.sym(w.getMyURI()),r=a.Ifollow,s=a.creator.name,l=function t(n,r,o){if(!0===r){a.Ifollow?g.removeMany(c.subject,c.predicate,c.object,c.why):!g.whether(c.subject,c.predicate,c.object,c.why)&&g.add(c.subject,c.predicate,c.object,c.why),dump('\n'+a.Ifollow),a.Ifollow=!a.Ifollow,D.disabled=!1,dump(a.Ifollow),followButtonLabel=a.Ifollow?'Unfollow ':'Follow ';var d=a.Ifollow?'now follow ':'no longer follow ';D.value=followButtonLabel+s,a.notify('You '+d+s+'.')}},c=new o.rdf.Statement(n,d('follows'),a.creator.sym,n);D.disabled=!0,D.value='Updating...',a.Ifollow?f.delete_statement(c,l):f.insert_statement(c,l)};var s=function t(a){var r=n.createElement('li');r.className='notify',r.innerHTML=a,n.getElementById('notify-container').appendChild(r),setTimeout(function(){n.getElementById('notify-container').removeChild(r)},4e3)},r=function t(n){C.removeChild(C.childNodes[C.childNodes.length-1]),N.disabled=!1},h=function a(o){N.disabled=!0;var s=n.createElement('div'),d=n.createElement('input');g.whether(t,u('name'))?d.value=g.any(t,u('name')):(d.value=g.any(t,u('givenname'))?g.any(t,u('givenname'))+' ':'',d.value+=g.any(t,u('family_name'))?g.any(t,u('givenname')):'',d.value=g.any(t,u('givenname'))+' '+g.any(t,u('family_name')));var l=n.createElement('input');l.value=g.any(t,u('nick'))?g.any(t,u('nick')):'';var c=n.createElement('input');c.value=g.whether(t,u('img'))?g.any(t,u('img')).uri:g.any(t,u('depiction'))?g.any(t,u('depiction')).uri:'';var f=n.createElement('input'),m;f.value=m?m:'http://dig.csail.mit.edu/2007/wiki/sandbox',s.innerHTML='                        <form class ="createNewMB" id="createNewMB">                            <p id="xcmbname"><span class="">Name: </span></p>                            <p id="xcmbid">Id: </p>                            <p id="xcmbavatar">Avatar: </p>                             <p id="xcmbwritable">Host my microblog at: </p>                            <input type="button" id="mbCancel" value="Cancel" />                            <input type="submit" id="mbCreate" value="Create!" />                        </form>                        ',C.appendChild(s),n.getElementById('xcmbname').appendChild(d),n.getElementById('xcmbid').appendChild(l),n.getElementById('xcmbavatar').appendChild(c),n.getElementById('xcmbwritable').appendChild(f),n.getElementById('mbCancel').addEventListener('click',r,!1),n.getElementById('createNewMB').addEventListener('submit',function(){w.generateNewMB(l.value,d.value,c.value,f.value)},!1),d.focus()},y=function t(){var o=new Date,l={recipients:[]};if(w.getMyURI()){myUser=g.sym(w.getMyURI());var c=function t(r,o,l,c){if(!0===o){for(var d in c)g.add(c[d].subject,c[d].predicate,c[d].object,c[d].why);A.disabled=!1,E.value='',v(),s('Microblog Updated.'),a.thisIsMe&&n.getElementById('postNotificationList').insertBefore(a.generatePost(c[0].subject),n.getElementById('postNotificationList').childNodes[0])}else s('There was a problem submitting your post.')},u=E.value.split(' '),f=function t(){A.disabled=!0,A.value='Updating...',w.statusUpdate(E.value,c,T.value,l)};for(var m in u)if(u[m].match(/\@\w+/)){var h=u[m].replace(/\W/g,''),y=b.selectUser(h);if(!0===y[0])l.recipients.push(y[1][0]);else{if(1<y[1].length){var x=n.createElement('select'),_=n.createElement('input');_.type='button',_.value='Continue',_.addEventListener('click',function(){l.recipients.push(y[1][x.value]),f(),x.parentNode.removeChild(_),x.parentNode.removeChild(x)},!1);var k=function t(a,r){var o=g.any(g.sym(a),d('name')),s=n.createElement('option');return s.value=r,s.innerHTML=o,s};for(var S in y[1])x.appendChild(k(y[1][S],S));return C.appendChild(x),void C.appendChild(_)}if((g.any(g.sym(w.getMyURI()),d('id'))+'').toLowerCase()==h.toLowerCase())l.recipients.push(w.getMyURI());else return void s('You do not follow '+h+'. Try following '+h+' before mentioning them.')}}f()}else s('Please set your microblog first.')},v=function t(){S.innerHTML=c-E.value.length,S.style.color=0>c-E.value.length?'#c33':'',0===E.value.length&&(T.value='',A.value='Send')},x=n.createElement('ul');x.className='replyView',x.addEventListener('click',function(){x.className='replyView'},!1),this.xviewReply=x;var _=n.createElement('div');_.className='header-container';var k=n.createElement('ul');k.id='notify-container',k.className='notify-container',this.xnotify=k;var C=n.createElement('form');if(C.className='update-container',C.innerHTML='<h3>What are you up to?</h3>',w.getMyURI()){var T=n.createElement('input');T.id='xinReplyToContainer',T.type='hidden';var E=n.createElement('textarea');E.id='xupdateStatus';var S=n.createElement('span');S.appendChild(n.createTextNode(c)),E.cols=30,E.addEventListener('keyup',v,!1),E.addEventListener('focus',v,!1);var A=n.createElement('input');A.id='xupdateSubmit',A.type='submit',A.value='Send',C.appendChild(T),C.appendChild(S),C.appendChild(E),C.appendChild(A),C.addEventListener('submit',y,!1)}else{var I=n.createTextNode('                    Hi, it looks like you don\'t have a microblog,                    would you like to create one? '),N=n.createElement('input');N.type='button',N.value='Create a new Microblog',N.addEventListener('click',h,!1),C.appendChild(I),C.appendChild(N)}_.appendChild(C);var j=n.createElement('div');j.className='subheader-container',this.creator;var R=g.each(t,u('holdsAccount'));for(var L in R)if(g.whether(R[L],m('type'),d('User'))&&g.whether(g.any(R[L],d('creator_of')),m('type'),l('Microblog'))){var O=R[L];break}if(O){if(this.creator=w.getUser(O),''!==this.creator.avatar){var P=n.createElement('img');P.src=this.creator.avatar.uri,j.appendChild(P)}var M=n.createElement('h1');if(M.className='fn',M.appendChild(n.createTextNode(this.creator.name+' ('+this.creator.id+')')),j.appendChild(M),!this.thisIsMe&&w.getMyURI()){var D=n.createElement('input');D.setAttribute('type','button'),followButtonLabel=this.Ifollow?'Unfollow ':'Follow ',D.value=followButtonLabel+this.creator.name,D.addEventListener('click',lsFollowUser,!1),j.appendChild(D)}var B=this.Tab.getTabView();_.appendChild(j),_.appendChild(B)}return _},x.prototype.generatePost=function(n,r){var o=this,s=function t(r){for(var s in xviewReply=o.xviewReply,xviewReply.childNodes)xviewReply.removeChild(xviewReply.childNodes[0]);var n=a.createElement('li');n.className='closeContainer';var d=a.createElement('span');for(var l in d.innerHTML='&#215;',d.className='closeButton',n.appendChild(d),xviewReply.appendChild(n),r)xviewReply.appendChild(o.generatePost(g.sym(r[l]),this.thisIsMe,'view'));xviewReply.className='replyView-active',o.microblogPane.appendChild(xviewReply)},l=a.createElement('li');l.className='post',l.setAttribute('id',(n.uri+'').split('#')[1]);var c=w.getPost(n),m=g.any(g.any(n,d('has_creator')),d('id')),b=g.any(void 0,u('holdsAccount'),g.any(n,d('has_creator'))),v=a.createElement('a');v.href=b.uri,v.className='userLink';var x=a.createTextNode(w.getUser(c.creator).id);v.appendChild(x);var _=a.createElement('img');_.src=w.getUser(c.creator).avatar.uri,_.className='postAvatar';var k=a.createElement('blockquote'),C=c.message,T=a.createElement('a');T.className='postLink',T.addEventListener('click',function(){s([n.uri])},!1),T.id='post_'+(n.uri+'').split('#')[1],T.setAttribute('content',n.uri),T.setAttribute('property','permalink'),postLink=a.createTextNode(c.date?c.date:'post date unknown'),T.appendChild(postLink);var E=g.each(n,d('topic'));for(var S in tags={},E)h.lookUpThing(E[S]),id=g.any(E[S],d('id')),tags['@'+id]=E[S];var A=C.match(/(\@|\#|\!)\w+/g),I=function t(){return p=A.pop(),tags[p]?g.any(void 0,u('holdsAccount'),tags[p]).uri:p};for(var N in tags){var t=N.replace(/\@/,''),j=RegExp('(@|!|#)('+t+')');C=C.replace(j,'$1<a href="'+I()+'">$2</a>')}k.innerHTML=C;var R=g.each(n,d('reply_of')),L=a.createElement('span');for(var O in R){var P;P=(R[O]+'').replace(/\<|\>/g,'');var M=function t(){var r=a.createElement('a');return r.innerHTML=', <b>in reply to</b>',r.addEventListener('click',function(){return s([n.uri,P]),!1},!1),r};L.appendChild(M())}var D=function t(){var r=w.getUser(c.creator).id,o=a.getElementById('xupdateStatus'),s=a.getElementById('xinReplyToContainer'),d=a.getElementById('xupdateSubmit');o.value='@'+r+' ',o.focus(),s.value=n.uri,d.value='Reply'},B=function t(n){var r=function t(){a.getElementById('notify-container').removeChild(l),n.target.disabled=!1},s=function t(){m(),a.getElementById('notify-container').removeChild(l)};n.target.disabled=!0;var l=a.createElement('li');l.className='notify conf',l.innerHTML+='<p>Are you sure you want to delete this post?</p>',l.addEventListener('keyup',function(t){27==t.keyCode&&r()},!1);var c=a.createElement('input');c.type='button',c.className='confirm',c.value='Delete',c.addEventListener('click',s,!1);var u=a.createElement('input');u.type='button',u.className='confirm',u.value='Cancel',u.addEventListener('click',r,!1),l.appendChild(u),l.appendChild(c),a.getElementById('notify-container').appendChild(l),u.focus();var m=function t(){var r=function t(r,a){if(a){o.notify('Post deleted.');var s=n.target.parentNode;s.parentNode.removeChild(s),g.removeMany(deleteMe)}else o.notify('Oops, there was a problem, please try again'),n.target.disabled=!0},s=function t(s,l){if(l){var c=g.statementsMatching(void 0,d('container_of'),g.sym(a.getElementById('post_'+n.target.parentNode.id).getAttribute('content')));f.batch_delete_statement(c,r)}else o.notify('Oops, there was a problem, please try again'),n.target.disabled=!1};n.target.disabled=!0,deleteMe=g.statementsMatching(g.sym(a.getElementById('post_'+n.target.parentNode.id).getAttribute('content'))),f.batch_delete_statement(deleteMe,s)}};if(w.getMyURI()){var U=g.any(n,d('has_creator'));if(w.getMyURI()!=U.uri){var q=a.createElement('input');q.type='button',q.value='reply',q.className='reply',q.addEventListener('click',D,!1)}else{var F=a.createElement('input');F.type='button',F.value='Delete',F.className='reply',F.addEventListener('click',B,!1)}}var z=function t(n){var r=n.target.parentNode.id,o=a.getElementById('post_'+r).getAttribute('content');H.className+=' ing';var s=function t(n,a,r,o){a&&(H.className='ed'==H.className.split(' ')[1]?'favorit':'favorit ed')};y.favorited(o)?y.remove(o,s):y.add(o,s)},H=a.createElement('a');return H.innerHTML='&#9733;',H.addEventListener('click',z,!1),H.className=y.favorited(n.uri)?'favorit ed':'favorit',l.appendChild(_),l.appendChild(k),w.getMyURI()&&(l.appendChild(H),w.getMyURI()==U.uri?l.appendChild(F):l.appendChild(q)),l.appendChild(v),l.appendChild(T),''!==R&&l.appendChild(L),l},x.prototype.generatePostList=function(t){var n=a.createElement('ul'),r={},o=[];for(var l in t){var c=g.any(t[l],s('created'));c&&(o.push(c),r[c]=this.generatePost(t[l],this.thisIsMe))}for(var u in o.sort().reverse(),o)n.appendChild(r[o[u]]);return n},x.prototype.followsView=function(){var t=function t(n){var r=g.any(n,d('id')),o=a.createElement('li');o.className='follow',r=r?r:n.uri;var s=g.any(void 0,u('holdsAccount'),n);return s=s?s.uri:n.uri,o.innerHTML='<a href="'+s+'">'+r+'</a>',o},n=a.createElement('div');if(n.id='xfollows',n.className='followlist-container view-container',this.creator&&g.whether(this.creator.sym,d('follows'))){var r=g.each(this.creator.sym,d('follows')),o=a.createElement('ul');for(var s in r)o.appendChild(t(r[s]));n.appendChild(o)}return this.Tab.create('tab-follows','Follows',n,!1),n},x.prototype.streamView=function(t,n){var a=n.createElement('div');a.id='postContainer',a.className='post-container view-container active';var r=[];if(g.whether(t,u('name'))&&g.whether(t,u('holdsAccount'))){h.lookUpThing(g.any(t,u('holdsAccount')));var o=g.each(g.any(t,u('holdsAccount')),d('follows'));for(var s in o){h.lookUpThing(o[s]);var l=g.each(o[s],d('creator_of'));for(var c in l)if(h.lookUpThing(l[c]),g.whether(l[c],d('topic'),o[s]))continue;else r=r.concat(g.each(l[c],d('container_of')))}}if(0<r.length){var f=this.generatePostList(r);f.id='postList',f.className='postList',a.appendChild(f)}return this.Tab.create('tab-stream','By Follows',a,!0),a},x.prototype.notificationsView=function(t,n){var a=n.createElement('div');a.id='postNotificationContainer',a.className='notification-container view-container';var r=n.createElement('div');r.id='postMentionContainer',r.className='mention-container view-container';var o=[],s=[],c=g.any(t,u('holdsAccount')),f=g.any(c,d('id')),b=g.each(c,d('creator_of'));for(var y in b)h.lookUpThing(b[y]),g.whether(b[y],d('topic'),c)?s=s.concat(g.each(b[y],d('container_of'))):g.whether(b[y],m('type'),l('Microblog'))&&(o=o.concat(g.each(b[y],d('container_of'))));var v=this.generatePostList(o);v.id='postNotificationList',v.className='postList',a.appendChild(v);var w=this.generatePostList(s);w.id='postMentionList',w.className='postList',r.appendChild(w),this.postMentionContainer=r,this.postNotificationContainer=a,this.Tab.create('tab-by-user','By '+f,a,!1),this.Tab.create('tab-at-user','@'+f,r,!1)},x.prototype.build=function(){var t=this.microblogPane;this.headerContainer=this.header(n,a),this.postContainer=this.streamView(n,a),this.notificationsView(n,a),this.xfollows=this.followsView(),t.className='ppane',t.appendChild(this.xviewReply),t.appendChild(this.xnotify),t.appendChild(this.headerContainer),void 0!=this.xfollows&&t.appendChild(this.xfollows),t.appendChild(this.postContainer),t.appendChild(this.postNotificationContainer),t.appendChild(this.postMentionContainer)};var _=a.createElement('div'),k=new x(n,a,_);return k.build(),_}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.iconBase+'noun_123691.svg',name:'sharing',label:function n(a){var o=r.store,s=r.ns,d=o.findTypeURIs(a);return d[s.ldp('Resource').uri]?'Sharing':d[s.ldp('Container').uri]?'Sharing':d[s.ldp('BasicContainer').uri]?'Sharing':null},render:function n(a,o){var s=r.store,d=r.ns,l=o.createElement('div');l.setAttribute('class','sharingPane');var c=s.findTypeURIs(a),t='file';(c[d.ldp('BasicContainer').uri]||c[d.ldp('Container').uri])&&(t='folder');var u=o.createElement('div'),f=u.appendChild(o.createElement('table'));f.setAttribute('style','font-size:120%; margin: 1em; border: 0.1em #ccc ;');var m=f.appendChild(o.createElement('tr')),h=m.appendChild(o.createElement('div'));h.setAttribute('style','padding: 2em;');var g=f.appendChild(o.createElement('tr')),b=g.appendChild(o.createElement('table')),y={target:a,me:null,noun:t,div:u,dom:o,statusRegion:h},v=r.authn.currentUser();return y.me=v,r.aclControl.preventBrowserDropEvents(o),b.appendChild(r.aclControl.ACLControlBox5(a,o,t,s,function(t,n){t||(b.innerHTML='ACL control box Failed: '+n)})),l.appendChild(u),l}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.originalIconBase+'tango/22-emblem-system.png',name:'internal',label:function t(n){return'under the hood'},render:function t(n,a){function o(t,n){return!!l['http://www.w3.org/2007/ont/link#ProtocolEvent']||'undefined'!=typeof r.panes.internal.predicates[t.uri]}var s=r.rdf,d=r.store;n=d.canon(n);var l=d.findTypeURIs(n),c=a.createElement('div');c.setAttribute('class','internalPane'),c.setAttribute('style','background-color: #ddddff; padding: 0.5em; border-radius: 1em;');var u=d.statementsMatching(n),f=null;if(n.uri&&(u.push(s.st(n,d.sym('http://www.w3.org/2007/ont/link#uri'),n.uri,r.store.fetcher.appNode)),0<=n.uri.indexOf('#')?(f=n.uri.split('#')[0],u.push(s.st(n,d.sym('http://www.w3.org/2007/ont/link#documentURI'),n.uri.split('#')[0],r.store.fetcher.appNode)),u.push(s.st(n,d.sym('http://www.w3.org/2007/ont/link#document'),d.sym(n.uri.split('#')[0]),r.store.fetcher.appNode))):f=n.uri),f){var m=r.store.updater.editable(f);m&&u.push(s.st(n,d.sym('http://www.w3.org/ns/rww#editable'),d.literal(m),r.store.fetcher.appNode))}var h=r.panes.getOutliner(a);return h.appendPropertyTRs(c,u,!1,o),u=d.statementsMatching(void 0,void 0,n),h.appendPropertyTRs(c,u,!0,o),c},predicates:{"http://www.w3.org/2007/ont/link#request":1,"http://www.w3.org/2007/ont/link#requestedBy":1,"http://www.w3.org/2007/ont/link#source":1,"http://www.w3.org/2007/ont/link#session":2,"http://www.w3.org/2007/ont/link#uri":1,"http://www.w3.org/2007/ont/link#documentURI":1,"http://www.w3.org/2007/ont/link#document":1,"http://www.w3.org/2007/ont/link#all":1,"http://www.w3.org/2007/ont/link#Document":1,"http://www.w3.org/ns/rww#editable":1,"http://www.w3.org/2000/01/rdf-schema#seeAlso":1,"http://www.w3.org/2002/07/owl#":1},classes:{"http://www.w3.org/2007/ont/link#ProtocolEvent":1}}},function(t,n,a){'use strict';var r=a(1);t.exports={icon:r.icons.iconBase+'noun_547570.svg',name:'home',label:function t(n){return'home'},render:function t(n,a){var o=function t(n){var r=a.createElement('pre');r.setAttribute('style','background-color: pink'),d.appendChild(r),r.appendChild(a.createTextNode(n))},s=function t(){var n={div:d,dom:a,statusArea:d,me:l},o=d.appendChild(a.createElement('div')),s={div:o,dom:a,statusArea:d,me:l};o.appendChild(a.createElement('h4')).textContent='Make a new tool';var c=r.create.newThingUI(s,r.panes);d.appendChild(a.createElement('h4')).textContent='Private:',r.authn.registrationList(n,{private:!0}).then(function(t){d.appendChild(a.createElement('h4')).textContent='Public:',r.authn.registrationList(t,{public:!0}).then(function(t){})})},d=a.createElement('div'),l=r.authn.currentUser();return s(),d}}}])});
//# sourceMappingURL=mashlib.min.js.map